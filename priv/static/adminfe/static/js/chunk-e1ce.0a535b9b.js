(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e1ce"],{"9sLy":function(t,e,n){},HMof:function(t,e,n){"use strict";n.r(e);var r=n("yXPU"),i=n.n(r),o=n("lSNA"),a=n.n(o),s=n("o0o1"),c=n.n(s),l=n("Kw5r"),u=n("sxGJ"),f=n.n(u);function p(t,e){var n=new f.a(e.target,{text:function(){return t}});n.on("success",function(){l.default.prototype.$message({message:"Copied!",type:"success",duration:1500}),n.off("error"),n.off("success"),n.destroy()}),n.on("error",function(){l.default.prototype.$message({message:"Copy failed",type:"error"}),n.off("error"),n.off("success"),n.destroy()}),n.onClick(e)}var v=n("rIUS"),d=n("L2JU"),m=n("9i3r");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y={components:{RebootButton:v.a},data:function(){return{rules:{email:[{validator:this.validateEmail,trigger:"blur"}]},newTokenForm:{maxUse:1,expiresAt:""},inviteUserForm:{email:"",name:""},createTokenDialogVisible:!1,inviteUserDialogVisible:!1}},computed:b(b({},Object(d.b)(["authHost"])),{},{getLabelWidth:function(){return this.isDesktop?"100px":"85px"},inviteLink:function(){return"".concat(Object(m.a)(this.authHost),"/registration/").concat(this.newToken.token)},isDesktop:function(){return"desktop"===this.$store.state.app.device},isTokenCreated:function(){return"token"in this.newToken},loading:function(){return this.$store.state.invites.loading},newToken:function(){return this.$store.state.invites.newToken},tokens:function(){return this.$store.state.invites.inviteTokens}}),mounted:function(){this.$store.dispatch("GetNodeInfo"),this.$store.dispatch("NeedReboot"),this.$store.dispatch("FetchInviteTokens")},methods:{closeDialogWindow:function(){this.inviteUserDialogVisible=!1,this.createTokenDialogVisible=!1,this.$store.dispatch("RemoveNewToken"),this.$data.inviteUserForm.email="",this.$data.inviteUserForm.name="",this.$data.newTokenForm.maxUse=1,this.$data.newTokenForm.expiresAt=""},createToken:function(){this.$store.dispatch("GenerateInviteToken",this.$data.newTokenForm)},handleCopy:function(t){p(this.inviteLink,t)},inviteUserViaEmail:function(){var t=this;return i()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.inviteUserForm.validate(function(){var e=i()(c.a.mark(function e(n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,t.$store.dispatch("InviteUserViaEmail",t.$data.inviteUserForm);case 3:t.closeDialogWindow(),e.next=8;break;case 6:return t.$message({type:"error",message:t.$t("invites.submitFormError")}),e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e)}))()},revokeInviteToken:function(t){this.$store.dispatch("RevokeToken",t)},validateEmail:function(t,e,n){return""===e?n(new Error(this.$t("invites.emptyEmailError"))):this.validEmail(e)?n():n(new Error(this.$t("invites.invalidEmailError")))},validEmail:function(t){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}}},g=(n("aP5G"),n("KHd+")),k=Object(g.a)(y,function(){var t=this,e=t._self._c;return e("div",{staticClass:"invites-container"},[e("div",{staticClass:"invites-header-container"},[e("h1",[t._v(t._s(t.$t("invites.inviteTokens")))]),t._v(" "),e("reboot-button")],1),t._v(" "),e("div",{staticClass:"actions-container"},[e("el-button",{staticClass:"create-invite-token",on:{click:function(e){t.createTokenDialogVisible=!0}}},[e("span",[e("i",{staticClass:"icon el-icon-plus"}),t._v("\n        "+t._s(t.$t("invites.createInviteToken"))+"\n      ")])]),t._v(" "),e("el-button",{staticClass:"invite-via-email",on:{click:function(e){t.inviteUserDialogVisible=!0}}},[e("span",[e("i",{staticClass:"icon el-icon-message"}),t._v("\n        "+t._s(t.$t("invites.inviteUserViaEmail"))+"\n      ")])])],1),t._v(" "),e("el-dialog",{attrs:{visible:t.createTokenDialogVisible,"show-close":!1,title:t.$t("invites.createInviteToken"),width:t.isTokenCreated?"60%":"30%","custom-class":"create-new-token-dialog"},on:{"update:visible":function(e){t.createTokenDialogVisible=e}}},[e("el-form",{ref:"newTokenForm",attrs:{model:t.newTokenForm,"label-width":t.getLabelWidth,"status-icon":""}},[e("el-form-item",{attrs:{label:t.$t("invites.maxUse")}},[e("el-input-number",{attrs:{min:0,size:t.isDesktop?"medium":"small",name:"maxUse"},model:{value:t.newTokenForm.maxUse,callback:function(e){t.$set(t.newTokenForm,"maxUse",e)},expression:"newTokenForm.maxUse"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("invites.expiresAt")}},[e("el-date-picker",{staticClass:"pick-date",attrs:{placeholder:t.$t("invites.pickDate"),type:"date",name:"date","value-format":"yyyy-MM-dd"},model:{value:t.newTokenForm.expiresAt,callback:function(e){t.$set(t.newTokenForm,"expiresAt",e)},expression:"newTokenForm.expiresAt"}})],1)],1),t._v(" "),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"invites-close-dialog",on:{click:t.closeDialogWindow}},[t._v(t._s(t.$t("invites.cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.createToken}},[t._v(t._s(t.$t("invites.create")))])],1),t._v(" "),"token"in t.newToken?e("el-card",[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.$t("invites.tokenCreated")))])]),t._v(" "),e("el-form",{staticClass:"new-token-card",attrs:{"label-width":"85px"}},[e("el-form-item",{attrs:{label:t.$t("invites.inviteLink")}},[e("div",{staticClass:"invite-link-container"},[e("el-link",{attrs:{href:t.inviteLink,underline:!1,target:"_blank"}},[t._v("\n              "+t._s(t.inviteLink)+"\n            ")]),t._v(" "),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleCopy(e)}}},[t._v(t._s(t.$t("invites.copyLink")))])],1)]),t._v(" "),e("el-form-item",{attrs:{label:t.$t("invites.token")}},[t._v("\n          "+t._s(t.newToken.token)+"\n        ")]),t._v(" "),e("el-form-item",{attrs:{label:t.$t("invites.maxUse")}},[t._v("\n          "+t._s(t.newToken.maxUse)+"\n        ")]),t._v(" "),e("el-form-item",{attrs:{label:t.$t("invites.expiresAt")}},[t._v("\n          "+t._s(t.newToken.expiresAt||"(not set)")+"\n        ")])],1)],1):t._e()],1),t._v(" "),e("el-dialog",{attrs:{visible:t.inviteUserDialogVisible,"show-close":!1,title:t.$t("invites.sendRegistration"),"custom-class":"invite-via-email-dialog"},on:{"update:visible":function(e){t.inviteUserDialogVisible=e}}},[e("div",[e("p",{staticClass:"info"},[t._v(t._s(t.$t("invites.inviteViaEmailAlert")))]),t._v(" "),e("el-form",{ref:"inviteUserForm",attrs:{model:t.inviteUserForm,rules:t.rules,"label-width":t.getLabelWidth,"status-icon":""}},[e("el-form-item",{attrs:{label:t.$t("invites.email"),prop:"email"}},[e("el-input",{attrs:{name:"email",type:"email",autofocus:""},model:{value:t.inviteUserForm.email,callback:function(e){t.$set(t.inviteUserForm,"email",e)},expression:"inviteUserForm.email"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("invites.name"),prop:"name"}},[e("el-input",{attrs:{name:"name"},model:{value:t.inviteUserForm.name,callback:function(e){t.$set(t.inviteUserForm,"name",e)},expression:"inviteUserForm.name"}})],1)],1)],1),t._v(" "),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeDialogWindow}},[t._v(t._s(t.$t("invites.cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.inviteUserViaEmail}},[t._v(t._s(t.$t("invites.create")))])],1)]),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"invite-token-table",attrs:{data:t.tokens,"default-sort":{prop:"used",order:"ascending"}}},[t.isDesktop?e("el-table-column",{attrs:{label:t.$t("invites.id"),"min-width":"60",prop:"id",sortable:""}}):t._e(),t._v(" "),e("el-table-column",{attrs:{label:t.$t("invites.token"),"min-width":t.isDesktop?320:120,prop:"token"}}),t._v(" "),t.isDesktop?e("el-table-column",{attrs:{label:t.$t("invites.expiresAt"),align:"center","header-align":"center","min-width":"110",prop:"expires_at",sortable:""}}):t._e(),t._v(" "),e("el-table-column",{attrs:{label:t.$t("invites.maxUse"),align:"center","header-align":"center","min-width":"60",prop:"max_use",sortable:""}}),t._v(" "),t.isDesktop?e("el-table-column",{attrs:{label:t.$t("invites.uses"),align:"center","header-align":"center","min-width":"60",prop:"uses"}}):t._e(),t._v(" "),e("el-table-column",{attrs:{label:t.$t("invites.used"),"min-width":t.isDesktop?60:50,align:"center","header-align":"center",prop:"used",sortable:""},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-tag",{attrs:{type:n.row.used?"danger":"success","disable-transitions":""}},[t._v("\n          "+t._s(n.row.used?t.$t("invites.used"):t.$t("invites.active"))+"\n        ")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("invites.actions"),"min-width":t.isDesktop?100:50,align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return t.revokeInviteToken(n.row.token)}}},[t._v("\n          "+t._s(t.$t("invites.revoke"))+"\n        ")])]}}])})],1)],1)},[],!1,null,null,null);e.default=k.exports},aP5G:function(t,e,n){"use strict";n("9sLy")},rIUS:function(t,e,n){"use strict";var r=n("yXPU"),i=n.n(r),o=n("o0o1"),a=n.n(o),s=n("mSNy"),c={name:"RebootButton",computed:{needReboot:function(){return this.$store.state.app.needReboot}},methods:{restartApp:function(){var t=this;return i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("RestartApplication");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:s.a.t("settings.restartSuccess")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},l=n("KHd+"),u=Object(l.a)(c,function(){var t=this._self._c;return this.needReboot?t("el-tooltip",{attrs:{content:this.$t("settings.restartApp"),placement:"bottom-end"}},[t("el-button",{staticClass:"reboot-button",attrs:{type:"warning"},on:{click:this.restartApp}},[t("span",[t("i",{staticClass:"el-icon-refresh"}),this._v("\n      "+this._s(this.$t("settings.instanceReboot"))+"\n    ")])])],1):this._e()},[],!1,null,null,null);e.a=u.exports},sxGJ:function(t,e,n){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
!function(e,n){t.exports=n()}(0,function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return w}});var r=n(279),i=n.n(r),o=n(370),a=n.n(o),s=n(817),c=n.n(s);function l(t){try{return document.execCommand(t)}catch(t){return!1}}var u=function(t){var e=c()(t);return l("cut"),e};var f=function(t,e){var n=function(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=t,n}(t);e.container.appendChild(n);var r=c()(n);return l("copy"),n.remove(),r},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof t?n=f(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=f(t.value,e):(n=c()(t),l("copy")),n};function v(t){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,r=t.container,i=t.target,o=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==v(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?p(o,{container:r}):i?"cut"===n?u(i):p(i,{container:r}):void 0};function m(t){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(n,i());var e=y(n);function n(t,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=e.call(this)).resolveOptions(r),i.listenClick(t),i}return function(t,e,n){e&&h(t.prototype,e),n&&h(t,n)}(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===m(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=a()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",r=d({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(r?"success":"error",{action:n,text:r,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return k("action",t)}},{key:"defaultTarget",value:function(t){var e=k("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return k("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return p(t,e)}},{key:"cut",value:function(t){return u(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),n}()},828:function(t){var e=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,n){for(;t&&t.nodeType!==e;){if("function"==typeof t.matches&&t.matches(n))return t;t=t.parentNode}}},438:function(t,e,n){var r=n(828);function i(t,e,n,i,o){var a=function(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}t.exports=function(t,e,n,r,o){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,r,o)}))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,n){var r=n(879),i=n(438);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(r.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(r.string(t))return function(t,e,n){return i(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(t){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}},279:function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(686)}().default})}}]);
//# sourceMappingURL=chunk-e1ce.0a535b9b.js.map