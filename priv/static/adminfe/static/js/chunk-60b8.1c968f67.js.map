{"version":3,"sources":["webpack:///./src/views/reports/show.vue?4aff","webpack:///./src/views/reports/show.vue?101b","webpack:///src/views/reports/show.vue","webpack:///./src/views/reports/show.vue","webpack:///./src/views/reports/show.vue?d0d7"],"names":["reports_showvue_type_script_lang_js_","name","components","ModerateUserDropdown","RebootButton","ReportContent","computed","isMobile","this","$store","state","app","device","loading","reports","loadingSingleReport","report","singleReport","mounted","dispatch","$route","params","id","methods","capitalizeFirstLetter","str","charAt","toUpperCase","slice","changeReportState","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","getStateType","propertyExists","account","property","_secondProperty","component","Object","componentNormalizer","_vm","_c","_self","_e","staticClass","_v","_s","$t","attrs","src","avatar","size","nickname","href","url","target","title","type","trigger","plain","icon","slot","nativeOn","click","$event","report-id","rendered-from","__webpack_exports__","__webpack_require__"],"mappings":"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","file":"static/js/chunk-60b8.1c968f67.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.loading)?_c('div',{staticClass:\"report-show-page-container\"},[_c('header',{staticClass:\"report-page-header-container\"},[_c('div',{staticClass:\"report-page-header\"},[(_vm.propertyExists(_vm.report.account, 'nickname'))?_c('div',{staticClass:\"avatar-name-container\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('reports.reportOn')))]),_vm._v(\" \"),(_vm.propertyExists(_vm.report.account, 'avatar'))?_c('el-avatar',{staticClass:\"report-page-avatar\",attrs:{\"src\":_vm.report.account.avatar,\"size\":_vm.isMobile ? 'small' : 'large'}}):_vm._e(),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.report.account.nickname))]),_vm._v(\" \"),(_vm.propertyExists(_vm.report.account, 'url'))?_c('a',{attrs:{\"href\":_vm.report.account.url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-top-right\",attrs:{\"title\":_vm.$t('userProfile.openAccountInInstance')}})]):_vm._e()],1):_c('h1',[_vm._v(_vm._s(_vm.$t('reports.report')))])]),_vm._v(\" \"),_c('div',{staticClass:\"report-actions-container\"},[_c('el-tag',{staticClass:\"report-tag\",attrs:{\"type\":_vm.getStateType(_vm.report.state)}},[_vm._v(_vm._s(_vm.capitalizeFirstLetter(_vm.report.state)))]),_vm._v(\" \"),_c('el-dropdown',{attrs:{\"trigger\":\"click\"}},[_c('el-button',{staticClass:\"report-actions-button\",attrs:{\"size\":_vm.isMobile ? 'small' : 'medium',\"plain\":\"\",\"icon\":\"el-icon-edit\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('reports.changeState'))),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[(_vm.report.state !== 'resolved')?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.changeReportState('resolved', _vm.report.id)}}},[_vm._v(_vm._s(_vm.$t('reports.resolve')))]):_vm._e(),_vm._v(\" \"),(_vm.report.state !== 'open')?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.changeReportState('open', _vm.report.id)}}},[_vm._v(_vm._s(_vm.$t('reports.reopen')))]):_vm._e(),_vm._v(\" \"),(_vm.report.state !== 'closed')?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.changeReportState('closed', _vm.report.id)}}},[_vm._v(_vm._s(_vm.$t('reports.close')))]):_vm._e()],1)],1),_vm._v(\" \"),(_vm.propertyExists(_vm.report.account, 'nickname'))?_c('moderate-user-dropdown',{attrs:{\"account\":_vm.report.account,\"report-id\":_vm.report.id,\"rendered-from\":'showPage'}}):_vm._e(),_vm._v(\" \"),_c('reboot-button')],1)]),_vm._v(\" \"),(_vm.propertyExists(_vm.report.account, 'id'))?_c('h4',{staticClass:\"id\"},[_vm._v(_vm._s(_vm.$t('reports.id'))+\": \"+_vm._s(_vm.report.id))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"report-card-container\"},[_c('el-card',{staticClass:\"report\"},[_c('report-content',{attrs:{\"report\":_vm.report}})],1)],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"","<!--\nSPDX-FileCopyrightText: 2019-2022 Pleroma Authors <https://pleroma.social>\nSPDX-License-Identifier: AGPL-3.0-only\n-->\n\n<template>\n  <div v-if=\"!loading\" class=\"report-show-page-container\">\n    <header class=\"report-page-header-container\">\n      <div class=\"report-page-header\">\n        <div v-if=\"propertyExists(report.account, 'nickname')\" class=\"avatar-name-container\">\n          <h1 >{{ $t('reports.reportOn') }}</h1>\n          <el-avatar\n            v-if=\"propertyExists(report.account, 'avatar')\"\n            :src=\"report.account.avatar\"\n            :size=\"isMobile ? 'small' : 'large'\"\n            class=\"report-page-avatar\"/>\n          <h1>{{ report.account.nickname }}</h1>\n          <a v-if=\"propertyExists(report.account, 'url')\" :href=\"report.account.url\" target=\"_blank\">\n            <i :title=\"$t('userProfile.openAccountInInstance')\" class=\"el-icon-top-right\"/>\n          </a>\n        </div>\n        <h1 v-else>{{ $t('reports.report') }}</h1>\n      </div>\n      <div class=\"report-actions-container\">\n        <el-tag :type=\"getStateType(report.state)\" class=\"report-tag\">{{ capitalizeFirstLetter(report.state) }}</el-tag>\n        <el-dropdown trigger=\"click\">\n          <el-button\n            :size=\"isMobile ? 'small' : 'medium'\"\n            plain\n            icon=\"el-icon-edit\"\n            class=\"report-actions-button\">\n            {{ $t('reports.changeState') }}<i class=\"el-icon-arrow-down el-icon--right\"/>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item v-if=\"report.state !== 'resolved'\" @click.native=\"changeReportState('resolved', report.id)\">{{ $t('reports.resolve') }}</el-dropdown-item>\n            <el-dropdown-item v-if=\"report.state !== 'open'\" @click.native=\"changeReportState('open', report.id)\">{{ $t('reports.reopen') }}</el-dropdown-item>\n            <el-dropdown-item v-if=\"report.state !== 'closed'\" @click.native=\"changeReportState('closed', report.id)\">{{ $t('reports.close') }}</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <moderate-user-dropdown\n          v-if=\"propertyExists(report.account, 'nickname')\"\n          :account=\"report.account\"\n          :report-id=\"report.id\"\n          :rendered-from=\"'showPage'\"/>\n        <reboot-button/>\n      </div>\n    </header>\n    <h4 v-if=\"propertyExists(report.account, 'id')\" class=\"id\">{{ $t('reports.id') }}: {{ report.id }}</h4>\n    <div class=\"report-card-container\">\n      <el-card class=\"report\">\n        <report-content :report=\"report\"/>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ModerateUserDropdown from './components/ModerateUserDropdown'\nimport RebootButton from '@/components/RebootButton'\nimport ReportContent from './components/ReportContent'\n\nexport default {\n  name: 'ReportsShow',\n  components: { ModerateUserDropdown, RebootButton, ReportContent },\n  computed: {\n    isMobile() {\n      return this.$store.state.app.device === 'mobile'\n    },\n    loading() {\n      return this.$store.state.reports.loadingSingleReport\n    },\n    report() {\n      return this.$store.state.reports.singleReport\n    }\n  },\n  mounted: function() {\n    this.$store.dispatch('NeedReboot')\n    this.$store.dispatch('GetNodeInfo')\n    this.$store.dispatch('FetchSingleReport', this.$route.params.id)\n    this.$store.dispatch('FetchTagPolicySetting')\n  },\n  methods: {\n    capitalizeFirstLetter(str) {\n      return str.charAt(0).toUpperCase() + str.slice(1)\n    },\n    async changeReportState(state, id) {\n      await this.$store.dispatch('ChangeReportState', [{ state, id }])\n      this.$store.dispatch('FetchSingleReport', id)\n    },\n    getStateType(state) {\n      switch (state) {\n        case 'closed':\n          return 'info'\n        case 'resolved':\n          return 'success'\n        default:\n          return 'primary'\n      }\n    },\n    propertyExists(account, property, _secondProperty) {\n      if (_secondProperty) {\n        return account[property] && account[_secondProperty]\n      }\n      return account[property]\n    }\n  }\n}\n</script>\n\n<style rel='stylesheet/scss' lang='scss'>\n.report-show-page-container {\n  .id {\n    color: gray;\n    margin: 0 15px 22px 15px;\n  }\n  .report {\n    max-width: 1000px;\n    margin: auto;\n  }\n  .report-actions-button {\n    margin: 0 5px;\n  }\n  .report-actions-container {\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .report-card-container {\n    margin: auto;\n    padding: 0 15px;\n  }\n  .report-page-header {\n    display: flex;\n    flex-direction: column;\n    margin: 10px 0;\n    padding: 0;\n    h1 {\n      display: inline;\n      margin: 0;\n    }\n    h4 {\n      margin-top: 10px;\n    }\n    .avatar-name-container {\n      display: flex;\n      align-items: center;\n      .el-icon-top-right {\n        font-size: 2em;\n        line-height: 36px;\n        color: #606266;\n      }\n    }\n    .report-page-avatar {\n      margin: 0 7px 0 12px;\n    }\n  }\n  .report-page-header-container {\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n    margin: 0 15px;\n    padding: 0;\n  }\n  .report-tag {\n    height: 36px;\n    line-height: 36px;\n    padding: 0 20px;\n    font-size: 14px;\n  }\n}\n@media only screen and (max-width:801px) {\n  .report-show-page-container {\n    .id {\n      margin: 7px 15px 15px 15px;\n    }\n    .report-actions-button {\n      margin: 0 3px 6px;\n    }\n    .report-page-header-container {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n    .report-page-header {\n      h1 {\n        font-size: 24px;\n      }\n      .avatar-name-container {\n        .el-icon-top-right {\n          font-size: 24px;\n        }\n      }\n      .report-page-avatar {\n        margin: 0 5px 0 9px;\n      }\n    }\n  }\n}\n@media only screen and (max-width:480px) {\n  .report-tag {\n    height: 32px;\n    line-height: 32px;\n    font-size: 14px;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./show.vue?vue&type=template&id=50e9c671&\"\nimport script from \"./show.vue?vue&type=script&lang=js&\"\nexport * from \"./show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./show.vue?vue&type=style&index=0&id=50e9c671&prod&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--10-2!../../../node_modules/sass-loader/dist/cjs.js??ref--10-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=style&index=0&id=50e9c671&prod&rel=stylesheet%2Fscss&lang=scss&\""],"sourceRoot":""}