(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6816"],{"/Mot":function(t,e,i){"use strict";i("vrmT")},"/VLf":function(t,e,i){"use strict";i("BaKJ")},"0B3k":function(t,e,i){},"0FUF":function(t,e,i){"use strict";i("P4lK")},"2QFy":function(t,e,i){"use strict";i("nsFV")},"2YWP":function(t,e,i){"use strict";i("VYkb")},"3rGE":function(t,e,i){"use strict";i("F0vm")},"4lEF":function(t,e,i){"use strict";i("uIOa")},"4rlt":function(t,e,i){},"5B0r":function(t,e,i){"use strict";i("qweC")},"5KL5":function(t,e,i){"use strict";i("zwIX")},"5rJJ":function(t,e,i){"use strict";i("nNQ+")},"6Z2h":function(t,e,i){"use strict";i("jh4+")},"7B4i":function(t,e,i){},"873I":function(t,e,i){},"9LVp":function(t,e,i){},"9hfg":function(t,e,i){"use strict";i("fyCx")},"9hm7":function(t,e,i){"use strict";i("szCD")},"9qQA":function(t,e,i){},"9x3f":function(t,e,i){"use strict";i("CQVM")},AKuX:function(t,e,i){"use strict";i("Zvcp")},BaKJ:function(t,e,i){},CQVM:function(t,e,i){},D7Af:function(t,e,i){},F0vm:function(t,e,i){},F2s1:function(t,e,i){},Fw4Y:function(t,e,i){"use strict";i("SzqY")},JNB4:function(t,e,i){"use strict";i("F2s1")},JboU:function(t,e,i){},KNsT:function(t,e,i){"use strict";i("9qQA")},Kqvt:function(t,e,i){},Nsmb:function(t,e,i){},P4lK:function(t,e,i){},PKpp:function(t,e,i){},QaoI:function(t,e,i){"use strict";i("mg/5")},Rf7U:function(t,e,i){"use strict";i("Xa/G")},SUks:function(t,e,i){"use strict";i("qaTi")},SzqY:function(t,e,i){},T7IK:function(t,e,i){"use strict";i("9LVp")},UnXU:function(t,e,i){"use strict";i("D7Af")},UxyB:function(t,e,i){},VYkb:function(t,e,i){},WHNo:function(t,e,i){},"Xa/G":function(t,e,i){},Y4NQ:function(t,e,i){"use strict";i("x/Zw")},YcIK:function(t,e,i){"use strict";i.r(e);var n=i("yXPU"),s=i.n(n),a=i("lSNA"),r=i.n(a),o=i("o0o1"),c=i.n(o),l=i("L2JU"),u=i("mSNy"),p=i("RIqP"),d=i.n(p),h={name:"BooleanCombinedInput",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{atomValue:function(){return this.data[this.setting.key]&&":"===this.data[this.setting.key][0]?this.data[this.setting.key].substr(1):this.data[this.setting.key]},booleanValue:function(){return"boolean"!=typeof this.data[this.setting.key]},getPlaceholder:function(){return{0:":basic",1:"username",2:"password"}},integerValue:function(){return this.data[this.setting.key]||0},stringValue:function(){return this.data[this.setting.key]||""},tupleValue:function(){return this.data[this.setting.key]||["","",""]}},methods:{processTupleTwoTypeValue:function(t,e,i){if(!1===t)this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,e,this.setting.type);else if(!0===t)this.updateSetting(["","",""],this.settingGroup.group,this.settingGroup.key,e,this.setting.type);else{var n=d()(this.tupleValue);n[i]=t,this.updateSetting(n,this.settingGroup.group,this.settingGroup.key,e,this.setting.type)}},processTwoTypeValue:function(t,e){if(!0===t){var i=":truncate"===e?0:"";this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,e,this.setting.type)}else this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,e,this.setting.type)},updateSetting:function(t,e,i,n,s){this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},g=(i("Rf7U"),i("KHd+")),m=Object(g.a)(h,function(){var t=this,e=t._self._c;return e("div",[t.setting.type.includes("string")?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-switch",{attrs:{value:t.booleanValue},on:{change:function(e){return t.processTwoTypeValue(e,t.setting.key)}}}),t._v(" "),t.booleanValue?e("el-input",{attrs:{value:t.stringValue},on:{input:function(e){return t.processTwoTypeValue(e,t.setting.key)}}}):t._e()],1):t._e(),t._v(" "),t.setting.type.includes("integer")?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-switch",{attrs:{value:t.booleanValue},on:{change:function(e){return t.processTwoTypeValue(e,t.setting.key)}}}),t._v(" "),t.booleanValue?e("el-input-number",{attrs:{value:t.integerValue},on:{input:function(e){return t.processTwoTypeValue(e,t.setting.key)}}}):t._e()],1):t._e(),t._v(" "),t.setting.type.includes("atom")?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-switch",{attrs:{value:t.booleanValue},on:{change:function(e){return t.processTwoTypeValue(e,t.setting.key)}}}),t._v(" "),t.booleanValue?e("el-input",{attrs:{value:t.atomValue},on:{input:function(e){return t.processTwoTypeValue(e,t.setting.key)}}},[e("template",{slot:"prepend"},[t._v(":")])],2):t._e()],1):t._e(),t._v(" "),t.setting.type.includes("tuple")?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-switch",{attrs:{value:t.booleanValue},on:{change:function(e){return t.processTupleTwoTypeValue(e,t.setting.key)}}}),t._v(" "),t.booleanValue?e("div",{staticClass:"tuple-input-container"},t._l(t.tupleValue,function(i,n){return e("el-input",{key:n,staticClass:"tuple-input",attrs:{value:i,placeholder:t.getPlaceholder[n]},on:{input:function(e){return t.processTupleTwoTypeValue(e,t.setting.key,n)}}})}),1):t._e()],1):t._e()])},[],!1,null,null,null).exports,f=i("h74u");function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var y={name:"EditableKeywordInput",props:{data:{type:Array,default:function(){return{}}},parents:{type:Array,default:function(){return[]},required:!1},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{editableKeywordWithInteger:function(){return this.setting.type.includes("keyword")&&this.setting.type.includes("integer")},editableKeywordWithSelect:function(){return this.setting.type.includes("map")&&-1!==this.setting.type.findIndex(function(t){return t.includes("list")&&t.includes("string")})||this.setting.type.includes("keyword")&&-1!==this.setting.type.findIndex(function(t){return t.includes("list")&&t.includes("string")})},editableKeywordWithString:function(){return":crontab"!==this.setting.key&&(this.setting.type.includes("keyword")&&this.setting.type.includes("string")||this.setting.type.includes("tuple")&&this.setting.type.includes("list")||this.setting.type.includes("map")&&this.setting.type.includes("string"))},isDesktop:function(){return"desktop"===this.$store.state.app.device},keyPlaceholder:function(){return this.setting.key_placeholder?this.setting.key_placeholder:":replace"===this.setting.key?"pattern":"key"},settings:function(){return this.$store.state.settings.settings},updatedSettings:function(){return this.$store.state.settings.updatedSettings},valuePlaceholder:function(){return this.setting.value_placeholder?this.setting.value_placeholder:":replace"===this.setting.key?"replacement":"value"}},methods:{addRowToEditableKeyword:function(){var t=[].concat(d()(this.data),[{"":{value:"",id:this.generateID()}}]);this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},deleteEditableKeywordRow:function(t){var e=this.getId(t),i=this.data.filter(function(t){return Object.values(t)[0].id!==e});this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},generateID:function(){return"f".concat((~~(1e8*Math.random())).toString(16))},getCrontabWorkerLabel:function(t){var e=this.getKey(t);return e.includes("Pleroma.Workers.Cron.")?e.replace("Pleroma.Workers.Cron.",""):e},getKey:function(t){return Object.keys(t)[0]},getId:function(t){return Object.values(t)[0].id},getSuggestion:function(t){var e=this;return this.setting.suggestions.find(function(i){return i[1]===e.getKey(t)})[0]},getValue:function(t){return Object.values(t)[0].value},parseEditableKeyword:function(t,e,i){var n=this,s=this.getId(i),a=this.data.map(function(i,a){return Object.values(i)[0].id===s?"key"===e?r()({},t,Object.values(n.data[a])[0]):r()({},Object.keys(i)[0],v(v({},Object.values(n.data[a])[0]),{},{value:t})):i});this.updateSetting(a,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateCrontab:function(t,e,i){var n=this,s=this.getId(i),a=this.data.map(function(e,i){return Object.values(e)[0].id===s?r()({},Object.keys(e)[0],v(v({},Object.values(n.data[i])[0]),{},{value:t})):e}),o=a.reduce(function(t,e){return v(v({},t),{},r()({},Object.keys(e)[0],["reversed_tuple",Object.values(e)[0].value]))},{});this.$store.dispatch("UpdateSettings",{group:this.settingGroup.group,key:this.settingGroup.key,input:this.setting.key,value:o,type:this.setting.type}),this.$store.dispatch("UpdateState",{group:this.settingGroup.group,key:this.settingGroup.key,input:this.setting.key,value:a})},updateSetting:function(t,e,i,n,s){var a=this.wrapUpdatedSettings(t,n,s);if(this.parents.length>0){var r=Object(f.e)(t,a,e,i,this.parents.reverse(),this.settings,this.updatedSettings),o=r.valueForState,c=r.valueForUpdatedSettings,l=r.setting;this.$store.dispatch("UpdateSettings",{group:e,key:i,input:l.key,value:c,type:l.type}),this.$store.dispatch("UpdateState",{group:e,key:i,input:l.key,value:o})}else this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})},wrapUpdatedSettings:function(t,e,i){return"map"===i?t.reduce(function(t,e){return v(v({},t),{},r()({},Object.keys(e)[0],Object.values(e)[0].value))},{}):t.reduce(function(t,e){return v(v({},t),{},r()({},Object.keys(e)[0],["list",Object.values(e)[0].value]))},{})}}},k=(i("pAen"),Object(g.a)(y,function(){var t=this,e=t._self._c;return e("div",{staticClass:"editable-keyword-container"},[":crontab"===t.setting.key?e("div",{staticClass:"crontab",attrs:{"data-search":t.setting.key}},t._l(t.data,function(i){return e("el-form-item",{key:t.getId(i),staticClass:"crontab-container",attrs:{label:t.getCrontabWorkerLabel(i)}},[e("el-input",{staticClass:"input setting-input",attrs:{value:t.getValue(i),placeholder:t.getSuggestion(i)||null},on:{input:function(e){return t.updateCrontab(e,"value",i)}}})],1)}),1):t.editableKeywordWithInteger?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[t._l(t.data,function(i){return e("div",{key:t.getId(i),staticClass:"setting-input"},[e("el-input",{staticClass:"name-input",attrs:{value:t.getKey(i),placeholder:"key"},on:{input:function(e){return t.parseEditableKeyword(e,"key",i)}}}),t._v(" :\n      "),e("el-input-number",{staticClass:"value-input",attrs:{value:t.getValue(i),min:0,size:"large"},on:{change:function(e){return t.parseEditableKeyword(e,"value",i)}}}),t._v(" "),e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteEditableKeywordRow(i)}}})],1)}),t._v(" "),e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:t.addRowToEditableKeyword}})],2):t.editableKeywordWithString?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[t._l(t.data,function(i){return e("div",{key:t.getId(i),staticClass:"setting-input"},[e("el-input",{staticClass:"name-input",attrs:{value:t.getKey(i),placeholder:t.keyPlaceholder},on:{input:function(e){return t.parseEditableKeyword(e,"key",i)}}}),t._v(" :\n      "),e("el-input",{staticClass:"value-input",attrs:{value:t.getValue(i),placeholder:t.valuePlaceholder},on:{input:function(e){return t.parseEditableKeyword(e,"value",i)}}}),t._v(" "),e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteEditableKeywordRow(i)}}})],1)}),t._v(" "),e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:t.addRowToEditableKeyword}})],2):t.editableKeywordWithSelect?e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[t._l(t.data,function(i){return e("div",{key:t.getId(i),staticClass:"setting-input"},[e("el-input",{staticClass:"name-input",attrs:{value:t.getKey(i),placeholder:"key"},on:{input:function(e){return t.parseEditableKeyword(e,"key",i)}}}),t._v(" :\n      "),e("el-select",{staticClass:"value-input",attrs:{value:t.getValue(i),multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.parseEditableKeyword(e,"value",i)}}}),t._v(" "),e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteEditableKeywordRow(i)}}})],1)}),t._v(" "),e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:t.addRowToEditableKeyword}})],2):t._e()])},[],!1,null,null,null).exports),_=i("zUJn"),P=i("8j27"),O={name:"EditorInput",components:{EditorContent:_.b,EditorMenuBar:_.c},props:{value:{type:String,default:""},name:{type:String,default:""}},data:function(){return{editor:null,emitAfterOnUpdate:!1}},computed:{isMobile:function(){return"mobile"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"}},watch:{value:function(t){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(t)}},beforeDestroy:function(){this.editor&&this.editor.destroy()},mounted:function(){var t=this;this.editor=new _.a({extensions:[new P.a,new P.b,new P.c,new P.d,new P.e({levels:[1,2,3]}),new P.f,new P.g,new P.h,new P.i,new P.j,new P.k,new P.l],content:this.value,onUpdate:function(e){var i=e.getHTML;t.$emit("input",i())}}),this.editor.setContent(this.value)},methods:{removeInstanceDoc:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("RemoveInstanceDocument",t.name);case 2:t.editor.setContent(t.value);case 3:case"end":return e.stop()}},e)}))()}}},j=(i("5rJJ"),Object(g.a)(O,function(){var t=this,e=t._self._c;return e("el-form",{attrs:{"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("el-form-item",{staticClass:"editor-form-item",attrs:{"data-search":"instance-panel"===t.name?":instance_panel":":terms_of_services"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n      "+t._s("instance-panel"===t.name?t.$t("settings.instancePanel"):t.$t("settings.termsOfServices"))+"\n      "),e("el-tooltip",{attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticClass:"delete-setting-button",attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.removeInstanceDoc}})],1)],1),t._v(" "),e("div",{staticClass:"editor"},[e("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function({commands:i,isActive:n}){return[e("div",{staticClass:"menubar"},[e("button",{staticClass:"menubar__button",class:{"is-active":n.bold()},on:{click:i.bold}},[e("svg-icon",{attrs:{"icon-class":"tiptap-bold"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.italic()},on:{click:i.italic}},[e("svg-icon",{attrs:{"icon-class":"tiptap-italic"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.underline()},on:{click:i.underline}},[e("svg-icon",{attrs:{"icon-class":"tiptap-underline"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:1})},on:{click:function(t){return i.heading({level:1})}}},[t._v("\n            H1\n          ")]),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:2})},on:{click:function(t){return i.heading({level:2})}}},[t._v("\n            H2\n          ")]),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:3})},on:{click:function(t){return i.heading({level:3})}}},[t._v("\n            H3\n          ")]),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.bullet_list()},on:{click:i.bullet_list}},[e("svg-icon",{attrs:{"icon-class":"tiptap-ul"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.ordered_list()},on:{click:i.ordered_list}},[e("svg-icon",{attrs:{"icon-class":"tiptap-ol"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.blockquote()},on:{click:i.blockquote}},[e("svg-icon",{attrs:{"icon-class":"tiptap-quote"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.link()},on:{click:i.link}},[e("svg-icon",{attrs:{"icon-class":"tiptap-link"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",class:{"is-active":n.code_block()},on:{click:i.code_block}},[e("svg-icon",{attrs:{"icon-class":"tiptap-code"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",on:{click:i.horizontal_rule}},[e("svg-icon",{attrs:{"icon-class":"tiptap-hr"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",on:{click:i.undo}},[e("svg-icon",{attrs:{"icon-class":"tiptap-undo"}})],1),t._v(" "),e("button",{staticClass:"menubar__button",on:{click:i.redo}},[e("svg-icon",{attrs:{"icon-class":"tiptap-redo"}})],1)])]}}])}),t._v(" "),e("editor-content",{staticClass:"editor__content",attrs:{editor:t.editor}})],1)])],1)},[],!1,null,null,null).exports);function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var $={name:"EditableKeywordInput",props:{data:{type:Array,default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device}},methods:{addIconToIcons:function(){var t=[].concat(d()(this.data),[[{key:"",value:"",id:this.generateID()}]]);this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},addValueToIcons:function(t){var e=this,i=this.data.map(function(i,n){return n===t?[].concat(d()(i),[{key:"",value:"",id:e.generateID()}]):i});this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},deleteIcondRow:function(t){var e=this.data.filter(function(e,i){return i!==t});this.updateSetting(e,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},generateID:function(){return"f".concat((~~(1e8*Math.random())).toString(16))},parseIcons:function(t,e,i,n){var s=this.data.map(function(s,a){return a===i?s.map(function(i){return i.id===n?S(S({},i),{},"key"===e?{key:t}:{value:t}):i}):s});this.updateSetting(s,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateSetting:function(t,e,i,n,s){var a=t.map(function(t){return t.reduce(function(t,e){var i=e.key,n=e.value;return S(S({},t),{},r()({},i,n))},{})},{});this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},C=(i("9hm7"),Object(g.a)($,function(){var t=this,e=t._self._c;return e("div",{staticClass:"mascot-container",attrs:{"data-search":t.setting.key||t.setting.group}},[t._l(t.data,function(i,n){return e("div",{key:n,staticClass:"mascot"},[e("div",{staticClass:"icons-container"},[e("div",{staticClass:"icon-container"},t._l(i,function({key:i,value:s,id:a}){return e("div",{key:a,staticClass:"icon-values-container"},[e("el-input",{staticClass:"icon-key-input",attrs:{value:i,placeholder:"key"},on:{input:function(e){return t.parseIcons(e,"key",n,a)}}}),t._v(" :\n          "),e("el-input",{staticClass:"icon-value-input",attrs:{value:s,placeholder:"value"},on:{input:function(e){return t.parseIcons(e,"value",n,a)}}})],1)}),0),t._v(" "),e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteIcondRow(n)}}})],1),t._v(" "),e("div",{staticClass:"icons-button-container"},[e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.addValueToIcons(n)}}}),t._v(" "),e("span",{staticClass:"icons-button-desc"},[t._v(t._s(t.$t("settings.addKeyValuePair")))])],1),t._v(" "),e("el-divider",{staticClass:"divider"})],1)}),t._v(" "),e("div",{staticClass:"icons-button-container"},[e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:t.addIconToIcons}}),t._v(" "),e("span",{staticClass:"icons-button-desc"},[t._v(t._s(t.$t("settings.addIconConfig")))])],1)],2)},[],!1,null,null,null).exports),D=i("LvDl"),x=i.n(D),U=i("9i3r"),I=i("X4fA"),E="/api/v1/media";var F=function(){return{Authorization:"Bearer ".concat(Object(I.b)())}};function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var M={name:"ImageUploadInput",props:{inputValue:{type:[String,Object],default:function(){return{}}},setting:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1}},computed:T(T({},Object(l.b)(["authHost"])),{},{fullSize:function(){return!!x.a.includes([":background",":nsfwCensorImage"],this.setting.key)},dimensions:function(){return{width:this.fullSize?"100%":"100px",height:this.fullSize?"250px":"100px"}},isDefault:function(){return this.defaultImage===this.inputValue},defaultImage:function(){return this.baseName+x.a.get(this.setting,"suggestions[0]")},baseName:function(){return Object(U.a)(this.authHost)}}),methods:{imageUrl:function(t){return x.a.isString(t)?t.startsWith("http")||t.startsWith("https")?t:this.baseName+t:this.defaultImage},handleFiles:function(t){var e=this,i=t.target.files[0];if(i){var n=new FileReader;n.onload=function(t){t.target;var n=new FormData;n.append("file",i),e.loading=!0,function(t){var e=t.formData,i=t.authHost,n=Object(U.a)(i)+E;return fetch(n,{body:e,method:"POST",headers:F()}).then(function(t){return t.json()})}({formData:n,authHost:e.authHost}).then(function(t){e.loading=!1,e.$emit("change",t.url)})},n.readAsDataURL(i)}},removeFile:function(){this.$emit("change",this.defaultImage)}}},A=(i("aMP3"),Object(g.a)(M,function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-upload-area"},[e("div",{staticClass:"input-row"},[e("div",{staticClass:"image-upload-wrapper",style:t.dimensions},[e("div",{staticClass:"image-upload-overlay",style:t.dimensions},[e("input",{staticClass:"input-file",attrs:{"aria-label":t.$t("settings.changeImage"),type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.handleFiles}}),t._v(" "),e("div",{staticClass:"caption"},[t._v("\n          "+t._s(t.$t("settings.changeImage"))+"\n        ")]),t._v(" "),e("el-image",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"uploaded-image",style:t.dimensions,attrs:{src:t.imageUrl(t.inputValue),fit:"cover"}})],1)])]),t._v(" "),e("div",{staticClass:"image-button-group"},[e("el-button",{staticClass:"upload-button",attrs:{size:"small"}},[t._v("\n      "+t._s(t.$t("settings.uploadImage"))+"\n      "),e("input",{staticClass:"input-file",attrs:{"aria-label":t.$t("settings.changeImage"),type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.handleFiles}})]),t._v(" "),t.isDefault?t._e():e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",size:"small"},on:{click:function(e){return t.removeFile()}}},[t._v("\n      "+t._s(t.$t("settings.remove"))+"\n    ")])],1)])},[],!1,null,null,null).exports),W=i("QILm"),G=i.n(W),Q=i("J4zp"),V=i.n(Q),R=["id"];function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var z={name:"MascotsInput",props:{data:{type:Array,default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device}},methods:{addRowToMascots:function(){var t=[].concat(d()(this.data),[{"":{":url":"",":mime_type":"",id:this.generateID()}}]);this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},deleteMascotsRow:function(t){var e=this.getId(t),i=this.data.filter(function(t){return Object.values(t)[0].id!==e});this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},generateID:function(){return"f".concat((~~(1e8*Math.random())).toString(16))},getId:function(t){return Object.values(t)[0].id},getName:function(t){return Object.keys(t)[0]},getUrl:function(t){var e=Object.values(t);return V()(e,1)[0][":url"]},getMimeType:function(t){var e=Object.values(t);return V()(e,1)[0][":mime_type"]},parseMascots:function(t,e,i){var n=this,s=this.getId(i),a=this.data.map(function(i,a){return Object.values(i)[0].id===s?"name"===e?r()({},t,Object.values(n.data[a])[0]):"url"===e?r()({},Object.keys(i)[0],q(q({},Object.values(n.data[a])[0]),{},{":url":t})):r()({},Object.keys(i)[0],q(q({},Object.values(n.data[a])[0]),{},{":mime_type":t})):i});this.updateSetting(a,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateSetting:function(t,e,i,n,s){var a=t.reduce(function(t,e){var i=Object.values(e)[0],n=(i.id,G()(i,R));return q(q({},t),{},r()({},Object.keys(e)[0],["",n]))},{});this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},K=(i("n+P5"),Object(g.a)(z,function(){var t=this,e=t._self._c;return e("div",{staticClass:"mascot-container",attrs:{"data-search":t.setting.key||t.setting.group}},[t._l(t.data,function(i){return e("div",{key:t.getId(i),staticClass:"mascot"},[e("el-form-item",{staticClass:"mascot-form-item",attrs:{label:"Name","label-width":"85px"}},[e("div",{staticClass:"mascot-name-container"},[e("el-input",{staticClass:"mascot-name-input",attrs:{value:t.getName(i),placeholder:"Name"},on:{input:function(e){return t.parseMascots(e,"name",i)}}}),t._v(" "),e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.deleteMascotsRow(i)}}})],1)]),t._v(" "),e("el-form-item",{staticClass:"mascot-form-item",attrs:{label:"URL","label-width":"85px"}},[e("el-input",{staticClass:"mascot-input",attrs:{value:t.getUrl(i),placeholder:"URL"},on:{input:function(e){return t.parseMascots(e,"url",i)}}})],1),t._v(" "),e("el-form-item",{staticClass:"mascot-form-item",attrs:{label:"Mime type","label-width":"85px"}},[e("el-input",{staticClass:"mascot-input",attrs:{value:t.getMimeType(i),placeholder:"Mime type"},on:{input:function(e){return t.parseMascots(e,"mimeType",i)}}})],1)],1)}),t._v(" "),e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:t.addRowToMascots}})],2)},[],!1,null,null,null).exports);function B(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function H(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?B(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var J={name:"ProxyUrlInput",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}},parents:{type:Array,default:function(){return[]},required:!1}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device},settings:function(){return this.$store.state.settings.settings},updatedSettings:function(){return this.$store.state.settings.updatedSettings},proxyUrlData:function(){return 0===Object.keys(this.data).length?{socks5:!1,host:null,port:null}:this.data}},methods:{updateProxyUrl:function(t,e){var i;i=H(H({},this.proxyUrlData),{},"socks5"===e?{socks5:t}:"host"===e?{host:t}:{port:t}),this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateSetting:function(t,e,i,n,s){var a=t.socks5?[":socks5",t.host,t.port]:"".concat(t.host,":").concat(t.port);if(this.parents.length>0){var r=Object(f.e)(t,a,e,i,this.parents.reverse(),this.settings,this.updatedSettings),o=r.valueForState,c=r.valueForUpdatedSettings,l=r.setting;this.$store.dispatch("UpdateSettings",{group:e,key:i,input:l.key,value:c,type:l.type}),this.$store.dispatch("UpdateState",{group:e,key:i,input:l.key,value:o})}else this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},Y=(i("Y4NQ"),Object(g.a)(J,function(){var t=this,e=t._self._c;return e("div",{staticClass:"proxy-url-input",attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-input",{staticClass:"proxy-url-host-input",attrs:{value:t.proxyUrlData.host,placeholder:"host (e.g. localhost or 127.0.0.1)"},on:{input:function(e){return t.updateProxyUrl(e,"host")}}}),t._v(" "),t.isDesktop?e("span",[t._v(":")]):t._e(),t._v(" "),e("el-input",{staticClass:"proxy-url-value-input",attrs:{value:t.proxyUrlData.port,placeholder:"port (e.g 9020 or 3090)"},on:{input:function(e){return t.updateProxyUrl(e,"port")}}}),t._v(" "),e("div",{staticClass:"socks5-checkbox-container"},[e("el-checkbox",{attrs:{value:t.proxyUrlData.socks5},on:{change:function(e){return t.updateProxyUrl(e,"socks5")}}}),t._v(" "),e("span",{staticClass:"socks5-checkbox"},[t._v("Socks5")])],1)],1)},[],!1,null,null,null).exports),X={name:"PruneInput",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{prune:{get:function(){return this.data[0]},set:function(t){this.updateRadioInput(t)}}},methods:{updateIntInput:function(t,e){this.updateSetting([e,t],this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateSetting:function(t,e,i,n,s){var a=t.includes(":disabled")?":disabled":t;this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})},updateRadioInput:function(t){var e=":disabled"===t?[t]:[t,0];this.updateSetting(e,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)}}},Z=(i("/Mot"),Object(g.a)(X,function(){var t=this,e=t._self._c;return e("div",{attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-radio-group",{staticClass:"prune-options",model:{value:t.prune,callback:function(e){t.prune=e},expression:"prune"}},[e("el-radio",{attrs:{label:":disabled"}},[t._v("Disabled")]),t._v(" "),e("el-radio",{attrs:{label:":maxlen"}},[t._v("Limit-based")]),t._v(" "),e("el-radio",{attrs:{label:":maxage"}},[t._v("Time-based")])],1),t._v(" "),":maxlen"===t.prune?e("el-form-item",{attrs:{label:"Max length","label-width":"100","label-position":"left"}},[e("el-input-number",{staticClass:"top-margin",attrs:{value:t.data[1],min:0,placeholder:"1500",size:"large"},on:{change:function(e){return t.updateIntInput(e,":maxlen")}}})],1):t._e(),t._v(" "),":maxage"===t.prune?e("el-form-item",{attrs:{label:"Max age","label-width":"100","label-position":"left"}},[e("el-input-number",{staticClass:"top-margin",attrs:{value:t.data[1],min:0,placeholder:"3600",size:"large"},on:{change:function(e){return t.updateIntInput(e,":maxage")}}})],1):t._e()],1)},[],!1,null,null,null).exports),tt={name:"RateLimitInput",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device},rateLimitAllUsers:function(){return this.data[this.setting.key]?this.data[this.setting.key]:["",""]},rateLimitAuthUsers:function(){return!(!this.data[this.setting.key]||!Array.isArray(this.data[this.setting.key][0]))&&this.data[this.setting.key][1]},rateLimitUnauthUsers:function(){return!(!this.data[this.setting.key]||!Array.isArray(this.data[this.setting.key][1]))&&this.data[this.setting.key][0]}},methods:{parseRateLimiter:function(t,e,i,n,s){var a;"oneLimit"===n?a="scale"===i?[t,s[1]]:[s[0],t]:"unauthUsersLimit"===n?a="scale"===i?[[t,s[0][1]],[s[1][0],s[1][1]]]:[[s[0][0],t],[s[1][0],s[1][1]]]:"authUserslimit"===n&&(a="scale"===i?[[s[0][0],s[0][1]],[t,s[1][1]]]:[[s[0][0],s[0][1]],[s[1][0],t]]),this.updateSetting(a,this.settingGroup.group,this.settingGroup.key,e,this.setting.type)},toggleLimits:function(t,e){this.updateSetting(t,this.settingGroup.group,this.settingGroup.key,e)},updateSetting:function(t,e,i,n,s){var a=Array.isArray(t[0])?t.map(function(t){return{tuple:t}}):{tuple:t};this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},et=(i("9x3f"),Object(g.a)(tt,function(){var t=this,e=t._self._c;return e("div",{staticClass:"rate-limit-container",attrs:{"data-search":t.setting.key||t.setting.group}},[t.rateLimitAuthUsers?t._e():e("div",[e("el-input-number",{staticClass:"scale-input",attrs:{value:t.rateLimitAllUsers[0],controls:!1,placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"scale","oneLimit",t.rateLimitAllUsers)}}}),t._v(" "),e("span",[t._v(":")]),t._v(" "),e("el-input-number",{staticClass:"limit-input",attrs:{value:t.rateLimitAllUsers[1],controls:!1,placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"limit","oneLimit",t.rateLimitAllUsers)}}}),t._v(" "),e("div",{staticClass:"limit-button-container"},[e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-plus",circle:""},on:{click:function(e){return t.toggleLimits([["",""],["",""]],t.setting.key)}}}),t._v(" "),e("p",{staticClass:"expl limit-expl"},[t._v(t._s(t.$t("settings.setLimits")))])],1)],1),t._v(" "),t.rateLimitAuthUsers?e("div",[e("el-form-item",{staticClass:"rate-limit"},[e("div",{staticClass:"rate-limit-label-container"},[e("span",{staticClass:"rate-limit-label"},[t._v("\n          "+t._s(t.$t("settings.unauthenticatedUsers"))+":\n        ")])]),t._v(" "),e("div",{staticClass:"rate-limit-content"},[e("el-input-number",{staticClass:"scale-input",attrs:{value:t.rateLimitUnauthUsers[0],controls:!1,placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"scale","unauthUsersLimit",[t.rateLimitUnauthUsers,t.rateLimitAuthUsers])}}}),t._v(" "),e("span",[t._v(":")]),t._v(" "),e("el-input-number",{staticClass:"limit-input",attrs:{value:t.rateLimitUnauthUsers[1],controls:!1,placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"limit","unauthUsersLimit",[t.rateLimitUnauthUsers,t.rateLimitAuthUsers])}}})],1)]),t._v(" "),e("el-form-item",{staticClass:"rate-limit"},[e("div",{staticClass:"rate-limit-label-container"},[e("span",{staticClass:"rate-limit-label"},[t._v("\n          "+t._s(t.$t("settings.authenticatedUsers"))+":\n        ")])]),t._v(" "),e("div",{staticClass:"rate-limit-content"},[e("el-input-number",{staticClass:"scale-input",attrs:{value:t.rateLimitAuthUsers[0],controls:!1,placeholder:"scale"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"scale","authUserslimit",[t.rateLimitUnauthUsers,t.rateLimitAuthUsers])}}}),t._v(" "),e("span",[t._v(":")]),t._v(" "),e("el-input-number",{staticClass:"limit-input",attrs:{value:t.rateLimitAuthUsers[1],controls:!1,placeholder:"limit"},on:{input:function(e){return t.parseRateLimiter(e,t.setting.key,"limit","authUserslimit",[t.rateLimitUnauthUsers,t.rateLimitAuthUsers])}}})],1)]),t._v(" "),e("div",{staticClass:"limit-button-container"},[e("el-button",{staticClass:"icon-minus-button",attrs:{size:t.isDesktop?"medium":"mini",icon:"el-icon-minus",circle:""},on:{click:function(e){return t.toggleLimits(["",""],t.setting.key)}}}),t._v(" "),e("p",{staticClass:"expl limit-expl"},[t._v(t._s(t.$t("settings.setLimitsForAll")))])],1)],1):t._e()])},[],!1,null,null,null).exports),it={name:"RegInvitesInput",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},methods:{updateSetting:function(t,e,i,n,s){var a=this,r=this.$store.state.settings.settings[e][i][":registrations_open"],o=this.$store.state.settings.settings[e][i][":invites_enabled"];":registrations_open"===n&&t&&o?this.$confirm("Enabling this setting requires invites to be disabled. Are you sure you want to open registrations?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){a.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),a.$store.dispatch("UpdateSettings",{group:e,key:i,input:":invites_enabled",value:!1,type:s}),a.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t}),a.$store.dispatch("UpdateState",{group:e,key:i,input:":invites_enabled",value:!1})}):":invites_enabled"===n&&t&&r?this.$confirm("Enabling this setting requires registrations to be disabled. Are you sure you want to enable invitations?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){a.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),a.$store.dispatch("UpdateSettings",{group:e,key:i,input:":registrations_open",value:!1,type:s}),a.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t}),a.$store.dispatch("UpdateState",{group:e,key:i,input:":registrations_open",value:!1})}):(this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t}))}}},nt=(i("qml7"),Object(g.a)(it,function(){var t=this;return(0,t._self._c)("el-switch",{staticClass:"switch-input",attrs:{value:t.data[t.setting.key],"data-search":t.setting.key},on:{change:function(e){return t.updateSetting(e,t.settingGroup.group,t.settingGroup.key,t.setting.key,t.setting.type)}}})},[],!1,null,null,null).exports),st={name:"SelectInputWithReducedLabels",props:{data:{type:[Array,Object],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{inputValue:function(){return"Pleroma.Web.Auth.Authenticator"===this.setting.key?this.data.value:":policies"===this.setting.key&&"string"==typeof this.data[this.setting.key]?[this.data[this.setting.key]]:this.data[this.setting.key]},isMobile:function(){return"mobile"===this.$store.state.app.device}},methods:{options:function(t){var e=this,i={":policies":"Pleroma.Web.ActivityPub.MRF.","Pleroma.Web.Auth.Authenticator":"Pleroma.Web.Auth.",":method":"Pleroma.Captcha.",":adapter":"Swoosh.Adapters.",":providers":"Pleroma.Web.Metadata.Providers.",":parsers":"Pleroma.Web.RichMedia.Parsers.",":ttl_setters":"Pleroma.Web.RichMedia.Parser.",":scrub_policy":"Pleroma.HTML.",":federation_publisher_modules":"Pleroma.Web.",":uploader":"Pleroma.Uploaders.",":filters":"Pleroma.Upload.Filter."};return t.map(function(t){return{value:t,label:t.split(i[e.setting.key])[1]?t.split(i[e.setting.key])[1]:t}})},renderMultipleSelect:function(t){return Array.isArray(t)&&":backends"!==this.setting.key&&":args"!==this.setting.key&&(t.includes("module")||t.includes("list")&&t.includes("string")||t.includes("list")&&t.includes("atom")||t.includes("regex")&&t.includes("string")||":args"===this.setting.key)},updateSetting:function(t,e,i,n,s){var a=Object(f.b)(t);this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:a})}}},at=(i("T7IK"),Object(g.a)(st,function(){var t=this,e=t._self._c;return e("div",{staticClass:"input"},[t.renderMultipleSelect(t.setting.type)?e("el-select",{staticClass:"input",attrs:{value:t.inputValue,"data-search":t.setting.key,multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,t.settingGroup.group,t.settingGroup.key,t.setting.key,t.setting.type)}}},t._l(t.options(t.setting.suggestions),function(t,i){return e("el-option",{key:i,attrs:{value:t.value,label:t.label}})}),1):t._e(),t._v(" "),"module"===t.setting.type||t.setting.type.includes("atom")&&t.setting.type.includes("dropdown")?e("el-select",{staticClass:"input",attrs:{value:!1===t.inputValue?"false":t.inputValue,"data-search":t.setting.key||t.setting.group,clearable:""},on:{change:function(e){return t.updateSetting(e,t.settingGroup.group,t.settingGroup.key,t.setting.key,t.setting.type)}}},t._l(t.options(t.setting.suggestions),function(t,i){return e("el-option",{key:i,attrs:{value:t.value,label:t.label}})}),1):t._e()],1)},[],!1,null,null,null).exports);function rt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var ct={name:"SenderInput",props:{data:{type:[Object,Array],default:function(){return{}}},parents:{type:Array,default:function(){return[]},required:!1},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device},settings:function(){return this.$store.state.settings.settings},updatedSettings:function(){return this.$store.state.settings.updatedSettings},sender:function(){return 0===Object.keys(this.data).length?{email:null,nickname:null}:this.data}},methods:{updateSender:function(t,e){var i;i=ot(ot({},this.sender),{},"email"===e?{email:t}:{nickname:t}),this.updateSetting(i,this.settingGroup.group,this.settingGroup.key,this.setting.key,this.setting.type)},updateSetting:function(t,e,i,n,s){var a=t.nickname?[t.nickname,t.email]:t.email;if(this.parents.length>0){var r=Object(f.e)(t,a,e,i,this.parents.reverse(),this.settings,this.updatedSettings),o=r.valueForState,c=r.valueForUpdatedSettings,l=r.setting;this.$store.dispatch("UpdateSettings",{group:e,key:i,input:l.key,value:c,type:l.type}),this.$store.dispatch("UpdateState",{group:e,key:i,input:l.key,value:o})}else this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:a,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},lt=(i("UnXU"),Object(g.a)(ct,function(){var t=this,e=t._self._c;return e("div",{staticClass:"sender-input",attrs:{"data-search":t.setting.key||t.setting.group}},[e("el-input",{staticClass:"email-address-input",attrs:{value:t.sender.email,placeholder:"email address"},on:{input:function(e){return t.updateSender(e,"email")}}}),t._v(" "),e("el-input",{staticClass:"nickname-input",attrs:{value:t.sender.nickname,placeholder:"nickname"},on:{input:function(e){return t.updateSender(e,"nickname")}}})],1)},[],!1,null,null,null).exports),ut={name:"SpecificMultipleSelect",props:{data:{type:[Object,Array],default:function(){return{}}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}}},methods:{updateSetting:function(t,e,i,n,s){this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},pt=(i("n+vY"),Object(g.a)(ut,function(){var t=this,e=t._self._c;return e("div",{staticClass:"multiple-select-container"},[":args"===t.setting.key?e("el-select",{staticClass:"input",attrs:{value:t.data[t.setting.key],"data-search":t.setting.key||t.setting.group,multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.updateSetting(e,t.settingGroup.group,t.settingGroup.key,t.setting.key,t.setting.type)}}},[e("el-option",{attrs:{value:"strip"}}),t._v(" "),e("el-option",{attrs:{value:"auto-orient"}}),t._v(" "),e("el-option",{attrs:{value:'{"implode", "1"}'}})],1):t._e()],1)},[],!1,null,null,null).exports),dt=i("4MG8"),ht=i.n(dt),gt={name:"Inputs",components:{EditableKeywordInput:k,IconsInput:C,ImageUploadInput:A,BooleanCombinedInput:m,MascotsInput:K,ProxyUrlInput:Y,PruneInput:Z,RateLimitInput:et,RegInvitesInput:nt,SelectInputWithReducedLabels:at,SenderInput:lt,SpecificMultipleSelect:pt},props:{customLabelWidth:{type:String,default:function(){return this.labelWidth},required:!1},data:{type:[Object,Array],default:function(){return{}}},labelClass:{type:String,default:function(){return"label"},required:!1},margin:{type:Number,default:function(){return 0},required:!1},nested:{type:Boolean,default:function(){return!1}},setting:{type:Object,default:function(){return{}}},settingGroup:{type:Object,default:function(){return{}}},settingParent:{type:Array,default:function(){return[]},required:!1}},computed:{booleanCombinedInput:function(){return Array.isArray(this.setting.type)&&this.setting.type.includes("boolean")},canBeDeleted:function(){var t=this.settingGroup,e=t.group,i=t.key;return x.a.get(this.$store.state.settings.db,[e,i])&&this.$store.state.settings.db[e][i].includes(this.setting.key)},iconsData:function(){return Array.isArray(this.data)?this.data:[]},inputValue:function(){return[":esshd",":cors_plug",":tesla",":swoosh"].includes(this.settingGroup.group)&&this.data[this.setting.key]?"atom"===this.setting.type&&":"===this.data[this.setting.key].value[0]?this.data[this.setting.key].value.substr(1):this.data[this.setting.key].value:"Pleroma.Web.Auth.Authenticator"===this.setting.key||":admin_token"===this.setting.key?this.data.value:":mime"===this.settingGroup.group&&":types"===this.settingParent[0].key?this.data.value?this.data.value[this.setting.key]:[]:"atom"===this.setting.type?this.data[this.setting.key]&&":"===this.data[this.setting.key][0]?this.data[this.setting.key].substr(1):this.data[this.setting.key]:Array.isArray(this.setting.type)&&this.setting.type.find(function(t){return Array.isArray(t)&&t.includes("list")})&&"string"==typeof this.data[this.setting.key]?[this.data[this.setting.key]]:this.data[this.setting.key]},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isTablet:function(){return"tablet"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},keywordData:function(){return this.settingParent.length>0||Array.isArray(this.setting.type)&&this.setting.type.includes("tuple")&&this.setting.type.includes("list")?Array.isArray(this.data[this.setting.key])?this.data[this.setting.key]:[]:Array.isArray(this.data)?this.data:[]},reducedSelects:function(){return[":filters",":uploader",":federation_publisher_modules",":scrub_policy",":ttl_setters",":parsers",":providers",":method",":policies","Pleroma.Web.Auth.Authenticator"].includes(this.setting.key)||"Pleroma.Emails.Mailer"===this.settingGroup.key&&":adapter"===this.setting.key},settings:function(){return this.$store.state.settings.settings},textareaInput:function(){return":welcome"===this.settingGroup.key&&":message"===this.setting.key},updatedSettings:function(){return this.$store.state.settings.updatedSettings},isImageUrl:function(){return Array.isArray(this.setting.type)&&this.setting.type.includes("image")}},methods:{editableKeyword:function(t,e){return Array.isArray(e)&&(e.includes("map")&&e.includes("string")||e.includes("map")&&-1!==e.findIndex(function(t){return t.includes("list")&&t.includes("string")})||e.includes("keyword")&&e.includes("integer")||e.includes("keyword")&&e.includes("string")||e.includes("tuple")&&e.includes("list")||e.includes("keyword")&&-1!==e.findIndex(function(t){return t.includes("list")&&t.includes("string")}))},getFormattedDescription:function(t){return ht()(t)},processNestedData:function(t,e,i,n){var s=Object(f.e)(t,t,e,i,n.reverse(),this.settings,this.updatedSettings),a=s.valueForState,r=s.valueForUpdatedSettings,o=s.setting;this.$store.dispatch("UpdateSettings",{group:e,key:i,input:o.key,value:r,type:o.type}),this.$store.dispatch("UpdateState",{group:e,key:i,input:o.key,value:a})},removeSetting:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$confirm(t.$t("settings.removeSettingConfirmation"),{confirmButtonText:t.$t("users.ok"),cancelButtonText:t.$t("users.cancel"),type:"warning"}).then(s()(c.a.mark(function e(){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.settingGroup.key?[{group:t.settingGroup.group,key:t.settingGroup.key,delete:!0,subkeys:[t.setting.key]}]:[{group:t.settingGroup.group,key:t.setting.key,delete:!0}],e.prev=1,e.next=4,t.$store.dispatch("RemoveSetting",i);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return");case 9:t.$message({type:"success",message:u.a.t("settings.successfullyRemoved")});case 10:case"end":return e.stop()}},e,null,[[1,6]])}))).catch(function(){t.$message({type:"info",message:t.$t("users.canceled")})});case 1:case"end":return e.stop()}},e)}))()},renderMultipleSelect:function(t){return!this.reducedSelects&&Array.isArray(t)&&":backends"!==this.setting.key&&":args"!==this.setting.key&&(":ip_whitelist"===this.setting.key||t.includes("module")||t.includes("list")&&t.includes("string")||t.includes("list")&&t.includes("atom")||!t.includes("keyword")&&t.includes("regex")&&t.includes("string"))},renderSingleSelect:function(t){return!this.reducedSelects&&("module"===t||Array.isArray(t)&&t.includes("atom")&&t.includes("dropdown"))},senderInput:function(t){var e=t.key,i=t.type;return Array.isArray(i)&&i.includes("string")&&i.includes("tuple")&&":sender"===e},update:function(t,e,i,n,s,a,r){var o=this.renderSingleSelect(a)?Object(f.b)(t):t;r?this.processNestedData(o,e,i,n):this.updateSetting(o,e,i,s,a)},updateSetting:function(t,e,i,n,s){this.$store.dispatch("UpdateSettings",{group:e,key:i,input:n,value:t,type:s}),this.$store.dispatch("UpdateState",{group:e,key:i,input:n,value:t})}}},mt=(i("2YWP"),[{name:"renderIfNotEqual",key:":proxy_remote",groupKey:"Pleroma.Upload",group:":pleroma",targetKey:":uploader",targetGroup:"Pleroma.Upload",notEqual:"Pleroma.Uploaders.Local"}]),ft={renderIfNotEqual:function(t,e){var i=e.group,n=e.groupKey,s=e.targetKey,a=e.notEqual;return t[i][n][s]!==a}},bt={name:"Setting",components:{Inputs:Object(g.a)(gt,function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-container"},["keyword"===t.setting.type?e("div",{staticClass:"keyword-container"},[e("el-form-item",{class:t.labelClass,style:`margin-left:${t.margin}px;margin-bottom:0`,attrs:{"label-width":t.customLabelWidth,"data-search":t.setting.key||t.setting.group}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n        "+t._s(t.setting.label)+"\n        "),t.canBeDeleted&&t.isDesktop?e("el-tooltip",{attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticClass:"delete-setting-button",attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.removeSetting}})],1):t._e()],1)]),t._v(" "),t._l(t.setting.children,function(i){return e("el-form-item",{key:i.key},[e("inputs",{attrs:{"setting-group":t.settingGroup,"setting-parent":[...t.settingParent,i],setting:i,data:t.data[t.setting.key],"custom-label-width":t.isMobile?"100px":"120px","label-class":"keyword"===i.type?"center-label":"",margin:t.isDesktop?t.margin+15:t.margin+8,nested:!0}})],1)})],2):t._e(),t._v(" "),"keyword"!==t.setting.type?e("el-form-item",{class:t.labelClass,style:t.isDesktop?"":`margin-left:${t.margin}px`,attrs:{"label-width":t.customLabelWidth}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n      "+t._s(t.setting.label)+"\n      "),t.canBeDeleted&&(t.isDesktop||t.isMobile)?e("el-tooltip",{attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticClass:"delete-setting-button",attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.removeSetting}})],1):t._e()],1),t._v(" "),e("div",{staticClass:"input-row"},[t.isImageUrl?e("image-upload-input",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting,"input-value":t.inputValue},on:{change:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}):t._e(),t._v(" "),t.textareaInput?e("el-input",{staticClass:"input",attrs:{value:t.inputValue,placeholder:t.setting.suggestions?t.setting.suggestions[0]:null,"data-search":t.setting.key||t.setting.group,type:"textarea"},on:{input:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}):"string"===t.setting.type||Array.isArray(t.setting.type)&&t.setting.type.includes("string")&&t.setting.type.includes("atom")?e("el-input",{staticClass:"input",attrs:{value:t.inputValue,placeholder:t.setting.suggestions?t.setting.suggestions[0]:null,"data-search":t.setting.key||t.setting.group},on:{input:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}):t._e(),t._v(" "),"boolean"!==t.setting.type||[":registrations_open",":invites_enabled"].includes(t.setting.key)?t._e():e("el-switch",{staticClass:"switch-input",attrs:{value:t.inputValue,"data-search":t.setting.key||t.setting.group},on:{change:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}),t._v(" "),"integer"===t.setting.type?e("el-input-number",{attrs:{value:null===t.inputValue?void 0:t.inputValue,placeholder:t.setting.suggestions?t.setting.suggestions[0].toString():null,min:0,size:t.isDesktop?"large":"medium","data-search":t.setting.key||t.setting.group},on:{change:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}):t._e(),t._v(" "),t.renderSingleSelect(t.setting.type)?e("el-select",{staticClass:"input",attrs:{value:!1===t.inputValue?"false":t.inputValue,"data-search":t.setting.key||t.setting.group,clearable:""},on:{change:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}},t._l(t.setting.suggestions,function(t,i){return e("el-option",{key:i,attrs:{value:t}})}),1):t._e(),t._v(" "),t.renderMultipleSelect(t.setting.type)?e("el-select",{staticClass:"input",attrs:{value:t.inputValue,"data-search":t.setting.key||t.setting.group,multiple:"",filterable:"","allow-create":""},on:{change:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}},t._l(t.setting.suggestions,function(t,i){return e("el-option",{key:i,attrs:{value:t}})}),1):t._e(),t._v(" "),":ip"===t.setting.key?e("el-input",{staticClass:"input",attrs:{value:t.inputValue,"data-search":t.setting.key||t.setting.group,placeholder:"xxx.xxx.xxx.xx"},on:{input:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}}):t._e(),t._v(" "),"atom"===t.setting.type?e("el-input",{staticClass:"input",attrs:{value:t.inputValue,placeholder:t.setting.suggestions&&t.setting.suggestions[0]?t.setting.suggestions[0].substr(1):"","data-search":t.setting.key||t.setting.group},on:{input:function(e){return t.update(e,t.settingGroup.group,t.settingGroup.key,t.settingParent,t.setting.key,t.setting.type,t.nested)}}},[e("template",{slot:"prepend"},[t._v(":")])],2):t._e(),t._v(" "),t.editableKeyword(t.setting.key,t.setting.type)?e("editable-keyword-input",{attrs:{data:t.keywordData,"setting-group":t.settingGroup,setting:t.setting,parents:t.settingParent}}):t._e(),t._v(" "),":icons"===t.setting.key?e("icons-input",{attrs:{data:t.iconsData,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),t.booleanCombinedInput?e("boolean-combined-input",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),":mascots"===t.setting.key?e("mascots-input",{attrs:{data:t.keywordData,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),":proxy_url"===t.setting.key?e("proxy-url-input",{attrs:{data:t.data[t.setting.key],"setting-group":t.settingGroup,setting:t.setting,parents:t.settingParent}}):t._e(),t._v(" "),":prune"===t.setting.key?e("prune-input",{attrs:{data:t.data[t.setting.key],"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),":rate_limit"===t.settingGroup.key?e("rate-limit-input",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),[":registrations_open",":invites_enabled"].includes(t.setting.key)?e("reg-invites-input",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),t.reducedSelects?e("select-input-with-reduced-labels",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),":backends"===t.setting.key||":args"===t.setting.key?e("specific-multiple-select",{attrs:{data:t.data,"setting-group":t.settingGroup,setting:t.setting}}):t._e(),t._v(" "),t.senderInput(t.setting)?e("sender-input",{attrs:{data:t.data[t.setting.key],"setting-group":t.settingGroup,setting:t.setting,parents:t.settingParent}}):t._e(),t._v(" "),t.canBeDeleted&&t.isTablet?e("el-tooltip",{staticClass:"delete-setting-button-container",attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticClass:"delete-setting-button",attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:t.removeSetting}})],1):t._e()],1),t._v(" "),t.setting.description&&"keyword"!==t.setting.type?e("div",{staticClass:"expl",domProps:{innerHTML:t._s(t.getFormattedDescription(t.setting.description))}}):t._e()]):t._e()],1)},[],!1,null,null,null).exports},props:{settingGroup:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},computed:{emailAdapterChildren:function(){var t=this.$store.state.settings.settings[":pleroma"]["Pleroma.Emails.Mailer"][":adapter"];return this.settingGroup.children.filter(function(e){return e.group&&e.group.includes(t)})},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isTablet:function(){return"tablet"===this.$store.state.app.device},loading:function(){return this.$store.state.settings.loading},state:function(){return this.$store.state.settings.settings}},methods:{canBeDeleted:function(t){var e=this.settingGroup,i=e.group,n=e.key||t;return x.a.get(this.$store.state.settings.db,[i,n])&&this.$store.state.settings.db[i][n].includes(t)},compound:function(t){var e=t.type;t.key,t.children;return"keyword"===e||"map"===e||e.includes("keyword")||e.includes("map")},divideSetting:function(t){return[":sslopts",":tlsopts",":adapter",":poll_limits",":queues",":styling",":invalidation",":multi_factor_authentication"].includes(t)},followsRules:function(t,e,i){return function(t,e,i){var n=mt.find(function(i){return i.groupKey===e&&i.key===t});if(!n)return!0;var s=ft[n.name];return!s||s(i,n)}(t,e,i)},getFormattedDescription:function(t){return ht()(t)},notLastInGroup:function(t){return this.settingGroup.children.slice(-1)[0].key!==t},removeSetting:function(t){var e=this;return s()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.$confirm(e.$t("settings.removeSettingConfirmation"),{confirmButtonText:e.$t("users.ok"),cancelButtonText:e.$t("users.cancel"),type:"warning"}).then(s()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.settingGroup.key?[{group:e.settingGroup.group,key:e.settingGroup.key,delete:!0,subkeys:[t]}]:[{group:e.settingGroup.group,key:t,delete:!0}],i.prev=1,i.next=4,e.$store.dispatch("RemoveSetting",n);case 4:i.next=9;break;case 6:return i.prev=6,i.t0=i.catch(1),i.abrupt("return");case 9:e.$message({type:"success",message:u.a.t("settings.successfullyRemoved")});case 10:case"end":return i.stop()}},i,null,[[1,6]])}))).catch(function(){e.$message({type:"info",message:e.$t("users.canceled")})});case 1:case"end":return i.stop()}},i)}))()},updateSetting:function(t,e,i){this.$store.dispatch("UpdateSettings",{tab:e,data:r()({},i,t)})}}},vt=(i("przZ"),Object(g.a)(bt,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",[t.settingGroup.label||t.settingGroup.description?e("el-form-item",{staticClass:"description-container",attrs:{"data-search":t.settingGroup.key||t.settingGroup.group}},[t.settingGroup.label?e("span",{staticClass:"setting-label"},[t._v(t._s(t.settingGroup.label))]):t._e(),t._v(" "),t.settingGroup.description?e("span",{staticClass:"expl no-top-margin",domProps:{innerHTML:t._s(t.getFormattedDescription(t.settingGroup.description))}}):t._e()]):t._e(),t._v(" "),"Pleroma.Emails.Mailer"===t.settingGroup.key?e("div",[t._l(t.settingGroup.children.filter(t=>!t.group),function(i){return e("div",{key:i.key},[t.followsRules(i.key,t.settingGroup.key,t.state)?e("inputs",{attrs:{"setting-group":t.settingGroup,setting:i,data:t.data}}):t._e()],1)}),t._v(" "),t._l(t.emailAdapterChildren,function(i){return e("div",{key:i.key},[t.followsRules(i.key,t.settingGroup.key,t.state)?e("inputs",{attrs:{"setting-group":t.settingGroup,setting:i,data:t.data}}):t._e()],1)})],2):e("div",t._l(t.settingGroup.children,function(i){return e("div",{key:i.key},[t.compound(i)?t._e():e("div",[t.followsRules(i.key,t.settingGroup.key,t.state)?e("inputs",{attrs:{"setting-group":t.settingGroup,setting:i,data:t.data,nested:!1}}):t._e()],1),t._v(" "),t.compound(i)?e("div",[t.divideSetting(i.key)?e("el-divider",{staticClass:"divider"}):t._e(),t._v(" "),i.children?e("div",[e("div",{staticClass:"input-container"},[e("el-form-item",{staticClass:"grouped-settings-header",attrs:{"data-search":i.key||i.group}},[e("span",{attrs:{slot:"label"},slot:"label"},[t.isDesktop&&t.canBeDeleted(i.key)?e("el-tooltip",{attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeSetting(i.key)}}})],1):t._e()],1),t._v(" "),e("span",{staticClass:"label-font"},[t._v(t._s(i.label))]),t._v(" "),t.canBeDeleted(i.key)&&(t.isMobile||t.isTablet)?e("el-tooltip",{attrs:{content:t.$t("settings.removeFromDB"),placement:"bottom-end"}},[e("el-button",{staticClass:"settings-delete-button",attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeSetting(i.key)}}})],1):t._e()],1)],1),t._v(" "),t._l(i.children,function(n){return e("div",{key:n.key},[e("inputs",{attrs:{"setting-group":t.settingGroup,"setting-parent":[i,n],setting:n,data:t.data[i.key],nested:!0}})],1)})],2):e("div",[t.followsRules(i.key,t.settingGroup.key,t.state)?e("inputs",{attrs:{"setting-group":t.settingGroup,setting:i,data:t.data[i.key],nested:!0}}):t._e()],1),t._v(" "),t.notLastInGroup(i.key)?e("el-divider",{staticClass:"divider"}):t._e()],1):t._e()])}),0)],1)},[],!1,null,null,null).exports);function yt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function kt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var _t={name:"ActivityPub",components:{Setting:vt},computed:kt(kt({},Object(l.b)(["settings"])),{},{activitypub:function(){return this.settings.description.find(function(t){return":activitypub"===t.key})},activitypubData:function(){return x.a.get(this.settings.settings,[":pleroma",":activitypub"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.$store.state.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery},user:function(){return this.settings.description.find(function(t){return":user"===t.key})},userData:function(){return x.a.get(this.settings.settings,[":pleroma",":user"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Pt=(i("5KL5"),Object(g.a)(_t,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.activitypubData,"label-position":t.labelPosition,"label-width":t.labelWidth,"data-search":":activitypub"}},[e("setting",{attrs:{"setting-group":t.activitypub,data:t.activitypubData}})],1),t._v(" "),t.user?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.userData,"label-position":t.labelPosition,"label-width":t.labelWidth,"data-search":":user"}},[e("setting",{attrs:{"setting-group":t.user,data:t.userData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Ot(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function jt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ot(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var wt={name:"Authentication",components:{Setting:vt},computed:jt(jt({},Object(l.b)(["settings"])),{},{auth:function(){return this.settings.description.find(function(t){return":auth"===t.key})},authData:function(){return x.a.get(this.settings.settings,[":pleroma",":auth"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},ldap:function(){return this.settings.description.find(function(t){return":ldap"===t.key})},ldapData:function(){return x.a.get(this.settings.settings,[":pleroma",":ldap"])||{}},loading:function(){return this.settings.loading},oauth2:function(){return this.settings.description.find(function(t){return":oauth2"===t.key})},oauth2Data:function(){return x.a.get(this.settings.settings,[":pleroma",":oauth2"])||{}},pleromaAuthenticator:function(){return this.settings.description.find(function(t){return t.children&&"Pleroma.Web.Auth.Authenticator"===t.children[0].key})},pleromaAuthenticatorData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.Auth.Authenticator"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},St=(i("AKuX"),Object(g.a)(wt,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.pleromaAuthenticatorData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.pleromaAuthenticator,data:t.pleromaAuthenticatorData}})],1),t._v(" "),t.pleromaAuthenticator?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.authData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.auth,data:t.authData}})],1),t._v(" "),t.auth?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.ldapData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.ldap,data:t.ldapData}})],1),t._v(" "),t.ldap?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.oauth2Data,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.oauth2,data:t.oauth2Data}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function $t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ct(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Dt={name:"Captcha",components:{Setting:vt},computed:Ct(Ct({},Object(l.b)(["settings"])),{},{captcha:function(){return this.settings.description.find(function(t){return"Pleroma.Captcha"===t.key})},captchaData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Captcha"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},kocaptcha:function(){return this.settings.description.find(function(t){return"Pleroma.Captcha.Kocaptcha"===t.key})},kocaptchaData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Captcha.Kocaptcha"])||{}},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},xt=(i("b1as"),Object(g.a)(Dt,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.captchaData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.captcha,data:t.captchaData}})],1),t._v(" "),t.captcha?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.kocaptchaData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.kocaptcha,data:t.kocaptchaData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports),Ut=i("cDf5"),It=i.n(Ut),Et=i("mm8V"),Ft={props:{host:{type:String,required:!0},packName:{type:String,required:!0},shortcode:{type:String,required:!0},file:{type:String,required:!0},isLocal:{type:Boolean,required:!0}},data:function(){return{newShortcode:null,newFile:null,copyToLocalPackName:null,copyPopoverVisible:!1,copyToShortcode:"",copyToFilename:""}},computed:{emojiName:{get:function(){return null!==this.newShortcode?this.newShortcode:this.shortcode},set:function(t){this.newShortcode=t}},emojiFile:{get:function(){return null!==this.newFile?this.newFile:this.file},set:function(t){this.newFile=t}},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},localPacks:function(){return this.$store.state.emojiPacks.localPacks},remoteInstance:function(){return this.$store.state.emojiPacks.remoteInstance}},methods:{update:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t.$store.dispatch("UpdateEmojiFile",{packName:t.packName,shortcode:t.shortcode,newShortcode:t.emojiName,newFilename:t.emojiFile,force:!0}),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:t.newShortcode=null,t.newFile=null,t.$store.dispatch("ReloadEmoji");case 10:case"end":return e.stop()}},e,null,[[0,4]])}))()},remove:function(){var t=this;this.$confirm("This will delete the emoji, are you sure?","Warning",{confirmButtonText:"Yes, delete the emoji",cancelButtonText:"No, leave it be",type:"warning"}).then(function(){t.$store.dispatch("DeleteEmojiFile",{packName:t.packName,shortcode:t.shortcode}).then(function(){t.newShortcode=null,t.newFile=null,t.$store.dispatch("ReloadEmoji")})})},copyToLocal:function(){try{this.$store.dispatch("AddNewEmojiFile",{packName:this.copyToLocalPackName,file:this.addressOfEmojiInPack(this.remoteInstance,this.packName,this.file),shortcode:""!==this.copyToShortcode.trim()?this.copyToShortcode.trim():this.shortcode,filename:""!==this.copyToFilename.trim()?this.copyToFilename.trim():this.file})}catch(t){return}this.copyToLocalPackName=null,this.copyToLocalVisible=!1,this.copyToShortcode="",this.copyToFilename="",this.$store.dispatch("ReloadEmoji")},addressOfEmojiInPack:Et.b}},Lt=(i("vJtI"),Object(g.a)(Ft,function(){var t=this,e=t._self._c;return e("div",[t.isLocal?e("div",{class:t.isMobile?"emoji-container-flex":"emoji-container-grid"},[e("img",{staticClass:"emoji-preview-img",attrs:{src:t.addressOfEmojiInPack(t.host,t.packName,t.file)}}),t._v(" "),e("el-input",{staticClass:"emoji-info",attrs:{placeholder:t.$t("emoji.shortcode")},model:{value:t.emojiName,callback:function(e){t.emojiName=e},expression:"emojiName"}}),t._v(" "),e("el-input",{staticClass:"emoji-info",attrs:{placeholder:t.$t("emoji.file")},model:{value:t.emojiFile,callback:function(e){t.emojiFile=e},expression:"emojiFile"}}),t._v(" "),e("div",{staticClass:"emoji-buttons"},[e("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v(t._s(t.$t("emoji.update")))]),t._v(" "),e("el-button",{staticClass:"remove-emoji-button",on:{click:t.remove}},[t._v(t._s(t.$t("emoji.remove")))])],1)],1):t._e(),t._v(" "),t.isLocal?t._e():e("div",{class:t.isMobile?"emoji-container-flex":"remote-emoji-container-grid"},[e("img",{staticClass:"emoji-preview-img",attrs:{src:t.addressOfEmojiInPack(t.remoteInstance,t.packName,t.file)}}),t._v(" "),e("el-input",{staticClass:"emoji-info",attrs:{value:t.emojiName,placeholder:t.$t("emoji.shortcode")}}),t._v(" "),e("el-input",{staticClass:"emoji-info",attrs:{value:t.emojiFile,placeholder:t.$t("emoji.file")}}),t._v(" "),e("el-popover",{staticClass:"copy-pack-container",attrs:{placement:"left-start","popper-class":"copy-popover"},model:{value:t.copyPopoverVisible,callback:function(e){t.copyPopoverVisible=e},expression:"copyPopoverVisible"}},[e("p",[t._v(t._s(t.$t("emoji.selectLocalPack")))]),t._v(" "),e("el-select",{staticClass:"copy-pack-select",attrs:{placeholder:t.$t("emoji.localPack")},model:{value:t.copyToLocalPackName,callback:function(e){t.copyToLocalPackName=e},expression:"copyToLocalPackName"}},t._l(t.localPacks,function(t,i){return e("el-option",{key:i,attrs:{label:i,value:i}})}),1),t._v(" "),e("p",[t._v(t._s(t.$t("emoji.specifyShortcode")))]),t._v(" "),e("el-input",{attrs:{placeholder:t.$t("emoji.leaveEmptyShortcode")},model:{value:t.copyToShortcode,callback:function(e){t.copyToShortcode=e},expression:"copyToShortcode"}}),t._v(" "),e("p",[t._v(t._s(t.$t("emoji.specifyFilename")))]),t._v(" "),e("el-input",{attrs:{placeholder:t.$t("emoji.leaveEmptyFilename")},model:{value:t.copyToFilename,callback:function(e){t.copyToFilename=e},expression:"copyToFilename"}}),t._v(" "),e("el-button",{staticClass:"copy-to-local-pack-button",attrs:{disabled:!t.copyToLocalPackName,type:"primary"},on:{click:t.copyToLocal}},[t._v(t._s(t.$t("emoji.copy")))]),t._v(" "),e("el-button",{staticClass:"emoji-button",attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v(t._s(t.$t("emoji.copyToLocalPack")))])],1)],1)])},[],!1,null,null,null).exports),Tt={props:{packName:{type:String,required:!0}},data:function(){return{shortcode:"",imageUploadURL:"",customFileName:""}},computed:{isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device}},methods:{uploadEmoji:function(t){var e=this;return s()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.file,i.prev=1,e.$store.dispatch("AddNewEmojiFile",{packName:e.packName,file:n||e.imageUploadURL,shortcode:e.shortcode,filename:e.customFileName}),i.next=8;break;case 5:return i.prev=5,i.t0=i.catch(1),i.abrupt("return");case 8:e.shortcode="",e.imageUploadURL="",e.customFileName="",e.$store.dispatch("ReloadEmoji");case 12:case"end":return i.stop()}},i,null,[[1,5]])}))()}}};i("pQCB");function Mt(t){var e=function(t,e){if("object"!==It()(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==It()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===It()(e)?e:String(e)}var At={components:{SingleEmojiEditor:Lt,NewEmojiUploader:Object(g.a)(Tt,function(){var t=this,e=t._self._c;return e("el-form",{staticClass:"new-emoji-uploader-form",attrs:{"label-position":t.isMobile?"top":"left","label-width":"130px",size:"small"}},[e("el-form-item",{attrs:{label:t.$t("emoji.shortcode")}},[e("el-input",{attrs:{placeholder:t.$t("emoji.optional")},model:{value:t.shortcode,callback:function(e){t.shortcode=e},expression:"shortcode"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.customFilename")}},[e("el-input",{attrs:{placeholder:t.$t("emoji.optional")},model:{value:t.customFileName,callback:function(e){t.customFileName=e},expression:"customFileName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.uploadFile")}},[e("div",{staticClass:"upload-file-url"},[e("el-input",{attrs:{placeholder:t.$t("emoji.url")},model:{value:t.imageUploadURL,callback:function(e){t.imageUploadURL=e},expression:"imageUploadURL"}}),t._v(" "),e("el-button",{staticClass:"upload-button",attrs:{type:"primary"},on:{click:t.uploadEmoji}},[t._v(t._s(t.$t("emoji.upload")))])],1),t._v(" "),e("div",{staticClass:"upload-container"},[e("p",{staticClass:"text"},[t._v("or")]),t._v(" "),e("el-upload",{attrs:{"http-request":t.uploadEmoji,multiple:!1,"show-file-list":!1,action:"add"}},[e("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("emoji.clickToUpload")))])],1)],1)])],1)},[],!1,null,null,null).exports},props:{name:{type:String,required:!0},pack:{type:Object,required:!0},host:{type:String,required:!0},isLocal:{type:Boolean,required:!0}},data:function(){return{showPackContent:[]}},computed:{currentFilesPage:function(){return this.$store.state.emojiPacks.currentLocalFilesPage},currentLocalPacksPage:function(){return this.$store.state.emojiPacks.currentLocalPacksPage},isMobile:function(){return"mobile"===this.$store.state.app.device},isTablet:function(){return"tablet"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"90px":(this.isTablet,"155px")},localPackFilesCount:function(){return this.$store.state.emojiPacks.localPackFilesCount},pageSize:function(){return this.$store.state.emojiPacks.filesPageSize},share:{get:function(){return this.pack.pack["share-files"]},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"share-files",value:t})}},homepage:{get:function(){return this.pack.pack.homepage},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"homepage",value:t})}},description:{get:function(){return this.pack.pack.description},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"description",value:t})}},license:{get:function(){return this.pack.pack.license},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"license",value:t})}},fallbackSrc:{get:function(){return this.pack.pack["fallback-src"]},set:function(t){""!==t.trim()?this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src",value:t}):(this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src",value:null}),this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src-sha256",value:null}))}}},methods:{collapse:function(){this.showPackContent=[]},deletePack:function(){var t=this;this.$confirm("This will delete the pack, are you sure?","Warning",{confirmButtonText:"Yes, delete the pack",cancelButtonText:"No, leave it be",type:"warning"}).then(function(){t.$store.dispatch("DeletePack",{name:t.name}).then(function(){return t.$store.dispatch("ReloadEmoji")}).then(function(){var e=t.$store.state.emojiPacks.localPacks,i=t.name,n=(e[i],G()(e,[i].map(Mt)));0===Object.keys(n).length&&t.currentLocalPacksPage>1?t.$store.dispatch("FetchLocalEmojiPacks",t.currentLocalPacksPage-1):t.$store.dispatch("FetchLocalEmojiPacks",t.currentLocalPacksPage)})}).catch(function(){})},handleChange:function(t,e){t.includes("manageEmoji")&&this.$store.dispatch("FetchLocalSinglePack",{name:e,page:1})},handleFilesPageChange:function(t){this.$store.dispatch("FetchLocalSinglePack",{name:this.name,page:t})},savePackMetadata:function(){this.$store.dispatch("SavePackMetadata",{packName:this.name})}}},Wt=(i("JNB4"),Object(g.a)(At,function(){var t=this,e=t._self._c;return e("el-collapse-item",{staticClass:"has-background",attrs:{title:t.name,name:t.name}},[e("el-form",{staticClass:"emoji-pack-metadata",attrs:{"label-width":t.labelWidth,"label-position":"left",size:"small"}},[e("el-form-item",{attrs:{label:t.$t("emoji.sharePack")}},[e("el-switch",{model:{value:t.share,callback:function(e){t.share=e},expression:"share"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.homepage")}},[e("el-input",{model:{value:t.homepage,callback:function(e){t.homepage=e},expression:"homepage"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.description")}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.license")}},[e("el-input",{model:{value:t.license,callback:function(e){t.license=e},expression:"license"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.fallbackSrc")}},[e("el-input",{model:{value:t.fallbackSrc,callback:function(e){t.fallbackSrc=e},expression:"fallbackSrc"}})],1),t._v(" "),t.fallbackSrc&&""!==t.fallbackSrc.trim()?e("el-form-item",{attrs:{label:t.$t("emoji.fallbackSrcSha")}},[t._v("\n      "+t._s(t.pack.pack["fallback-src-sha256"])+"\n    ")]):t._e()],1),t._v(" "),e("div",{staticClass:"pack-button-container"},[e("div",{staticClass:"save-pack-button-container"},[e("el-button",{staticClass:"save-pack-button",attrs:{type:"primary"},on:{click:t.savePackMetadata}},[t._v(t._s(t.$t("emoji.saveMetadata")))]),t._v(" "),e("el-button",{staticClass:"delete-pack-button",on:{click:t.deletePack}},[t._v(t._s(t.$t("emoji.deletePack")))])],1),t._v(" "),e("div",{staticClass:"download-pack-button-container"},[t.pack.pack["can-download"]?e("el-link",{attrs:{href:`//${t.host}//api/pleroma/emoji/packs/archive?name=${t.name}`,underline:!1,type:"primary",target:"_blank"}},[e("el-button",{staticClass:"download-archive"},[t._v(t._s(t.$t("emoji.downloadPackArchive")))])],1):t._e()],1)]),t._v(" "),e("el-collapse",{staticClass:"contents-collapse",on:{change:function(e){return t.handleChange(e,t.name)}},model:{value:t.showPackContent,callback:function(e){t.showPackContent=e},expression:"showPackContent"}},[t.isLocal?e("el-collapse-item",{staticClass:"no-background",attrs:{title:t.$t("emoji.addNewEmoji"),name:"addEmoji"}},[e("new-emoji-uploader",{attrs:{"pack-name":t.name}})],1):t._e(),t._v(" "),e("el-collapse-item",{staticClass:"no-background",attrs:{title:t.$t("emoji.manageEmoji"),name:"manageEmoji"}},[t.pack.files&&Object.keys(t.pack.files).length>0?e("div",[e("div",{class:t.isMobile?"emoji-container-flex":"emoji-container-grid"},[e("span",{staticClass:"emoji-preview-img emoji-table-head"},[t._v(t._s(t.$t("emoji.image")))]),t._v(" "),e("span",{staticClass:"emoji-table-head"},[t._v(t._s(t.$t("emoji.shortcode")))]),t._v(" "),e("span",{staticClass:"emoji-table-head"},[t._v(t._s(t.$t("emoji.file")))])]),t._v(" "),t._l(t.pack.files,function(i,n){return e("single-emoji-editor",{key:n,attrs:{host:t.host,"pack-name":t.name,shortcode:n,file:i,"is-local":t.isLocal}})})],2):e("span",{staticClass:"expl"},[t._v(t._s(t.$t("emoji.emptyPack")))]),t._v(" "),e("div",{staticClass:"files-pagination"},[e("el-pagination",{attrs:{total:t.localPackFilesCount,"current-page":t.currentFilesPage,"page-size":t.pageSize,"hide-on-single-page":"",layout:"prev, pager, next"},on:{"current-change":t.handleFilesPageChange}})],1)])],1)],1)},[],!1,null,null,null).exports),Gt={components:{SingleEmojiEditor:Lt},props:{activeTab:{type:String,required:!0},name:{type:String,required:!0},pack:{type:Object,required:!0},host:{type:String,required:!0},isLocal:{type:Boolean,required:!0}},data:function(){return{showPackContent:[],downloadSharedAs:""}},computed:{currentFilesPage:function(){return this.$store.state.emojiPacks.currentRemoteFilesPage},currentRemotePacksPage:function(){return this.$store.state.emojiPacks.currentRemotePacksPage},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isTablet:function(){return"tablet"===this.$store.state.app.device},labelWidth:function(){return this.isMobile?"90px":(this.isTablet,"120px")},loadRemotePack:function(){return this.activeTab===this.name},pageSize:function(){return this.$store.state.emojiPacks.filesPageSize},remoteInstanceAddress:function(){return this.$store.state.emojiPacks.remoteInstance},remotePackFilesCount:function(){return this.$store.state.emojiPacks.remotePackFilesCount},share:{get:function(){return this.pack.pack["share-files"]},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"share-files",value:t})}},homepage:{get:function(){return this.pack.pack.homepage},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"homepage",value:t})}},description:{get:function(){return this.pack.pack.description},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"description",value:t})}},license:{get:function(){return this.pack.pack.license},set:function(t){this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"license",value:t})}},fallbackSrc:{get:function(){return this.pack.pack["fallback-src"]},set:function(t){""!==t.trim()?this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src",value:t}):(this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src",value:null}),this.$store.dispatch("UpdateLocalPackVal",{name:this.name,key:"fallback-src-sha256",value:null}))}}},methods:{collapse:function(){this.showPackContent=[]},downloadFromInstance:function(){var t=this;this.$store.dispatch("DownloadFrom",{instanceAddress:this.remoteInstanceAddress,packName:this.name,as:this.downloadSharedAs}).then(function(){return t.$store.dispatch("ReloadEmoji")}).then(function(){return t.$store.dispatch("FetchLocalEmojiPacks",t.currentPage)})},handleChange:function(t,e){t.includes("manageEmoji")&&this.$store.dispatch("FetchRemoteSinglePack",{name:e,page:1})},handleFilesPageChange:function(t){this.$store.dispatch("FetchRemoteSinglePack",{name:this.name,page:t})}}};i("KNsT");function Qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Vt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Qt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Rt={name:"Emoji",components:{LocalEmojiPack:Wt,RemoteEmojiPack:Object(g.a)(Gt,function(){var t=this,e=t._self._c;return e("el-collapse-item",{staticClass:"has-background",attrs:{title:t.name,name:t.name}},[t.loadRemotePack?e("div",[e("el-form",{staticClass:"emoji-pack-metadata remote-pack-metadata",attrs:{"label-width":t.labelWidth,"label-position":"left",size:"small"}},[e("el-form-item",{attrs:{label:t.$t("emoji.sharePack")}},[e("el-switch",{attrs:{disabled:""},model:{value:t.share,callback:function(e){t.share=e},expression:"share"}})],1),t._v(" "),t.homepage?e("el-form-item",{attrs:{label:t.$t("emoji.homepage")}},[e("span",[t._v(t._s(t.homepage))])]):t._e(),t._v(" "),t.description?e("el-form-item",{attrs:{label:t.$t("emoji.description")}},[e("span",[t._v(t._s(t.description))])]):t._e(),t._v(" "),t.license?e("el-form-item",{attrs:{label:t.$t("emoji.license")}},[e("span",[t._v(t._s(t.license))])]):t._e(),t._v(" "),t.fallbackSrc?e("el-form-item",{attrs:{label:t.$t("emoji.fallbackSrc")}},[e("span",[t._v(t._s(t.fallbackSrc))])]):t._e(),t._v(" "),t.fallbackSrc&&""!==t.fallbackSrc.trim()?e("el-form-item",{attrs:{label:t.$t("emoji.fallbackSrcSha")}},[t._v("\n        "+t._s(t.pack.pack["fallback-src-sha256"])+"\n      ")]):t._e(),t._v(" "),e("el-form-item",[t.pack.pack["can-download"]&&t.pack.pack["fallback-src"]?e("el-link",{attrs:{href:t.pack.pack["fallback-src"],underline:!1,type:"primary",target:"_blank"}},[e("el-button",{staticClass:"download-archive"},[t._v(t._s(t.$t("emoji.downloadPackArchive")))])],1):t._e()],1)],1),t._v(" "),e("el-collapse",{staticClass:"contents-collapse",on:{change:function(e){return t.handleChange(e,t.name)}},model:{value:t.showPackContent,callback:function(e){t.showPackContent=e},expression:"showPackContent"}},[e("el-collapse-item",{staticClass:"no-background",attrs:{title:t.$t("emoji.manageEmoji"),name:"manageEmoji"}},[t.pack.files&&Object.keys(t.pack.files).length>0?e("div",t._l(t.pack.files,function(i,n){return e("single-emoji-editor",{key:n,attrs:{host:t.host,"pack-name":t.name,shortcode:n,file:i,"is-local":t.isLocal}})}),1):e("span",{staticClass:"expl"},[t._v(t._s(t.$t("emoji.emptyPack")))]),t._v(" "),e("div",{staticClass:"files-pagination"},[e("el-pagination",{attrs:{total:t.remotePackFilesCount,"current-page":t.currentFilesPage,"page-size":t.pageSize,"hide-on-single-page":"",layout:"prev, pager, next"},on:{"current-change":t.handleFilesPageChange}})],1)]),t._v(" "),e("el-collapse-item",{staticClass:"no-background",attrs:{title:t.$t("emoji.downloadPack"),name:"downloadPack"}},[e("p",[t._v("\n          "+t._s(t.$t("emoji.thisWillDownload"))+' "'+t._s(t.name)+'" '+t._s(t.$t("emoji.downloadToCurrentInstance"))+'\n          "'+t._s(""===t.downloadSharedAs.trim()?t.name:t.downloadSharedAs)+'" ('+t._s(t.$t("emoji.canBeChanged"))+").\n          "+t._s(t.$t("emoji.willBeUsable"))+".\n        ")]),t._v(" "),e("div",{staticClass:"download-shared-pack"},[e("el-input",{attrs:{placeholder:t.$t("emoji.downloadAsOptional")},model:{value:t.downloadSharedAs,callback:function(e){t.downloadSharedAs=e},expression:"downloadSharedAs"}}),t._v(" "),e("el-button",{staticClass:"download-shared-pack-button",attrs:{type:"primary"},on:{click:t.downloadFromInstance}},[t._v("\n            "+t._s(t.isDesktop?t.$t("emoji.downloadSharedPack"):t.$t("emoji.downloadSharedPackMobile"))+"\n          ")])],1)])],1)],1):t._e()])},[],!1,null,null,null).exports,Setting:vt},data:function(){return{activeTab:"local",newPackName:"",activeLocalPack:"",activeRemotePack:"",fullscreenLoading:!1}},computed:Vt(Vt({},Object(l.b)(["settings"])),{},{currentLocalPacksPage:function(){return this.$store.state.emojiPacks.currentLocalPacksPage},currentRemotePacksPage:function(){return this.$store.state.emojiPacks.currentRemotePacksPage},emoji:function(){return this.settings.description.find(function(t){return":emoji"===t.key})},emojiData:function(){return x.a.get(this.settings.settings,[":pleroma",":emoji"])||{}},emojiPacksDisabled:function(){return([""]||!1).includes("emoji-packs")},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"105px":this.isTablet?"180px":"200px"},loading:function(){return this.settings.loading},localPacks:function(){return this.$store.state.emojiPacks.localPacks},localPacksCount:function(){return this.$store.state.emojiPacks.localPacksCount},pageSize:function(){return this.$store.state.emojiPacks.pageSize},remoteInstanceAddress:{get:function(){return this.$store.state.emojiPacks.remoteInstance},set:function(t){this.$store.dispatch("SetRemoteInstance",t)}},remotePacks:function(){return this.$store.state.emojiPacks.remotePacks},remotePacksCount:function(){return this.$store.state.emojiPacks.remotePacksCount},searchQuery:function(){return this.$store.state.settings.searchQuery},settingsLabelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"}}),mounted:function(){if(this.$store.dispatch("GetNodeInfo"),this.$store.dispatch("NeedReboot"),this.refreshLocalPacks(),this.searchQuery.length>0){this.activeTab="settings";var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));console.log(t),t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{closeLocalTabs:function(){this.collapseExistingEmojis(),this.activeLocalPack=""},closeRemoteTabs:function(){this.collapseExistingEmojis(),this.activeRemotePack=""},collapseExistingEmojis:function(){this.$refs.localEmojiPack&&this.$refs.localEmojiPack.length>0&&this.$refs.localEmojiPack.forEach(function(t){return t.collapse()}),this.$refs.remoteEmojiPack&&this.$refs.remoteEmojiPack.length>0&&this.$refs.remoteEmojiPack.forEach(function(t){return t.collapse()})},createLocalPack:function(){var t=this;this.$store.dispatch("CreatePack",{name:this.newPackName}).then(function(){t.newPackName="",t.$store.dispatch("FetchLocalEmojiPacks",t.currentLocalPacksPage),t.$store.dispatch("ReloadEmoji")})},handleLocalPageChange:function(t){this.$store.dispatch("FetchLocalEmojiPacks",t)},handleRemotePageChange:function(t){this.$store.dispatch("SetRemoteEmojiPacks",{page:t,remoteInstance:this.remoteInstanceAddress})},importFromFS:function(){var t=this;this.$store.dispatch("ImportFromFS").then(function(){t.$store.dispatch("FetchLocalEmojiPacks",t.currentLocalPacksPage),t.$store.dispatch("ReloadEmoji")})},onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()},refreshLocalPacks:function(){try{this.$store.dispatch("FetchLocalEmojiPacks",this.currentLocalPacksPage)}catch(t){return}this.$message({type:"success",message:u.a.t("emoji.refreshed")})},refreshRemotePacks:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.fullscreenLoading=!0,e.next=3,t.$store.dispatch("SetRemoteEmojiPacks",{page:1,remoteInstance:t.remoteInstanceAddress});case 3:t.fullscreenLoading=!1;case 4:case"end":return e.stop()}},e)}))()},reloadEmoji:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t.$store.dispatch("ReloadEmoji"),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:t.$message({type:"success",message:u.a.t("emoji.reloaded")});case 8:case"end":return e.stop()}},e,null,[[0,4]])}))()}}},Nt=(i("3rGE"),Object(g.a)(Rt,function(){var t=this,e=t._self._c;return e("div",{staticClass:"emoji-packs"},[e("div",{staticClass:"emoji-header-container"},[e("div",{staticClass:"emoji-packs-header-button-container"},[e("el-button",{staticClass:"reload-emoji-button",on:{click:t.reloadEmoji}},[t._v(t._s(t.$t("emoji.reloadEmoji")))]),t._v(" "),e("el-tooltip",{attrs:{content:t.$t("emoji.importEmojiTooltip"),effects:"dark",placement:"bottom","popper-class":"import-pack-button"}},[e("el-button",{on:{click:t.importFromFS}},[t._v("\n          "+t._s(t.$t("emoji.importPacks"))+"\n        ")])],1)],1)]),t._v(" "),e("el-tabs",{staticClass:"emoji-packs-tabs",attrs:{type:"card"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t.emojiPacksDisabled?t._e():e("el-tab-pane",{attrs:{label:t.$t("emoji.localPacks"),name:"local"}},[e("el-form",{staticClass:"emoji-packs-form",attrs:{"label-width":t.labelWidth}},[e("el-form-item",{attrs:{label:t.$t("emoji.localPacks")}},[e("el-button",{on:{click:t.refreshLocalPacks}},[t._v(t._s(t.$t("emoji.refreshLocalPacks")))])],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("emoji.createLocalPack")}},[e("div",{staticClass:"create-pack"},[e("el-input",{attrs:{placeholder:t.$t("users.name")},model:{value:t.newPackName,callback:function(e){t.newPackName=e},expression:"newPackName"}}),t._v(" "),e("el-button",{staticClass:"create-pack-button",attrs:{disabled:""===t.newPackName.trim()},on:{click:t.createLocalPack}},[t._v("\n              "+t._s(t.$t("users.create"))+"\n            ")])],1),t._v(" "),e("span",{staticClass:"emoji-name-warning"},[t._v(t._s(t.$t("emoji.emojiWarning")))])]),t._v(" "),Object.keys(t.localPacks).length>0?e("el-form-item",{attrs:{label:t.$t("emoji.packs")}},t._l(t.localPacks,function(i,n){return e("el-collapse",{key:n,attrs:{accordion:""},on:{change:t.closeRemoteTabs},model:{value:t.activeLocalPack,callback:function(e){t.activeLocalPack=e},expression:"activeLocalPack"}},[e("local-emoji-pack",{ref:"localEmojiPack",refInFor:!0,attrs:{name:n,pack:i,host:t.$store.getters.authHost,"is-local":!0}})],1)}),1):t._e()],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{total:t.localPacksCount,"current-page":t.currentLocalPacksPage,"page-size":t.pageSize,"hide-on-single-page":"",layout:"prev, pager, next"},on:{"current-change":t.handleLocalPageChange}})],1)],1),t._v(" "),t.emojiPacksDisabled?t._e():e("el-tab-pane",{attrs:{label:t.$t("emoji.remotePacks"),name:"remote"}},[e("el-form",{staticClass:"emoji-packs-form",attrs:{"label-width":t.labelWidth}},[e("el-form-item",{attrs:{label:t.$t("emoji.remotePacks")}},[e("div",{staticClass:"create-pack"},[e("el-input",{attrs:{placeholder:t.$t("emoji.remoteInstanceAddress")},model:{value:t.remoteInstanceAddress,callback:function(e){t.remoteInstanceAddress=e},expression:"remoteInstanceAddress"}}),t._v(" "),e("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"create-pack-button",attrs:{disabled:""===t.remoteInstanceAddress.trim()},on:{click:t.refreshRemotePacks}},[t._v("\n              "+t._s(t.$t("emoji.refreshRemote"))+"\n            ")])],1)]),t._v(" "),Object.keys(t.remotePacks).length>0?e("el-form-item",{attrs:{label:t.$t("emoji.packs")}},t._l(t.remotePacks,function(i,n){return e("el-collapse",{key:n,attrs:{accordion:""},on:{change:t.closeLocalTabs},model:{value:t.activeRemotePack,callback:function(e){t.activeRemotePack=e},expression:"activeRemotePack"}},[e("remote-emoji-pack",{ref:"remoteEmojiPack",refInFor:!0,attrs:{"active-tab":t.activeRemotePack,name:n,pack:i,host:t.$store.getters.authHost,"is-local":!1}})],1)}),1):t._e()],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{total:t.remotePacksCount,"current-page":t.currentRemotePacksPage,"page-size":t.pageSize,"hide-on-single-page":"",layout:"prev, pager, next"},on:{"current-change":t.handleRemotePageChange}})],1)],1),t._v(" "),e("el-tab-pane",{attrs:{label:t.$t("settings.settings"),name:"settings"}},[t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.emojiData,"label-position":t.labelPosition,"label-width":t.settingsLabelWidth}},[e("setting",{attrs:{"setting-group":t.emoji,data:t.emojiData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)])],1)],1)},[],!1,null,null,null).exports);function qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function zt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Kt={name:"Esshd",components:{Setting:vt},computed:zt(zt({},Object(l.b)(["settings"])),{},{esshd:function(){return this.settings.description.find(function(t){return":esshd"===t.group})},esshdData:function(){return x.a.get(this.settings.settings,[":esshd"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{toggleEsshd:function(t){this.$store.dispatch("ToggleEsshd",t)},updateSetting:function(t,e,i){this.$store.dispatch("UpdateSettings",{tab:e,data:r()({},i,t)})},onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Bt=(i("hK8E"),Object(g.a)(Kt,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.esshdData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.esshd,data:t.esshdData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports),Ht={name:"FrontendStatusButton",props:{frontend:{type:Object,default:function(){return{}}}},data:function(){return{buttonLoading:!1}},methods:{installFrontend:function(t){var e=this;return s()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.name,e.buttonLoading=!0,i.prev=2,i.next=5,e.$store.dispatch("InstallFrontend",{name:n});case 5:i.next=11;break;case 7:return i.prev=7,i.t0=i.catch(2),e.buttonLoading=!1,i.abrupt("return");case 11:e.buttonLoading=!1,e.$message({message:u.a.t("settings.frontendSuccess"),type:"success",duration:5e3});case 13:case"end":return i.stop()}},i,null,[[2,7]])}))()}}};function Jt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Yt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Jt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Xt={name:"FrontendsTable",components:{FrontendStatusButton:Object(g.a)(Ht,function(){var t=this,e=t._self._c;return e("span",[t.buttonLoading?e("el-button",{attrs:{loading:!0,disabled:"",type:"text",size:"small"}},[t._v("\n    "+t._s(t.$t("settings.inProcess"))+"\n  ")]):t.frontend.installed?e("el-button",{attrs:{disabled:"",type:"text",size:"small"}},[t._v("\n    "+t._s(t.$t("settings.installed"))+"\n  ")]):e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.installFrontend(t.frontend)}}},[t._v("\n    "+t._s(t.$t("settings.install"))+"\n  ")])],1)},[],!1,null,null,null).exports},data:function(){return{buttonLoading:!1,frontendInputOpen:!1,frontendFormData:{name:"",ref:"",file:"",buildUrl:"",buildDir:""},rules:{name:{required:!0,message:"Please input Name",trigger:"blur"}}}},computed:Yt(Yt({},Object(l.b)(["settings"])),{},{availableFrontends:function(){return this.settings.frontends},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isTablet:function(){return"tablet"===this.$store.state.app.device}}),mounted:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("FetchFrontends");case 2:case"end":return e.stop()}},e)}))()},methods:{installNewFrontend:function(){var t=this;this.$refs.frontendFormData.validate(function(){var e=s()(c.a.mark(function e(i){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=16;break}return t.buttonLoading=!0,e.prev=2,e.next=5,t.$store.dispatch("InstallFrontend",t.frontendFormData);case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),t.buttonLoading=!1,e.abrupt("return");case 11:t.buttonLoading=!1,t.$message({message:u.a.t("settings.frontendSuccess"),type:"success",duration:5e3}),t.frontendFormData={name:"",ref:"",file:"",buildUrl:"",buildDir:""},e.next=17;break;case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}())},toggleFrontendInput:function(){this.frontendInputOpen=!this.frontendInputOpen}}};function Zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function te(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var ee={name:"Frontend",components:{FrontendsTable:Object(g.a)(Xt,function(){var t=this,e=t._self._c;return e("el-form",{staticClass:"frontend-container",attrs:{"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("el-form-item",{staticClass:"description-container"},[e("span",{staticClass:"setting-label"},[t._v(t._s(t.$t("settings.availableFrontends")))]),t._v(" "),e("span",{staticClass:"expl no-top-margin"},[e("p",[t._v(t._s(t.$t("settings.installFrontends")))])])]),t._v(" "),e("el-form-item",[e("el-table",{staticClass:"frontends-table",attrs:{data:t.availableFrontends}},[e("el-table-column",{attrs:{label:t.$t("settings.name"),prop:"name",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("settings.git"),prop:"git"}}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("settings.installed"),prop:"installed"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("frontend-status-button",{attrs:{frontend:t.row}})]}}])})],1),t._v(" "),e("div",{staticClass:"frontends-button-container"},[e("el-button",{attrs:{size:t.isDesktop?"medium":"mini",icon:t.frontendInputOpen?"el-icon-minus":"el-icon-plus",circle:""},on:{click:t.toggleFrontendInput}}),t._v(" "),e("span",{staticClass:"icons-button-desc"},[t._v(t._s(t.$t("settings.installAnotherFrontend")))])],1),t._v(" "),t.frontendInputOpen?e("el-form",{ref:"frontendFormData",attrs:{rules:t.rules,model:t.frontendFormData,"label-width":"130px"}},[e("el-form-item",{staticClass:"frontend-form-input",attrs:{label:t.$t("settings.name"),prop:"name"}},[e("el-input",{model:{value:t.frontendFormData.name,callback:function(e){t.$set(t.frontendFormData,"name",e)},expression:"frontendFormData.name"}})],1),t._v(" "),e("el-form-item",{staticClass:"frontend-form-input",attrs:{label:t.$t("settings.ref")}},[e("el-input",{model:{value:t.frontendFormData.ref,callback:function(e){t.$set(t.frontendFormData,"ref",e)},expression:"frontendFormData.ref"}})],1),t._v(" "),e("el-form-item",{staticClass:"frontend-form-input",attrs:{label:t.$t("settings.file")}},[e("el-input",{model:{value:t.frontendFormData.file,callback:function(e){t.$set(t.frontendFormData,"file",e)},expression:"frontendFormData.file"}})],1),t._v(" "),e("el-form-item",{staticClass:"frontend-form-input",attrs:{label:t.$t("settings.buildUrl")}},[e("el-input",{model:{value:t.frontendFormData.buildUrl,callback:function(e){t.$set(t.frontendFormData,"buildUrl",e)},expression:"frontendFormData.buildUrl"}})],1),t._v(" "),e("el-form-item",{staticClass:"frontend-form-input",attrs:{label:t.$t("settings.buildDir")}},[e("el-input",{model:{value:t.frontendFormData.buildDir,callback:function(e){t.$set(t.frontendFormData,"buildDir",e)},expression:"frontendFormData.buildDir"}})],1),t._v(" "),e("el-form-item",{staticClass:"install-frontend-button"},[e("el-button",{attrs:{loading:t.buttonLoading,type:"primary"},on:{click:t.installNewFrontend}},[t._v(t._s(t.$t("settings.install")))])],1)],1):t._e()],1)],1)},[],!1,null,null,null).exports,Setting:vt},computed:te(te({},Object(l.b)(["settings"])),{},{assets:function(){return this.settings.description.find(function(t){return":assets"===t.key})},assetsData:function(){return x.a.get(this.settings.settings,[":pleroma",":assets"])||{}},chat:function(){return this.settings.description.find(function(t){return":chat"===t.key})},chatData:function(){return x.a.get(this.settings.settings,[":pleroma",":chat"])||{}},frontend:function(){return this.settings.description.find(function(t){return":frontend_configurations"===t.key})},frontendData:function(){return x.a.get(this.settings.settings,[":pleroma",":frontend_configurations"])||{}},frontends:function(){return this.settings.description.find(function(t){return":frontends"===t.key})},frontendsData:function(){return x.a.get(this.settings.settings,[":pleroma",":frontends"])||{}},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},markup:function(){return this.settings.description.find(function(t){return":markup"===t.key})},markupData:function(){return x.a.get(this.settings.settings,[":pleroma",":markup"])||{}},preload:function(){return this.settings.description.find(function(t){return"Pleroma.Web.Preload"===t.key})},preloadData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.Preload"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},staticFe:function(){return this.settings.description.find(function(t){return":static_fe"===t.key})},staticFeData:function(){return x.a.get(this.settings.settings,[":pleroma",":static_fe"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},ie=(i("0FUF"),Object(g.a)(ee,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("frontends-table"),t._v(" "),t.frontend?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.frontendData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.frontend,data:t.frontendData}})],1),t._v(" "),t.frontend?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.staticFeData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.staticFe,data:t.staticFeData}})],1),t._v(" "),t.staticFe?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.frontendsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.frontends,data:t.frontendsData}})],1),t._v(" "),t.frontends?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.assetsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.assets,data:t.assetsData}})],1),t._v(" "),t.assets?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.chatData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.chat,data:t.chatData}})],1),t._v(" "),t.chat?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.markupData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.markup,data:t.markupData}})],1),t._v(" "),t.preload?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.preloadData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.preload,data:t.preloadData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function ne(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function se(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var ae={name:"Gopher",components:{Setting:vt},computed:se(se({},Object(l.b)(["settings"])),{},{gopher:function(){return this.settings.description.find(function(t){return":gopher"===t.key})},gopherData:function(){return x.a.get(this.settings.settings,[":pleroma",":gopher"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},re=(i("5B0r"),Object(g.a)(ae,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[t.loading?t._e():e("el-form",{attrs:{model:t.gopherData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.gopher,data:t.gopherData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function oe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ce(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var le={name:"HTTP",components:{Setting:vt},computed:ce(ce({},Object(l.b)(["settings"])),{},{corsPlug:function(){return this.settings.description.find(function(t){return":cors_plug"===t.group})},corsPlugData:function(){return x.a.get(this.settings.settings,[":cors_plug"])||{}},http:function(){return this.settings.description.find(function(t){return":http"===t.key})},httpData:function(){return x.a.get(this.settings.settings,[":pleroma",":http"])||{}},httpSecurity:function(){return this.settings.description.find(function(t){return":http_security"===t.key})},httpSecurityData:function(){return x.a.get(this.settings.settings,[":pleroma",":http_security"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery},webCacheTtl:function(){return this.settings.description.find(function(t){return":web_cache_ttl"===t.key})},webCacheTtlData:function(){return x.a.get(this.settings.settings,[":pleroma",":web_cache_ttl"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},ue=(i("2QFy"),Object(g.a)(le,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.httpData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.http,data:t.httpData}})],1),t._v(" "),t.http?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.corsPlugData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.corsPlug,data:t.corsPlugData}})],1),t._v(" "),t.corsPlug?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.httpSecurityData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.httpSecurity,data:t.httpSecurityData}})],1),t._v(" "),t.webCacheTtl?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.webCacheTtlData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.webCacheTtl,data:t.webCacheTtlData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function pe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function de(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pe(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var he={name:"Instance",components:{EditorInput:j,Setting:vt},data:function(){return{editorContent:""}},computed:de(de({},Object(l.b)(["settings"])),{},{adminToken:function(){return this.settings.description.find(function(t){return t.children&&":admin_token"===t.children[0].key})},adminTokenData:function(){return x.a.get(this.settings.settings,[":pleroma",":admin_token"])||{}},instancePanelContent:{get:function(){return this.$store.state.settings.instancePanel},set:function(t){this.editorContent=t}},favicons:function(){return this.settings.description.find(function(t){return":instances_favicons"===t.key})},faviconsData:function(){return x.a.get(this.settings.settings,[":pleroma",":instances_favicons"])||{}},feed:function(){return this.settings.description.find(function(t){return":feed"===t.key})},feedData:function(){return x.a.get(this.settings.settings,[":pleroma",":feed"])||{}},instance:function(){return this.settings.description.find(function(t){return":instance"===t.key})},instanceData:function(){return x.a.get(this.settings.settings,[":pleroma",":instance"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},manifest:function(){return this.settings.description.find(function(t){return":manifest"===t.key})},manifestData:function(){return x.a.get(this.settings.settings,[":pleroma",":manifest"])||{}},pleromaUser:function(){return this.settings.description.find(function(t){return"Pleroma.User"===t.key})},pleromaUserData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.User"])||{}},restrictUnauthenticated:function(){return this.settings.description.find(function(t){return":restrict_unauthenticated"===t.key})},restrictUnauthenticatedData:function(){return x.a.get(this.settings.settings,[":pleroma",":restrict_unauthenticated"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},scheduledActivity:function(){return this.$store.state.settings.description.find(function(t){return"Pleroma.ScheduledActivity"===t.key})},scheduledActivityData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.ScheduledActivity"])||{}},streamer:function(){return this.$store.state.settings.description.find(function(t){return":streamer"===t.key})},streamerData:function(){return x.a.get(this.settings.settings,[":pleroma",":streamer"])||{}},uriSchemes:function(){return this.settings.description.find(function(t){return":uri_schemes"===t.key})},uriSchemesData:function(){return x.a.get(this.settings.settings,[":pleroma",":uri_schemes"])||{}},welcome:function(){return this.settings.description.find(function(t){return":welcome"===t.key})},welcomeData:function(){return x.a.get(this.settings.settings,[":pleroma",":welcome"])||{}}}),mounted:function(){var t=this;return s()(c.a.mark(function e(){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.searchQuery.length>0&&((i=document.querySelector('[data-search="'.concat(t.searchQuery,'"]')))&&i.scrollIntoView({block:"start",behavior:"smooth"}),t.$store.dispatch("SetSearchQuery","")),e.next=3,t.$store.dispatch("FetchInstanceDocument","instance-panel");case 3:case"end":return e.stop()}},e)}))()},methods:{handleEditorUpdate:function(t){this.editorContent=t},onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:return e.next=5,t.$store.dispatch("UpdateInstanceDocs",{name:"instance-panel",content:t.editorContent.length>0?t.editorContent:t.instancePanelContent});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:t.$message({type:"success",message:u.a.t("settings.success")});case 11:case"end":return e.stop()}},e,null,[[0,7]])}))()}}},ge=(i("gZqu"),Object(g.a)(he,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.instanceData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.instance,data:t.instanceData}})],1),t._v(" "),e("editor-input",{attrs:{name:"instance-panel"},on:{input:t.handleEditorUpdate},model:{value:t.instancePanelContent,callback:function(e){t.instancePanelContent=e},expression:"instancePanelContent"}}),t._v(" "),t.instance?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.restrictUnauthenticatedData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.restrictUnauthenticated,data:t.restrictUnauthenticatedData}})],1),t._v(" "),t.restrictUnauthenticated?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.adminTokenData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.adminToken,data:t.adminTokenData}})],1),t._v(" "),t.adminToken?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.welcomeData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.welcome,data:t.welcomeData}})],1),t._v(" "),t.welcome?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.scheduledActivityData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.scheduledActivity,data:t.scheduledActivityData}})],1),t._v(" "),t.scheduledActivity?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.manifestData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.manifest,data:t.manifestData}})],1),t._v(" "),t.manifest?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.pleromaUserData,"label-position":t.labelPosition,"label-width":t.labelWidth,"data-search":"Pleroma.User"}},[e("setting",{attrs:{"setting-group":t.pleromaUser,data:t.pleromaUserData}})],1),t._v(" "),t.pleromaUser?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.faviconsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.favicons,data:t.faviconsData}})],1),t._v(" "),t.favicons?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.uriSchemesData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.uriSchemes,data:t.uriSchemesData}})],1),t._v(" "),t.uriSchemes?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.feedData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.feed,data:t.feedData}})],1),t._v(" "),t.feed?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.streamerData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.streamer,data:t.streamerData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function fe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?me(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):me(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var be={name:"JobQueue",components:{Setting:vt},computed:fe(fe({},Object(l.b)(["settings"])),{},{activityExpiration:function(){return this.settings.description.find(function(t){return"Pleroma.Workers.PurgeExpiredActivity"===t.key})},activityExpirationData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Workers.PurgeExpiredActivity"])||{}},connectionsPools:function(){return this.settings.description.find(function(t){return":connections_pool"===t.key})},connectionsPoolsData:function(){return x.a.get(this.settings.settings,[":pleroma",":connections_pool"])||{}},hackneyPools:function(){return this.settings.description.find(function(t){return":hackney_pools"===t.key})},hackneyPoolsData:function(){return x.a.get(this.settings.settings,[":pleroma",":hackney_pools"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},obanQueues:function(){return this.settings.description.find(function(t){return"Oban"===t.key})},obanQueuesData:function(){return x.a.get(this.settings.settings,[":pleroma","Oban"])||{}},pools:function(){return this.settings.description.find(function(t){return":pools"===t.key})},poolsData:function(){return x.a.get(this.settings.settings,[":pleroma",":pools"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},workers:function(){return this.settings.description.find(function(t){return":workers"===t.key})},workersData:function(){return x.a.get(this.settings.settings,[":pleroma",":workers"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},ve=(i("6Z2h"),Object(g.a)(be,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.obanQueuesData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.obanQueues,data:t.obanQueuesData}})],1),t._v(" "),t.obanQueues?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.workersData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.workers,data:t.workersData}})],1),t._v(" "),t.workers?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.activityExpirationData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.activityExpiration,data:t.activityExpirationData}})],1),t._v(" "),t.activityExpiration?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.connectionsPoolsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.connectionsPools,data:t.connectionsPoolsData}})],1),t._v(" "),t.connectionsPools?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.poolsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.pools,data:t.poolsData}})],1),t._v(" "),t.pools?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.hackneyPoolsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.hackneyPools,data:t.hackneyPoolsData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ke(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var _e={name:"LinkFormatter",components:{Setting:vt},computed:ke(ke({},Object(l.b)(["settings"])),{},{linkFormatter:function(){return this.settings.description.find(function(t){return"Pleroma.Formatter"===t.key})},linkFormatterData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Formatter"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Pe=(i("QaoI"),Object(g.a)(_e,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.linkFormatterData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.linkFormatter,data:t.linkFormatterData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Oe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function je(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var we={name:"Mailer",components:{Setting:vt},computed:je(je({},Object(l.b)(["settings"])),{},{emailNotifications:function(){return this.settings.description.find(function(t){return":email_notifications"===t.key})},emailNotificationsData:function(){return x.a.get(this.settings.settings,[":pleroma",":email_notifications"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.$store.state.settings.loading},mailer:function(){return this.settings.description.find(function(t){return"Pleroma.Emails.Mailer"===t.key})},mailerData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Emails.Mailer"])||{}},newUsersDigestEmail:function(){return this.settings.description.find(function(t){return"Pleroma.Emails.NewUsersDigestEmail"===t.key})},newUsersDigestEmailData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Emails.NewUsersDigestEmail"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},swoosh:function(){return this.settings.description.find(function(t){return":swoosh"===t.group})},swooshData:function(){return x.a.get(this.settings.settings,[":swoosh"])||{}},userEmail:function(){return this.settings.description.find(function(t){return"Pleroma.Emails.UserEmail"===t.key})},userEmailData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Emails.UserEmail"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Se=(i("9hfg"),Object(g.a)(we,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.mailerData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.mailer,data:t.mailerData}})],1),t._v(" "),t.mailer?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.swooshData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.swoosh,data:t.swooshData}})],1),t._v(" "),t.swoosh?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.emailNotificationsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.emailNotifications,data:t.emailNotificationsData}})],1),t._v(" "),t.emailNotifications?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.userEmailData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.userEmail,data:t.userEmailData}})],1),t._v(" "),t.userEmail?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.newUsersDigestEmailData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.newUsersDigestEmail,data:t.newUsersDigestEmailData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function $e(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ce(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var De={name:"MediaProxy",components:{Setting:vt},computed:Ce(Ce({},Object(l.b)(["settings"])),{},{httpInvalidation:function(){return this.settings.description.find(function(t){return"Pleroma.Web.MediaProxy.Invalidation.Http"===t.key})},httpInvalidationData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.MediaProxy.Invalidation.Http"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},mediaPreviewProxy:function(){return this.settings.description.find(function(t){return":media_preview_proxy"===t.key})},mediaPreviewProxyData:function(){return x.a.get(this.settings.settings,[":pleroma",":media_preview_proxy"])||{}},mediaProxy:function(){return this.settings.description.find(function(t){return":media_proxy"===t.key})},mediaProxyData:function(){return x.a.get(this.settings.settings,[":pleroma",":media_proxy"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},scriptInvalidation:function(){return this.settings.description.find(function(t){return"Pleroma.Web.MediaProxy.Invalidation.Script"===t.key})},scriptInvalidationData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.MediaProxy.Invalidation.Script"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},xe=(i("/VLf"),Object(g.a)(De,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[t.loading?t._e():e("el-form",{attrs:{model:t.mediaProxyData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.mediaProxy,data:t.mediaProxyData}})],1),t._v(" "),t.mediaProxy?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),t.loading?t._e():e("el-form",{attrs:{model:t.mediaPreviewProxyData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.mediaPreviewProxy,data:t.mediaPreviewProxyData}})],1),t._v(" "),t.mediaPreviewProxy?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),t.loading?t._e():e("el-form",{attrs:{model:t.httpInvalidationData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.httpInvalidation,data:t.httpInvalidationData}})],1),t._v(" "),t.httpInvalidation?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),t.loading?t._e():e("el-form",{attrs:{model:t.scriptInvalidationData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.scriptInvalidation,data:t.scriptInvalidationData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Ue(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ie(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ue(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Ee={name:"Metadata",components:{Setting:vt},computed:Ie(Ie({},Object(l.b)(["settings"])),{},{isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},metadata:function(){return this.settings.description.find(function(t){return"Pleroma.Web.Metadata"===t.key})},metadataData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.Metadata"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},richMedia:function(){return this.settings.description.find(function(t){return":rich_media"===t.key})},richMediaData:function(){return x.a.get(this.settings.settings,[":pleroma",":rich_media"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Fe=(i("ni/a"),Object(g.a)(Ee,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.metadataData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.metadata,data:t.metadataData}})],1),t._v(" "),t.metadata?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.richMediaData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.richMedia,data:t.richMediaData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Te(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Me={name:"MRF",components:{Setting:vt},computed:Te(Te({},Object(l.b)(["settings"])),{},{isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},mrfSettings:function(){return this.settings.description.filter(function(t){return"mrf"===t.tab})},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{getSettingData:function(t){return x.a.get(this.settings.settings,[t.group,t.key])||{}},onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()},showMrfPolicy:function(t){var e=x.a.get(this.settings.settings,[":pleroma",":mrf",":policies"])||[],i=this.mrfSettings.reduce(function(t,e){var i=e.key,n=e.related_policy;return":mrf"!==i&&(t[i]=n),t},{});return!Object.keys(i).includes(t)||e.includes(i[t])}}},Ae=(i("vwnL"),Object(g.a)(Me,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[t._l(t.mrfSettings,function(i){return e("div",{key:i.key},[t.showMrfPolicy(i.key)?e("el-form",{attrs:{model:t.getSettingData(i),"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":i,data:t.getSettingData(i)}}),t._v(" "),i?e("el-divider",{staticClass:"divider thick-line"}):t._e()],1):t._e()],1)}),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],2)},[],!1,null,null,null).exports);function We(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ge(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?We(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):We(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Qe={name:"Other",components:{EditorInput:j,Setting:vt},data:function(){return{termsOfServices:""}},computed:Ge(Ge({},Object(l.b)(["settings"])),{},{backup:function(){return this.settings.description.find(function(t){return"Pleroma.User.Backup"===t.key})},backupData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.User.Backup"])||{}},castAndValidate:function(){return this.settings.description.find(function(t){return"Pleroma.Web.ApiSpec.CastAndValidate"===t.key})},castAndValidateData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.ApiSpec.CastAndValidate"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},mimeTypes:function(){return this.settings.description.find(function(t){return":mime"===t.group})},mimeTypesData:function(){return x.a.get(this.settings.settings,[":mime"])||{}},modules:function(){return this.settings.description.find(function(t){return":modules"===t.key})},modulesData:function(){return x.a.get(this.settings.settings,[":pleroma",":modules"])||{}},prometheusMetrics:function(){return this.settings.description.find(function(t){return"Pleroma.Web.Endpoint.MetricsExporter"===t.key})},prometheusMetricsData:function(){return x.a.get(this.settings.settings,[":prometheus","Pleroma.Web.Endpoint.MetricsExporter"])||{}},remoteIp:function(){return this.settings.description.find(function(t){return"Pleroma.Web.Plugs.RemoteIp"===t.key})},remoteIpData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Web.Plugs.RemoteIp"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},termsOfServicesContent:{get:function(){return this.$store.state.settings.termsOfServices},set:function(t){this.termsOfServices=t}}}),mounted:function(){var t=this;return s()(c.a.mark(function e(){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.searchQuery.length>0&&((i=document.querySelector('[data-search="'.concat(t.searchQuery,'"]')))&&i.scrollIntoView({block:"start",behavior:"smooth"}),t.$store.dispatch("SetSearchQuery","")),e.next=3,t.$store.dispatch("FetchInstanceDocument","terms-of-service");case 3:case"end":return e.stop()}},e)}))()},methods:{handleEditorUpdate:function(t){this.termsOfServices=t},onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:return e.next=5,t.$store.dispatch("UpdateInstanceDocs",{name:"terms-of-service",content:t.termsOfServices.length>0?t.termsOfServices:t.termsOfServicesContent});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:t.$message({type:"success",message:u.a.t("settings.success")});case 11:case"end":return e.stop()}},e,null,[[0,7]])}))()}}},Ve=(i("Fw4Y"),Object(g.a)(Qe,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("editor-input",{attrs:{name:"terms-of-service"},on:{input:t.handleEditorUpdate},model:{value:t.termsOfServicesContent,callback:function(e){t.termsOfServicesContent=e},expression:"termsOfServicesContent"}}),t._v(" "),e("el-divider",{staticClass:"divider thick-line"}),t._v(" "),e("el-form",{attrs:{model:t.prometheusMetricsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.prometheusMetrics,data:t.prometheusMetricsData}})],1),t._v(" "),t.prometheusMetrics?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.backupData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.backup,data:t.backupData}})],1),t._v(" "),t.backup?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.mimeTypesData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.mimeTypes,data:t.mimeTypesData}})],1),t._v(" "),t.mimeTypes?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.remoteIpData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.remoteIp,data:t.remoteIpData}})],1),t._v(" "),t.remoteIpData?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.modulesData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.modules,data:t.modulesData}})],1),t._v(" "),t.castAndValidate?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.castAndValidateData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.castAndValidate,data:t.castAndValidateData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Re(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Ne(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Re(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var qe={name:"RateLimiters",components:{Setting:vt},computed:Ne(Ne({},Object(l.b)(["settings"])),{},{rateLimiters:function(){return this.settings.description.find(function(t){return":rate_limit"===t.key})},rateLimitersData:function(){return x.a.get(this.settings.settings,[":pleroma",":rate_limit"])||{}},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.$store.state.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},ze=(i("SUks"),Object(g.a)(qe,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[t.loading?t._e():e("el-form",{attrs:{model:t.rateLimitersData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.rateLimiters,data:t.rateLimitersData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Ke(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Be(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ke(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var He={name:"Upload",components:{Setting:vt},computed:Be(Be({},Object(l.b)(["settings"])),{},{isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},s3:function(){return this.settings.description.find(function(t){return":s3"===t.key})},s3Data:function(){return x.a.get(this.settings.settings,[":ex_aws",":s3"])||{}},searchQuery:function(){return this.$store.state.settings.searchQuery},showUploadersS3:function(){return"Pleroma.Uploaders.S3"===x.a.get(this.settings.settings,[":pleroma","Pleroma.Upload",":uploader"])},showUploadersLocal:function(){return"Pleroma.Uploaders.Local"===x.a.get(this.settings.settings,[":pleroma","Pleroma.Upload",":uploader"])},upload:function(){return this.settings.description.find(function(t){return"Pleroma.Upload"===t.key})},uploadData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Upload"])||{}},uploadersLocal:function(){return this.settings.description.find(function(t){return"Pleroma.Uploaders.Local"===t.key})},uploadersLocalData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Uploaders.Local"])||{}},uploadersS3:function(){return this.settings.description.find(function(t){return"Pleroma.Uploaders.S3"===t.key})},uploadersS3Data:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Uploaders.S3"])||{}},uploadFilterMogrify:function(){return this.settings.description.find(function(t){return"Pleroma.Upload.Filter.Mogrify"===t.key})},uploadFilterMogrifyData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Upload.Filter.Mogrify"])||{}},uploadAnonymizeFilename:function(){return this.settings.description.find(function(t){return"Pleroma.Upload.Filter.AnonymizeFilename"===t.key})},uploadAnonymizeFilenameData:function(){return x.a.get(this.settings.settings,[":pleroma","Pleroma.Upload.Filter.AnonymizeFilename"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},Je=(i("4lEF"),Object(g.a)(He,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[e("el-form",{attrs:{model:t.uploadData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.upload,data:t.uploadData}})],1),t._v(" "),t.upload?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),t.showUploadersLocal?e("el-form",{attrs:{model:t.uploadersLocalData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.uploadersLocal,data:t.uploadersLocalData}}),t._v(" "),t.uploadersLocal?e("el-divider",{staticClass:"divider thick-line"}):t._e()],1):t._e(),t._v(" "),t.showUploadersS3?e("el-form",{attrs:{model:t.s3Data,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.s3,data:t.s3Data}}),t._v(" "),t.s3?e("el-divider",{staticClass:"divider thick-line"}):t._e()],1):t._e(),t._v(" "),t.showUploadersS3?e("el-form",{attrs:{model:t.uploadersS3Data,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.uploadersS3,data:t.uploadersS3Data}}),t._v(" "),t.uploadersS3?e("el-divider",{staticClass:"divider thick-line"}):t._e()],1):t._e(),t._v(" "),e("el-form",{attrs:{model:t.uploadFilterMogrifyData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.uploadFilterMogrify,data:t.uploadFilterMogrifyData}})],1),t._v(" "),t.uploadFilterMogrify?e("el-divider",{staticClass:"divider thick-line"}):t._e(),t._v(" "),e("el-form",{attrs:{model:t.uploadAnonymizeFilenameData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.uploadAnonymizeFilename,data:t.uploadAnonymizeFilenameData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports);function Ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Xe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(i),!0).forEach(function(e){r()(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ye(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Ze={name:"WebPush",components:{Setting:vt},computed:Xe(Xe({},Object(l.b)(["settings"])),{},{isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"sidebar-opened":"sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},labelPosition:function(){return this.isMobile?"top":"right"},labelWidth:function(){return this.isMobile?"120px":this.isTablet?"200px":"280px"},loading:function(){return this.settings.loading},searchQuery:function(){return this.$store.state.settings.searchQuery},vapidDetails:function(){return this.settings.description.find(function(t){return":vapid_details"===t.key})},vapidDetailsData:function(){return x.a.get(this.settings.settings,[":web_push_encryption",":vapid_details"])||{}}}),mounted:function(){if(this.searchQuery.length>0){var t=document.querySelector('[data-search="'.concat(this.searchQuery,'"]'));t&&t.scrollIntoView({block:"start",behavior:"smooth"}),this.$store.dispatch("SetSearchQuery","")}},methods:{onSubmit:function(){var t=this;return s()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("SubmitChanges");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:u.a.t("settings.success")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},ti=(i("mV2y"),Object(g.a)(Ze,function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"form-container",class:t.isSidebarOpen},[t.loading?t._e():e("el-form",{attrs:{model:t.vapidDetailsData,"label-position":t.labelPosition,"label-width":t.labelWidth}},[e("setting",{attrs:{"setting-group":t.vapidDetails,data:t.vapidDetailsData}})],1),t._v(" "),e("div",{staticClass:"submit-button-container"},[e("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("settings.submit")))])],1)],1)},[],!1,null,null,null).exports),ei={components:{ActivityPub:Pt,Authentication:St,Captcha:xt,Emoji:Nt,Esshd:Bt,Frontend:ie,Gopher:re,Http:ue,Instance:ge,JobQueue:ve,LinkFormatter:Pe,Mailer:Se,MediaProxy:xe,Metadata:Fe,Mrf:Ae,Other:Ve,RateLimiters:ze,RebootButton:i("rIUS").a,Upload:Je,WebPush:ti},data:function(){return{searchQuery:""}},computed:{componentName:function(){return this.$route.path.split("/settings/").pop()},configDisabled:function(){return this.$store.state.settings.configDisabled},isDesktop:function(){return"desktop"===this.$store.state.app.device},isMobile:function(){return"mobile"===this.$store.state.app.device},isSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"header-sidebar-opened":"header-sidebar-closed"},isTablet:function(){return"tablet"===this.$store.state.app.device},rebootIsSidebarOpen:function(){return this.$store.state.app.sidebar.opened?"reboot-sidebar-opened":"reboot-sidebar-closed"},searchData:function(){return this.$store.state.settings.searchData},tabs:function(){return function(t){return{"activity-pub":{label:"settings.activityPub",settings:[":activitypub",":user"]},authentication:{label:"settings.auth",settings:[":auth",":ldap",":oauth2","Pleroma.Web.Auth.Authenticator"]},esshd:{label:"settings.esshd",settings:[":esshd"]},captcha:{label:"settings.captcha",settings:["Pleroma.Captcha","Pleroma.Captcha.Kocaptcha"]},emoji:{label:"settings.emoji",settings:[":emoji"]},frontend:{label:"settings.frontend",settings:[":assets",":chat",":frontends",":emoji",":frontend_configurations",":markup",":static_fe","Pleroma.Web.Preload"]},gopher:{label:"settings.gopher",settings:[":gopher"]},http:{label:"settings.http",settings:[":cors_plug",":http",":http_security",":web_cache_ttl"]},instance:{label:"settings.instance",settings:[":admin_token",":instance",":instance_panel",":instances_favicons",":welcome",":manifest","Pleroma.User","Pleroma.ScheduledActivity",":uri_schemes",":feed",":streamer",":restrict_unauthenticated"]},"job-queue":{label:"settings.jobQueue",settings:["Pleroma.Workers.PurgeExpiredActivity",":connections_pool",":hackney_pools","Oban",":pools",":workers"]},"link-formatter":{label:"settings.linkFormatter",settings:["Pleroma.Formatter"]},mailer:{label:"settings.mailer",settings:[":email_notifications","Pleroma.Emails.Mailer","Pleroma.Emails.UserEmail",":swoosh","Pleroma.Emails.NewUsersDigestEmail"]},"media-proxy":{label:"settings.mediaProxy",settings:[":media_proxy",":media_preview_proxy","Pleroma.Web.MediaProxy.Invalidation.Http","Pleroma.Web.MediaProxy.Invalidation.Script"]},metadata:{label:"settings.metadata",settings:["Pleroma.Web.Metadata",":rich_media"]},mrf:{label:"settings.mrf",settings:t.filter(function(t){return"mrf"===t.tab}).map(function(t){return t.key})},"rate-limiters":{label:"settings.rateLimiters",settings:[":rate_limit"]},"web-push":{label:"settings.webPush",settings:[":vapid_details"]},upload:{label:"settings.upload",settings:["Pleroma.Upload.Filter.AnonymizeFilename","Pleroma.Upload.Filter.Mogrify","Pleroma.Uploaders.S3","Pleroma.Uploaders.Local","Pleroma.Upload",":s3"]},other:{label:"settings.other",settings:[":mime","Pleroma.User.Backup","Pleroma.Web.Plugs.RemoteIp","Pleroma.Web.Endpoint.MetricsExporter",":modules","Pleroma.Web.ApiSpec.CastAndValidate",":terms_of_services"]}}}(this.$store.state.settings.description)}},mounted:function(){this.$store.dispatch("GetNodeInfo"),this.$store.dispatch("NeedReboot"),this.$store.dispatch("FetchSettings")},methods:{handleSearchSelect:function(t){var e=this;this.$store.dispatch("SetSearchQuery",t.key);var i=Object.keys(this.tabs).find(function(i){return e.tabs[i].settings.includes(":pleroma"===t.group?t.key:t.group)});this.$router.currentRoute.path==="/settings/".concat(i)?this.scrollTo(t.key):i&&this.$router.push({path:"/settings/".concat(i)})},scrollTo:function(t){var e=document.querySelector('[data-search="'.concat(t,'"]'));e&&e.scrollIntoView({block:"start",behavior:"smooth"})},querySearch:function(t,e){e(this.searchData.filter(function(e){return e.search.find(function(e){return e.includes(t.toLowerCase())})}).map(function(t){return{value:"".concat(t.label," in ").concat(t.groupLabel),group:t.groupKey,key:t.key}}))},settingsCantBeChanged:function(t){var e=this;return 0===t.filter(function(t){return[":esshd",":cors_plug",":swoosh",":mime"].includes(t)?-1!==e.$store.state.settings.description.findIndex(function(e){return e.group===t}):"Pleroma.Web.Auth.Authenticator"===t||":admin_token"===t?-1!==e.$store.state.settings.description.findIndex(function(e){return e.children[0].key===t}):-1!==e.$store.state.settings.description.findIndex(function(e){return e.key===t})}).length}}},ii=(i("ti6s"),Object(g.a)(ei,function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-container",class:t.rebootIsSidebarOpen},[e("div",{staticClass:"reboot-button-container"},[e("reboot-button")],1),t._v(" "),t.isDesktop?e("div",[e("div",{class:t.isSidebarOpen},[e("h1",{staticClass:"settings-header"},[t._v(t._s(t.$t("settings.settings")))]),t._v(" "),e("div",{staticClass:"docs-search-container"},[e("el-link",{attrs:{underline:!1,href:"https://docs-develop.pleroma.social/backend/administration/CLI_tasks/config/",target:"_blank"}},[e("el-button",{staticClass:"settings-docs-button"},[e("span",[e("i",{staticClass:"el-icon-document"}),t._v("\n              "+t._s(t.$t("settings.seeDocs"))+"\n            ")])])],1),t._v(" "),e("el-autocomplete",{staticClass:"settings-search-input",attrs:{"fetch-suggestions":t.querySearch,"trigger-on-focus":!1,clearable:"",placeholder:"Search","prefix-icon":"el-icon-search"},on:{select:t.handleSearchSelect},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)]),t._v(" "),e(t.componentName,{tag:"component"})],1):t._e(),t._v(" "),t.isMobile||t.isTablet?e("div",[e("div",{staticClass:"settings-header-container",class:t.isSidebarOpen},[e("h1",{staticClass:"settings-header"},[t._v(t._s(t.$t("settings.settings")))]),t._v(" "),e("el-link",{attrs:{underline:!1,href:"https://docs-develop.pleroma.social/backend/administration/CLI_tasks/config/",target:"_blank"}},[e("el-button",{staticClass:"settings-docs-button"},[e("span",[e("i",{staticClass:"el-icon-document"}),t._v("\n            "+t._s(t.$t("settings.seeDocs"))+"\n          ")])])],1)],1),t._v(" "),e("div",{staticClass:"settings-search-container"},[e("el-autocomplete",{staticClass:"settings-search-input",attrs:{"fetch-suggestions":t.querySearch,"trigger-on-focus":!1,clearable:"",placeholder:"Search","prefix-icon":"el-icon-search"},on:{select:t.handleSearchSelect},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),t._v(" "),e(t.componentName,{tag:"component"})],1):t._e()])},[],!1,null,"21236dc2",null));e.default=ii.exports},Zvcp:function(t,e,i){},aMP3:function(t,e,i){"use strict";i("kg70")},b1as:function(t,e,i){"use strict";i("4rlt")},bjba:function(t,e,i){},fyCx:function(t,e,i){},gZqu:function(t,e,i){"use strict";i("7B4i")},hK8E:function(t,e,i){"use strict";i("UxyB")},iUJL:function(t,e,i){},"jh4+":function(t,e,i){},kg70:function(t,e,i){},mV2y:function(t,e,i){"use strict";i("bjba")},"mg/5":function(t,e,i){},"n+P5":function(t,e,i){"use strict";i("0B3k")},"n+vY":function(t,e,i){"use strict";i("873I")},"nNQ+":function(t,e,i){},"ni/a":function(t,e,i){"use strict";i("Kqvt")},nsFV:function(t,e,i){},nyBl:function(t,e,i){},pAen:function(t,e,i){"use strict";i("Nsmb")},pQCB:function(t,e,i){"use strict";i("PKpp")},przZ:function(t,e,i){"use strict";i("r3T3")},qaTi:function(t,e,i){},qml7:function(t,e,i){"use strict";i("WHNo")},qweC:function(t,e,i){},r3T3:function(t,e,i){},rIUS:function(t,e,i){"use strict";var n=i("yXPU"),s=i.n(n),a=i("o0o1"),r=i.n(a),o=i("mSNy"),c={name:"RebootButton",computed:{needReboot:function(){return this.$store.state.app.needReboot}},methods:{restartApp:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("RestartApplication");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.$message({type:"success",message:o.a.t("settings.restartSuccess")});case 9:case"end":return e.stop()}},e,null,[[0,5]])}))()}}},l=i("KHd+"),u=Object(l.a)(c,function(){var t=this._self._c;return this.needReboot?t("el-tooltip",{attrs:{content:this.$t("settings.restartApp"),placement:"bottom-end"}},[t("el-button",{staticClass:"reboot-button",attrs:{type:"warning"},on:{click:this.restartApp}},[t("span",[t("i",{staticClass:"el-icon-refresh"}),this._v("\n      "+this._s(this.$t("settings.instanceReboot"))+"\n    ")])])],1):this._e()},[],!1,null,null,null);e.a=u.exports},szCD:function(t,e,i){},ti6s:function(t,e,i){"use strict";i("iUJL")},uIOa:function(t,e,i){},vJtI:function(t,e,i){"use strict";i("JboU")},vrmT:function(t,e,i){},vwnL:function(t,e,i){"use strict";i("nyBl")},"x/Zw":function(t,e,i){},zwIX:function(t,e,i){}}]);
//# sourceMappingURL=chunk-6816.32dc5cb7.js.map