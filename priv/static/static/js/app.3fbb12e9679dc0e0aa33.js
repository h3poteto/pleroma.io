(()=>{var e,t,n,o,r,i={88797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={about:{mrf:{federation:e=>{const{normalize:t}=e;return t(["Federation"])},keyword:{keyword_policies:e=>{const{normalize:t}=e;return t(["Keyword policies"])},ftl_removal:e=>{const{normalize:t}=e;return t(['Removal from "The Whole Known Network" Timeline'])},reject:e=>{const{normalize:t}=e;return t(["Reject"])},replace:e=>{const{normalize:t}=e;return t(["Replace"])},is_replaced_by:e=>{const{normalize:t}=e;return t(["→"])}},mrf_policies:e=>{const{normalize:t}=e;return t(["Enabled MRF policies"])},mrf_policies_desc:e=>{const{normalize:t}=e;return t(["MRF policies manipulate the federation behaviour of the instance.  The following policies are enabled:"])},simple:{simple_policies:e=>{const{normalize:t}=e;return t(["Instance-specific policies"])},instance:e=>{const{normalize:t}=e;return t(["Instance"])},reason:e=>{const{normalize:t}=e;return t(["Reason"])},not_applicable:e=>{const{normalize:t}=e;return t(["N/A"])},accept:e=>{const{normalize:t}=e;return t(["Accept"])},accept_desc:e=>{const{normalize:t}=e;return t(["This instance only accepts messages from the following instances:"])},reject:e=>{const{normalize:t}=e;return t(["Reject"])},reject_desc:e=>{const{normalize:t}=e;return t(["This instance will not accept messages from the following instances:"])},quarantine:e=>{const{normalize:t}=e;return t(["Quarantine"])},quarantine_desc:e=>{const{normalize:t}=e;return t(["This instance will send only public posts to the following instances:"])},ftl_removal:e=>{const{normalize:t}=e;return t(['Removal from "Known Network" Timeline'])},ftl_removal_desc:e=>{const{normalize:t}=e;return t(['This instance removes these instances from "Known Network" timeline:'])},media_removal:e=>{const{normalize:t}=e;return t(["Media Removal"])},media_removal_desc:e=>{const{normalize:t}=e;return t(["This instance removes media from posts on the following instances:"])},media_nsfw:e=>{const{normalize:t}=e;return t(["Media force-set as sensitive"])},media_nsfw_desc:e=>{const{normalize:t}=e;return t(["This instance forces media to be set sensitive in posts on the following instances:"])}}},staff:e=>{const{normalize:t}=e;return t(["Staff"])}},announcements:{page_header:e=>{const{normalize:t}=e;return t(["Announcements"])},title:e=>{const{normalize:t}=e;return t(["Announcement"])},mark_as_read_action:e=>{const{normalize:t}=e;return t(["Mark as read"])},post_form_header:e=>{const{normalize:t}=e;return t(["Post announcement"])},post_placeholder:e=>{const{normalize:t}=e;return t(["Type your announcement content here..."])},post_action:e=>{const{normalize:t}=e;return t(["Post"])},post_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error: ",n(o("error"))])},close_error:e=>{const{normalize:t}=e;return t(["Close"])},delete_action:e=>{const{normalize:t}=e;return t(["Delete"])},start_time_prompt:e=>{const{normalize:t}=e;return t(["Start time: "])},end_time_prompt:e=>{const{normalize:t}=e;return t(["End time: "])},all_day_prompt:e=>{const{normalize:t}=e;return t(["This is an all-day event"])},published_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Published at ",n(o("time"))])},start_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Starts at ",n(o("time"))])},end_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Ends at ",n(o("time"))])},edit_action:e=>{const{normalize:t}=e;return t(["Edit"])},submit_edit_action:e=>{const{normalize:t}=e;return t(["Submit"])},cancel_edit_action:e=>{const{normalize:t}=e;return t(["Cancel"])},inactive_message:e=>{const{normalize:t}=e;return t(["This announcement is inactive"])}},shoutbox:{title:e=>{const{normalize:t}=e;return t(["Shoutbox"])}},domain_mute_card:{mute:e=>{const{normalize:t}=e;return t(["Mute"])},mute_progress:e=>{const{normalize:t}=e;return t(["Muting…"])},unmute:e=>{const{normalize:t}=e;return t(["Unmute"])},unmute_progress:e=>{const{normalize:t}=e;return t(["Unmuting…"])}},exporter:{export:e=>{const{normalize:t}=e;return t(["Export"])},processing:e=>{const{normalize:t}=e;return t(["Processing, you'll soon be asked to download your file"])}},features_panel:{shout:e=>{const{normalize:t}=e;return t(["Shoutbox"])},pleroma_chat_messages:e=>{const{normalize:t}=e;return t(["Pleroma Chat"])},gopher:e=>{const{normalize:t}=e;return t(["Gopher"])},media_proxy:e=>{const{normalize:t}=e;return t(["Media proxy"])},scope_options:e=>{const{normalize:t}=e;return t(["Scope options"])},text_limit:e=>{const{normalize:t}=e;return t(["Text limit"])},title:e=>{const{normalize:t}=e;return t(["Features"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])},upload_limit:e=>{const{normalize:t}=e;return t(["Upload limit"])}},finder:{error_fetching_user:e=>{const{normalize:t}=e;return t(["Error fetching user"])},find_user:e=>{const{normalize:t}=e;return t(["Find user"])}},general:{apply:e=>{const{normalize:t}=e;return t(["Apply"])},submit:e=>{const{normalize:t}=e;return t(["Submit"])},more:e=>{const{normalize:t}=e;return t(["More"])},loading:e=>{const{normalize:t}=e;return t(["Loading…"])},generic_error:e=>{const{normalize:t}=e;return t(["An error occured"])},generic_error_message:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["An error occured: ",n(o(0))])},error_retry:e=>{const{normalize:t}=e;return t(["Please try again"])},retry:e=>{const{normalize:t}=e;return t(["Try again"])},optional:e=>{const{normalize:t}=e;return t(["optional"])},show_more:e=>{const{normalize:t}=e;return t(["Show more"])},show_less:e=>{const{normalize:t}=e;return t(["Show less"])},never_show_again:e=>{const{normalize:t}=e;return t(["Never show again"])},dismiss:e=>{const{normalize:t}=e;return t(["Dismiss"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])},disable:e=>{const{normalize:t}=e;return t(["Disable"])},enable:e=>{const{normalize:t}=e;return t(["Enable"])},confirm:e=>{const{normalize:t}=e;return t(["Confirm"])},verify:e=>{const{normalize:t}=e;return t(["Verify"])},close:e=>{const{normalize:t}=e;return t(["Close"])},undo:e=>{const{normalize:t}=e;return t(["Undo"])},yes:e=>{const{normalize:t}=e;return t(["Yes"])},no:e=>{const{normalize:t}=e;return t(["No"])},peek:e=>{const{normalize:t}=e;return t(["Peek"])},scroll_to_top:e=>{const{normalize:t}=e;return t(["Scroll to top"])},role:{admin:e=>{const{normalize:t}=e;return t(["Admin"])},moderator:e=>{const{normalize:t}=e;return t(["Moderator"])}},unpin:e=>{const{normalize:t}=e;return t(["Unpin item"])},pin:e=>{const{normalize:t}=e;return t(["Pin item"])},flash_content:e=>{const{normalize:t}=e;return t(["Click to show Flash content using Ruffle (Experimental, may not work)."])},flash_security:e=>{const{normalize:t}=e;return t(["Note that this can be potentially dangerous since Flash content is still arbitrary code."])},flash_fail:e=>{const{normalize:t}=e;return t(["Failed to load flash content, see console for details."])},scope_in_timeline:{direct:e=>{const{normalize:t}=e;return t(["Direct"])},private:e=>{const{normalize:t}=e;return t(["Followers-only"])},public:e=>{const{normalize:t}=e;return t(["Public"])},unlisted:e=>{const{normalize:t}=e;return t(["Unlisted"])}}},image_cropper:{crop_picture:e=>{const{normalize:t}=e;return t(["Crop picture"])},save:e=>{const{normalize:t}=e;return t(["Save"])},save_without_cropping:e=>{const{normalize:t}=e;return t(["Save without cropping"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])}},importer:{submit:e=>{const{normalize:t}=e;return t(["Submit"])},success:e=>{const{normalize:t}=e;return t(["Imported successfully."])},error:e=>{const{normalize:t}=e;return t(["An error occured while importing this file."])}},login:{login:e=>{const{normalize:t}=e;return t(["Log in"])},description:e=>{const{normalize:t}=e;return t(["Log in with OAuth"])},logout:e=>{const{normalize:t}=e;return t(["Log out"])},logout_confirm_title:e=>{const{normalize:t}=e;return t(["Logout confirmation"])},logout_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to logout?"])},logout_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Logout"])},logout_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not logout"])},password:e=>{const{normalize:t}=e;return t(["Password"])},placeholder:e=>{const{normalize:t}=e;return t(["e.g. lain"])},register:e=>{const{normalize:t}=e;return t(["Register"])},username:e=>{const{normalize:t}=e;return t(["Username"])},hint:e=>{const{normalize:t}=e;return t(["Log in to join the discussion"])},authentication_code:e=>{const{normalize:t}=e;return t(["Authentication code"])},enter_recovery_code:e=>{const{normalize:t}=e;return t(["Enter a recovery code"])},enter_two_factor_code:e=>{const{normalize:t}=e;return t(["Enter a two-factor code"])},recovery_code:e=>{const{normalize:t}=e;return t(["Recovery code"])},heading:{totp:e=>{const{normalize:t}=e;return t(["Two-factor authentication"])},recovery:e=>{const{normalize:t}=e;return t(["Two-factor recovery"])}}},media_modal:{previous:e=>{const{normalize:t}=e;return t(["Previous"])},next:e=>{const{normalize:t}=e;return t(["Next"])},counter:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("current"))," / ",n(o("total"))])},hide:e=>{const{normalize:t}=e;return t(["Close media viewer"])}},nav:{about:e=>{const{normalize:t}=e;return t(["About"])},administration:e=>{const{normalize:t}=e;return t(["Administration"])},back:e=>{const{normalize:t}=e;return t(["Back"])},friend_requests:e=>{const{normalize:t}=e;return t(["Follow requests"])},mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},interactions:e=>{const{normalize:t}=e;return t(["Interactions"])},dms:e=>{const{normalize:t}=e;return t(["Direct messages"])},public_tl:e=>{const{normalize:t}=e;return t(["Public timeline"])},timeline:e=>{const{normalize:t}=e;return t(["Timeline"])},home_timeline:e=>{const{normalize:t}=e;return t(["Home timeline"])},twkn:e=>{const{normalize:t}=e;return t(["Known Network"])},bookmarks:e=>{const{normalize:t}=e;return t(["Bookmarks"])},user_search:e=>{const{normalize:t}=e;return t(["User Search"])},search:e=>{const{normalize:t}=e;return t(["Search"])},search_close:e=>{const{normalize:t}=e;return t(["Close search bar"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])},preferences:e=>{const{normalize:t}=e;return t(["Preferences"])},timelines:e=>{const{normalize:t}=e;return t(["Timelines"])},chats:e=>{const{normalize:t}=e;return t(["Chats"])},lists:e=>{const{normalize:t}=e;return t(["Lists"])},edit_nav_mobile:e=>{const{normalize:t}=e;return t(["Customize navigation bar"])},edit_pinned:e=>{const{normalize:t}=e;return t(["Edit pinned items"])},edit_finish:e=>{const{normalize:t}=e;return t(["Done editing"])},mobile_sidebar:e=>{const{normalize:t}=e;return t(["Toggle mobile sidebar"])},mobile_notifications:e=>{const{normalize:t}=e;return t(["Open notifications (there are unread ones)"])},mobile_notifications_close:e=>{const{normalize:t}=e;return t(["Close notifications"])},mobile_notifications_mark_as_seen:e=>{const{normalize:t}=e;return t(["Mark all as seen"])},announcements:e=>{const{normalize:t}=e;return t(["Announcements"])},quotes:e=>{const{normalize:t}=e;return t(["Quotes"])}},notifications:{broken_favorite:e=>{const{normalize:t}=e;return t(["Unknown status, searching for it…"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error fetching notifications: ",n(o(0))])},favorited_you:e=>{const{normalize:t}=e;return t(["favorited your status"])},followed_you:e=>{const{normalize:t}=e;return t(["followed you"])},follow_request:e=>{const{normalize:t}=e;return t(["wants to follow you"])},load_older:e=>{const{normalize:t}=e;return t(["Load older notifications"])},notifications:e=>{const{normalize:t}=e;return t(["Notifications"])},read:e=>{const{normalize:t}=e;return t(["Read!"])},repeated_you:e=>{const{normalize:t}=e;return t(["repeated your status"])},no_more_notifications:e=>{const{normalize:t}=e;return t(["No more notifications"])},migrated_to:e=>{const{normalize:t}=e;return t(["migrated to"])},reacted_with:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["reacted with ",n(o(0))])},submitted_report:e=>{const{normalize:t}=e;return t(["submitted a report"])},poll_ended:e=>{const{normalize:t}=e;return t(["poll has ended"])},unread_announcements:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("num"))," unread announcement"]),t([n(o("num"))," unread announcements"])])},unread_chats:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("num"))," unread chat"]),t([n(o("num"))," unread chats"])])},unread_follow_requests:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("num"))," new follow request"]),t([n(o("num"))," new follow requests"])])},configuration_tip:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["You can customize what to display here in ",n(o("theSettings")),". ",n(o("dismiss"))])},configuration_tip_settings:e=>{const{normalize:t}=e;return t(["the settings"])},configuration_tip_dismiss:e=>{const{normalize:t}=e;return t(["Do not show again"])},subscribed_status:e=>{const{normalize:t}=e;return t(["posted"])}},polls:{add_poll:e=>{const{normalize:t}=e;return t(["Add poll"])},add_option:e=>{const{normalize:t}=e;return t(["Add option"])},option:e=>{const{normalize:t}=e;return t(["Option"])},votes:e=>{const{normalize:t}=e;return t(["votes"])},people_voted_count:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("count"))," person voted"]),t([n(o("count"))," people voted"])])},votes_count:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("count"))," vote"]),t([n(o("count"))," votes"])])},vote:e=>{const{normalize:t}=e;return t(["Vote"])},type:e=>{const{normalize:t}=e;return t(["Poll type"])},single_choice:e=>{const{normalize:t}=e;return t(["Single choice"])},multiple_choices:e=>{const{normalize:t}=e;return t(["Multiple choices"])},expiry:e=>{const{normalize:t}=e;return t(["Poll age"])},expires_in:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Poll ends in ",n(o(0))])},expired:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Poll ended ",n(o(0))," ago"])},not_enough_options:e=>{const{normalize:t}=e;return t(["Too few unique options in poll"])}},emoji:{stickers:e=>{const{normalize:t}=e;return t(["Stickers"])},emoji:e=>{const{normalize:t}=e;return t(["Emoji"])},keep_open:e=>{const{normalize:t}=e;return t(["Keep picker open"])},search_emoji:e=>{const{normalize:t}=e;return t(["Search for an emoji"])},add_emoji:e=>{const{normalize:t}=e;return t(["Insert emoji"])},custom:e=>{const{normalize:t}=e;return t(["Custom emoji"])},hide_custom_emoji:e=>{const{normalize:t}=e;return t(["Hide custom emojis"])},unpacked:e=>{const{normalize:t}=e;return t(["Unpacked emoji"])},unicode:e=>{const{normalize:t}=e;return t(["Unicode emoji"])},unicode_groups:{activities:e=>{const{normalize:t}=e;return t(["Activities"])},"animals-and-nature":e=>{const{normalize:t}=e;return t(["Animals & Nature"])},flags:e=>{const{normalize:t}=e;return t(["Flags"])},"food-and-drink":e=>{const{normalize:t}=e;return t(["Food & Drink"])},objects:e=>{const{normalize:t}=e;return t(["Objects"])},"people-and-body":e=>{const{normalize:t}=e;return t(["People & Body"])},"smileys-and-emotion":e=>{const{normalize:t}=e;return t(["Smileys & Emotion"])},symbols:e=>{const{normalize:t}=e;return t(["Symbols"])},"travel-and-places":e=>{const{normalize:t}=e;return t(["Travel & Places"])}},load_all_hint:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Loaded first ",n(o("saneAmount"))," emoji, loading all emoji may cause performance issues."])},load_all:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Loading all ",n(o("emojiAmount"))," emoji"])},regional_indicator:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Regional indicator ",n(o("letter"))])}},errors:{storage_unavailable:e=>{const{normalize:t}=e;return t(["Pleroma could not access browser storage. Your login or your local settings won't be saved and you might encounter unexpected issues. Try enabling cookies."])}},interactions:{favs_repeats:e=>{const{normalize:t}=e;return t(["Repeats and favorites"])},follows:e=>{const{normalize:t}=e;return t(["New follows"])},emoji_reactions:e=>{const{normalize:t}=e;return t(["Emoji Reactions"])},reports:e=>{const{normalize:t}=e;return t(["Reports"])},moves:e=>{const{normalize:t}=e;return t(["User migrates"])},load_older:e=>{const{normalize:t}=e;return t(["Load older interactions"])},statuses:e=>{const{normalize:t}=e;return t(["Subscriptions"])}},post_status:{edit_status:e=>{const{normalize:t}=e;return t(["Edit status"])},new_status:e=>{const{normalize:t}=e;return t(["Post new status"])},reply_option:e=>{const{normalize:t}=e;return t(["Reply to this status"])},quote_option:e=>{const{normalize:t}=e;return t(["Quote this status"])},account_not_locked_warning:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Your account is not ",n(o(0)),". Anyone can follow you to view your follower-only posts."])},account_not_locked_warning_link:e=>{const{normalize:t}=e;return t(["locked"])},attachments_sensitive:e=>{const{normalize:t}=e;return t(["Mark attachments as sensitive"])},media_description:e=>{const{normalize:t}=e;return t(["Media description"])},content_type:{"text/plain":e=>{const{normalize:t}=e;return t(["Plain text"])},"text/html":e=>{const{normalize:t}=e;return t(["HTML"])},"text/markdown":e=>{const{normalize:t}=e;return t(["Markdown"])},"text/bbcode":e=>{const{normalize:t}=e;return t(["BBCode"])}},content_type_selection:e=>{const{normalize:t}=e;return t(["Post format"])},content_warning:e=>{const{normalize:t}=e;return t(["Subject (optional)"])},default:e=>{const{normalize:t}=e;return t(["Just landed in L.A."])},direct_warning_to_all:e=>{const{normalize:t}=e;return t(["This post will be visible to all the mentioned users."])},direct_warning_to_first_only:e=>{const{normalize:t}=e;return t(["This post will only be visible to the mentioned users at the beginning of the message."])},edit_remote_warning:e=>{const{normalize:t}=e;return t(["Other remote instances may not support editing and unable to receive the latest version of your post."])},edit_unsupported_warning:e=>{const{normalize:t}=e;return t(["Pleroma does not support editing mentions or polls."])},posting:e=>{const{normalize:t}=e;return t(["Posting"])},post:e=>{const{normalize:t}=e;return t(["Post"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},preview_empty:e=>{const{normalize:t}=e;return t(["Empty"])},empty_status_error:e=>{const{normalize:t}=e;return t(["Can't post an empty status with no files"])},media_description_error:e=>{const{normalize:t}=e;return t(["Failed to update media, try again"])},scope_notice:{public:e=>{const{normalize:t}=e;return t(["This post will be visible to everyone"])},private:e=>{const{normalize:t}=e;return t(["This post will be visible to your followers only"])},unlisted:e=>{const{normalize:t}=e;return t(["This post will not be visible in Public Timeline and The Whole Known Network"])}},scope_notice_dismiss:e=>{const{normalize:t}=e;return t(["Close this notice"])},scope:{direct:e=>{const{normalize:t}=e;return t(["Direct - post to mentioned users only"])},private:e=>{const{normalize:t}=e;return t(["Followers-only - post to followers only"])},public:e=>{const{normalize:t}=e;return t(["Public - post to public timelines"])},unlisted:e=>{const{normalize:t}=e;return t(["Unlisted - do not post to public timelines"])}}},registration:{bio_optional:e=>{const{normalize:t}=e;return t(["Bio (optional)"])},email:e=>{const{normalize:t}=e;return t(["Email"])},email_optional:e=>{const{normalize:t}=e;return t(["Email (optional)"])},fullname:e=>{const{normalize:t}=e;return t(["Display name"])},password_confirm:e=>{const{normalize:t}=e;return t(["Password confirmation"])},registration:e=>{const{normalize:t}=e;return t(["Registration"])},token:e=>{const{normalize:t}=e;return t(["Invite token"])},captcha:e=>{const{normalize:t}=e;return t(["CAPTCHA"])},new_captcha:e=>{const{normalize:t}=e;return t(["Click the image to get a new captcha"])},username_placeholder:e=>{const{normalize:t}=e;return t(["e.g. lain"])},fullname_placeholder:e=>{const{normalize:t}=e;return t(["e.g. Lain Iwakura"])},bio_placeholder:e=>{const{normalize:t}=e;return t(["e.g.\nHi, I'm Lain.\nI’m an anime girl living in suburban Japan. You may know me from the Wired."])},reason:e=>{const{normalize:t}=e;return t(["Reason to register"])},reason_placeholder:e=>{const{normalize:t}=e;return t(["This instance approves registrations manually.\nLet the administration know why you want to register."])},register:e=>{const{normalize:t}=e;return t(["Register"])},validations:{username_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},fullname_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},email_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_confirmation_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_confirmation_match:e=>{const{normalize:t}=e;return t(["should be the same as password"])},birthday_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},birthday_min_age:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["must be on or before ",n(o("date"))])}},email_language:e=>{const{normalize:t}=e;return t(["In which language do you want to receive emails from the server?"])},birthday:e=>{const{normalize:t}=e;return t(["Birthday:"])},birthday_optional:e=>{const{normalize:t}=e;return t(["Birthday (optional):"])}},remote_user_resolver:{remote_user_resolver:e=>{const{normalize:t}=e;return t(["Remote user resolver"])},searching_for:e=>{const{normalize:t}=e;return t(["Searching for"])},error:e=>{const{normalize:t}=e;return t(["Not found."])}},report:{reporter:e=>{const{normalize:t}=e;return t(["Reporter:"])},reported_user:e=>{const{normalize:t}=e;return t(["Reported user:"])},reported_statuses:e=>{const{normalize:t}=e;return t(["Reported statuses:"])},notes:e=>{const{normalize:t}=e;return t(["Notes:"])},state:e=>{const{normalize:t}=e;return t(["State:"])},state_open:e=>{const{normalize:t}=e;return t(["Open"])},state_closed:e=>{const{normalize:t}=e;return t(["Closed"])},state_resolved:e=>{const{normalize:t}=e;return t(["Resolved"])}},selectable_list:{select_all:e=>{const{normalize:t}=e;return t(["Select all"])}},settings:{add_language:e=>{const{normalize:t}=e;return t(["Add fallback language"])},remove_language:e=>{const{normalize:t}=e;return t(["Remove"])},primary_language:e=>{const{normalize:t}=e;return t(["Primary language:"])},fallback_language:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Fallback language ",n(o("index")),":"])},actor_type:e=>{const{normalize:t}=e;return t(["This account is:"])},actor_type_description:e=>{const{normalize:t}=e;return t(["Marking your account as a group will make it automatically repeat statuses that mention it."])},actor_type_Person:e=>{const{normalize:t}=e;return t(["a normal user"])},actor_type_Service:e=>{const{normalize:t}=e;return t(["a bot"])},actor_type_Group:e=>{const{normalize:t}=e;return t(["a group"])},app_name:e=>{const{normalize:t}=e;return t(["App name"])},expert_mode:e=>{const{normalize:t}=e;return t(["Show advanced"])},save:e=>{const{normalize:t}=e;return t(["Save changes"])},security:e=>{const{normalize:t}=e;return t(["Security"])},setting_changed:e=>{const{normalize:t}=e;return t(["Setting is different from default"])},setting_server_side:e=>{const{normalize:t}=e;return t(["This setting is tied to your profile and affects all sessions and clients"])},enter_current_password_to_confirm:e=>{const{normalize:t}=e;return t(["Enter your current password to confirm your identity"])},post_look_feel:e=>{const{normalize:t}=e;return t(["Posts Look & Feel"])},mention_links:e=>{const{normalize:t}=e;return t(["Mention links"])},appearance:e=>{const{normalize:t}=e;return t(["Appearance"])},confirm_new_setting:e=>{const{normalize:t}=e;return t(["Confirm new setting?"])},confirm_new_question:e=>{const{normalize:t}=e;return t(["Does this look ok? Setting will be reverted in 10 seconds."])},revert:e=>{const{normalize:t}=e;return t(["Revert"])},confirm:e=>{const{normalize:t}=e;return t(["Confirm"])},text_size:e=>{const{normalize:t}=e;return t(["Text and interface size"])},text_size_tip:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Use ",n(o(0))," for absolute values, ",n(o(1))," will scale with browser default text size."])},text_size_tip2:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Values other than ",n(o(0))," might break some things and themes"])},emoji_size:e=>{const{normalize:t}=e;return t(["Emoji size"])},navbar_size:e=>{const{normalize:t}=e;return t(["Top bar size"])},panel_header_size:e=>{const{normalize:t}=e;return t(["Panel header size"])},visual_tweaks:e=>{const{normalize:t}=e;return t(["Minor visual tweaks"])},theme_debug:e=>{const{normalize:t}=e;return t(["Show what background theme engine assumes when dealing with transparancy (DEBUG)"])},scale_and_layout:e=>{const{normalize:t}=e;return t(["Interface scale and layout"])},mfa:{otp:e=>{const{normalize:t}=e;return t(["OTP"])},setup_otp:e=>{const{normalize:t}=e;return t(["Setup OTP"])},wait_pre_setup_otp:e=>{const{normalize:t}=e;return t(["presetting OTP"])},confirm_and_enable:e=>{const{normalize:t}=e;return t(["Confirm & enable OTP"])},title:e=>{const{normalize:t}=e;return t(["Two-factor Authentication"])},generate_new_recovery_codes:e=>{const{normalize:t}=e;return t(["Generate new recovery codes"])},warning_of_generate_new_codes:e=>{const{normalize:t}=e;return t(["When you generate new recovery codes, your old codes won’t work anymore."])},recovery_codes:e=>{const{normalize:t}=e;return t(["Recovery codes."])},waiting_a_recovery_codes:e=>{const{normalize:t}=e;return t(["Receiving backup codes…"])},recovery_codes_warning:e=>{const{normalize:t}=e;return t(["Write the codes down or save them somewhere secure - otherwise you won't see them again. If you lose access to your 2FA app and recovery codes you'll be locked out of your account."])},authentication_methods:e=>{const{normalize:t}=e;return t(["Authentication methods"])},scan:{title:e=>{const{normalize:t}=e;return t(["Scan"])},desc:e=>{const{normalize:t}=e;return t(["Using your two-factor app, scan this QR code or enter text key:"])},secret_code:e=>{const{normalize:t}=e;return t(["Key"])}},verify:{desc:e=>{const{normalize:t}=e;return t(["To enable two-factor authentication, enter the code from your two-factor app:"])}}},units:{time:{m:e=>{const{normalize:t}=e;return t(["minutes"])},s:e=>{const{normalize:t}=e;return t(["seconds"])},h:e=>{const{normalize:t}=e;return t(["hours"])},d:e=>{const{normalize:t}=e;return t(["days"])}}},lists_navigation:e=>{const{normalize:t}=e;return t(["Show lists in navigation"])},allow_following_move:e=>{const{normalize:t}=e;return t(["Allow auto-follow when following account moves"])},attachmentRadius:e=>{const{normalize:t}=e;return t(["Attachments"])},attachments:e=>{const{normalize:t}=e;return t(["Attachments"])},avatar:e=>{const{normalize:t}=e;return t(["Avatar"])},avatarAltRadius:e=>{const{normalize:t}=e;return t(["Avatars (notifications)"])},avatarRadius:e=>{const{normalize:t}=e;return t(["Avatars"])},background:e=>{const{normalize:t}=e;return t(["Background"])},bio:e=>{const{normalize:t}=e;return t(["Bio"])},email_language:e=>{const{normalize:t}=e;return t(["Language for receiving emails from the server"])},block_export:e=>{const{normalize:t}=e;return t(["Block export"])},block_export_button:e=>{const{normalize:t}=e;return t(["Export your blocks to a csv file"])},block_import:e=>{const{normalize:t}=e;return t(["Block import"])},block_import_error:e=>{const{normalize:t}=e;return t(["Error importing blocks"])},blocks_imported:e=>{const{normalize:t}=e;return t(["Blocks imported! Processing them will take a while."])},mute_export:e=>{const{normalize:t}=e;return t(["Mute export"])},mute_export_button:e=>{const{normalize:t}=e;return t(["Export your mutes to a csv file"])},mute_import:e=>{const{normalize:t}=e;return t(["Mute import"])},mute_import_error:e=>{const{normalize:t}=e;return t(["Error importing mutes"])},mutes_imported:e=>{const{normalize:t}=e;return t(["Mutes imported! Processing them will take a while."])},import_mutes_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import mutes from a csv file"])},account_backup:e=>{const{normalize:t}=e;return t(["Account backup"])},account_backup_description:e=>{const{normalize:t}=e;return t(["This allows you to download an archive of your account information and your posts, but they cannot yet be imported into a Pleroma account."])},account_backup_table_head:e=>{const{normalize:t}=e;return t(["Backup"])},download_backup:e=>{const{normalize:t}=e;return t(["Download"])},backup_not_ready:e=>{const{normalize:t}=e;return t(["This backup is not ready yet."])},backup_running:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["This backup is in progress, processed ",n(o("number"))," record."]),t(["This backup is in progress, processed ",n(o("number"))," records."])])},backup_failed:e=>{const{normalize:t}=e;return t(["This backup has failed."])},remove_backup:e=>{const{normalize:t}=e;return t(["Remove"])},list_backups_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error fetching backup list: ",n(o("error"))])},add_backup:e=>{const{normalize:t}=e;return t(["Create a new backup"])},added_backup:e=>{const{normalize:t}=e;return t(["Added a new backup."])},add_backup_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error adding a new backup: ",n(o("error"))])},blocks_tab:e=>{const{normalize:t}=e;return t(["Blocks"])},btnRadius:e=>{const{normalize:t}=e;return t(["Buttons"])},cBlue:e=>{const{normalize:t}=e;return t(["Blue (Reply, follow)"])},cGreen:e=>{const{normalize:t}=e;return t(["Green (Retweet)"])},cOrange:e=>{const{normalize:t}=e;return t(["Orange (Favorite)"])},cRed:e=>{const{normalize:t}=e;return t(["Red (Cancel)"])},change_email:e=>{const{normalize:t}=e;return t(["Change email"])},change_email_error:e=>{const{normalize:t}=e;return t(["There was an issue changing your email."])},changed_email:e=>{const{normalize:t}=e;return t(["Email changed successfully!"])},change_password:e=>{const{normalize:t}=e;return t(["Change password"])},change_password_error:e=>{const{normalize:t}=e;return t(["There was an issue changing your password."])},changed_password:e=>{const{normalize:t}=e;return t(["Password changed successfully!"])},chatMessageRadius:e=>{const{normalize:t}=e;return t(["Chat message"])},collapse_subject:e=>{const{normalize:t}=e;return t(["Collapse posts with subjects"])},composing:e=>{const{normalize:t}=e;return t(["Composing"])},confirm_new_password:e=>{const{normalize:t}=e;return t(["Confirm new password"])},current_password:e=>{const{normalize:t}=e;return t(["Current password"])},confirm_dialogs:e=>{const{normalize:t}=e;return t(["Ask for confirmation when"])},confirm_dialogs_repeat:e=>{const{normalize:t}=e;return t(["repeating a status"])},confirm_dialogs_unfollow:e=>{const{normalize:t}=e;return t(["unfollowing a user"])},confirm_dialogs_block:e=>{const{normalize:t}=e;return t(["blocking a user"])},confirm_dialogs_mute:e=>{const{normalize:t}=e;return t(["muting a user"])},confirm_dialogs_delete:e=>{const{normalize:t}=e;return t(["deleting a status"])},confirm_dialogs_logout:e=>{const{normalize:t}=e;return t(["logging out"])},confirm_dialogs_approve_follow:e=>{const{normalize:t}=e;return t(["approving a follower"])},confirm_dialogs_deny_follow:e=>{const{normalize:t}=e;return t(["denying a follower"])},confirm_dialogs_remove_follower:e=>{const{normalize:t}=e;return t(["removing a follower"])},mutes_and_blocks:e=>{const{normalize:t}=e;return t(["Mutes and Blocks"])},data_import_export_tab:e=>{const{normalize:t}=e;return t(["Data import / export"])},default_vis:e=>{const{normalize:t}=e;return t(["Default visibility scope"])},delete_account:e=>{const{normalize:t}=e;return t(["Delete account"])},delete_account_description:e=>{const{normalize:t}=e;return t(["Permanently delete your data and deactivate your account."])},delete_account_error:e=>{const{normalize:t}=e;return t(["There was an issue deleting your account. If this persists please contact your instance administrator."])},delete_account_instructions:e=>{const{normalize:t}=e;return t(["Type your password in the input below to confirm account deletion."])},account_alias:e=>{const{normalize:t}=e;return t(["Account aliases"])},account_alias_table_head:e=>{const{normalize:t}=e;return t(["Alias"])},list_aliases_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error fetching aliases: ",n(o("error"))])},hide_list_aliases_error_action:e=>{const{normalize:t}=e;return t(["Close"])},remove_alias:e=>{const{normalize:t}=e;return t(["Remove this alias"])},new_alias_target:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Add a new alias (e.g. ",n(o("example")),")"])},added_alias:e=>{const{normalize:t}=e;return t(["Alias is added."])},add_alias_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error adding alias: ",n(o("error"))])},move_account:e=>{const{normalize:t}=e;return t(["Move account"])},move_account_notes:e=>{const{normalize:t}=e;return t(["If you want to move the account somewhere else, you must go to your target account and add an alias pointing here."])},move_account_target:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Target account (e.g. ",n(o("example")),")"])},moved_account:e=>{const{normalize:t}=e;return t(["Account is moved."])},move_account_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error moving account: ",n(o("error"))])},discoverable:e=>{const{normalize:t}=e;return t(["Allow discovery of this account in search results and other services"])},domain_mutes:e=>{const{normalize:t}=e;return t(["Domains"])},avatar_size_instruction:e=>{const{normalize:t}=e;return t(["The recommended minimum size for avatar images is 150x150 pixels."])},pad_emoji:e=>{const{normalize:t}=e;return t(["Pad emoji with spaces when adding from picker"])},autocomplete_select_first:e=>{const{normalize:t}=e;return t(["Automatically select the first candidate when autocomplete results are available"])},emoji_reactions_on_timeline:e=>{const{normalize:t}=e;return t(["Show emoji reactions on timeline"])},emoji_reactions_scale:e=>{const{normalize:t}=e;return t(["Reactions scale factor"])},export_theme:e=>{const{normalize:t}=e;return t(["Save preset"])},filtering:e=>{const{normalize:t}=e;return t(["Filtering"])},wordfilter:e=>{const{normalize:t}=e;return t(["Wordfilter"])},filtering_explanation:e=>{const{normalize:t}=e;return t(["All statuses containing these words will be muted, one per line"])},word_filter_and_more:e=>{const{normalize:t}=e;return t(["Word filter and more..."])},follow_export:e=>{const{normalize:t}=e;return t(["Follow export"])},follow_export_button:e=>{const{normalize:t}=e;return t(["Export your follows to a csv file"])},follow_import:e=>{const{normalize:t}=e;return t(["Follow import"])},follow_import_error:e=>{const{normalize:t}=e;return t(["Error importing followers"])},follows_imported:e=>{const{normalize:t}=e;return t(["Follows imported! Processing them will take a while."])},accent:e=>{const{normalize:t}=e;return t(["Accent"])},foreground:e=>{const{normalize:t}=e;return t(["Foreground"])},general:e=>{const{normalize:t}=e;return t(["General"])},hide_attachments_in_convo:e=>{const{normalize:t}=e;return t(["Hide attachments in conversations"])},hide_attachments_in_tl:e=>{const{normalize:t}=e;return t(["Hide attachments in timeline"])},hide_media_previews:e=>{const{normalize:t}=e;return t(["Hide media previews"])},hide_muted_posts:e=>{const{normalize:t}=e;return t(["Hide posts of muted users"])},mute_bot_posts:e=>{const{normalize:t}=e;return t(["Mute bot posts"])},hide_actor_type_indication:e=>{const{normalize:t}=e;return t(["Hide actor type (bots, groups, etc.) indication in posts"])},hide_scrobbles:e=>{const{normalize:t}=e;return t(["Hide scrobbles"])},hide_scrobbles_after:e=>{const{normalize:t}=e;return t(["Hide scrobbles older than"])},mute_sensitive_posts:e=>{const{normalize:t}=e;return t(["Mute sensitive posts"])},hide_all_muted_posts:e=>{const{normalize:t}=e;return t(["Hide muted posts"])},max_thumbnails:e=>{const{normalize:t}=e;return t(["Maximum amount of thumbnails per post (empty = no limit)"])},hide_isp:e=>{const{normalize:t}=e;return t(["Hide instance-specific panel"])},hide_shoutbox:e=>{const{normalize:t}=e;return t(["Hide instance shoutbox"])},right_sidebar:e=>{const{normalize:t}=e;return t(["Reverse order of columns"])},navbar_column_stretch:e=>{const{normalize:t}=e;return t(["Stretch navbar to columns width"])},always_show_post_button:e=>{const{normalize:t}=e;return t(["Always show floating New Post button"])},hide_wallpaper:e=>{const{normalize:t}=e;return t(["Hide instance wallpaper"])},preload_images:e=>{const{normalize:t}=e;return t(["Preload images"])},use_one_click_nsfw:e=>{const{normalize:t}=e;return t(["Open NSFW attachments with just one click"])},hide_post_stats:e=>{const{normalize:t}=e;return t(["Hide post statistics (e.g. the number of favorites)"])},hide_user_stats:e=>{const{normalize:t}=e;return t(["Hide user statistics (e.g. the number of followers)"])},hide_filtered_statuses:e=>{const{normalize:t}=e;return t(["Hide all filtered posts"])},hide_wordfiltered_statuses:e=>{const{normalize:t}=e;return t(["Hide word-filtered statuses"])},hide_muted_threads:e=>{const{normalize:t}=e;return t(["Hide muted threads"])},import_blocks_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import blocks from a csv file"])},import_followers_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import follows from a csv file"])},import_theme:e=>{const{normalize:t}=e;return t(["Load preset"])},inputRadius:e=>{const{normalize:t}=e;return t(["Input fields"])},checkboxRadius:e=>{const{normalize:t}=e;return t(["Checkboxes"])},instance_default:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["(default: ",n(o("value")),")"])},instance_default_simple:e=>{const{normalize:t}=e;return t(["(default)"])},interface:e=>{const{normalize:t}=e;return t(["Interface"])},interfaceLanguage:e=>{const{normalize:t}=e;return t(["Interface language"])},invalid_theme_imported:e=>{const{normalize:t}=e;return t(["The selected file is not a supported Pleroma theme. No changes to your theme were made."])},limited_availability:e=>{const{normalize:t}=e;return t(["Unavailable in your browser"])},links:e=>{const{normalize:t}=e;return t(["Links"])},lock_account_description:e=>{const{normalize:t}=e;return t(["Restrict your account to approved followers only"])},loop_video:e=>{const{normalize:t}=e;return t(["Loop videos"])},loop_video_silent_only:e=>{const{normalize:t}=e;return t(['Loop only videos without sound (i.e. Mastodon\'s "gifs")'])},mutes_tab:e=>{const{normalize:t}=e;return t(["Mutes"])},play_videos_in_modal:e=>{const{normalize:t}=e;return t(["Play videos in a popup frame"])},url:e=>{const{normalize:t}=e;return t(["URL"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},file_export_import:{backup_restore:e=>{const{normalize:t}=e;return t(["Settings backup"])},backup_settings:e=>{const{normalize:t}=e;return t(["Backup settings to file"])},backup_settings_theme:e=>{const{normalize:t}=e;return t(["Backup settings and theme to file"])},restore_settings:e=>{const{normalize:t}=e;return t(["Restore settings from file"])},errors:{invalid_file:e=>{const{normalize:t}=e;return t(["The selected file is not a supported Pleroma settings backup. No changes were made."])},file_too_new:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Incompatile major version: ",n(o("fileMajor")),", this PleromaFE (settings ver ",n(o("feMajor")),") is too old to handle it"])},file_too_old:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Incompatile major version: ",n(o("fileMajor")),", file version is too old and not supported (min. set. ver. ",n(o("feMajor")),")"])},file_slightly_new:e=>{const{normalize:t}=e;return t(["File minor version is different, some settings might not load"])}}},profile_fields:{label:e=>{const{normalize:t}=e;return t(["Profile metadata"])},add_field:e=>{const{normalize:t}=e;return t(["Add field"])},name:e=>{const{normalize:t}=e;return t(["Label"])},value:e=>{const{normalize:t}=e;return t(["Content"])}},birthday:{label:e=>{const{normalize:t}=e;return t(["Birthday"])},show_birthday:e=>{const{normalize:t}=e;return t(["Show my birthday"])}},account_privacy:e=>{const{normalize:t}=e;return t(["Privacy"])},use_contain_fit:e=>{const{normalize:t}=e;return t(["Don't crop the attachment in thumbnails"])},name:e=>{const{normalize:t}=e;return t(["Name"])},name_bio:e=>{const{normalize:t}=e;return t(["Name & bio"])},new_email:e=>{const{normalize:t}=e;return t(["New email"])},new_password:e=>{const{normalize:t}=e;return t(["New password"])},posts:e=>{const{normalize:t}=e;return t(["Posts"])},user_profiles:e=>{const{normalize:t}=e;return t(["User Profiles"])},notification_visibility:e=>{const{normalize:t}=e;return t(["Types of notifications to show"])},notification_visibility_in_column:e=>{const{normalize:t}=e;return t(["Show in notifications column/drawer"])},notification_visibility_native_notifications:e=>{const{normalize:t}=e;return t(["Show a native notification"])},notification_visibility_follows:e=>{const{normalize:t}=e;return t(["Follows"])},notification_visibility_follow_requests:e=>{const{normalize:t}=e;return t(["Follow requests"])},notification_visibility_likes:e=>{const{normalize:t}=e;return t(["Favorites"])},notification_visibility_mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},notification_visibility_repeats:e=>{const{normalize:t}=e;return t(["Repeats"])},notification_visibility_reports:e=>{const{normalize:t}=e;return t(["Reports"])},notification_visibility_moves:e=>{const{normalize:t}=e;return t(["User Migrates"])},notification_visibility_emoji_reactions:e=>{const{normalize:t}=e;return t(["Reactions"])},notification_visibility_polls:e=>{const{normalize:t}=e;return t(["Ends of polls you voted in"])},notification_visibility_statuses:e=>{const{normalize:t}=e;return t(["Subscriptions"])},notification_show_extra:e=>{const{normalize:t}=e;return t(["Show extra notifications in the notifications column"])},notification_extra_chats:e=>{const{normalize:t}=e;return t(["Show unread chats"])},notification_extra_announcements:e=>{const{normalize:t}=e;return t(["Show unread announcements"])},notification_extra_follow_requests:e=>{const{normalize:t}=e;return t(["Show new follow requests"])},notification_extra_tip:e=>{const{normalize:t}=e;return t(["Show the customization tip for extra notifications"])},no_rich_text_description:e=>{const{normalize:t}=e;return t(["Strip rich text formatting from all posts"])},no_blocks:e=>{const{normalize:t}=e;return t(["No blocks"])},no_mutes:e=>{const{normalize:t}=e;return t(["No mutes"])},hide_favorites_description:e=>{const{normalize:t}=e;return t(["Don't show list of my favorites (people still get notified)"])},hide_follows_description:e=>{const{normalize:t}=e;return t(["Don't show who I'm following"])},hide_followers_description:e=>{const{normalize:t}=e;return t(["Don't show who's following me"])},hide_follows_count_description:e=>{const{normalize:t}=e;return t(["Don't show follow count"])},hide_followers_count_description:e=>{const{normalize:t}=e;return t(["Don't show follower count"])},show_admin_badge:e=>{const{normalize:t}=e;return t(['Show "Admin" badge in my profile'])},show_moderator_badge:e=>{const{normalize:t}=e;return t(['Show "Moderator" badge in my profile'])},nsfw_clickthrough:e=>{const{normalize:t}=e;return t(["Hide sensitive/NSFW media"])},oauth_tokens:e=>{const{normalize:t}=e;return t(["OAuth tokens"])},token:e=>{const{normalize:t}=e;return t(["Token"])},refresh_token:e=>{const{normalize:t}=e;return t(["Refresh token"])},valid_until:e=>{const{normalize:t}=e;return t(["Valid until"])},revoke_token:e=>{const{normalize:t}=e;return t(["Revoke"])},panelRadius:e=>{const{normalize:t}=e;return t(["Panels"])},pause_on_unfocused:e=>{const{normalize:t}=e;return t(["Pause when tab is not focused"])},presets:e=>{const{normalize:t}=e;return t(["Presets"])},profile_background:e=>{const{normalize:t}=e;return t(["Profile background"])},profile_banner:e=>{const{normalize:t}=e;return t(["Profile banner"])},profile_tab:e=>{const{normalize:t}=e;return t(["Profile"])},radii_help:e=>{const{normalize:t}=e;return t(["Set up interface edge rounding (in pixels)"])},replies_in_timeline:e=>{const{normalize:t}=e;return t(["Replies in timeline"])},reply_visibility_all:e=>{const{normalize:t}=e;return t(["Show all replies"])},reply_visibility_following:e=>{const{normalize:t}=e;return t(["Only show replies directed at me or users I'm following"])},reply_visibility_self:e=>{const{normalize:t}=e;return t(["Only show replies directed at me"])},reply_visibility_following_short:e=>{const{normalize:t}=e;return t(["Show replies to my follows"])},reply_visibility_self_short:e=>{const{normalize:t}=e;return t(["Show replies to self only"])},autohide_floating_post_button:e=>{const{normalize:t}=e;return t(["Automatically hide New Post button (mobile)"])},saving_err:e=>{const{normalize:t}=e;return t(["Error saving settings"])},saving_ok:e=>{const{normalize:t}=e;return t(["Settings saved"])},search_user_to_block:e=>{const{normalize:t}=e;return t(["Search whom you want to block"])},search_user_to_mute:e=>{const{normalize:t}=e;return t(["Search whom you want to mute"])},security_tab:e=>{const{normalize:t}=e;return t(["Security"])},scope_copy:e=>{const{normalize:t}=e;return t(["Copy scope when replying (DMs are always copied)"])},minimal_scopes_mode:e=>{const{normalize:t}=e;return t(["Minimize post scope selection options"])},set_new_avatar:e=>{const{normalize:t}=e;return t(["Set new avatar"])},set_new_profile_background:e=>{const{normalize:t}=e;return t(["Set new profile background"])},set_new_profile_banner:e=>{const{normalize:t}=e;return t(["Set new profile banner"])},reset_avatar:e=>{const{normalize:t}=e;return t(["Reset avatar"])},reset_profile_background:e=>{const{normalize:t}=e;return t(["Reset profile background"])},reset_profile_banner:e=>{const{normalize:t}=e;return t(["Reset profile banner"])},reset_avatar_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the avatar?"])},reset_banner_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the banner?"])},reset_background_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the background?"])},settings:e=>{const{normalize:t}=e;return t(["Settings"])},subject_input_always_show:e=>{const{normalize:t}=e;return t(["Always show subject field"])},subject_line_behavior:e=>{const{normalize:t}=e;return t(["Copy subject when replying"])},subject_line_email:e=>{const{normalize:t}=e;return t(['Like email: "re: subject"'])},subject_line_mastodon:e=>{const{normalize:t}=e;return t(["Like mastodon: copy as is"])},subject_line_noop:e=>{const{normalize:t}=e;return t(["Do not copy"])},force_theme_recompilation_debug:e=>{const{normalize:t}=e;return t(["Disable theme cahe, force recompile on each boot (DEBUG)"])},conversation_display:e=>{const{normalize:t}=e;return t(["Conversation display style"])},conversation_display_tree:e=>{const{normalize:t}=e;return t(["Tree-style"])},conversation_display_tree_quick:e=>{const{normalize:t}=e;return t(["Tree view"])},disable_sticky_headers:e=>{const{normalize:t}=e;return t(["Don't stick column headers to top of the screen"])},show_scrollbars:e=>{const{normalize:t}=e;return t(["Show side column's scrollbars"])},third_column_mode:e=>{const{normalize:t}=e;return t(["When there's enough space, show third column containing"])},third_column_mode_none:e=>{const{normalize:t}=e;return t(["Don't show third column at all"])},third_column_mode_notifications:e=>{const{normalize:t}=e;return t(["Notifications column"])},third_column_mode_postform:e=>{const{normalize:t}=e;return t(["Main post form and navigation"])},columns:e=>{const{normalize:t}=e;return t(["Columns"])},column_sizes:e=>{const{normalize:t}=e;return t(["Column sizes"])},column_sizes_sidebar:e=>{const{normalize:t}=e;return t(["Sidebar"])},column_sizes_content:e=>{const{normalize:t}=e;return t(["Content"])},column_sizes_notifs:e=>{const{normalize:t}=e;return t(["Notifications"])},tree_advanced:e=>{const{normalize:t}=e;return t(["Allow more flexible navigation in tree view"])},tree_fade_ancestors:e=>{const{normalize:t}=e;return t(["Display ancestors of the current status in faint text"])},conversation_display_linear:e=>{const{normalize:t}=e;return t(["Linear-style"])},conversation_display_linear_quick:e=>{const{normalize:t}=e;return t(["Linear view"])},conversation_other_replies_button:e=>{const{normalize:t}=e;return t(['Show the "other replies" button'])},conversation_other_replies_button_below:e=>{const{normalize:t}=e;return t(["Below statuses"])},conversation_other_replies_button_inside:e=>{const{normalize:t}=e;return t(["Inside statuses"])},max_depth_in_thread:e=>{const{normalize:t}=e;return t(["Maximum number of levels in thread to display by default"])},post_status_content_type:e=>{const{normalize:t}=e;return t(["Post status content type"])},sensitive_by_default:e=>{const{normalize:t}=e;return t(["Mark posts as sensitive by default"])},stop_gifs:e=>{const{normalize:t}=e;return t(["Pause animated images until you hover on them"])},streaming:e=>{const{normalize:t}=e;return t(["Automatically show new posts when scrolled to the top"])},auto_update:e=>{const{normalize:t}=e;return t(["Show new posts automatically"])},user_mutes:e=>{const{normalize:t}=e;return t(["Users"])},useStreamingApi:e=>{const{normalize:t}=e;return t(["Receive posts and notifications real-time"])},use_websockets:e=>{const{normalize:t}=e;return t(["Use websockets (Realtime updates)"])},text:e=>{const{normalize:t}=e;return t(["Text"])},theme:e=>{const{normalize:t}=e;return t(["Theme"])},theme_help:e=>{const{normalize:t}=e;return t(["Use hex color codes (#rrggbb) to customize your color theme."])},theme_help_v2_1:e=>{const{normalize:t}=e;return t(['You can also override certain component\'s colors and opacity by toggling the checkbox, use "Clear all" button to clear all overrides.'])},theme_help_v2_2:e=>{const{normalize:t}=e;return t(["Icons underneath some entries are background/text contrast indicators, hover over for detailed info. Please keep in mind that when using transparency contrast indicators show the worst possible case."])},tooltipRadius:e=>{const{normalize:t}=e;return t(["Tooltips/alerts"])},type_domains_to_mute:e=>{const{normalize:t}=e;return t(["Search domains to mute"])},upload_a_photo:e=>{const{normalize:t}=e;return t(["Upload a photo"])},user_settings:e=>{const{normalize:t}=e;return t(["User Settings"])},values:{false:e=>{const{normalize:t}=e;return t(["no"])},true:e=>{const{normalize:t}=e;return t(["yes"])}},virtual_scrolling:e=>{const{normalize:t}=e;return t(["Optimize timeline rendering"])},use_at_icon:e=>{const{normalize:t}=e;return t(["Display ","@"," symbol as an icon instead of text"])},mention_link_display:e=>{const{normalize:t}=e;return t(["Display mention links"])},mention_link_display_short:e=>{const{normalize:t}=e;return t(["always as short names (e.g. ","@","foo)"])},mention_link_display_full_for_remote:e=>{const{normalize:t}=e;return t(["as full names only for remote users (e.g. ","@","foo","@","example.org)"])},mention_link_display_full:e=>{const{normalize:t}=e;return t(["always as full names (e.g. ","@","foo","@","example.org)"])},mention_link_use_tooltip:e=>{const{normalize:t}=e;return t(["Show user card when clicking mention links"])},mention_link_show_avatar:e=>{const{normalize:t}=e;return t(["Show user avatar beside the link"])},mention_link_show_avatar_quick:e=>{const{normalize:t}=e;return t(["Show user avatar next to mentions"])},mention_link_fade_domain:e=>{const{normalize:t}=e;return t(["Fade domains (e.g. ","@","example.org in ","@","foo","@","example.org)"])},mention_link_bolden_you:e=>{const{normalize:t}=e;return t(["Highlight mention of you when you are mentioned"])},user_popover_avatar_action:e=>{const{normalize:t}=e;return t(["Popover avatar click action"])},user_popover_avatar_action_zoom:e=>{const{normalize:t}=e;return t(["Zoom the avatar"])},user_popover_avatar_action_close:e=>{const{normalize:t}=e;return t(["Close the popover"])},user_popover_avatar_action_open:e=>{const{normalize:t}=e;return t(["Open profile"])},user_popover_avatar_overlay:e=>{const{normalize:t}=e;return t(["Show user popover over user avatar"])},fun:e=>{const{normalize:t}=e;return t(["Fun"])},greentext:e=>{const{normalize:t}=e;return t(["Meme arrows"])},show_yous:e=>{const{normalize:t}=e;return t(["Show (You)s"])},notifications:e=>{const{normalize:t}=e;return t(["Notifications"])},notification_setting_annoyance:e=>{const{normalize:t}=e;return t(["Annoyance"])},notification_setting_drawer_marks_as_seen:e=>{const{normalize:t}=e;return t(["Closing drawer (mobile) marks all notifications as read"])},notification_setting_ignore_inactionable_seen:e=>{const{normalize:t}=e;return t(["Ignore read state of inactionable notifications (likes, repeats etc)"])},notification_setting_ignore_inactionable_seen_tip:e=>{const{normalize:t}=e;return t(["This will not actually mark those notifications as read, and you'll still get desktop notifications about them if you chose so"])},notification_setting_unseen_at_top:e=>{const{normalize:t}=e;return t(["Show unread notifications above others"])},notification_setting_filters:e=>{const{normalize:t}=e;return t(["Filters"])},notification_setting_filters_chrome_push:e=>{const{normalize:t}=e;return t(["On some browsers (chrome) it might be impossible to completely filter out notifications by type when they arrive by Push"])},notification_setting_block_from_strangers:e=>{const{normalize:t}=e;return t(["Block notifications from users who you do not follow"])},notification_setting_privacy:e=>{const{normalize:t}=e;return t(["Privacy"])},notification_setting_hide_notification_contents:e=>{const{normalize:t}=e;return t(["Hide the sender and contents of push notifications"])},notification_mutes:e=>{const{normalize:t}=e;return t(["To stop receiving notifications from a specific user, use a mute."])},notification_blocks:e=>{const{normalize:t}=e;return t(["Blocking a user stops all notifications as well as unsubscribes them."])},enable_web_push_notifications:e=>{const{normalize:t}=e;return t(["Enable web push notifications"])},enable_web_push_always_show:e=>{const{normalize:t}=e;return t(["Always show web push notifications"])},enable_web_push_always_show_tip:e=>{const{normalize:t}=e;return t(["Some browsers (Chromium, Chrome) require that push messages always result in a notification, otherwise generic 'Website was updated in background' is shown, enable this to prevent this notification from showing, as Chrome seem to hide push notifications if tab is in focus. Can result in showing duplicate notifications on other browsers."])},more_settings:e=>{const{normalize:t}=e;return t(["More settings"])},style:{custom_theme_used:e=>{const{normalize:t}=e;return t(["(Custom theme)"])},themes2_outdated:e=>{const{normalize:t}=e;return t(["Editor for Themes V2 is being phased out and will eventually be replaced with a new one that takes advantage of new Themes V3 engine. It should still work but experience might be degraded and inconsistent."])},appearance_tab_note:e=>{const{normalize:t}=e;return t(["Changes on this tab do not affect the theme used, so exported theme will be different from what seen in the UI"])},update_preview:e=>{const{normalize:t}=e;return t(["Update preview"])},themes3:{define:e=>{const{normalize:t}=e;return t(["Override"])},hacks:{underlay_overrides:e=>{const{normalize:t}=e;return t(["Change underlay"])},underlay_override_mode_none:e=>{const{normalize:t}=e;return t(["Theme default"])},underlay_override_mode_opaque:e=>{const{normalize:t}=e;return t(["Replace with solid color"])},underlay_override_mode_transparent:e=>{const{normalize:t}=e;return t(["Remove entirely (might break some themes)"])},force_interface_roundness:e=>{const{normalize:t}=e;return t(["Override interface roundness/sharpness"])},forced_roundness_mode_disabled:e=>{const{normalize:t}=e;return t(["Use theme defaults"])},forced_roundness_mode_sharp:e=>{const{normalize:t}=e;return t(["Force sharp edges"])},forced_roundness_mode_nonsharp:e=>{const{normalize:t}=e;return t(["Force not-so-sharp (1px roundness) edges"])},forced_roundness_mode_round:e=>{const{normalize:t}=e;return t(["Force round edges"])}},font:{"group-builtin":e=>{const{normalize:t}=e;return t(["Browser default fonts"])},builtin:{serif:e=>{const{normalize:t}=e;return t(["Serif"])},"sans-serif":e=>{const{normalize:t}=e;return t(["Sans-serif"])},monospace:e=>{const{normalize:t}=e;return t(["Monospace"])},inherit:e=>{const{normalize:t}=e;return t(["Unchanged"])}},"group-local":e=>{const{normalize:t}=e;return t(["Locally installed fonts"])},"local-unavailable1":e=>{const{normalize:t}=e;return t(["List of locally installed fonts unavailalbe"])},"local-unavailable2":e=>{const{normalize:t}=e;return t(["Use manual entry to specify custom font"])},font_list_unavailable:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Couldn't get locally installed fonts: ",n(o("error"))])},lookup_local_fonts:e=>{const{normalize:t}=e;return t(["Load list of fonts installed on this computer"])},enter_manually:e=>{const{normalize:t}=e;return t(["Enter font name family manually"])},entry:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Enter ",n(o("fontFamily"))])},select:e=>{const{normalize:t}=e;return t(["Select font"])}}},interface_font_user_override:e=>{const{normalize:t}=e;return t(["Override theme/browser font used"])},switcher:{keep_color:e=>{const{normalize:t}=e;return t(["Keep colors"])},keep_shadows:e=>{const{normalize:t}=e;return t(["Keep shadows"])},keep_opacity:e=>{const{normalize:t}=e;return t(["Keep opacity"])},keep_roundness:e=>{const{normalize:t}=e;return t(["Keep roundness"])},keep_fonts:e=>{const{normalize:t}=e;return t(["Keep fonts"])},save_load_hint:e=>{const{normalize:t}=e;return t(['"Keep" options preserve currently set options when selecting or loading themes, it also stores said options when exporting a theme. When all checkboxes unset, exporting theme will save everything.'])},reset:e=>{const{normalize:t}=e;return t(["Reset"])},clear_all:e=>{const{normalize:t}=e;return t(["Clear all"])},clear_opacity:e=>{const{normalize:t}=e;return t(["Clear opacity"])},load_theme:e=>{const{normalize:t}=e;return t(["Load theme"])},keep_as_is:e=>{const{normalize:t}=e;return t(["Keep as is"])},use_snapshot:e=>{const{normalize:t}=e;return t(["Old version"])},use_source:e=>{const{normalize:t}=e;return t(["New version"])},help:{upgraded_from_v2:e=>{const{normalize:t}=e;return t(["PleromaFE has been upgraded, theme could look a little bit different than you remember."])},v2_imported:e=>{const{normalize:t}=e;return t(["File you imported was made for older FE. We try to maximize compatibility but there still could be inconsistencies."])},future_version_imported:e=>{const{normalize:t}=e;return t(["File you imported was made in newer version of FE."])},older_version_imported:e=>{const{normalize:t}=e;return t(["File you imported was made in older version of FE."])},snapshot_present:e=>{const{normalize:t}=e;return t(["Theme snapshot is loaded, so all values are overriden. You can load theme's actual data instead."])},snapshot_missing:e=>{const{normalize:t}=e;return t(["No theme snapshot was in the file so it could look different than originally envisioned."])},fe_upgraded:e=>{const{normalize:t}=e;return t(["PleromaFE's theme engine upgraded after version update."])},fe_downgraded:e=>{const{normalize:t}=e;return t(["PleromaFE's version rolled back."])},migration_snapshot_ok:e=>{const{normalize:t}=e;return t(["Just to be safe, theme snapshot loaded. You can try loading theme data."])},migration_napshot_gone:e=>{const{normalize:t}=e;return t(["For whatever reason snapshot was missing, some stuff could look different than you remember."])},snapshot_source_mismatch:e=>{const{normalize:t}=e;return t(["Versions conflict: most likely FE was rolled back and updated again, if you changed theme using older version of FE you most likely want to use old version, otherwise use new version."])}}},common:{color:e=>{const{normalize:t}=e;return t(["Color"])},opacity:e=>{const{normalize:t}=e;return t(["Opacity"])},contrast:{hint:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Contrast ratio is ",n(o("ratio")),", it ",n(o("level"))," ",n(o("context"))])},level:{aa:e=>{const{normalize:t}=e;return t(["meets Level AA guideline (minimal)"])},aaa:e=>{const{normalize:t}=e;return t(["meets Level AAA guideline (recommended)"])},bad:e=>{const{normalize:t}=e;return t(["doesn't meet any accessibility guidelines"])}},context:{"18pt":e=>{const{normalize:t}=e;return t(["for large (18pt+) text"])},text:e=>{const{normalize:t}=e;return t(["for text"])}}}},common_colors:{_tab_label:e=>{const{normalize:t}=e;return t(["Common"])},main:e=>{const{normalize:t}=e;return t(["Common colors"])},foreground_hint:e=>{const{normalize:t}=e;return t(['See "Advanced" tab for more detailed control'])},rgbo:e=>{const{normalize:t}=e;return t(["Icons, accents, badges"])}},advanced_colors:{_tab_label:e=>{const{normalize:t}=e;return t(["Advanced"])},alert:e=>{const{normalize:t}=e;return t(["Alert background"])},alert_error:e=>{const{normalize:t}=e;return t(["Error"])},alert_warning:e=>{const{normalize:t}=e;return t(["Warning"])},alert_neutral:e=>{const{normalize:t}=e;return t(["Neutral"])},post:e=>{const{normalize:t}=e;return t(["Posts/User bios"])},badge:e=>{const{normalize:t}=e;return t(["Badge background"])},popover:e=>{const{normalize:t}=e;return t(["Tooltips, menus, popovers"])},badge_notification:e=>{const{normalize:t}=e;return t(["Notification"])},panel_header:e=>{const{normalize:t}=e;return t(["Panel header"])},top_bar:e=>{const{normalize:t}=e;return t(["Top bar"])},borders:e=>{const{normalize:t}=e;return t(["Borders"])},buttons:e=>{const{normalize:t}=e;return t(["Buttons"])},inputs:e=>{const{normalize:t}=e;return t(["Input fields"])},faint_text:e=>{const{normalize:t}=e;return t(["Faded text"])},underlay:e=>{const{normalize:t}=e;return t(["Underlay"])},wallpaper:e=>{const{normalize:t}=e;return t(["Wallpaper"])},poll:e=>{const{normalize:t}=e;return t(["Poll graph"])},icons:e=>{const{normalize:t}=e;return t(["Icons"])},highlight:e=>{const{normalize:t}=e;return t(["Highlighted elements"])},pressed:e=>{const{normalize:t}=e;return t(["Pressed"])},selectedPost:e=>{const{normalize:t}=e;return t(["Selected post"])},selectedMenu:e=>{const{normalize:t}=e;return t(["Selected menu item"])},disabled:e=>{const{normalize:t}=e;return t(["Disabled"])},toggled:e=>{const{normalize:t}=e;return t(["Toggled"])},tabs:e=>{const{normalize:t}=e;return t(["Tabs"])},chat:{incoming:e=>{const{normalize:t}=e;return t(["Incoming"])},outgoing:e=>{const{normalize:t}=e;return t(["Outgoing"])},border:e=>{const{normalize:t}=e;return t(["Border"])}}},radii:{_tab_label:e=>{const{normalize:t}=e;return t(["Roundness"])}},shadows:{_tab_label:e=>{const{normalize:t}=e;return t(["Shadow and lighting"])},component:e=>{const{normalize:t}=e;return t(["Component"])},override:e=>{const{normalize:t}=e;return t(["Override"])},shadow_id:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Shadow #",n(o("value"))])},blur:e=>{const{normalize:t}=e;return t(["Blur"])},spread:e=>{const{normalize:t}=e;return t(["Spread"])},inset:e=>{const{normalize:t}=e;return t(["Inset"])},hintV3:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["For shadows you can also use the ",n(o(0))," notation to use other color slot."])},filter_hint:{always_drop_shadow:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Warning, this shadow always uses ",n(o(0))," when browser supports it."])},drop_shadow_syntax:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0))," does not support ",n(o(1))," parameter and ",n(o(2))," keyword."])},avatar_inset:e=>{const{normalize:t}=e;return t(["Please note that combining both inset and non-inset shadows on avatars might give unexpected results with transparent avatars."])},spread_zero:e=>{const{normalize:t}=e;return t(["Shadows with spread > 0 will appear as if it was set to zero"])},inset_classic:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Inset shadows will be using ",n(o(0))])}},components:{panel:e=>{const{normalize:t}=e;return t(["Panel"])},panelHeader:e=>{const{normalize:t}=e;return t(["Panel header"])},topBar:e=>{const{normalize:t}=e;return t(["Top bar"])},avatar:e=>{const{normalize:t}=e;return t(["User avatar (in profile view)"])},avatarStatus:e=>{const{normalize:t}=e;return t(["User avatar (in post display)"])},popup:e=>{const{normalize:t}=e;return t(["Popups and tooltips"])},button:e=>{const{normalize:t}=e;return t(["Button"])},buttonHover:e=>{const{normalize:t}=e;return t(["Button (hover)"])},buttonPressed:e=>{const{normalize:t}=e;return t(["Button (pressed)"])},buttonPressedHover:e=>{const{normalize:t}=e;return t(["Button (pressed+hover)"])},input:e=>{const{normalize:t}=e;return t(["Input field"])}}},fonts:{_tab_label:e=>{const{normalize:t}=e;return t(["Fonts"])},help:e=>{const{normalize:t}=e;return t(['Select font to use for elements of UI. For "custom" you have to enter exact font name as it appears in system.'])},components:{interface:e=>{const{normalize:t}=e;return t(["Interface"])},input:e=>{const{normalize:t}=e;return t(["Input fields"])},post:e=>{const{normalize:t}=e;return t(["Post text"])},monospace:e=>{const{normalize:t}=e;return t(["Monospaced text"])}},family:e=>{const{normalize:t}=e;return t(["Font name"])},size:e=>{const{normalize:t}=e;return t(["Size (in px)"])},weight:e=>{const{normalize:t}=e;return t(["Weight (boldness)"])},custom:e=>{const{normalize:t}=e;return t(["Custom"])}},preview:{header:e=>{const{normalize:t}=e;return t(["Preview"])},content:e=>{const{normalize:t}=e;return t(["Content"])},error:e=>{const{normalize:t}=e;return t(["Example error"])},button:e=>{const{normalize:t}=e;return t(["Button"])},text:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["A bunch of more ",n(o(0))," and ",n(o(1))])},mono:e=>{const{normalize:t}=e;return t(["content"])},input:e=>{const{normalize:t}=e;return t(["Just landed in L.A."])},faint_link:e=>{const{normalize:t}=e;return t(["helpful manual"])},fine_print:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Read our ",n(o(0))," to learn nothing useful!"])},header_faint:e=>{const{normalize:t}=e;return t(["This is fine"])},checkbox:e=>{const{normalize:t}=e;return t(["I have skimmed over terms and conditions"])},link:e=>{const{normalize:t}=e;return t(["a nice lil' link"])}}},version:{title:e=>{const{normalize:t}=e;return t(["Version"])},backend_version:e=>{const{normalize:t}=e;return t(["Backend version"])},frontend_version:e=>{const{normalize:t}=e;return t(["Frontend version"])}},commit_value:e=>{const{normalize:t}=e;return t(["Save"])},commit_value_tooltip:e=>{const{normalize:t}=e;return t(["Value is not saved, press this button to commit your changes"])},reset_value:e=>{const{normalize:t}=e;return t(["Reset"])},reset_value_tooltip:e=>{const{normalize:t}=e;return t(["Reset draft"])},hard_reset_value:e=>{const{normalize:t}=e;return t(["Hard reset"])},hard_reset_value_tooltip:e=>{const{normalize:t}=e;return t(["Remove setting from storage, forcing use of default value"])}},admin_dash:{window_title:e=>{const{normalize:t}=e;return t(["Administration"])},wip_notice:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["This admin dashboard is experimental and WIP, ",n(o("adminFeLink")),"."])},old_ui_link:e=>{const{normalize:t}=e;return t(["old admin UI available here"])},reset_all:e=>{const{normalize:t}=e;return t(["Reset all"])},commit_all:e=>{const{normalize:t}=e;return t(["Save all"])},tabs:{nodb:e=>{const{normalize:t}=e;return t(["No DB Config"])},instance:e=>{const{normalize:t}=e;return t(["Instance"])},limits:e=>{const{normalize:t}=e;return t(["Limits"])},frontends:e=>{const{normalize:t}=e;return t(["Front-ends"])},emoji:e=>{const{normalize:t}=e;return t(["Emoji"])}},nodb:{heading:e=>{const{normalize:t}=e;return t(["Database config is disabled"])},text:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["You need to change backend config files so that ",n(o("property"))," is set to ",n(o("value")),", see more in ",n(o("documentation")),"."])},documentation:e=>{const{normalize:t}=e;return t(["documentation"])},text2:e=>{const{normalize:t}=e;return t(["Most configuration options will be unavailable."])}},captcha:{native:e=>{const{normalize:t}=e;return t(["Native"])},kocaptcha:e=>{const{normalize:t}=e;return t(["KoCaptcha"])}},instance:{instance:e=>{const{normalize:t}=e;return t(["Instance information"])},registrations:e=>{const{normalize:t}=e;return t(["User sign-ups"])},captcha_header:e=>{const{normalize:t}=e;return t(["CAPTCHA"])},kocaptcha:e=>{const{normalize:t}=e;return t(["KoCaptcha settings"])},access:e=>{const{normalize:t}=e;return t(["Instance access"])},restrict:{header:e=>{const{normalize:t}=e;return t(["Restrict access for anonymous visitors"])},description:e=>{const{normalize:t}=e;return t(["Detailed setting for allowing/disallowing access to certain aspects of API. By default (indeterminate state) it will disallow if instance is not public, ticked checkbox means disallow access even if instance is public, unticked means allow access even if instance is private. Please note that unexpected behavior might happen if some settings are set, i.e. if profile access is disabled posts will show without profile information."])},timelines:e=>{const{normalize:t}=e;return t(["Timelines access"])},profiles:e=>{const{normalize:t}=e;return t(["User profiles access"])},activities:e=>{const{normalize:t}=e;return t(["Statuses/activities access"])}}},limits:{arbitrary_limits:e=>{const{normalize:t}=e;return t(["Arbitrary limits"])},posts:e=>{const{normalize:t}=e;return t(["Post limits"])},uploads:e=>{const{normalize:t}=e;return t(["Attachments limits"])},users:e=>{const{normalize:t}=e;return t(["User profile limits"])},profile_fields:e=>{const{normalize:t}=e;return t(["Profile fields limits"])},user_uploads:e=>{const{normalize:t}=e;return t(["Profile media limits"])}},frontend:{repository:e=>{const{normalize:t}=e;return t(["Repository link"])},versions:e=>{const{normalize:t}=e;return t(["Available versions"])},build_url:e=>{const{normalize:t}=e;return t(["Build URL"])},reinstall:e=>{const{normalize:t}=e;return t(["Reinstall"])},is_default:e=>{const{normalize:t}=e;return t(["(Default)"])},is_default_custom:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["(Default, version: ",n(o("version")),")"])},install:e=>{const{normalize:t}=e;return t(["Install"])},install_version:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Install version ",n(o("version"))])},more_install_options:e=>{const{normalize:t}=e;return t(["More install options"])},more_default_options:e=>{const{normalize:t}=e;return t(["More default setting options"])},set_default:e=>{const{normalize:t}=e;return t(["Set default"])},set_default_version:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Set version ",n(o("version"))," as default"])},wip_notice:e=>{const{normalize:t}=e;return t(["Please note that this section is a WIP and lacks certain features as backend implementation of front-end management is incomplete."])},default_frontend:e=>{const{normalize:t}=e;return t(["Default frontend"])},default_frontend_tip:e=>{const{normalize:t}=e;return t(["Default frontend will be shown to all users. Currently there's no way to for a user to select personal frontend. If you switch away from PleromaFE you'll most likely have to use old and buggy AdminFE to do instance configuration until we replace it."])},default_frontend_unavail:e=>{const{normalize:t}=e;return t(["Default frontend settings are not available, as this requires configuration in the database"])},available_frontends:e=>{const{normalize:t}=e;return t(["Available for install"])},failure_installing_frontend:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Failed to install frontend ",n(o("version")),": ",n(o("reason"))])},success_installing_frontend:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Frontend ",n(o("version"))," successfully installed"])}},emoji:{global_actions:e=>{const{normalize:t}=e;return t(["Global actions"])},reload:e=>{const{normalize:t}=e;return t(["Reload emoji"])},importFS:e=>{const{normalize:t}=e;return t(["Import emoji from filesystem"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error: ",n(o(0))])},create_pack:e=>{const{normalize:t}=e;return t(["Create pack"])},delete_pack:e=>{const{normalize:t}=e;return t(["Delete pack"])},new_pack_name:e=>{const{normalize:t}=e;return t(["New pack name"])},create:e=>{const{normalize:t}=e;return t(["Create"])},emoji_packs:e=>{const{normalize:t}=e;return t(["Emoji packs"])},remote_packs:e=>{const{normalize:t}=e;return t(["Remote packs"])},do_list:e=>{const{normalize:t}=e;return t(["List"])},remote_pack_instance:e=>{const{normalize:t}=e;return t(["Remote pack instance"])},emoji_pack:e=>{const{normalize:t}=e;return t(["Emoji pack"])},edit_pack:e=>{const{normalize:t}=e;return t(["Edit pack"])},description:e=>{const{normalize:t}=e;return t(["Description"])},homepage:e=>{const{normalize:t}=e;return t(["Homepage"])},fallback_src:e=>{const{normalize:t}=e;return t(["Fallback source"])},fallback_sha256:e=>{const{normalize:t}=e;return t(["Fallback SHA256"])},share:e=>{const{normalize:t}=e;return t(["Share"])},save:e=>{const{normalize:t}=e;return t(["Save"])},save_meta:e=>{const{normalize:t}=e;return t(["Save metadata"])},revert_meta:e=>{const{normalize:t}=e;return t(["Revert metadata"])},delete:e=>{const{normalize:t}=e;return t(["Delete"])},revert:e=>{const{normalize:t}=e;return t(["Revert"])},add_file:e=>{const{normalize:t}=e;return t(["Add file"])},adding_new:e=>{const{normalize:t}=e;return t(["Adding new emoji"])},shortcode:e=>{const{normalize:t}=e;return t(["Shortcode"])},filename:e=>{const{normalize:t}=e;return t(["Filename"])},new_shortcode:e=>{const{normalize:t}=e;return t(["Shortcode, leave blank to infer"])},new_filename:e=>{const{normalize:t}=e;return t(["Filename, leave blank to infer"])},delete_confirm:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Are you sure you want to delete ",n(o(0)),"?"])},download_pack:e=>{const{normalize:t}=e;return t(["Download pack"])},downloading_pack:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Downloading ",n(o(0))])},download:e=>{const{normalize:t}=e;return t(["Download"])},download_as_name:e=>{const{normalize:t}=e;return t(["New name"])},download_as_name_full:e=>{const{normalize:t}=e;return t(["New name, leave blank to reuse"])},files:e=>{const{normalize:t}=e;return t(["Files"])},editing:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Editing ",n(o(0))])},delete_title:e=>{const{normalize:t}=e;return t(["Delete?"])},metadata_changed:e=>{const{normalize:t}=e;return t(["Metadata different from saved"])},emoji_changed:e=>{const{normalize:t}=e;return t(["Unsaved emoji file changes, check highlighted emoji"])},replace_warning:e=>{const{normalize:t}=e;return t(["This will REPLACE the local pack of the same name"])}},temp_overrides:{":pleroma":{":instance":{":public":{label:e=>{const{normalize:t}=e;return t(["Instance is public"])},description:e=>{const{normalize:t}=e;return t(["Disabling this will make all API accessible only for logged-in users, this will make Public and Federated timelines inaccessible to anonymous visitors."])}},":limit_to_local_content":{label:e=>{const{normalize:t}=e;return t(["Limit search to local content"])},description:e=>{const{normalize:t}=e;return t(["Disables global network search for unauthenticated (default), all users or none"])}},":description_limit":{label:e=>{const{normalize:t}=e;return t(["Limit"])},description:e=>{const{normalize:t}=e;return t(["Character limit for attachment descriptions"])}},":background_image":{label:e=>{const{normalize:t}=e;return t(["Background image"])},description:e=>{const{normalize:t}=e;return t(["Background image (primarily used by PleromaFE)"])}}}}}},time:{unit:{days:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," day"]),t([n(o(0))," days"])])},days_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"d"])},hours:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," hour"]),t([n(o(0))," hours"])])},hours_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"h"])},minutes:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," minute"]),t([n(o(0))," minutes"])])},minutes_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"min"])},months:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," month"]),t([n(o(0))," months"])])},months_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"mo"])},seconds:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," second"]),t([n(o(0))," seconds"])])},seconds_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"s"])},weeks:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," week"]),t([n(o(0))," weeks"])])},weeks_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"w"])},years:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," year"]),t([n(o(0))," years"])])},years_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"y"])}},in_future:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["in ",n(o(0))])},in_past:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0))," ago"])},now:e=>{const{normalize:t}=e;return t(["just now"])},now_short:e=>{const{normalize:t}=e;return t(["now"])}},timeline:{collapse:e=>{const{normalize:t}=e;return t(["Collapse"])},conversation:e=>{const{normalize:t}=e;return t(["Conversation"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error fetching timeline: ",n(o(0))])},load_older:e=>{const{normalize:t}=e;return t(["Load older statuses"])},no_retweet_hint:e=>{const{normalize:t}=e;return t(["Post is marked as followers-only or direct and cannot be repeated"])},repeated:e=>{const{normalize:t}=e;return t(["repeated"])},show_new:e=>{const{normalize:t}=e;return t(["Show new"])},reload:e=>{const{normalize:t}=e;return t(["Reload"])},up_to_date:e=>{const{normalize:t}=e;return t(["Up-to-date"])},no_more_statuses:e=>{const{normalize:t}=e;return t(["No more statuses"])},no_statuses:e=>{const{normalize:t}=e;return t(["No statuses"])},socket_reconnected:e=>{const{normalize:t}=e;return t(["Realtime connection established"])},socket_broke:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Realtime connection lost: CloseEvent code ",n(o(0))])},quick_view_settings:e=>{const{normalize:t}=e;return t(["Quick view settings"])},quick_filter_settings:e=>{const{normalize:t}=e;return t(["Quick filter settings"])}},status:{favorites:e=>{const{normalize:t}=e;return t(["Favorites"])},repeats:e=>{const{normalize:t}=e;return t(["Repeats"])},quotes:e=>{const{normalize:t}=e;return t(["Quotes"])},repeat_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to repeat this status?"])},repeat_confirm_title:e=>{const{normalize:t}=e;return t(["Repeat confirmation"])},repeat_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Repeat"])},repeat_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not repeat"])},delete:e=>{const{normalize:t}=e;return t(["Delete status"])},delete_error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error deleting status: ",n(o(0))])},edit:e=>{const{normalize:t}=e;return t(["Edit status"])},edited_at:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["(last edited ",n(o("time")),")"])},pin:e=>{const{normalize:t}=e;return t(["Pin on profile"])},unpin:e=>{const{normalize:t}=e;return t(["Unpin from profile"])},pinned:e=>{const{normalize:t}=e;return t(["Pinned"])},bookmark:e=>{const{normalize:t}=e;return t(["Bookmark"])},unbookmark:e=>{const{normalize:t}=e;return t(["Unbookmark"])},delete_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to delete this status?"])},delete_confirm_title:e=>{const{normalize:t}=e;return t(["Delete confirmation"])},delete_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Delete"])},delete_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Keep"])},reply_to:e=>{const{normalize:t}=e;return t(["Reply to"])},mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},replies_list:e=>{const{normalize:t}=e;return t(["Replies:"])},replies_list_with_others:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Replies (+",n(o("numReplies"))," other):"]),t(["Replies (+",n(o("numReplies"))," others):"])])},mute_conversation:e=>{const{normalize:t}=e;return t(["Mute conversation"])},unmute_conversation:e=>{const{normalize:t}=e;return t(["Unmute conversation"])},status_unavailable:e=>{const{normalize:t}=e;return t(["Status unavailable"])},copy_link:e=>{const{normalize:t}=e;return t(["Copy link to status"])},external_source:e=>{const{normalize:t}=e;return t(["External source"])},thread_muted:e=>{const{normalize:t}=e;return t(["Thread muted"])},thread_muted_and_words:e=>{const{normalize:t}=e;return t([", has words:"])},sensitive_muted:e=>{const{normalize:t}=e;return t(["Muting sensitive content"])},show_full_subject:e=>{const{normalize:t}=e;return t(["Show full subject"])},hide_full_subject:e=>{const{normalize:t}=e;return t(["Hide full subject"])},show_content:e=>{const{normalize:t}=e;return t(["Show content"])},hide_content:e=>{const{normalize:t}=e;return t(["Hide content"])},status_deleted:e=>{const{normalize:t}=e;return t(["This post was deleted"])},nsfw:e=>{const{normalize:t}=e;return t(["NSFW"])},expand:e=>{const{normalize:t}=e;return t(["Expand"])},you:e=>{const{normalize:t}=e;return t(["(You)"])},plus_more:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["+",n(o("number"))," more"])},many_attachments:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Post has ",n(o("number"))," attachment(s)"])},collapse_attachments:e=>{const{normalize:t}=e;return t(["Collapse attachments"])},show_all_attachments:e=>{const{normalize:t}=e;return t(["Show all attachments"])},show_attachment_in_modal:e=>{const{normalize:t}=e;return t(["Show in media modal"])},show_attachment_description:e=>{const{normalize:t}=e;return t(["Preview description (open attachment for full description)"])},hide_attachment:e=>{const{normalize:t}=e;return t(["Hide attachment"])},remove_attachment:e=>{const{normalize:t}=e;return t(["Remove attachment"])},attachment_stop_flash:e=>{const{normalize:t}=e;return t(["Stop Flash player"])},move_up:e=>{const{normalize:t}=e;return t(["Shift attachment left"])},move_down:e=>{const{normalize:t}=e;return t(["Shift attachment right"])},open_gallery:e=>{const{normalize:t}=e;return t(["Open gallery"])},thread_hide:e=>{const{normalize:t}=e;return t(["Hide this thread"])},thread_show:e=>{const{normalize:t}=e;return t(["Show this thread"])},thread_show_full:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Show everything under this thread (",n(o("numStatus"))," status in total, max depth ",n(o("depth")),")"]),t(["Show everything under this thread (",n(o("numStatus"))," statuses in total, max depth ",n(o("depth")),")"])])},thread_show_full_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},thread_follow:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["See the remaining part of this thread (",n(o("numStatus"))," status in total)"]),t(["See the remaining part of this thread (",n(o("numStatus"))," statuses in total)"])])},thread_follow_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},ancestor_follow:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["See ",n(o("numReplies"))," other reply under this status"]),t(["See ",n(o("numReplies"))," other replies under this status"])])},ancestor_follow_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},show_all_conversation_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},show_all_conversation:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Show full conversation (",n(o("numStatus"))," other status)"]),t(["Show full conversation (",n(o("numStatus"))," other statuses)"])])},show_only_conversation_under_this:e=>{const{normalize:t}=e;return t(["Only show replies to this status"])},status_history:e=>{const{normalize:t}=e;return t(["Status history"])},reaction_count_label:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("num"))," person reacted"]),t([n(o("num"))," people reacted"])])},hide_quote:e=>{const{normalize:t}=e;return t(["Hide the quoted status"])},display_quote:e=>{const{normalize:t}=e;return t(["Display the quoted status"])},invisible_quote:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Quoted status unavailable: ",n(o("link"))])},more_actions:e=>{const{normalize:t}=e;return t(["More actions on this status"])},loading:e=>{const{normalize:t}=e;return t(["Loading..."])},load_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Unable to load status: ",n(o("error"))])}},user_card:{approve:e=>{const{normalize:t}=e;return t(["Approve"])},approve_confirm_title:e=>{const{normalize:t}=e;return t(["Approve confirmation"])},approve_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Approve"])},approve_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not approve"])},approve_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you want to approve ",n(o("user")),"'s follow request?"])},block:e=>{const{normalize:t}=e;return t(["Block"])},blocked:e=>{const{normalize:t}=e;return t(["Blocked!"])},block_confirm_title:e=>{const{normalize:t}=e;return t(["Block confirmation"])},block_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to block ",n(o("user")),"?"])},block_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Block"])},block_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not block"])},deactivated:e=>{const{normalize:t}=e;return t(["Deactivated"])},deny:e=>{const{normalize:t}=e;return t(["Deny"])},deny_confirm_title:e=>{const{normalize:t}=e;return t(["Deny confirmation"])},deny_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Deny"])},deny_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not deny"])},deny_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you want to deny ",n(o("user")),"'s follow request?"])},edit_profile:e=>{const{normalize:t}=e;return t(["Edit profile"])},favorites:e=>{const{normalize:t}=e;return t(["Favorites"])},follow:e=>{const{normalize:t}=e;return t(["Follow"])},follow_cancel:e=>{const{normalize:t}=e;return t(["Cancel request"])},follow_sent:e=>{const{normalize:t}=e;return t(["Request sent!"])},follow_progress:e=>{const{normalize:t}=e;return t(["Requesting…"])},follow_unfollow:e=>{const{normalize:t}=e;return t(["Unfollow"])},unfollow_confirm_title:e=>{const{normalize:t}=e;return t(["Unfollow confirmation"])},unfollow_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to unfollow ",n(o("user")),"?"])},unfollow_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Unfollow"])},unfollow_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not unfollow"])},followees:e=>{const{normalize:t}=e;return t(["Following"])},followers:e=>{const{normalize:t}=e;return t(["Followers"])},following:e=>{const{normalize:t}=e;return t(["Following!"])},follows_you:e=>{const{normalize:t}=e;return t(["Follows you!"])},hidden:e=>{const{normalize:t}=e;return t(["Hidden"])},its_you:e=>{const{normalize:t}=e;return t(["It's you!"])},media:e=>{const{normalize:t}=e;return t(["Media"])},mention:e=>{const{normalize:t}=e;return t(["Mention"])},message:e=>{const{normalize:t}=e;return t(["Message"])},mute:e=>{const{normalize:t}=e;return t(["Mute"])},muted:e=>{const{normalize:t}=e;return t(["Muted"])},mute_confirm_title:e=>{const{normalize:t}=e;return t(["Mute confirmation"])},mute_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to mute ",n(o("user")),"?"])},mute_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Mute"])},mute_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not mute"])},mute_duration_prompt:e=>{const{normalize:t}=e;return t(["Mute this user for (0 for indefinite time):"])},per_day:e=>{const{normalize:t}=e;return t(["per day"])},remote_follow:e=>{const{normalize:t}=e;return t(["Remote follow"])},remove_follower:e=>{const{normalize:t}=e;return t(["Remove follower"])},remove_follower_confirm_title:e=>{const{normalize:t}=e;return t(["Remove follower confirmation"])},remove_follower_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Remove"])},remove_follower_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Keep"])},remove_follower_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to remove ",n(o("user"))," from your followers?"])},report:e=>{const{normalize:t}=e;return t(["Report"])},statuses:e=>{const{normalize:t}=e;return t(["Statuses"])},subscribe:e=>{const{normalize:t}=e;return t(["Subscribe"])},unsubscribe:e=>{const{normalize:t}=e;return t(["Unsubscribe"])},unblock:e=>{const{normalize:t}=e;return t(["Unblock"])},unblock_progress:e=>{const{normalize:t}=e;return t(["Unblocking…"])},block_progress:e=>{const{normalize:t}=e;return t(["Blocking…"])},unmute:e=>{const{normalize:t}=e;return t(["Unmute"])},unmute_progress:e=>{const{normalize:t}=e;return t(["Unmuting…"])},mute_progress:e=>{const{normalize:t}=e;return t(["Muting…"])},hide_repeats:e=>{const{normalize:t}=e;return t(["Hide repeats"])},show_repeats:e=>{const{normalize:t}=e;return t(["Show repeats"])},bot:e=>{const{normalize:t}=e;return t(["Bot"])},group:e=>{const{normalize:t}=e;return t(["Group"])},birthday:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Born ",n(o("birthday"))])},admin_menu:{moderation:e=>{const{normalize:t}=e;return t(["Moderation"])},grant_admin:e=>{const{normalize:t}=e;return t(["Grant Admin"])},revoke_admin:e=>{const{normalize:t}=e;return t(["Revoke Admin"])},grant_moderator:e=>{const{normalize:t}=e;return t(["Grant Moderator"])},revoke_moderator:e=>{const{normalize:t}=e;return t(["Revoke Moderator"])},activate_account:e=>{const{normalize:t}=e;return t(["Activate account"])},deactivate_account:e=>{const{normalize:t}=e;return t(["Deactivate account"])},delete_account:e=>{const{normalize:t}=e;return t(["Delete account"])},force_nsfw:e=>{const{normalize:t}=e;return t(["Mark all posts as NSFW"])},strip_media:e=>{const{normalize:t}=e;return t(["Remove media from posts"])},force_unlisted:e=>{const{normalize:t}=e;return t(["Force posts to be unlisted"])},sandbox:e=>{const{normalize:t}=e;return t(["Force posts to be followers-only"])},disable_remote_subscription:e=>{const{normalize:t}=e;return t(["Disallow following user from remote instances"])},disable_any_subscription:e=>{const{normalize:t}=e;return t(["Disallow following user at all"])},quarantine:e=>{const{normalize:t}=e;return t(["Disallow user posts from federating"])},delete_user:e=>{const{normalize:t}=e;return t(["Delete user"])},delete_user_data_and_deactivate_confirmation:e=>{const{normalize:t}=e;return t(["This will permanently delete the data from this account and deactivate it. Are you absolutely sure?"])}},highlight:{disabled:e=>{const{normalize:t}=e;return t(["No highlight"])},solid:e=>{const{normalize:t}=e;return t(["Solid bg"])},striped:e=>{const{normalize:t}=e;return t(["Striped bg"])},side:e=>{const{normalize:t}=e;return t(["Side stripe"])}},note:e=>{const{normalize:t}=e;return t(["Note"])},note_blank:e=>{const{normalize:t}=e;return t(["(None)"])},edit_note:e=>{const{normalize:t}=e;return t(["Edit note"])},edit_note_apply:e=>{const{normalize:t}=e;return t(["Apply"])},edit_note_cancel:e=>{const{normalize:t}=e;return t(["Cancel"])}},user_profile:{timeline_title:e=>{const{normalize:t}=e;return t(["User timeline"])},profile_does_not_exist:e=>{const{normalize:t}=e;return t(["Sorry, this profile does not exist."])},profile_loading_error:e=>{const{normalize:t}=e;return t(["Sorry, there was an error loading this profile."])}},user_reporting:{title:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Reporting ",n(o(0))])},add_comment_description:e=>{const{normalize:t}=e;return t(["The report will be sent to your instance moderators. You can provide an explanation of why you are reporting this account below:"])},additional_comments:e=>{const{normalize:t}=e;return t(["Additional comments"])},forward_description:e=>{const{normalize:t}=e;return t(["The account is from another server. Send a copy of the report there as well?"])},forward_to:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Forward to ",n(o(0))])},submit:e=>{const{normalize:t}=e;return t(["Submit"])},generic_error:e=>{const{normalize:t}=e;return t(["An error occurred while processing your request."])}},who_to_follow:{more:e=>{const{normalize:t}=e;return t(["More"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])}},tool_tip:{media_upload:e=>{const{normalize:t}=e;return t(["Upload media"])},repeat:e=>{const{normalize:t}=e;return t(["Repeat"])},reply:e=>{const{normalize:t}=e;return t(["Reply"])},favorite:e=>{const{normalize:t}=e;return t(["Favorite"])},add_reaction:e=>{const{normalize:t}=e;return t(["Add Reaction"])},user_settings:e=>{const{normalize:t}=e;return t(["User Settings"])},accept_follow_request:e=>{const{normalize:t}=e;return t(["Accept follow request"])},reject_follow_request:e=>{const{normalize:t}=e;return t(["Reject follow request"])},bookmark:e=>{const{normalize:t}=e;return t(["Bookmark"])},toggle_expand:e=>{const{normalize:t}=e;return t(["Expand or collapse notification to show post in full"])},toggle_mute:e=>{const{normalize:t}=e;return t(["Expand or collapse notification to reveal muted content"])},autocomplete_available:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("number"))," result is available. Use up and down keys to navigate through them."]),t([n(o("number"))," results are available. Use up and down keys to navigate through them."])])}},upload:{error:{base:e=>{const{normalize:t}=e;return t(["Upload failed."])},message:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Upload failed: ",n(o(0))])},file_too_big:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["File too big [",n(o("filesize")),n(o("filesizeunit"))," / ",n(o("allowedsize")),n(o("allowedsizeunit")),"]"])},default:e=>{const{normalize:t}=e;return t(["Try again later"])}},file_size_units:{B:e=>{const{normalize:t}=e;return t(["B"])},KiB:e=>{const{normalize:t}=e;return t(["KiB"])},MiB:e=>{const{normalize:t}=e;return t(["MiB"])},GiB:e=>{const{normalize:t}=e;return t(["GiB"])},TiB:e=>{const{normalize:t}=e;return t(["TiB"])}}},search:{people:e=>{const{normalize:t}=e;return t(["People"])},hashtags:e=>{const{normalize:t}=e;return t(["Hashtags"])},person_talking:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("count"))," person talking"])},people_talking:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("count"))," people talking"])},no_results:e=>{const{normalize:t}=e;return t(["No results"])},no_more_results:e=>{const{normalize:t}=e;return t(["No more results"])},load_more:e=>{const{normalize:t}=e;return t(["Load more results"])}},password_reset:{forgot_password:e=>{const{normalize:t}=e;return t(["Forgot password?"])},password_reset:e=>{const{normalize:t}=e;return t(["Password reset"])},instruction:e=>{const{normalize:t}=e;return t(["Enter your email address or username. We will send you a link to reset your password."])},placeholder:e=>{const{normalize:t}=e;return t(["Your email or username"])},check_email:e=>{const{normalize:t}=e;return t(["Check your email for a link to reset your password."])},return_home:e=>{const{normalize:t}=e;return t(["Return to the home page"])},too_many_requests:e=>{const{normalize:t}=e;return t(["You have reached the limit of attempts, try again later."])},password_reset_disabled:e=>{const{normalize:t}=e;return t(["Password reset is disabled. Please contact your instance administrator."])},password_reset_required:e=>{const{normalize:t}=e;return t(["You must reset your password to log in."])},password_reset_required_but_mailer_is_disabled:e=>{const{normalize:t}=e;return t(["You must reset your password, but password reset is disabled. Please contact your instance administrator."])}},chats:{you:e=>{const{normalize:t}=e;return t(["You:"])},message_user:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Message ",n(o("nickname"))])},delete:e=>{const{normalize:t}=e;return t(["Delete"])},chats:e=>{const{normalize:t}=e;return t(["Chats"])},new:e=>{const{normalize:t}=e;return t(["New Chat"])},empty_message_error:e=>{const{normalize:t}=e;return t(["Cannot post empty message"])},more:e=>{const{normalize:t}=e;return t(["More"])},delete_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to delete this message?"])},error_loading_chat:e=>{const{normalize:t}=e;return t(["Something went wrong when loading the chat."])},error_sending_message:e=>{const{normalize:t}=e;return t(["Something went wrong when sending the message."])},empty_chat_list_placeholder:e=>{const{normalize:t}=e;return t(["You don't have any chats yet. Start a new chat!"])}},lists:{lists:e=>{const{normalize:t}=e;return t(["Lists"])},new:e=>{const{normalize:t}=e;return t(["New List"])},title:e=>{const{normalize:t}=e;return t(["List title"])},search:e=>{const{normalize:t}=e;return t(["Search users"])},create:e=>{const{normalize:t}=e;return t(["Create"])},save:e=>{const{normalize:t}=e;return t(["Save changes"])},delete:e=>{const{normalize:t}=e;return t(["Delete list"])},following_only:e=>{const{normalize:t}=e;return t(["Limit to Following"])},manage_lists:e=>{const{normalize:t}=e;return t(["Manage lists"])},manage_members:e=>{const{normalize:t}=e;return t(["Manage list members"])},add_members:e=>{const{normalize:t}=e;return t(["Search for more users"])},remove_from_list:e=>{const{normalize:t}=e;return t(["Remove from list"])},add_to_list:e=>{const{normalize:t}=e;return t(["Add to list"])},is_in_list:e=>{const{normalize:t}=e;return t(["Already in list"])},editing_list:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Editing list ",n(o("listTitle"))])},creating_list:e=>{const{normalize:t}=e;return t(["Creating new list"])},update_title:e=>{const{normalize:t}=e;return t(["Save Title"])},really_delete:e=>{const{normalize:t}=e;return t(["Really delete list?"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error manipulating lists: ",n(o(0))])}},file_type:{audio:e=>{const{normalize:t}=e;return t(["Audio"])},video:e=>{const{normalize:t}=e;return t(["Video"])},image:e=>{const{normalize:t}=e;return t(["Image"])},file:e=>{const{normalize:t}=e;return t(["File"])}},display_date:{today:e=>{const{normalize:t}=e;return t(["Today"])}},update:{big_update_title:e=>{const{normalize:t}=e;return t(["Please bear with us"])},big_update_content:e=>{const{normalize:t}=e;return t(["We haven't had a release in a while, so things might look and feel different than what you're used to."])},update_bugs:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Please report any issues and bugs on ",n(o("pleromaGitlab")),", as we have changed a lot, and although we test thoroughly and use development versions ourselves, we may have missed some things. We welcome your feedback and suggestions on issues you might encounter, or how to improve Pleroma and Pleroma-FE."])},update_bugs_gitlab:e=>{const{normalize:t}=e;return t(["Pleroma GitLab"])},update_changelog:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["For more details on what's changed, see ",n(o("theFullChangelog")),"."])},update_changelog_here:e=>{const{normalize:t}=e;return t(["the full changelog"])},art_by:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Art by ",n(o("linkToArtist"))])}},unicode_domain_indicator:{tooltip:e=>{const{normalize:t}=e;return t(["This domain contains non-ascii characters."])}}}},1395:(e,t,n)=>{var o={"./af.json":[44919,6355],"./am.json":[53139,5119],"./ar.json":[44557,9873],"./ar_SA.json":[23450,7360],"./as.json":[44359,3377],"./ast.json":[13764,7569],"./az.json":[86459,2342],"./be.json":[50866,7304],"./bg.json":[26219,3974],"./bn.json":[69178,9064],"./br.json":[67871,6148],"./bs.json":[75340,8134],"./ca.json":[86914,4691],"./ccp.json":[73872,1162],"./ceb.json":[64478,9790],"./chr.json":[61017,6869],"./ckb.json":[56412,2656],"./cs.json":[8888,4710],"./cy.json":[25392,6272],"./da.json":[35042,1596],"./de.json":[35169,6226],"./de_CH.json":[28246,7164],"./doi.json":[59784,4209],"./dsb.json":[60634,1790],"./el.json":[98338,7879],"./en.json":[74990,5728],"./en_001.json":[62736,577],"./en_AU.json":[2597,9360],"./en_CA.json":[1516,4879],"./en_GB.json":[84830,50],"./en_IN.json":[71809,8988],"./es.json":[61148,6831],"./es_419.json":[25696,8873],"./es_MX.json":[11915,2699],"./es_US.json":[87826,3313],"./et.json":[66641,3276],"./eu.json":[6541,2992],"./fa.json":[43305,5521],"./fi.json":[40752,420],"./fil.json":[26843,1236],"./fo.json":[43032,8995],"./fr.json":[80898,2223],"./fr_CA.json":[54515,1821],"./ga.json":[66572,4571],"./gd.json":[9185,6116],"./gl.json":[23840,6126],"./gu.json":[85811,7261],"./ha.json":[91566,227],"./ha_NE.json":[3400,5304],"./he.json":[26260,5548],"./hi.json":[18136,5968],"./hi_Latn.json":[95638,3056],"./hr.json":[77435,2861],"./hsb.json":[15758,8015],"./hu.json":[2727,4902],"./hy.json":[8397,6344],"./ia.json":[49796,6936],"./id.json":[56635,9465],"./ig.json":[26406,9895],"./is.json":[51391,7300],"./it.json":[54879,8970],"./ja.json":[2971,1290],"./jv.json":[18644,2479],"./ka.json":[71255,6068],"./kab.json":[92892,9780],"./kk.json":[46419,2873],"./kl.json":[2227,2397],"./km.json":[65729,1404],"./kn.json":[65611,278],"./ko.json":[67080,2966],"./kok.json":[47209,2599],"./ku.json":[18738,2883],"./ky.json":[89690,4785],"./lb.json":[3929,4770],"./lo.json":[19778,7464],"./lt.json":[41683,7169],"./lv.json":[54873,8898],"./mai.json":[11781,1613],"./mi.json":[11569,6701],"./mk.json":[67589,9921],"./ml.json":[24415,2685],"./mn.json":[50512,4718],"./mni.json":[81597,5401],"./mr.json":[97747,1911],"./ms.json":[81588,9924],"./mt.json":[25081,9399],"./my.json":[8608,6790],"./ne.json":[8572,9377],"./nl.json":[52355,6773],"./nn.json":[52874,9414],"./no.json":[48005,9979],"./or.json":[26728,1012],"./pa.json":[15042,6946],"./pa_Arab.json":[43578,9994],"./pcm.json":[91163,5104],"./pl.json":[61335,1095],"./ps.json":[51828,678],"./pt.json":[38543,5041],"./pt_PT.json":[8063,1546],"./qu.json":[15821,8031],"./rm.json":[5014,5887],"./ro.json":[34064,9864],"./ru.json":[95222,8395],"./rw.json":[12710,346],"./sa.json":[69343,2243],"./sat.json":[51243,7855],"./sc.json":[1319,2874],"./sd.json":[67728,6826],"./si.json":[5044,4354],"./sk.json":[45626,2350],"./sl.json":[76091,1553],"./so.json":[93761,625],"./sq.json":[1230,4368],"./sr.json":[60445,3887],"./sr_Cyrl_BA.json":[38940,6060],"./sr_Latn.json":[21650,8681],"./sr_Latn_BA.json":[78328,5115],"./su.json":[54395,1959],"./sv.json":[3418,3241],"./sw.json":[11958,7585],"./sw_KE.json":[35001,3994],"./ta.json":[92930,7897],"./te.json":[8748,4786],"./tg.json":[41785,313],"./th.json":[23900,3951],"./ti.json":[368,3568],"./tk.json":[88770,1780],"./to.json":[95781,1584],"./tr.json":[92619,9978],"./tt.json":[87782,2569],"./ug.json":[19005,9757],"./uk.json":[82057,9871],"./ur.json":[13889,6797],"./uz.json":[45108,1056],"./vi.json":[97099,5224],"./wo.json":[9923,7303],"./xh.json":[29064,786],"./yo.json":[11971,8732],"./yo_BJ.json":[64533,9926],"./yue.json":[40648,1452],"./yue_Hans.json":[24800,4424],"./zh.json":[34626,457],"./zh_Hant.json":[82560,2767],"./zh_Hant_HK.json":[47677,1044],"./zu.json":[73784,9319]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,19)))}r.keys=()=>Object.keys(o),r.id=1395,e.exports=r},73359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Alert",selector:".alert",validInnerComponents:["Text","Icon","Link","Border","ButtonUnstyled"],variants:{normal:".neutral",error:".error",warning:".warning",success:".success"},defaultRules:[{directives:{background:"--text",opacity:.5,blur:"9px"}},{parent:{component:"Alert"},component:"Border",textColor:"--parent"},{variant:"error",directives:{background:"--cRed"}},{variant:"warning",directives:{background:"--cOrange"}},{variant:"success",directives:{background:"--cGreen"}}]}},91488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Attachment",selector:".Attachment",validInnerComponents:["Border","ButtonUnstyled","Input"],defaultRules:[{directives:{roundness:3}},{component:"ButtonUnstyled",parent:{component:"Attachment"},directives:{background:"#FFFFFF",opacity:.5}}]}},25982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Badge",selector:".badge",validInnerComponents:["Text","Icon"],variants:{notification:".-notification"},defaultRules:[{component:"Root",directives:{"--badgeNotification":"color | --cRed"}},{directives:{background:"--cGreen"}},{variant:"notification",directives:{background:"--cRed"}}]}},92274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Border",selector:"/*border*/",virtual:!0,defaultRules:[{directives:{textColor:"$mod(--parent, 10)",textAuto:"no-auto"}}]}},69050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Button",selector:".button-default",states:{toggled:".toggled",pressed:":active",hover:":hover:not(:disabled)",focused:":focus-within",disabled:":disabled"},variants:{danger:".danger"},validInnerComponents:["Text","Icon"],defaultRules:[{component:"Root",directives:{"--defaultButtonHoverGlow":"shadow | 0 0 4 --text","--defaultButtonShadow":"shadow | 0 0 2 #000000","--defaultButtonBevel":"shadow | $borderSide(#FFFFFF, top, 0.2) | $borderSide(#000000, bottom, 0.2)","--pressedButtonBevel":"shadow | $borderSide(#FFFFFF, bottom, 0.2)| $borderSide(#000000, top, 0.2)"}},{directives:{background:"--fg",shadow:["--defaultButtonShadow","--defaultButtonBevel"],roundness:3}},{state:["hover"],directives:{shadow:["--defaultButtonHoverGlow","--defaultButtonBevel"]}},{state:["pressed"],directives:{shadow:["--defaultButtonShadow","--pressedButtonBevel"]}},{state:["hover","pressed"],directives:{shadow:["--defaultButtonHoverGlow","--pressedButtonBevel"]}},{state:["toggled"],directives:{background:"--inheritedBackground,-14.2",shadow:["--defaultButtonShadow","--pressedButtonBevel"]}},{state:["toggled","hover"],directives:{background:"--inheritedBackground,-14.2",shadow:["--defaultButtonHoverGlow","--pressedButtonBevel"]}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground, 0.25, --parent)",shadow:["--defaultButtonBevel"]}},{component:"Text",parent:{component:"Button",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]}},33915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"ButtonUnstyled",selector:".button-unstyled",states:{toggled:".toggled",disabled:":disabled",hover:":hover:not(:disabled)",focused:":focus-within"},validInnerComponents:["Text","Icon","Badge"],defaultRules:[{directives:{background:"#ffffff",opacity:0,shadow:[]}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["hover"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","hover"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","focused"]},directives:{textColor:"--parent--text"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["toggled","focused","hover"]},directives:{textColor:"--parent--text"}},{component:"Text",parent:{component:"ButtonUnstyled",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"ButtonUnstyled",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]}},84369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Chat",selector:".chat-message-list",validInnerComponents:["Text","Link","Icon","Avatar","ChatMessage"],defaultRules:[{directives:{background:"--bg",blur:"5px"}}]}},92260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"ChatMessage",selector:".chat-message",variants:{outgoing:".outgoing"},validInnerComponents:["Text","Icon","Border","Button","RichContent","Attachment","PollGraph"],defaultRules:[{directives:{background:"--bg, 2",backgroundNoCssColor:"yes"}},{variant:"outgoing",directives:{background:"--bg, 5"}}]}},19003:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l});var o=n(15861),r=n(93433),i=n(4942),s=n(64687),a=n.n(s);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(e){var t=d(e.emoji),n=e.store&&p(e.store);return function(o,r){var i=o[0];return":"===i&&e.emoji?t(o,r):"@"===i&&n?n(o):[]}};var d=function(e){return function(t,n){var o=t.toLowerCase().substr(1);return e.map((function(e){return c(c({},e),n(e))})).filter((function(e){return e.names.concat(e.keywords).filter((function(e){return e.toLowerCase().match(o)})).length})).map((function(e){var t=0;return t+=Math.max.apply(Math,(0,r.Z)(e.names.map((function(e){return e.toLowerCase()===o?200:0}))).concat([0])),t+=e.imageUrl?100:0,t+=Math.max.apply(Math,(0,r.Z)(e.names.map((function(e){return e.toLowerCase().startsWith(o)?10:0}))).concat([0])),t-=e.displayText.length,e.score=t,e})).sort((function(e,t){var n=e.displayText>t.displayText?.5:-.5;return t.score-e.score+n}))}},p=function(e){var t=e.dispatch,n=e.state,r=[],i="",s=null,u=null,c=function(e){return u&&u(),new Promise((function(n,o){s=setTimeout((function(){(function(e){return t("searchUsers",{query:e})})(e).then(n).catch(o)}),300),u=function(){clearTimeout(s),n([])}}))};return function(){var e=(0,o.Z)(a().mark((function e(t){var o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.toLowerCase().substr(1),i!==o){e.next=3;break}return e.abrupt("return",r);case 3:if(r=[],i=o,o.includes("@")){e.next=8;break}return e.next=8,c(o);case 8:return s=n.users.users.filter((function(e){return e.screen_name&&e.name&&(e.screen_name.toLowerCase().startsWith(o)||e.name.toLowerCase().startsWith(o))})).slice(0,20).sort((function(e,t){var n=0,r=0;return n+=e.screen_name.toLowerCase().startsWith(o)?2:0,r+=t.screen_name.toLowerCase().startsWith(o)?2:0,n+=e.name.toLowerCase().startsWith(o)?1:0,10*((r+=t.name.toLowerCase().startsWith(o)?1:0)-n)+(e.name>t.name?1:-1)+(e.screen_name>t.screen_name?1:-1)})).map((function(e){return{user:e,displayText:e.screen_name_ui,detailText:e.name,imageUrl:e.profile_image_url_original,replacement:"@"+e.screen_name+" "}})),r=s||[],e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},30623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"FunText",selector:"/*fun-text*/",virtual:!0,variants:{greentext:".greentext",cyantext:".cyantext"},states:{faint:".faint"},defaultRules:[{directives:{textColor:"--text",textAuto:"preserve"}},{state:["faint"],directives:{textOpacity:.5}},{variant:"greentext",directives:{textColor:"--cGreen",textAuto:"preserve"}},{variant:"cyantext",directives:{textColor:"--cBlue",textAuto:"preserve"}}]}},85516:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Icon",virtual:!0,selector:".svg-inline--fa",defaultRules:[{component:"Icon",directives:{textColor:"$blend(--stack, 0.5, --parent--text)",textAuto:"no-auto"}}]}},91142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Input",selector:".input",variant:{checkbox:".-checkbox",radio:".-radio"},states:{disabled:":disabled",hover:":hover:not(:disabled)",focused:":focus-within"},validInnerComponents:["Text"],defaultRules:[{component:"Root",directives:{"--defaultInputBevel":"shadow | $borderSide(#FFFFFF, bottom, 0.2)| $borderSide(#000000, top, 0.2)"}},{variant:"checkbox",directives:{roundness:1}},{directives:{"--font":"generic | inherit",background:"--fg, -5",roundness:3,shadow:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1},"--defaultInputBevel"]}},{state:["hover"],directives:{shadow:[{x:0,y:0,blur:4,spread:0,color:"--text",alpha:1},"--defaultInputBevel"]}}]}},98758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Link",selector:"a",virtual:!0,states:{faint:".faint"},defaultRules:[{component:"Link",directives:{textColor:"--link"}},{component:"Link",state:["faint"],directives:{textOpacity:.5,textOpacityMode:"fake"}}]}},67997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"ListItem",selector:".list-item",states:{active:".-active",hover:":hover:not(.-non-interactive)"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar"],defaultRules:[{directives:{background:"--bg",opacity:0}},{state:["active"],directives:{background:"--inheritedBackground, 10",opacity:1}},{state:["hover"],directives:{background:"--inheritedBackground, 10",opacity:1}},{state:["hover","active"],directives:{background:"--inheritedBackground, 20",opacity:1}}]}},55061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"MenuItem",selector:".menu-item",validInnerComponents:["Text","Icon","Input","Border","ButtonUnstyled","Badge","Avatar"],states:{hover:":hover",active:".-active"},defaultRules:[{directives:{background:"--bg",opacity:0}},{state:["hover"],directives:{background:"$mod(--bg, 5)",opacity:1}},{state:["active"],directives:{background:"$mod(--bg, 10)",opacity:1}},{state:["active","hover"],directives:{background:"$mod(--bg, 15)",opacity:1}},{component:"Text",parent:{component:"MenuItem",state:["hover"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Text",parent:{component:"MenuItem",state:["active"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Icon",parent:{component:"MenuItem",state:["active"]},directives:{textColor:"--link",textAuto:"no-preserve"}},{component:"Icon",parent:{component:"MenuItem",state:["hover"]},directives:{textColor:"--link",textAuto:"no-preserve"}}]}},81875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"MobileDrawer",selector:".mobile-drawer",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","PanelHeader","MenuItem","Notification","Alert","UserCard"],defaultRules:[{directives:{background:"--bg",backgroundNoCssColor:"yes"}},{component:"PanelHeader",parent:{component:"MobileDrawer"},directives:{background:"--fg",shadow:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}]}}]}},72325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Modals",selector:".modal-view",lazy:!0,validInnerComponents:["Panel"],defaultRules:[]}},63142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Notification",selector:".Notification",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar","Attachment","PollGraph"],defaultRules:[]}},79803:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Panel",selector:".panel",validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","PanelHeader","MenuItem","Post","Notification","Alert","UserCard","Chat","Attachment","Tab","ListItem"],validInnerComponentsLite:["Text","Link","Icon","Border","Button","Input","PanelHeader","Alert"],defaultRules:[{directives:{backgroundNoCssColor:"yes",background:"--bg",roundness:3,blur:"5px",shadow:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}]}}]}},75989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"PanelHeader",selector:".panel-heading",validInnerComponents:["Text","Link","Icon","Button","ButtonUnstyled","Badge","Alert","Avatar"],defaultRules:[{component:"PanelHeader",directives:{backgroundNoCssColor:"yes",background:"--fg",shadow:[]}}]}},42705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"PollGraph",selector:".result-fill",defaultRules:[{directives:{background:"--accent",opacity:.5}}]}},77134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Popover",selector:".popover",lazy:!0,variants:{modal:".modal"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","Input","MenuItem","Post","UserCard"],defaultRules:[{directives:{background:"--bg",blur:"10px",shadow:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}]}}]}},92820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var o=n(93433),r=n(29439),i=n(44925),s=n(42348),a=n.n(s),u=n(27955),c=n.n(u),l=n(66252);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var m=function(e){var t=/(?:<\/(\w+)>|<(\w+)\s?[\s\S]*?\/?>)/gi.exec(e);return t&&(t[1]||t[2])},h=function(e,t){var n=e.substring(1,e.length-1).replace(new RegExp("^"+m(e)),"").replace(/\/?$/,"").trim(),o=Array.from(n.matchAll(/([a-z]+[a-z0-9-]*)(?:=("[^"]+?"|'[^']+?'))?/gi)).map((function(e){var t=(0,r.Z)(e,3);return t[0],[t[1],t[2]]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return o?[n,o.substring(1,o.length-1)]:[n,!0]}));return Object.fromEntries(o.filter(t||function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1],i=n.toLowerCase();return"style"!==i&&("class"!==i||"greentext"===o||"cyantext"===o)}))},f=function(e,t,n){for(var o=[],r="",i=0;i<e.length;i++){var s=e[i];if(":"===s){var a,u=e.slice(i+1),c=!1,l=d(t);try{for(l.s();!(a=l.n()).done;){var p=a.value;if(u.slice(0,p.shortcode.length+1)===p.shortcode+":"){c=p;break}}}catch(e){l.e(e)}finally{l.f()}c?(o.push(r),r="",o.push(n(c)),i+=c.shortcode.length+1):r+=s}else r+=s}return r&&o.push(r),o};function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var v=n(60466),b=n(45760),w=n(49963),y={class:"HashtagLink"},D=["href","innerHTML"];const _={name:"HashtagLink",props:{url:{required:!0,type:String},content:{required:!0,type:String},tag:{required:!1,type:String,default:""}},methods:{onClick:function(){var e,t,n,o=this.tag||(e=this.url,t=decodeURI(e),!!(n=/tags*\/((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*(?:[A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u065F\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06EF\u06FA-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09F0\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A70-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F83\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u103F\u1050-\u108F\u109A-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1713\u171F-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1AA7\u1ABF\u1AC0\u1ACC-\u1ACE\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4C\u1B80-\u1BA9\u1BAC-\u1BAF\u1BBA-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA805\uA807-\uA827\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FF\uA90A-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF\uA9E0-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC71-\uDC75\uDC80-\uDCB8\uDCC2\uDCD0-\uDCE8\uDD00-\uDD32\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE\uDDCF\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE80-\uDEB5\uDEB8\uDF00-\uDF1A\uDF1D-\uDF2A\uDF40-\uDF46]|\uD806[\uDC00-\uDC38\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF40\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD47\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB7\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u20D0-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA830-\uA835\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEFD-\uDF27\uDF30-\uDF54\uDF70-\uDF85\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC52-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF])*)$/g.exec(t))&&n[1]);if(o){var r=this.generateTagLink(o);this.$router.push(r)}else window.open(this.url,"_blank")},generateTagLink:function(e){return"/tag/".concat(e)}}},k=(0,n(83744).Z)(_,[["render",function(e,t,n,o,r,i){return(0,l.wg)(),(0,l.iD)("span",y,[(0,l._)("a",{href:e.url,class:"original",target:"_blank",onClick:t[0]||(t[0]=(0,w.iM)((function(){return e.onClick&&e.onClick.apply(e,arguments)}),["prevent"])),innerHTML:e.content},null,8,D)])}]]);var C=["index"],S=["blockquote","br","hr","ul","ol","li","p","table","tbody","td","th","thead","tr","h1","h2","h3","h4","h5"];const j={name:"RichContent",components:{MentionsLine:b.Z,HashtagLink:k},props:{html:{required:!0,type:String},attentions:{required:!1,default:function(){return[]}},emoji:{required:!0,type:Array},handleLinks:{required:!1,type:Boolean,default:!1},greentext:{required:!1,type:Boolean,default:!1},faint:{required:!1,type:Boolean,default:!1}},render:function(){var e=this,t=A(this.html,this.greentext).newHtml,n=null,s="",a=[],u=[],d=[],p=[],g=0,w=0,y=!1,D=function(){for(var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),r=[],i=[["",r]],s="",a=null,u=function(){return i[i.length-1][1]},l=function(){""!==s&&(u().push(s),s="")},d=function(e){u().push([e])},p=function(e){var t=u(),n=[c()(e),[]];i.push(n),t.push(n)},h=0;h<n.length;h++){var f=n[h];if("<"===f&&null===a)l(),a=f;else if(">"!==f&&null!==a)a+=f;else if(">"===f&&null!==a){var g=a+=f;a=null;var v=m(g);"/"===g[1]?(e=g,t=void 0,t=i[i.length-1],m(i[i.length-1][0])===m(e)?(t.push(e),i.pop()):u().push(e)):o.has(v)||"/"===g[g.length-2]?d(g):p(g)}else s+=f}return a&&(s+=a),l(),r}(t).map((function t(o,i,a,c){if("string"==typeof o){var p=""===o.trim();return o.includes("\n")&&(n=null),p?(s=o,i!==a.length-1&&null!==n?o.trim():o):(n=null,o.includes(":")&&(o=["",f(o,e.emoji,(function(e){var t=e.shortcode,n=e.url;return(0,l.Wm)(v.Z,{class:"emoji img",src:n,title:":".concat(t,":"),alt:":".concat(t,":")},null)}))]),o)}if(Array.isArray(o)){var w=o,y=(0,r.Z)(w,3),D=y[0],_=y[1],k=y[2],C=m(D);"script"===C.toLowerCase()&&(C="js-exploit"),"style"===C.toLowerCase()&&(C="css-exploit");var j=h(D,(function(){return!0})),A=h(D),O=null===n||_&&"string"==typeof _[0]&&_[0].match(/^\s/)?"":s;if(S.includes(C))n=null;else{if("img"===C)return["",[O,(E=D,(0,l.Wm)(v.Z,(0,l.dG)(h(E),{class:"img"}),null))],""];if("a"===C&&e.handleLinks){if(j.class&&j.class.includes("mention"))return function(t,o){var r=F(t,o,g++);return r.notifying=e.attentions.some((function(e){return e.statusnet_profile_url===r.url})),u.push(r),null===n&&(n=[]),n.push(r),n.length>b.d&&d.push(r),1===n.length?(0,l.Wm)(b.Z,{mentions:n},null):""}(A,_);n=null}else if("span"===C&&e.handleLinks&&j.class&&j.class.includes("h-card"))return["",_.map(t),""]}return void 0!==_?["",[O,[D,_.map(t),k]],""]:["",[O,o],""]}var E})),_=(0,o.Z)(D).reverse().map((function t(n,s,u,d){var f;if("string"==typeof n)return""===n.trim()?n:(y||(y=!0),c()(n));if(Array.isArray(n)){var g=(0,r.Z)(n,2),v=g[0],b=g[1],D=""===v?"":m(v);switch(D){case"a":if(!e.handleLinks)break;var _=h(v,(function(){return!0})),S=h(v,(function(){return!0}));if(_.class&&_.class.includes("hashtag")||"tag"===_.rel)return function(e,t,n){var o=F(e,t,w++),r=(o.index,(0,i.Z)(o,C));p.push(r),n||a.push(r);var s=r.url,u=r.tag,c=r.content;return(0,l.Wm)(k,{url:s,tag:u,content:c},null)}(S,b,y);S.target="_blank";var j=(0,o.Z)(b).reverse().map(t).reverse();return(0,l.Wm)("a",S,[j]);case"":return(0,o.Z)(b).reverse().map(t).reverse()}if(void 0!==b){var A=Array.isArray(b)?(0,o.Z)(b).reverse().map(t).reverse():b;return(0,l.Wm)(D,h(v),"function"==typeof(f=A)||"[object Object]"===Object.prototype.toString.call(f)&&!(0,l.lA)(f)?A:{default:function(){return[A]}})}return(0,l.Wm)(D,null,null)}return n})).reverse(),j=(0,l.Wm)("span",{class:["RichContent",this.faint?"-faint":""]},[_]),O={lastTags:a,writtenMentions:u,writtenTags:p,invisibleMentions:d};return this.$emit("parseReady",O),j}};var F=function(e,t,n){var o=t.map((function e(t){return"string"==typeof t?t:t[1].map(e).join("")})).join("");return{index:n,url:e.href,tag:e["data-tag"],content:a()(t).join(""),textContent:o}},A=function(e,t){var n=new Set(["p","div"]),r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),r=new Set(["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","table","ul"]),i=new Set(["br"]),s=new Set([].concat((0,o.Z)(r.values()),(0,o.Z)(i.values()))),a=new Set(s),u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(n);try{for(u.s();!(e=u.n()).done;){var c=e.value;a.delete(c)}}catch(e){u.e(e)}finally{u.f()}for(var l,d=new Set([].concat((0,o.Z)(a.values()),(0,o.Z)(n.values()))),p=[],h=[],f="",v=null,b=function(){f.trim().length>0?p.push({level:[].concat(h),text:f}):p.push(f),f=""},w=function(e){b(),p.push(e)},y=function(e){b(),p.push(e),h.unshift(m(e))},D=0;D<t.length;D++){var _=t[D];if("<"===_&&null===v)v=_;else if(">"!==_&&null!==v)v+=_;else if(">"===_&&null!==v){var k=v+=_;v=null;var C=m(k);d.has(C)?i.has(C)?w(k):a.has(C)?"/"===k[1]?(l=k,h[0]===m(l)?(b(),p.push(l),h.shift()):f+=l):"/"===k[k.length-2]?w(k):y(k):f+=k:f+=k}else"\n"===_?w(_):f+=_}return v&&(f+=v),b(),p}(e);return{newHtml:r.reverse().map((function(e,o,r){if(!e.text)return e;var i=e.text;if(t&&e.level.every((function(e){return n.has(e)}))&&(i.includes("&gt;")||i.includes("&lt;"))){var s=i.replace(/<[^>]+?>/gi,"").replace(/@\w+/gi,"").trim();if(s.startsWith("&gt;"))return"<span class='greentext'>".concat(i,"</span>");if(s.startsWith("&lt;"))return"<span class='cyantext'>".concat(i,"</span>")}return i})).reverse().join("")}}},41733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"RichContent",selector:".RichContent",validInnerComponents:["Text","FunText","Link"],defaultRules:[{directives:{"--font":"generic | inherit","--monoFont":"generic | monospace",textNoCssColor:"yes"}}]}},52187:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Root",selector:":root",validInnerComponents:["Underlay","Modals","Popover","TopBar","Scrollbar","ScrollbarElement","MobileDrawer","Alert","Button"],validInnerComponentsLite:["Underlay","Scrollbar","ScrollbarElement"],defaultRules:[{directives:{"--bg":"color | #121a24","--fg":"color | #182230","--text":"color | #b9b9ba","--link":"color | #d8a070","--accent":"color | #d8a070","--cRed":"color | #FF0000","--cBlue":"color | #0095ff","--cGreen":"color | #0fa00f","--cOrange":"color | #ffa500","--font":"generic | sans-serif","--monoFont":"generic | monospace","--wallpaper":"color | --bg, -2","--selectionBackground":"color | --accent","--selectionText":"color | $textColor(--accent, --text, no-preserve)"}}]}},39660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Scrollbar",selector:"::-webkit-scrollbar",defaultRules:[{directives:{background:"--wallpaper"}}]}},81462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=function(e,t){return{x:0,y:e?1:-1,blur:0,spread:0,color:t?"#000000":"#FFFFFF",alpha:.2,inset:!0}},r=[o(!0,!1),o(!1,!0)],i=[o(!0,!0),o(!1,!1)],s={x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1},a={x:0,y:0,blur:4,spread:0,color:"--text",alpha:1};const u={name:"ScrollbarElement",selector:"::-webkit-scrollbar-button",states:{pressed:":active",hover:":hover:not(:disabled)",disabled:":disabled"},validInnerComponents:["Text"],defaultRules:[{directives:{background:"--fg",shadow:[s].concat(r),roundness:3}},{state:["hover"],directives:{shadow:[a].concat(r)}},{state:["pressed"],directives:{shadow:[s].concat(i)}},{state:["hover","pressed"],directives:{shadow:[a].concat(i)}},{state:["toggled"],directives:{background:"--accent,-24.2",shadow:[s].concat(i)}},{state:["toggled","hover"],directives:{background:"--accent,-24.2",shadow:[a].concat(i)}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground, 0.25, --parent)",shadow:[].concat(r)}},{component:"Text",parent:{component:"Button",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}}]}},3165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Post",selector:".Status",states:{selected:".-focused"},validInnerComponents:["Text","Link","Icon","Border","Button","ButtonUnstyled","RichContent","Input","Avatar","Attachment","PollGraph"],validInnerComponentsLite:["Text","Link","Icon","Border","ButtonUnstyled","RichContent","Avatar"],defaultRules:[{directives:{background:"--bg"}},{state:["selected"],directives:{background:"--inheritedBackground, 10"}}]}},71792:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Tab",selector:".tab",states:{active:".active",hover:":hover:not(.disabled)",disabled:".disabled"},validInnerComponents:["Text","Icon"],defaultRules:[{directives:{background:"--fg",shadow:["--defaultButtonShadow","--defaultButtonBevel"],roundness:3}},{state:["hover"],directives:{shadow:["--defaultButtonHoverGlow","--defaultButtonBevel"]}},{state:["active"],directives:{opacity:0}},{state:["hover","active"],directives:{shadow:["--defaultButtonShadow","--defaultButtonBevel"]}},{state:["disabled"],directives:{background:"$blend(--inheritedBackground, 0.25, --parent)",shadow:["--defaultButtonBevel"]}},{component:"Text",parent:{component:"Tab",state:["disabled"]},directives:{textOpacity:.25,textOpacityMode:"blend"}},{component:"Icon",parent:{component:"Tab",state:["active"]},directives:{textColor:"--text"}},{component:"Icon",parent:{component:"Tab",state:["active","hover"]},directives:{textColor:"--text"}}]}},79354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=n(57810),i=function(e){return e.findIndex((function(e){return e.props}))};const s={name:"TabSwitcher",props:{renderOnlyFocused:{required:!1,type:Boolean,default:!1},onSwitch:{required:!1,type:Function,default:void 0},activeTab:{required:!1,type:String,default:void 0},scrollableTabs:{required:!1,type:Boolean,default:!1},sideTabBar:{required:!1,type:Boolean,default:!1},bodyScrollLock:{required:!1,type:Boolean,default:!1}},data:function(){return{active:i(this.slots())}},computed:{activeIndex:function(){var e=this;return this.activeTab?this.slots().findIndex((function(t){return t&&t.props&&e.activeTab===t.props.key})):this.active},isActive:function(){var e=this;return function(t){return e.$slots.default().findIndex((function(e){return e.props&&e.props["data-tab-name"]===t}))===e.activeIndex}}},beforeUpdate:function(){this.slots()[this.active].props||(this.active=i(this.slots()))},methods:{clickTab:function(e){var t=this;return function(n){n.preventDefault(),t.setTab(e)}},slots:function(){return this.$slots.default()[0].type===o.HY?this.$slots.default()[0].children:this.$slots.default()},setTab:function(e){"function"==typeof this.onSwitch&&this.onSwitch.call(null,this.slots()[e].key),this.active=e,this.scrollableTabs&&(this.$refs.contents.scrollTop=0)}},render:function(){var e=this,t=this.slots().map((function(t,n){var i=t.props;if(i){var s=["tab"],a=["tab-wrapper"];return e.activeIndex===n&&(s.push("active"),a.push("active")),i.image?(0,o.Wm)("div",{class:a.join(" ")},[(0,o.Wm)("button",{disabled:i.disabled,onClick:e.clickTab(n),class:s.join(" "),type:"button",role:"tab"},[(0,o.Wm)("img",{src:i.image,title:i["image-tooltip"]},null),i.label?"":i.label])]):(0,o.Wm)("div",{class:a.join(" ")},[(0,o.Wm)("button",{disabled:i.disabled,onClick:e.clickTab(n),class:s.join(" "),type:"button",role:"tab"},[i.icon?(0,o.Wm)(r.GN,{class:"tab-icon",size:"2x","fixed-width":!0,icon:i.icon},null):"",(0,o.Wm)("span",{class:"text"},[i.label])])])}})),n=this.slots().map((function(t,n){var r=t.props;if(r){var i=e.activeIndex===n,s=[i?"active":"hidden"];r.fullHeight&&s.push("full-height");var a=!e.renderOnlyFocused||i?t:"";return(0,o.Wm)("div",{class:s},[e.sideTabBar?(0,o.Wm)("h1",{class:"mobile-label"},[r.label]):"",a])}}));return(0,o.Wm)("div",{class:"tab-switcher "+(this.sideTabBar?"side-tabs":"top-tabs")},[(0,o.Wm)("div",{class:"tabs",role:"tablist"},[t]),(0,o.wy)((0,o.Wm)("div",{ref:"contents",role:"tabpanel",class:"contents"+(this.scrollableTabs?" scrollable-tabs":"")},[n]),[[(0,o.Q2)("body-scroll-lock"),this.bodyScrollLock]])])}}},63907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Text",selector:"/*text*/",virtual:!0,states:{faint:".faint"},defaultRules:[{directives:{textColor:"--text",textAuto:"no-preserve"}},{state:["faint"],directives:{textOpacity:.5}}]}},4748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"TopBar",selector:"nav",validInnerComponents:["Link","Text","Icon","Button","ButtonUnstyled","Input","Badge"],defaultRules:[{directives:{background:"--fg",shadow:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}]}}]}},5801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Underlay",selector:"#content",outOfTreeSelector:".underlay",validInnerComponents:["Panel"],defaultRules:[{directives:{background:"#000000",opacity:.2}}]}},20999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"Avatar",selector:".Avatar",variants:{compact:".-compact"},defaultRules:[{directives:{roundness:3,shadow:[{x:0,y:1,blur:8,spread:0,color:"#000000",alpha:.7}]}}]}},99366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={name:"UserCard",selector:".user-card",validInnerComponents:["Text","Link","Icon","Button","ButtonUnstyled","Input","RichContent","Alert"],defaultRules:[{directives:{background:"--bg",opacity:0,roundness:3,shadow:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],"--profileTint":"color | $alpha(--background, 0.5)"}},{parent:{component:"UserCard"},component:"RichContent",directives:{opacity:0}}]}},98027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(4942),r=n(66252),i=n(41609),s=n.n(i),a=n(13562),u=n(57810),c=n(9382),l=n(84131);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}c.vI.add(l.IJ7);const m=function(e){var t=e.fetch,n=e.select,i=e.unmounted,c=e.childPropName,l=void 0===c?"entries":c,d=e.additionalPropNames,m=void 0===d?[]:d;return function(e){return{props:Object.keys((0,a.g)(e)).filter((function(e){return e!==l})).concat(m),data:function(){return{loading:!1,bottomedOut:!1,error:!1,entries:[]}},created:function(){window.addEventListener("scroll",this.scrollLoad),0===this.entries.length&&this.fetchEntries()},unmounted:function(){window.removeEventListener("scroll",this.scrollLoad),i&&i(this.$props,this.$store)},methods:{updateEntries:function(){this.entries=n(this.$props,this.$store)||[]},fetchEntries:function(){var e=this;this.loading||(this.loading=!0,this.error=!1,t(this.$props,this.$store).then((function(t){e.loading=!1,e.bottomedOut=s()(t)})).catch((function(){e.loading=!1,e.error=!0})).finally((function(){e.updateEntries()})))},scrollLoad:function(e){var t=document.body.getBoundingClientRect(),n=Math.max(t.height,-t.y);!1===this.loading&&!1===this.bottomedOut&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchEntries()}},render:function(){var t,n=p(p({},this.$props),{},(0,o.Z)({},l,this.entries)),i=this.$slots;return(0,r.Wm)("div",{class:"with-load-more"},[(0,r.Wm)(e,n,(t=i,"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!(0,r.lA)(t)?i:{default:function(){return[i]}})),(0,r.Wm)("div",{class:"with-load-more-footer"},[this.error&&(0,r.Wm)("button",{onClick:this.fetchEntries,class:"button-unstyled -link -fullwidth alert error"},[this.$t("general.generic_error")]),!this.error&&this.loading&&(0,r.Wm)(u.GN,{spin:!0,icon:"circle-notch"},null),!this.error&&!this.loading&&!this.bottomedOut&&(0,r.Wm)("a",{onClick:this.fetchEntries,role:"button",tabindex:"0"},[this.$t("general.more")])])])}}}}},8312:e=>{var t={ja:"ja_pedantic"};e.exports={languages:["ar","ca","cs","de","eo","en","es","et","eu","fi","fr","ga","he","hu","it","ja","ja_easy","ko","nan-TW","nb","nl","oc","pl","pt","ro","ru","sk","te","uk","zh","zh_Hant"],langCodeToJsonName:function(e){return t[e]||e},langCodeToCldrName:function(e){return e},ensureFinalFallback:function(e){var t=Array.isArray(e)?e:[e];return t.includes("en")?t:t.concat(["en"])}}},72617:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(84506),r=n(15861),i=n(18446),s=n.n(i),a=n(64687),u=n.n(a),c=n(8312);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var p,m=function(e){return n(27650)("./".concat((0,c.langCodeToJsonName)(e),".json"))};const h={languages:c.languages,default:{en:n(88797).default},setLanguage:(p=(0,r.Z)(u().mark((function e(t,n){var r,i,a,d,p,h,f,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(Array.isArray(n)?n:[n]).filter((function(e){return e}))).includes("en")||r.push("en"),i=(0,o.Z)(r),a=i[0],d=i.slice(1),a!==t.locale||!s()(d,t.fallbackLocale)){e.next=5;break}return e.abrupt("return");case 5:p=l(r),e.prev=6,p.s();case 8:if((h=p.n()).done){e.next=17;break}if(u=f=h.value,!c.languages.includes(u)){e.next=15;break}return e.next=13,m(f);case 13:g=e.sent,t.setLocaleMessage(f,g.default);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),p.e(e.t0);case 22:return e.prev=22,p.f(),e.finish(22);case 25:t.fallbackLocale=d,t.locale=a;case 27:case"end":return e.stop()}var u}),e,null,[[6,19,22,25]])}))),function(e,t){return p.apply(this,arguments)})}},6560:(e,t,n)=>{"use strict";var o=n(15861),r=n(64687),i=n.n(r),s=n(989),a=(n(67810),n(73152));try{new EventTarget}catch(e){window.EventTarget=a.Z}var u=n(45140),c=n(29439),l=n(93433),d=n(4942),p=n(77776),m=n(85565),h=n(8312);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=["smileys-and-emotion","people-and-body","animals-and-nature","food-and-drink","travel-and-places","activities","objects","symbols","flags"],b=function(){for(var e=127462,t="A".codePointAt(0),n=new Array(26),o=e;o<=127487;++o){var r=String.fromCodePoint(t+o-e);n[o-e]={replacement:String.fromCodePoint(o),imageUrl:!1,displayText:"regional_indicator_"+r,displayTextI18n:{key:"emoji.regional_indicator",args:{letter:r}}}}return n}(),w=function(e){return n(1395)("./".concat((0,h.langCodeToCldrName)(e),".json")).then((function(e){return e.default}))},y=function(e,t){var n=Object.keys(t);return g(g({},e),{},{annotations:n.reduce((function(n,o){return n[o]=t[o][e.replacement],n}),{})})};const D={state:{name:"Pleroma FE",registrationOpen:!0,server:"http://localhost:4040/",textlimit:5e3,themeData:void 0,vapidPublicKey:void 0,alwaysShowSubjectInput:!0,defaultAvatar:"/images/avi.png",defaultBanner:"/images/banner.png",background:"/static/aurora_borealis.jpg",collapseMessageWithSubject:!1,greentext:!1,useAtIcon:!1,mentionLinkDisplay:"short",mentionLinkShowTooltip:!0,mentionLinkShowAvatar:!1,mentionLinkFadeDomain:!0,mentionLinkShowYous:!1,mentionLinkBoldenYou:!0,hideFilteredStatuses:!1,hideMutedPosts:!1,hideMutedThreads:!0,hideWordFilteredPosts:!1,hidePostStats:!1,hideBotIndication:!1,hideSitename:!1,hideUserStats:!1,muteBotStatuses:!1,muteSensitiveStatuses:!1,modalOnRepeat:!1,modalOnUnfollow:!1,modalOnBlock:!0,modalOnMute:!1,modalOnDelete:!0,modalOnLogout:!0,modalOnApproveFollow:!1,modalOnDenyFollow:!1,modalOnRemoveUserFromFollowers:!1,loginMethod:"password",logo:"/static/logo.svg",logoMargin:".2em",logoMask:!0,logoLeft:!1,disableUpdateNotification:!1,minimalScopesMode:!1,nsfwCensorImage:void 0,postContentType:"text/plain",redirectRootLogin:"/main/friends",redirectRootNoLogin:"/main/all",scopeCopy:!0,showFeaturesPanel:!0,showInstanceSpecificPanel:!1,sidebarRight:!1,subjectLineBehavior:"email",theme:"pleroma-dark",emojiReactionsScale:.5,textSize:"14px",emojiSize:"2.2rem",navbarSize:"3.5rem",panelHeaderSize:"3.2rem",forcedRoundness:-1,fontsOverride:{},virtualScrolling:!0,sensitiveByDefault:!1,conversationDisplay:"linear",conversationTreeAdvanced:!1,conversationOtherRepliesButton:"below",conversationTreeFadeAncestors:!1,showExtraNotifications:!0,showExtraNotificationsTip:!0,showChatsInExtraNotifications:!0,showAnnouncementsInExtraNotifications:!0,showFollowRequestsInExtraNotifications:!0,maxDepthInThread:6,autocompleteSelect:!1,closingDrawerMarksAsSeen:!0,unseenAtTop:!1,ignoreInactionableSeen:!1,customEmoji:[],customEmojiFetched:!1,emoji:{},emojiFetched:!1,unicodeEmojiAnnotations:{},pleromaBackend:!0,postFormats:[],restrictedNicknames:[],safeDM:!0,knownDomains:[],birthdayRequired:!1,birthdayMinAge:0,shoutAvailable:!1,pleromaChatMessagesAvailable:!1,pleromaCustomEmojiReactionsAvailable:!1,gopherAvailable:!1,mediaProxyAvailable:!1,suggestionsEnabled:!1,suggestionsWeb:"",quotingAvailable:!1,groupActorAvailable:!1,instanceSpecificPanelContent:"",tos:"",backendVersion:"",frontendVersion:"",pollsAvailable:!1,pollLimits:{max_options:4,max_option_chars:255,min_expiration:60,max_expiration:86400}},mutations:{setInstanceOption:function(e,t){var n=t.name,o=t.value;void 0!==o&&(e[n]=o)},setKnownDomains:function(e,t){e.knownDomains=t},setUnicodeEmojiAnnotations:function(e,t){var n=t.lang,o=t.annotations;e.unicodeEmojiAnnotations[n]=o}},getters:{instanceDefaultConfig:function(e){return m.Oi.map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=(0,c.Z)(t,2),o=n[0],r=n[1];return g(g({},e),{},(0,d.Z)({},o,r))}),{})},groupedCustomEmojis:function(e){return e.customEmoji.reduce((function(e,t){return function(e){var t=e.tags.filter((function(e){return e.startsWith("pack:")})).map((function(e){var t=e.slice(5);return{id:"custom-".concat(t),text:t}}));return t.length?t:[{id:"unpacked"}]}(t).forEach((function(n){var o=n.id,r=n.text;e[o]||(e[o]={id:o,text:r,image:t.imageUrl,emojis:[]}),e[o].emojis.push(t)})),e}),{})},standardEmojiList:function(e){return v.map((function(t){return(e.emoji[t]||[]).map((function(t){return y(t,e.unicodeEmojiAnnotations)}))})).reduce((function(e,t){return e.concat(t)}),[])},standardEmojiGroupList:function(e){return v.map((function(t){return{id:t,emojis:(e.emoji[t]||[]).map((function(t){return y(t,e.unicodeEmojiAnnotations)}))}}))},instanceDomain:function(e){return new URL(e.server).hostname},remoteInteractionLink:function(e){var t=(e.server.endsWith("/")?e.server.slice(0,-1):e.server)+"/main/ostatus";return function(e){var n=e.statusId,o=e.nickname;return n?"".concat(t,"?status_id=").concat(n):"".concat(t,"?nickname=").concat(o)}}},actions:{setInstanceOption:function(e,t){var n=e.commit,o=e.dispatch,r=t.name,i=t.value;switch(n("setInstanceOption",{name:r,value:i}),r){case"name":o("setPageTitle");break;case"shoutAvailable":i&&o("initializeSocket")}},getStaticEmoji:function(e){return(0,o.Z)(i().mark((function t(){var o,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.commit,t.prev=1,t.next=4,n.e(3687).then(n.t.bind(n,13315,19));case 4:r=t.sent.default,s=Object.keys(r).reduce((function(e,t){return e[t]=r[t].map((function(e){return{displayText:e.slug,imageUrl:!1,replacement:e.emoji}})),e}),{}),o("setInstanceOption",{name:"emoji",value:(i=s,a=void 0,(a=i.symbols).push.apply(a,(0,l.Z)(b)),i)}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.warn("Can't load static emoji"),console.warn(t.t0);case 13:case"end":return t.stop()}var i,a}),t,null,[[1,9]])})))()},loadUnicodeEmojiData:function(e,t){var n=e.commit,r=e.state,s=(0,h.ensureFinalFallback)(t);return Promise.all(s.map(function(){var e=(0,o.Z)(i().mark((function e(t){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.unicodeEmojiAnnotations[t]){e.next=11;break}return e.prev=1,e.next=4,w(t);case 4:o=e.sent,n("setUnicodeEmojiAnnotations",{lang:t,annotations:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Error loading unicode emoji annotations for ".concat(t,": "),e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))},getCustomEmoji:function(e){return(0,o.Z)(i().mark((function t(){var n,o,r,s,a,u,d,p,m;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,o=e.state,t.prev=1,t.next=4,window.fetch("/api/pleroma/emoji.json");case 4:if(!(r=t.sent).ok){t.next=17;break}return t.next=8,r.json();case 8:s=t.sent,a=Array.isArray(s)?Object.assign.apply(Object,[{}].concat((0,l.Z)(s))):s,u=function(e,t){var n=e.toLowerCase(),o=t.toLowerCase();return n>o?1:n<o?-1:0},d=function(e,t){var n=""===e,o=""===t;return n===o?0:n&&!o?1:-1},p=function(e,t){var n=function(e){return(e.tags.filter((function(e){return e.startsWith("pack:")}))[0]||"").slice(5)},o=n(e),r=n(t);return d(o,r)||u(o,r)||u(e.displayText,t.displayText)},m=Object.entries(a).map((function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1],i=r.image_url;return{displayText:n,imageUrl:i?o.server+i:r,tags:i?r.tags.sort((function(e,t){return e>t?1:0})):["utf"],replacement:":".concat(n,": ")}})).sort(p),n("setInstanceOption",{name:"customEmoji",value:m}),t.next=18;break;case 17:throw r;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.warn("Can't load custom emojis"),console.warn(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,20]])})))()},fetchEmoji:function(e){var t=e.dispatch,n=e.state;n.customEmojiFetched||(n.customEmojiFetched=!0,t("getCustomEmoji")),n.emojiFetched||(n.emojiFetched=!0,t("getStaticEmoji"))},getKnownDomains:function(e){return(0,o.Z)(i().mark((function t(){var n,o,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,o=e.rootState,t.prev=1,t.next=4,p.ZP.fetchKnownDomains({credentials:o.users.currentUser.credentials});case 4:r=t.sent,n("setKnownDomains",r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn("Can't load known domains"),console.warn(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};var _=n(14176),k=n.n(_),C=n(1469),S=n.n(C),j=n(10928),F=n.n(j),A=n(8804),O=n.n(A),E=n(82492),z=n.n(E),x=n(22762),P=n.n(x),I=n(84753),T=n.n(I),B=n(13311),$=n.n(B),U=n(30998),M=n.n(U),L=n(66073),R=n.n(L),q=n(12571),N=n.n(q),Z=n(82729),W=n.n(Z);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(){return{statuses:[],statusesObject:{},faves:[],visibleStatuses:[],visibleStatusesObject:{},newStatusCount:0,maxId:0,minId:0,minVisibleId:0,loading:!1,followers:[],friends:[],userId:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,flushMarker:0}},K=function(){return{allStatuses:[],scrobblesNextFetch:{},allStatusesObject:{},conversationsObject:{},maxId:0,favorites:new Set,timelines:{mentions:G(),public:G(),user:G(),favorites:G(),media:G(),publicAndExternal:G(),friends:G(),tag:G(),dms:G(),bookmarks:G(),list:G()}}},Y=function(e,t,n){var o=t[n.id];return o?(z()(o,k()(n,(function(e,t){return null===e||"user"===t}))),o.attachments.splice(o.attachments.length),{item:o,new:!1}):(function(e){e.deleted=!1,e.attachments=e.attachments||[]}(n),e.push(n),t[n.id]=n,{item:n,new:!0})},Q=function(e,t){var n=Number(e.id),o=Number(t.id),r=!Number.isNaN(n),i=!Number.isNaN(o);return r&&i?n>o?-1:1:r&&!i?1:!r&&i||e.id>t.id?-1:1},J=function(e){return e.visibleStatuses=e.visibleStatuses.sort(Q),e.statuses=e.statuses.sort(Q),e.minVisibleId=(F()(e.visibleStatuses)||{}).id,e},X={addNewStatuses:function(e,t){var n=t.statuses,o=t.showImmediately,r=void 0!==o&&o,i=t.timeline,s=t.user,a=void 0===s?{}:s,u=t.noIdUpdate,c=void 0!==u&&u,l=t.userId,d=t.pagination,m=void 0===d?{}:d;if(!S()(n))return!1;var h=e.allStatuses,f=e.timelines[i],g=m.maxId||(n.length>0?P()(n,"id").id:0),v=m.minId||(n.length>0?T()(n,"id").id:0),b=i&&(v>f.maxId||0===f.maxId)&&n.length>0,w=i&&(g<f.minId||0===f.minId)&&n.length>0;if(!c&&b&&(f.maxId=v),!c&&w&&(f.minId=g),"user"!==i&&"media"!==i||f.userId===l){var y=function t(n,o){var r,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=function(e,t){!function(e,t){e.scrobblesNextFetch[t.id]&&e.scrobblesNextFetch[t.id]>Date.now()||(e.scrobblesNextFetch[t.id]=Date.now()+864e5,p.ZP.fetchScrobbles({accountId:t.id}).then((function(n){n.length>0&&(t.latestScrobble=n[0],e.scrobblesNextFetch[t.id]=Date.now()+6e4)})))}(e,t.user);var n=Y(e.allStatuses,e.allStatusesObject,t);if(n.new){var o=n.item,r=e.conversationsObject,i=o.statusnet_conversation_id;r[i]?r[i].push(o):r[i]=[o]}return n}(e,n),c=u.item;if(u.new){if("status"===c.type&&$()(c.attentions,{id:a.id})){var l=e.timelines.mentions;f!==l&&(Y(l.statuses,l.statusesObject,c),l.newStatusCount+=1,J(l))}if("direct"===c.visibility){var d=e.timelines.dms;Y(d.statuses,d.statusesObject,c),d.newStatusCount+=1,J(d)}}return i&&s&&(r=Y(f.statuses,f.statusesObject,c)),i&&o?Y(f.visibleStatuses,f.visibleStatusesObject,c):i&&s&&r.new&&(f.newStatusCount+=1),c.quote&&t(c.quote,!1,!1),c},D={status:function(e){y(e,r)},edit:function(e){y(e,r)},retweet:function(e){var t=y(e.retweeted_status,!1,!1);(i&&$()(f.statuses,(function(e){return e.retweeted_status?e.id===t.id||e.retweeted_status.id===t.id:e.id===t.id}))?y(e,!1,!1):y(e,r)).retweeted_status=t},favorite:function(t){e.favorites.has(t.id)||(e.favorites.add(t.id),function(e,t){var n=$()(h,{id:e.in_reply_to_status_id});n&&(e.user.id===a.id?n.favorited=!0:n.fave_num+=1)}(t))},follow:function(e){},default:function(e){console.log("unknown status type"),console.log(e)}};R()(n,(function(e){var t=e.type;(D[t]||D.default)(e)})),i&&"bookmarks"!==i&&J(f)}},removeStatus:function(e,t){var n=t.timeline,o=t.userId,r=e.timelines[n];o&&(W()(r.statuses,{user:{id:o}}),W()(r.visibleStatuses,{user:{id:o}}),r.minVisibleId=r.visibleStatuses.length>0?F()(r.visibleStatuses).id:0,r.maxId=r.statuses.length>0?O()(r.statuses).id:0)},showNewStatuses:function(e,t){var n=t.timeline,o=e.timelines[n];o.newStatusCount=0,o.visibleStatuses=N()(o.statuses,0,50),o.minVisibleId=F()(o.visibleStatuses).id,o.minId=o.minVisibleId,o.visibleStatusesObject={},R()(o.visibleStatuses,(function(e){o.visibleStatusesObject[e.id]=e}))},resetStatuses:function(e){var t=K();Object.entries(t).forEach((function(t){var n=(0,c.Z)(t,2),o=n[0],r=n[1];e[o]=r}))},clearTimeline:function(e,t){var n=t.timeline,o=t.excludeUserId,r=void 0!==o&&o?e.timelines[n].userId:void 0;e.timelines[n]=G(r)},setFavorited:function(e,t){var n=t.status,o=t.value,r=e.allStatusesObject[n.id];r.favorited!==o&&(o?r.fave_num++:r.fave_num--),r.favorited=o},setFavoritedConfirm:function(e,t){var n=t.status,o=t.user,r=e.allStatusesObject[n.id];r.favorited=n.favorited,r.fave_num=n.fave_num;var i=M()(r.favoritedBy,{id:o.id});-1===i||r.favorited?-1===i&&r.favorited&&r.favoritedBy.push(o):r.favoritedBy.splice(i,1)},setMutedStatus:function(e,t){var n=e.allStatusesObject[t.id];n.thread_muted=t.thread_muted,void 0!==n.thread_muted&&e.conversationsObject[n.statusnet_conversation_id].forEach((function(e){e.thread_muted=n.thread_muted}))},setRetweeted:function(e,t){var n=t.status,o=t.value,r=e.allStatusesObject[n.id];r.repeated!==o&&(o?r.repeat_num++:r.repeat_num--),r.repeated=o},setRetweetedConfirm:function(e,t){var n=t.status,o=t.user,r=e.allStatusesObject[n.id];r.repeated=n.repeated,r.repeat_num=n.repeat_num;var i=M()(r.rebloggedBy,{id:o.id});-1===i||r.repeated?-1===i&&r.repeated&&r.rebloggedBy.push(o):r.rebloggedBy.splice(i,1)},setBookmarked:function(e,t){var n=t.status,o=t.value;e.allStatusesObject[n.id].bookmarked=o},setBookmarkedConfirm:function(e,t){var n=t.status;e.allStatusesObject[n.id].bookmarked=n.bookmarked},setDeleted:function(e,t){var n=t.status,o=e.allStatusesObject[n.id];o&&(o.deleted=!0)},setManyDeleted:function(e,t){Object.values(e.allStatusesObject).forEach((function(e){t(e)&&(e.deleted=!0)}))},setLoading:function(e,t){var n=t.timeline,o=t.value;e.timelines[n].loading=o},setNsfw:function(e,t){var n=t.id,o=t.nsfw;e.allStatusesObject[n].nsfw=o},queueFlush:function(e,t){var n=t.timeline,o=t.id;e.timelines[n].flushMarker=o},queueFlushAll:function(e){Object.keys(e.timelines).forEach((function(t){e.timelines[t].flushMarker=e.timelines[t].maxId}))},addRepeats:function(e,t){var n=t.id,o=t.rebloggedByUsers,r=t.currentUser,i=e.allStatusesObject[n];i.rebloggedBy=o.filter((function(e){return e})),i.repeat_num=i.rebloggedBy.length,i.repeated=!!i.rebloggedBy.find((function(e){var t=e.id;return r.id===t}))},addFavs:function(e,t){var n=t.id,o=t.favoritedByUsers,r=t.currentUser,i=e.allStatusesObject[n];i.favoritedBy=o.filter((function(e){return e})),i.fave_num=i.favoritedBy.length,i.favorited=!!i.favoritedBy.find((function(e){var t=e.id;return r.id===t}))},addEmojiReactionsBy:function(e,t){var n=t.id,o=t.emojiReactions;t.currentUser,e.allStatusesObject[n].emoji_reactions=o},addOwnReaction:function(e,t){var n=t.id,o=t.emoji,r=t.currentUser,i=e.allStatusesObject[n],s=M()(i.emoji_reactions,{name:o}),a=i.emoji_reactions[s]||{name:o,count:0,accounts:[]},u=V(V({},a),{},{count:a.count+1,me:!0,accounts:[].concat((0,l.Z)(a.accounts),[r])});s>=0?i.emoji_reactions[s]=u:i.emoji_reactions=[].concat((0,l.Z)(i.emoji_reactions),[u])},removeOwnReaction:function(e,t){var n=t.id,o=t.emoji,r=t.currentUser,i=e.allStatusesObject[n],s=M()(i.emoji_reactions,{name:o});if(!(s<0)){var a=i.emoji_reactions[s],u=a.accounts||[],c=V(V({},a),{},{count:a.count-1,me:!1,accounts:u.filter((function(e){return e.id!==r.id}))});c.count>0?i.emoji_reactions[s]=c:i.emoji_reactions=i.emoji_reactions.filter((function(e){return e.name!==o}))}},updateStatusWithPoll:function(e,t){var n=t.id,o=t.poll;e.allStatusesObject[n].poll=o},setVirtualHeight:function(e,t){var n=t.statusId,o=t.height;e.allStatusesObject[n].virtualHeight=o}},ee={state:K(),actions:{addNewStatuses:function(e,t){var n=e.rootState,o=e.commit,r=(e.dispatch,e.state,t.statuses),i=t.showImmediately,s=void 0!==i&&i,a=t.timeline,u=void 0!==a&&a,c=t.noIdUpdate,l=void 0!==c&&c,d=t.userId,p=t.pagination;o("addNewStatuses",{statuses:r,showImmediately:s,timeline:u,noIdUpdate:l,user:n.users.currentUser,userId:d,pagination:p})},fetchStatus:function(e,t){var n=e.rootState,o=e.dispatch;return n.api.backendInteractor.fetchStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},fetchStatusSource:function(e,t){var n=e.rootState;return e.dispatch,p.ZP.fetchStatusSource({id:t.id,credentials:n.users.currentUser.credentials})},fetchStatusHistory:function(e,t){return e.rootState,e.dispatch,p.ZP.fetchStatusHistory({status:t})},deleteStatus:function(e,t){var n=e.rootState,o=e.commit,r=e.dispatch;p.ZP.deleteStatus({id:t.id,credentials:n.users.currentUser.credentials}).then((function(e){o("setDeleted",{status:t})})).catch((function(e){r("pushGlobalNotice",{level:"error",messageKey:"status.delete_error",messageArgs:[e.message],timeout:5e3})}))},deleteStatusById:function(e,t){var n=e.rootState;(0,e.commit)("setDeleted",{status:n.statuses.allStatusesObject[t]})},markStatusesAsDeleted:function(e,t){(0,e.commit)("setManyDeleted",t)},favorite:function(e,t){var n=e.rootState,o=e.commit;o("setFavorited",{status:t,value:!0}),n.api.backendInteractor.favorite({id:t.id}).then((function(e){return o("setFavoritedConfirm",{status:e,user:n.users.currentUser})}))},unfavorite:function(e,t){var n=e.rootState,o=e.commit;o("setFavorited",{status:t,value:!1}),n.api.backendInteractor.unfavorite({id:t.id}).then((function(e){return o("setFavoritedConfirm",{status:e,user:n.users.currentUser})}))},fetchPinnedStatuses:function(e,t){var n=e.rootState,o=e.dispatch;n.api.backendInteractor.fetchPinnedStatuses({id:t}).then((function(e){return o("addNewStatuses",{statuses:e,timeline:"user",userId:t,showImmediately:!0,noIdUpdate:!0})}))},pinStatus:function(e,t){var n=e.rootState,o=e.dispatch;return n.api.backendInteractor.pinOwnStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},unpinStatus:function(e,t){var n=e.rootState,o=e.dispatch;n.api.backendInteractor.unpinOwnStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},muteConversation:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.muteConversation({id:t}).then((function(e){return o("setMutedStatus",e)}))},unmuteConversation:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.unmuteConversation({id:t}).then((function(e){return o("setMutedStatus",e)}))},retweet:function(e,t){var n=e.rootState,o=e.commit;o("setRetweeted",{status:t,value:!0}),n.api.backendInteractor.retweet({id:t.id}).then((function(e){return o("setRetweetedConfirm",{status:e.retweeted_status,user:n.users.currentUser})}))},unretweet:function(e,t){var n=e.rootState,o=e.commit;o("setRetweeted",{status:t,value:!1}),n.api.backendInteractor.unretweet({id:t.id}).then((function(e){return o("setRetweetedConfirm",{status:e,user:n.users.currentUser})}))},bookmark:function(e,t){var n=e.rootState,o=e.commit;o("setBookmarked",{status:t,value:!0}),n.api.backendInteractor.bookmarkStatus({id:t.id}).then((function(e){o("setBookmarkedConfirm",{status:e})}))},unbookmark:function(e,t){var n=e.rootState,o=e.commit;o("setBookmarked",{status:t,value:!1}),n.api.backendInteractor.unbookmarkStatus({id:t.id}).then((function(e){o("setBookmarkedConfirm",{status:e})}))},queueFlush:function(e,t){e.rootState,(0,e.commit)("queueFlush",{timeline:t.timeline,id:t.id})},queueFlushAll:function(e){e.rootState,(0,e.commit)("queueFlushAll")},fetchFavsAndRepeats:function(e,t){var n=e.rootState,o=e.commit;Promise.all([n.api.backendInteractor.fetchFavoritedByUsers({id:t}),n.api.backendInteractor.fetchRebloggedByUsers({id:t})]).then((function(e){var r=(0,c.Z)(e,2),i=r[0],s=r[1];o("addFavs",{id:t,favoritedByUsers:i,currentUser:n.users.currentUser}),o("addRepeats",{id:t,rebloggedByUsers:s,currentUser:n.users.currentUser})}))},reactWithEmoji:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit,i=t.id,s=t.emoji,a=n.users.currentUser;a&&(r("addOwnReaction",{id:i,emoji:s,currentUser:a}),n.api.backendInteractor.reactWithEmoji({id:i,emoji:s}).then((function(e){o("fetchEmojiReactionsBy",i)})))},unreactWithEmoji:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit,i=t.id,s=t.emoji,a=n.users.currentUser;a&&(r("removeOwnReaction",{id:i,emoji:s,currentUser:a}),n.api.backendInteractor.unreactWithEmoji({id:i,emoji:s}).then((function(e){o("fetchEmojiReactionsBy",i)})))},fetchEmojiReactionsBy:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.fetchEmojiReactions({id:t}).then((function(e){o("addEmojiReactionsBy",{id:t,emojiReactions:e,currentUser:n.users.currentUser})}))},fetchFavs:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.fetchFavoritedByUsers({id:t}).then((function(e){return o("addFavs",{id:t,favoritedByUsers:e,currentUser:n.users.currentUser})}))},fetchRepeats:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.fetchRebloggedByUsers({id:t}).then((function(e){return o("addRepeats",{id:t,rebloggedByUsers:e,currentUser:n.users.currentUser})}))},search:function(e,t){var n=t.q,o=t.resolve,r=t.limit,i=t.offset,s=t.following,a=t.type;return e.rootState.api.backendInteractor.search2({q:n,resolve:o,limit:r,offset:i,following:s,type:a}).then((function(t){return e.commit("addNewUsers",t.accounts),e.commit("addNewUsers",t.statuses.map((function(e){return e.user})).filter((function(e){return e}))),e.commit("addNewStatuses",{statuses:t.statuses}),t}))},setVirtualHeight:function(e,t){(0,e.commit)("setVirtualHeight",{statusId:t.statusId,height:t.height})}},mutations:X};const te=ee;var ne=n(52230),oe=n(64689);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ie=function(){return{desktopNotificationSilence:!0,maxId:0,minId:Number.POSITIVE_INFINITY,data:[],idStore:{},loading:!1}};const se={state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ie()),mutations:{addNewNotifications:function(e,t){t.notifications.forEach((function(t){e.data.push(t),e.idStore[t.id]=t}))},clearNotifications:function(e){ie()},updateNotificationsMinMaxId:function(e,t){e.maxId=t>e.maxId?t:e.maxId,e.minId=t<e.minId?t:e.minId},setNotificationsLoading:function(e,t){var n=t.value;e.loading=n},setNotificationsSilence:function(e,t){var n=t.value;e.desktopNotificationSilence=n},markNotificationsAsSeen:function(e){e.data.forEach((function(e){e.seen=!0}))},markSingleNotificationAsSeen:function(e,t){var n=t.id,o=e.idStore[n];o&&(o.seen=!0)},dismissNotification:function(e,t){var n=t.id;e.data=e.data.filter((function(e){return e.id!==n})),delete e.idStore[n]},updateNotification:function(e,t){var n=t.id,o=t.updater,r=e.idStore[n];r&&o(r)}},actions:{addNewNotifications:function(e,t){var n=t.notifications,o=(t.older,e.commit),r=e.dispatch,i=e.state,s=e.rootState,a=n.filter((function(e){return!!(0,ne.nU)(e)||(console.error("Invalid notification:",e),o("updateNotificationsMinMaxId",e.id),!1)})),u=a.filter((function(e){return(0,ne.Gr)(e.type)&&e.status}));o("addNewStatuses",{statuses:u.map((function(e){return e.status}))}),u.forEach((function(e){var t=e.status.id,n=s.statuses.allStatusesObject[t];n&&(e.status=n)})),a.forEach((function(t){"pleroma:report"===t.type&&r("addReport",t.report),"pleroma:emoji_reaction"===t.type&&r("fetchEmojiReactionsBy",t.status.id),i.idStore.hasOwnProperty(t.id)?t.seen&&(i.idStore[t.id].seen=!0):(o("updateNotificationsMinMaxId",t.id),o("addNewNotifications",{notifications:[t]}),(0,ne.nJ)(e,t))}))},notificationClicked:function(e,t){var n=e.state,o=e.dispatch,r=t.id,i=n.idStore[r],s=i.type;if(!i.seen)switch(s){case"mention":case"pleroma:report":case"follow_request":break;default:o("markSingleNotificationAsSeen",{id:r})}},setNotificationsLoading:function(e,t){e.rootState,(0,e.commit)("setNotificationsLoading",{value:t.value})},setNotificationsSilence:function(e,t){e.rootState,(0,e.commit)("setNotificationsSilence",{value:t.value})},markNotificationsAsSeen:function(e){var t=e.rootState,n=e.state;(0,e.commit)("markNotificationsAsSeen"),p.ZP.markNotificationsAsSeen({id:n.maxId,credentials:t.users.currentUser.credentials}).then((function(){(0,oe.CI)(t)}))},markSingleNotificationAsSeen:function(e,t){var n=e.rootState,o=e.commit,r=t.id;o("markSingleNotificationAsSeen",{id:r}),p.ZP.markNotificationsAsSeen({single:!0,id:r,credentials:n.users.currentUser.credentials}).then((function(){(0,oe.PN)(n,{id:r})}))},dismissNotificationLocal:function(e,t){e.rootState,(0,e.commit)("dismissNotification",{id:t.id})},dismissNotification:function(e,t){var n=e.rootState,o=e.commit,r=t.id;o("dismissNotification",{id:r}),n.api.backendInteractor.dismissNotification({id:r})},updateNotification:function(e,t){e.rootState,(0,e.commit)("updateNotification",{id:t.id,updater:t.updater})}}};var ae={setLists:function(e,t){e.allLists=t},setList:function(e,t){var n=t.listId,o=t.title;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].title=o;var r=$()(e.allLists,{id:n});r?r.title=o:e.allLists.push({id:n,title:o})},setListAccounts:function(e,t){var n=t.listId,o=t.accountIds;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].accountIds=o},addListAccount:function(e,t){var n=t.listId,o=t.accountId;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].accountIds.push(o)},removeListAccount:function(e,t){var n=t.listId,o=t.accountId;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]});var r=e.allListsObject[n].accountIds,i=new Set(r);i.delete(o),e.allListsObject[n].accountIds=(0,l.Z)(i)},deleteList:function(e,t){var n=t.listId;delete e.allListsObject[n],W()(e.allLists,(function(e){return e.id===n}))}},ue={state:{allLists:[],allListsObject:{}},mutations:ae,actions:{setLists:function(e,t){(0,e.commit)("setLists",t)},createList:function(e,t){var n=e.rootState,o=e.commit,r=t.title;return n.api.backendInteractor.createList({title:r}).then((function(e){return o("setList",{listId:e.id,title:r}),e}))},fetchList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;return n.api.backendInteractor.getList({listId:r}).then((function(e){return o("setList",{listId:e.id,title:e.title})}))},fetchListAccounts:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;return n.api.backendInteractor.getListAccounts({listId:r}).then((function(e){return o("setListAccounts",{listId:r,accountIds:e})}))},setList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.title;n.api.backendInteractor.updateList({listId:r,title:i}),o("setList",{listId:r,title:i})},setListAccounts:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountIds,s=n.lists.allListsObject[r].accountIds||[],a=i.filter((function(e){return!s.includes(e)})),u=s.filter((function(e){return!i.includes(e)}));o("setListAccounts",{listId:r,accountIds:i}),a.length>0&&n.api.backendInteractor.addAccountsToList({listId:r,accountIds:a}),u.length>0&&n.api.backendInteractor.removeAccountsFromList({listId:r,accountIds:u})},addListAccount:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountId;return n.api.backendInteractor.addAccountsToList({listId:r,accountIds:[i]}).then((function(e){return o("addListAccount",{listId:r,accountId:i}),e}))},removeListAccount:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountId;return n.api.backendInteractor.removeAccountsFromList({listId:r,accountIds:[i]}).then((function(e){return o("removeListAccount",{listId:r,accountId:i}),e}))},deleteList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;n.api.backendInteractor.deleteList({listId:r}),o("deleteList",{listId:r})}},getters:{findListTitle:function(e){return function(t){if(e.allListsObject[t])return e.allListsObject[t].title}},findListAccounts:function(e){return function(t){return(0,l.Z)(e.allListsObject[t].accountIds)}}}};const ce=ue;var le=n(71002),de=n(44908),pe=n.n(de),me=n(57043),he=n.n(me),fe=n(30236),ge=n.n(fe),ve=n(35161),be=n.n(ve),we=n(39693),ye=n.n(we),De=n(68929),_e=n.n(De),ke=n(22626),Ce=function(e){var t=e.store,n=e.credentials,o=e.timeline,r=void 0===o?"friends":o,i=e.older,s=void 0!==i&&i,a=e.showImmediately,u=void 0!==a&&a,c=e.userId,l=void 0!==c&&c,d=e.listId,m=void 0!==d&&d,h=e.statusId,f=void 0!==h&&h,g=e.tag,v=void 0!==g&&g,b=e.until,w=e.since,y={timeline:r,credentials:n},D=t.rootState||t.state,_=t.getters,k=D.statuses.timelines[_e()(r)],C=_.mergedConfig,S=C.hideMutedPosts,j=C.replyVisibility,F=!!D.users.currentUser;s?y.until=b||k.minId:void 0===w?y.since=k.maxId:null!==w&&(y.since=w),y.userId=l,y.listId=m,y.statusId=f,y.tag=v,y.withMuted=!S,F&&["friends","public","publicAndExternal"].includes(r)&&(y.replyVisibility=j);var A=k.statuses.length;return p.ZP.fetchTimeline(y).then((function(e){if(e.errors)throw new Error("".concat(e.status," ").concat(e.statusText));var n=e.data,o=e.pagination;return!s&&n.length>=20&&!k.loading&&A>0&&t.dispatch("queueFlush",{timeline:r,id:k.maxId}),function(e){var t=e.store,n=e.statuses,o=e.timeline,r=e.showImmediately,i=e.userId,s=e.listId,a=e.pagination,u=_e()(o);t.dispatch("addNewStatuses",{timeline:u,userId:i,listId:s,statuses:n,showImmediately:r,pagination:a})}({store:t,statuses:n,timeline:r,showImmediately:u,userId:l,listId:m,pagination:o}),{statuses:n,pagination:o}})).catch((function(e){t.dispatch("pushGlobalNotice",{level:"error",messageKey:"timeline.error",messageArgs:[e.message],timeout:5e3})}))},Se={fetchAndUpdate:Ce,startFetching:function(e){var t=e.timeline,n=void 0===t?"friends":t,o=e.credentials,r=e.store,i=e.userId,s=void 0!==i&&i,a=e.listId,u=void 0!==a&&a,c=e.statusId,l=void 0!==c&&c,d=e.tag,p=void 0!==d&&d,m=(r.rootState||r.state).statuses.timelines[_e()(n)],h=0===m.visibleStatuses.length;return m.userId=s,m.listId=u,Ce({timeline:n,credentials:o,store:r,showImmediately:h,userId:s,listId:u,statusId:l,tag:p}),(0,ke.F)((function(){return Ce({timeline:n,credentials:o,store:r,userId:s,listId:u,statusId:l,tag:p})}),1e4)}};const je=Se;var Fe=n(15568);const Ae=function(e){var t=e.credentials,n=e.store,o=function(){return function(e){var t=e.store,n=e.credentials;return p.ZP.fetchFollowRequests({credentials:n}).then((function(e){t.commit("setFollowRequests",e),t.commit("addNewUsers",e)}),(function(){})).catch((function(){}))}({credentials:t,store:n})};return o(),(0,ke.F)(o,1e4)};var Oe={startFetching:function(e){var t=e.credentials,n=e.store,o=function(){return function(e){var t=e.store,n=e.credentials;return p.ZP.fetchLists({credentials:n}).then((function(e){t.commit("setLists",e)}),(function(){})).catch((function(){}))}({credentials:t,store:n})};return o(),(0,ke.F)(o,24e4)}};const Ee=Oe;function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pe=function(e){return xe(xe({startFetchingTimeline:function(t){var n=t.timeline,o=t.store,r=t.userId,i=void 0!==r&&r,s=t.listId,a=void 0!==s&&s,u=t.statusId,c=void 0!==u&&u,l=t.tag;return je.startFetching({timeline:n,store:o,credentials:e,userId:i,listId:a,statusId:c,tag:l})},fetchTimeline:function(t){return je.fetchAndUpdate(xe(xe({},t),{},{credentials:e}))},startFetchingNotifications:function(t){var n=t.store;return Fe.Z.startFetching({store:n,credentials:e})},fetchNotifications:function(t){return Fe.Z.fetchAndUpdate(xe(xe({},t),{},{credentials:e}))},startFetchingFollowRequests:function(t){var n=t.store;return Ae({store:n,credentials:e})},startFetchingLists:function(t){var n=t.store;return Ee.startFetching({store:n,credentials:e})},startUserSocket:function(t){var n=t.store.rootState.instance.server.replace("http","ws")+(0,p.pR)({credentials:e,stream:"user"});return(0,p.ro)({url:n,id:"User"})}},Object.entries(p.ZP).reduce((function(t,n){var o=(0,c.Z)(n,2),r=o[0],i=o[1];return xe(xe({},t),{},(0,d.Z)({},r,(function(t){return i(xe({credentials:e},t))})))}),{})),{},{verifyCredentials:p.ZP.verifyCredentials})};var Ie=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},Te=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},Be=n(54061),$e=n.n(Be),Ue="".concat(window.location.origin,"/oauth-callback"),Me=function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.commit;if(t&&n)return Promise.resolve({clientId:t,clientSecret:n});var i="".concat(o,"/api/v1/apps"),s=new window.FormData;return s.append("client_name","PleromaFE_".concat(window.___pleromafe_commit_hash,"_").concat((new Date).toISOString())),s.append("redirect_uris",Ue),s.append("scopes","read write follow push admin"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){return{clientId:e.client_id,clientSecret:e.client_secret}})).then((function(e){return r("setClientData",e)||e}))},Le=function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r="".concat(o,"/oauth/token"),i=new window.FormData;return i.append("client_id",t),i.append("client_secret",n),i.append("grant_type","client_credentials"),i.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(r,{method:"POST",body:i}).then((function(e){return e.json()}))},Re={login:function(e){var t=e.instance,n={response_type:"code",client_id:e.clientId,redirect_uri:Ue,scope:"read write follow push admin"},o=$e()(n,(function(e,t,n){var o="".concat(n,"=").concat(encodeURIComponent(t));return e?"".concat(e,"&").concat(o):o}),!1),r="".concat(t,"/oauth/authorize?").concat(o);window.location.href=r},getToken:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.code,i="".concat(o,"/oauth/token"),s=new window.FormData;return s.append("client_id",t),s.append("client_secret",n),s.append("grant_type","authorization_code"),s.append("code",r),s.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},getTokenWithCredentials:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.username,i=e.password,s="".concat(o,"/oauth/token"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("grant_type","password"),a.append("username",r),a.append("password",i),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))},getOrCreateApp:Me,verifyOTPCode:function(e){var t=e.app,n=e.instance,o=e.mfaToken,r=e.code,i="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",t.client_id),s.append("client_secret",t.client_secret),s.append("mfa_token",o),s.append("code",r),s.append("challenge_type","totp"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},verifyRecoveryCode:function(e){var t=e.app,n=e.instance,o=e.mfaToken,r=e.code,i="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",t.client_id),s.append("client_secret",t.client_secret),s.append("mfa_token",o),s.append("code",r),s.append("challenge_type","recovery"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},revokeToken:function(e){var t=e.app,n=e.instance,o=e.token,r="".concat(n,"/oauth/revoke"),i=new window.FormData;return i.append("client_id",t.clientId),i.append("client_secret",t.clientSecret),i.append("token",o),window.fetch(r,{method:"POST",body:i}).then((function(e){return e.json()}))}};const qe=Re;var Ne=n(73847);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function e(t,n){if(S()(t)&&S()(n))return t.length=n.length,ge()(t,n,e)},Ve=function(e,t){return e.rootState.api.backendInteractor.blockUser({id:t}).then((function(n){e.commit("updateUserRelationship",[n]),e.commit("addBlockId",t),e.commit("removeStatus",{timeline:"friends",userId:t}),e.commit("removeStatus",{timeline:"public",userId:t}),e.commit("removeStatus",{timeline:"publicAndExternal",userId:t})}))},Ge=function(e,t){return e.rootState.api.backendInteractor.unblockUser({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))},Ke=function(e,t){var n="object"===(0,le.Z)(t)?t.id:t,o="object"===(0,le.Z)(t)?t.expiresIn:0,r=e.state.relationships[n]||{id:n};return r.muting=!0,e.commit("updateUserRelationship",[r]),e.commit("addMuteId",n),e.rootState.api.backendInteractor.muteUser({id:n,expiresIn:o}).then((function(t){e.commit("updateUserRelationship",[t]),e.commit("addMuteId",n)}))},Ye=function(e,t){var n=e.state.relationships[t]||{id:t};return n.muting=!1,e.commit("updateUserRelationship",[n]),e.rootState.api.backendInteractor.unmuteUser({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))},Qe=function(e,t){return e.rootState.api.backendInteractor.muteDomain({domain:t}).then((function(){return e.commit("addDomainMute",t)}))},Je=function(e,t){return e.rootState.api.backendInteractor.unmuteDomain({domain:t}).then((function(){return e.commit("removeDomainMute",t)}))},Xe={tagUser:function(e,t){var n=t.user.id,o=t.tag,r=e.usersObject[n],i=(r.tags||[]).concat([o]);r.tags=i},untagUser:function(e,t){var n=t.user.id,o=t.tag,r=e.usersObject[n],i=(r.tags||[]).filter((function(e){return e!==o}));r.tags=i},updateRight:function(e,t){var n=t.user.id,o=t.right,r=t.value,i=e.usersObject[n],s=i.rights;s[o]=r,i.rights=s},updateActivationStatus:function(e,t){var n=t.user.id,o=t.deactivated;e.usersObject[n].deactivated=o},setCurrentUser:function(e,t){e.lastLoginName=t.screen_name,e.currentUser=ge()(e.currentUser||{},t,He)},clearCurrentUser:function(e){e.currentUser=!1,e.lastLoginName=!1},beginLogin:function(e){e.loggingIn=!0},endLogin:function(e){e.loggingIn=!1},saveFriendIds:function(e,t){var n=t.id,o=t.friendIds,r=e.usersObject[n];r.friendIds=pe()(he()(r.friendIds||[],o))},saveFollowerIds:function(e,t){var n=t.id,o=t.followerIds,r=e.usersObject[n];r.followerIds=pe()(he()(r.followerIds||[],o))},clearFriends:function(e,t){var n=e.usersObject[t];n&&(n.friendIds=[])},clearFollowers:function(e,t){var n=e.usersObject[t];n&&(n.followerIds=[])},addNewUsers:function(e,t){R()(t,(function(t){t.relationship&&(e.relationships[t.relationship.id]=t.relationship);var n=function(e,t,n){if(!n)return!1;var o=t[n.id];return o?(ge()(o,n,He),{item:o,new:!1}):(e.push(n),t[n.id]=n,{item:n,new:!0})}(e.users,e.usersObject,t),o=n.item;n.new&&o.screen_name&&!o.screen_name.includes("@")&&(e.usersByNameObject[o.screen_name.toLowerCase()]=o)}))},updateUserRelationship:function(e,t){t.forEach((function(t){e.relationships[t.id]=t}))},updateUserInLists:function(e,t){var n=t.id,o=t.inLists;e.usersObject[n].inLists=o},saveBlockIds:function(e,t){e.currentUser.blockIds=t},addBlockId:function(e,t){-1===e.currentUser.blockIds.indexOf(t)&&e.currentUser.blockIds.push(t)},setBlockIdsMaxId:function(e,t){e.currentUser.blockIdsMaxId=t},saveMuteIds:function(e,t){e.currentUser.muteIds=t},setMuteIdsMaxId:function(e,t){e.currentUser.muteIdsMaxId=t},addMuteId:function(e,t){-1===e.currentUser.muteIds.indexOf(t)&&e.currentUser.muteIds.push(t)},saveDomainMutes:function(e,t){e.currentUser.domainMutes=t},addDomainMute:function(e,t){-1===e.currentUser.domainMutes.indexOf(t)&&e.currentUser.domainMutes.push(t)},removeDomainMute:function(e,t){var n=e.currentUser.domainMutes.indexOf(t);-1!==n&&e.currentUser.domainMutes.splice(n,1)},setPinnedToUser:function(e,t){var n=e.usersObject[t.user.id];n.pinnedStatusIds=n.pinnedStatusIds||[];var o=n.pinnedStatusIds.indexOf(t.id);t.pinned&&-1===o?n.pinnedStatusIds.push(t.id):t.pinned||-1===o||n.pinnedStatusIds.splice(o,1)},setUserForStatus:function(e,t){t.user=e.usersObject[t.user.id]},setUserForNotification:function(e,t){"follow"!==t.type&&(t.action.user=e.usersObject[t.action.user.id]),t.from_profile=e.usersObject[t.from_profile.id]},setColor:function(e,t){var n=t.user.id,o=t.highlighted;e.usersObject[n].highlight=o},signUpPending:function(e){e.signUpPending=!0,e.signUpErrors=[],e.signUpNotice={}},signUpSuccess:function(e){e.signUpPending=!1},signUpFailure:function(e,t){e.signUpPending=!1,e.signUpErrors=t,e.signUpNotice={}},signUpNotice:function(e,t){e.signUpPending=!1,e.signUpErrors=[],e.signUpNotice=t}},et={state:{loggingIn:!1,lastLoginName:!1,currentUser:!1,users:[],usersObject:{},usersByNameObject:{},signUpPending:!1,signUpErrors:[],signUpNotice:{},relationships:{}},mutations:Xe,getters:{findUser:function(e){return function(t){return e.usersObject[t]}},findUserByName:function(e){return function(t){return e.usersByNameObject[t.toLowerCase()]}},findUserByUrl:function(e){return function(t){return e.users.find((function(e){return e.statusnet_profile_url&&e.statusnet_profile_url.toLowerCase()===t.toLowerCase()}))}},relationship:function(e){return function(t){return t&&e.relationships[t]||{id:t,loading:!0}}}},actions:{fetchUserIfMissing:function(e,t){e.getters.findUser(t)||e.dispatch("fetchUser",t)},fetchUser:function(e,t){return e.rootState.api.backendInteractor.fetchUser({id:t}).then((function(t){return e.commit("addNewUsers",[t]),t}))},fetchUserByName:function(e,t){return e.rootState.api.backendInteractor.fetchUserByName({name:t}).then((function(t){return e.commit("addNewUsers",[t]),t}))},fetchUserRelationship:function(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserRelationship({id:t}).then((function(t){return e.commit("updateUserRelationship",t)}))},fetchUserInLists:function(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserInLists({id:t}).then((function(n){return e.commit("updateUserInLists",{id:t,inLists:n})}))},fetchBlocks:function(e,t){var n=(t||{}).reset,o=e.state.currentUser.blockIdsMaxId;return e.rootState.api.backendInteractor.fetchBlocks({maxId:o}).then((function(t){return n?e.commit("saveBlockIds",be()(t,"id")):be()(t,"id").map((function(t){return e.commit("addBlockId",t)})),t.length&&e.commit("setBlockIdsMaxId",F()(t).id),e.commit("addNewUsers",t),t}))},blockUser:function(e,t){return Ve(e,t)},unblockUser:function(e,t){return Ge(e,t)},removeUserFromFollowers:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.removeUserFromFollowers({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},blockUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Ve(e,t)})))},unblockUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Ge(e,t)})))},editUserNote:function(e,t){return function(e,t){var n=t.id,o=t.comment;return e.rootState.api.backendInteractor.editUserNote({id:n,comment:o}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},fetchMutes:function(e,t){var n=(t||{}).reset,o=e.state.currentUser.muteIdsMaxId;return e.rootState.api.backendInteractor.fetchMutes({maxId:o}).then((function(t){return n?e.commit("saveMuteIds",be()(t,"id")):be()(t,"id").map((function(t){return e.commit("addMuteId",t)})),t.length&&e.commit("setMuteIdsMaxId",F()(t).id),e.commit("addNewUsers",t),t}))},muteUser:function(e,t){return Ke(e,t)},unmuteUser:function(e,t){return Ye(e,t)},hideReblogs:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.followUser({id:t,reblogs:!1}).then((function(t){e.commit("updateUserRelationship",[t])}))}(e,t)},showReblogs:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.followUser({id:t,reblogs:!0}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},muteUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Ke(e,t)})))},unmuteUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Ye(e,t)})))},fetchDomainMutes:function(e){return e.rootState.api.backendInteractor.fetchDomainMutes().then((function(t){return e.commit("saveDomainMutes",t),t}))},muteDomain:function(e,t){return Qe(e,t)},unmuteDomain:function(e,t){return Je(e,t)},muteDomains:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Qe(e,t)})))},unmuteDomains:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Je(e,t)})))},fetchFriends:function(e,t){var n=e.rootState,o=e.commit,r=n.users.usersObject[t],i=F()(r.friendIds);return n.api.backendInteractor.fetchFriends({id:t,maxId:i}).then((function(e){return o("addNewUsers",e),o("saveFriendIds",{id:t,friendIds:be()(e,"id")}),e}))},fetchFollowers:function(e,t){var n=e.rootState,o=e.commit,r=n.users.usersObject[t],i=F()(r.followerIds);return n.api.backendInteractor.fetchFollowers({id:t,maxId:i}).then((function(e){return o("addNewUsers",e),o("saveFollowerIds",{id:t,followerIds:be()(e,"id")}),e}))},clearFriends:function(e,t){(0,e.commit)("clearFriends",t)},clearFollowers:function(e,t){(0,e.commit)("clearFollowers",t)},subscribeUser:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.subscribeUser({id:t}).then((function(e){return o("updateUserRelationship",[e])}))},unsubscribeUser:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.unsubscribeUser({id:t}).then((function(e){return o("updateUserRelationship",[e])}))},toggleActivationStatus:function(e,t){var n=e.rootState,o=e.commit,r=t.user;(r.deactivated?n.api.backendInteractor.activateUser:n.api.backendInteractor.deactivateUser)({user:r}).then((function(e){var t=!e.is_active;o("updateActivationStatus",{user:e,deactivated:t})}))},registerPushNotifications:function(e){var t=e.state.currentUser.credentials,n=e.rootState.instance.vapidPublicKey,o=e.rootState.config.webPushNotifications,r=e.rootState.config.notificationVisibility;(0,Ne.mA)(o,n,t,r)},unregisterPushNotifications:function(e){var t=e.state.currentUser.credentials;(0,Ne.a_)(t)},addNewUsers:function(e,t){(0,e.commit)("addNewUsers",t)},addNewStatuses:function(e,t){var n=t.statuses,o=be()(n,"user"),r=ye()(be()(n,"retweeted_status.user"));e.commit("addNewUsers",o),e.commit("addNewUsers",r),R()(n,(function(t){e.commit("setUserForStatus",t),e.commit("setPinnedToUser",t)})),R()(ye()(be()(n,"retweeted_status")),(function(t){e.commit("setUserForStatus",t),e.commit("setPinnedToUser",t)}))},addNewNotifications:function(e,t){var n=t.notifications,o=be()(n,"from_profile"),r=be()(n,"target").filter((function(e){return e})),i=n.map((function(e){return e.id}));e.commit("addNewUsers",o),e.commit("addNewUsers",r);var s=e.rootState.notifications.idStore,a=Object.entries(s).filter((function(e){var t=(0,c.Z)(e,2),n=t[0];return t[1],i.includes(n)})).map((function(e){var t=(0,c.Z)(e,2);return t[0],t[1]}));R()(a,(function(t){e.commit("setUserForNotification",t)}))},searchUsers:function(e,t){var n=e.rootState,o=e.commit,r=t.query;return n.api.backendInteractor.searchUsers({query:r}).then((function(e){return o("addNewUsers",e),e}))},signUp:function(e,t){return(0,o.Z)(i().mark((function n(){var o,r,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.commit("signUpPending"),o=e.rootState,n.prev=2,n.next=5,o.api.backendInteractor.register({params:We({},t)});case 5:if(!(r=n.sent).access_token){n.next=13;break}return e.commit("signUpSuccess"),e.commit("setToken",r.access_token),e.dispatch("loginUser",r.access_token),n.abrupt("return","ok");case 13:return e.commit("signUpNotice",r),n.abrupt("return","request_sent");case 15:n.next=22;break;case 17:throw n.prev=17,n.t0=n.catch(2),s=n.t0.message,e.commit("signUpFailure",s),n.t0;case 22:case"end":return n.stop()}}),n,null,[[2,17]])})))()},getCaptcha:function(e){return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.rootState.api.backendInteractor.getCaptcha());case 1:case"end":return t.stop()}}),t)})))()},logout:function(e){var t=e.rootState,n=t.oauth,o=t.instance,r=We(We({},n),{},{commit:e.commit,instance:o.server});return qe.getOrCreateApp(r).then((function(e){var t={app:e,instance:r.instance,token:n.userToken};return qe.revokeToken(t)})).then((function(){e.commit("clearCurrentUser"),e.dispatch("disconnectFromSocket"),e.commit("clearToken"),e.dispatch("stopFetchingTimeline","friends"),e.commit("setBackendInteractor",Pe(e.getters.getToken())),e.dispatch("stopFetchingNotifications"),e.dispatch("stopFetchingLists"),e.dispatch("stopFetchingFollowRequests"),e.commit("clearNotifications"),e.commit("resetStatuses"),e.dispatch("resetChats"),e.dispatch("setLastTimeline","public-timeline"),e.dispatch("setLayoutWidth",Ie()),e.dispatch("setLayoutHeight",Te()),e.commit("clearServerSideStorage")}))},loginUser:function(e,t){return new Promise((function(n,o){var r=e.commit,i=e.dispatch;r("beginLogin"),e.rootState.api.backendInteractor.verifyCredentials(t).then((function(s){if(s.error){var a=s.error;r("endLogin"),[400,401,403,422].includes(a.status)&&r("clearToken"),401===a.status?o(new Error("Wrong username or password")):o(new Error("An error occurred, please try again"))}else{var u=s;u.credentials=t,u.blockIds=[],u.muteIds=[],u.domainMutes=[],r("setCurrentUser",u),r("setServerSideStorage",u),r("addNewUsers",[u]),i("fetchEmoji"),(c=window.Notification,c?"default"===c.permission?c.requestPermission():Promise.resolve(c.permission):Promise.resolve(null)).then((function(e){return r("setNotificationPermission",e)})),r("setBackendInteractor",Pe(t)),i("pushServerSideStorage"),u.token&&(i("setWsToken",u.token),i("initializeSocket")),i("startFetchingLists"),u.locked&&i("startFetchingFollowRequests"),e.getters.mergedConfig.useStreamingApi?(i("fetchTimeline",{timeline:"friends",since:null}),i("fetchNotifications",{since:null}),i("enableMastoSockets",!0).catch((function(e){console.error("Failed initializing MastoAPI Streaming socket",e)})).then((function(){i("fetchChats",{latest:!0}),setTimeout((function(){return i("setNotificationsSilence",!1)}),1e4)}))):(i("startFetchingTimeline",{timeline:"friends"}),i("startFetchingNotifications"),i("startFetchingChats")),i("fetchMutes"),i("setLayoutWidth",Ie()),i("setLayoutHeight",Te()),e.rootState.api.backendInteractor.fetchFriends({id:u.id}).then((function(e){return r("addNewUsers",e)}))}var c;r("endLogin"),n()})).catch((function(e){console.error(e),r("endLogin"),o(new Error("Failed to connect to server, try again"))}))}))}}};const tt=et;var nt=n(36459),ot=n(87462),rt=n(44925),it=function(e,t){if(t.lastMessage&&(e.rootState.chats.currentChatId!==t.id||document.hidden)&&e.rootState.users.currentUser.id!==t.lastMessage.account_id){var n={tag:t.lastMessage.id,title:t.account.name,icon:t.account.profile_image_url,body:t.lastMessage.content};t.lastMessage.attachment&&"image"===t.lastMessage.attachment.type&&(n.image=t.lastMessage.attachment.preview_url),(0,oe.w3)(e.rootState,n)}},st=n(90837),at=["timeline"];function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={state:{retryMultiplier:1,backendInteractor:Pe(),fetchers:{},socket:null,mastoUserSocket:null,mastoUserSocketStatus:null,followRequests:[]},getters:{followRequestCount:function(e){return e.followRequests.length}},mutations:{setBackendInteractor:function(e,t){e.backendInteractor=t},addFetcher:function(e,t){var n=t.fetcherName,o=t.fetcher;e.fetchers[n]=o},removeFetcher:function(e,t){var n=t.fetcherName;t.fetcher,e.fetchers[n].stop(),delete e.fetchers[n]},setWsToken:function(e,t){e.wsToken=t},setSocket:function(e,t){e.socket=t},setFollowRequests:function(e,t){e.followRequests=t},setMastoUserSocketStatus:function(e,t){e.mastoUserSocketStatus=t},incrementRetryMultiplier:function(e){e.retryMultiplier=Math.max(++e.retryMultiplier,3)},resetRetryMultiplier:function(e){e.retryMultiplier=1}},actions:{enableMastoSockets:function(e,t){var n=e.state,o=e.dispatch,r=e.commit;if(!n.mastoUserSocket||[WebSocket.CLOSED,WebSocket.CLOSING].includes(n.mastoUserSocket.getState()))return r("setMastoUserSocketStatus",t?p._z.STARTING_INITIAL:p._z.STARTING),o("startMastoUserSocket")},disableMastoSockets:function(e){var t=e.state,n=e.dispatch,o=e.commit;if(t.mastoUserSocket)return o("setMastoUserSocketStatus",p._z.DISABLED),n("stopMastoUserSocket")},startMastoUserSocket:function(e){return new Promise((function(t,n){try{var o=e.state,r=e.commit,i=e.dispatch,s=e.rootState.statuses.timelines.friends;o.mastoUserSocket=o.backendInteractor.startUserSocket({store:e}),o.mastoUserSocket.addEventListener("message",(function(t){var n=t.detail;n&&("notification"===n.event?i("addNewNotifications",{notifications:[n.notification],older:!1}):"update"===n.event?i("addNewStatuses",{statuses:[n.status],userId:!1,showImmediately:0===s.visibleStatuses.length,timeline:"friends"}):"status.update"===n.event?i("addNewStatuses",{statuses:[n.status],userId:!1,showImmediately:n.status.id in s.visibleStatusesObject,timeline:"friends"}):"delete"===n.event?i("deleteStatusById",n.id):"pleroma:chat_update"===n.event&&setTimeout((function(){i("addChatMessages",{chatId:n.chatUpdate.id,messages:[n.chatUpdate.lastMessage]}),i("updateChat",{chat:n.chatUpdate}),it(e,n.chatUpdate)}),100))})),o.mastoUserSocket.addEventListener("open",(function(){o.mastoUserSocketStatus!==p._z.STARTING_INITIAL&&i("pushGlobalNotice",{level:"success",messageKey:"timeline.socket_reconnected",timeout:5e3}),new Set([p._z.ERROR,p._z.DISABLED]).has(o.mastoUserSocketStatus)&&(i("stopFetchingTimeline",{timeline:"friends"}),i("stopFetchingNotifications"),i("stopFetchingChats")),r("resetRetryMultiplier"),r("setMastoUserSocketStatus",p._z.JOINED)})),o.mastoUserSocket.addEventListener("error",(function(e){var t=e.detail;console.error("Error in MastoAPI websocket:",t),i("clearOpenedChats")})),o.mastoUserSocket.addEventListener("close",(function(e){var t=e.detail,n=new Set([1e3,1001]),s=t.code;n.has(s)?(console.debug("Not restarting socket becasue of closure code ".concat(s," is in ignore list")),r("setMastoUserSocketStatus",p._z.CLOSED)):(console.warn("MastoAPI websocket disconnected, restarting. CloseEvent code: ".concat(s)),setTimeout((function(){i("startMastoUserSocket")}),1e3*o.retryMultiplier),r("incrementRetryMultiplier"),o.mastoUserSocketStatus!==p._z.ERROR&&(i("startFetchingTimeline",{timeline:"friends"}),i("startFetchingNotifications"),i("startFetchingChats"),i("pushGlobalNotice",{level:"error",messageKey:"timeline.socket_broke",messageArgs:[s],timeout:5e3})),r("setMastoUserSocketStatus",p._z.ERROR)),i("clearOpenedChats")})),t()}catch(e){n(e)}}))},stopMastoUserSocket:function(e){var t=e.state,n=e.dispatch;n("startFetchingTimeline",{timeline:"friends"}),n("startFetchingNotifications"),n("startFetchingChats"),t.mastoUserSocket.close()},startFetchingTimeline:function(e,t){var n=t.timeline,o=void 0===n?"friends":n,r=t.tag,i=void 0!==r&&r,s=t.userId,a=void 0!==s&&s,u=t.listId,c=void 0!==u&&u,l=t.statusId,d=void 0!==l&&l;if(!e.state.fetchers[o]){var p=e.state.backendInteractor.startFetchingTimeline({timeline:o,store:e,userId:a,listId:c,statusId:d,tag:i});e.commit("addFetcher",{fetcherName:o,fetcher:p})}},stopFetchingTimeline:function(e,t){var n=e.state.fetchers[t];n&&e.commit("removeFetcher",{fetcherName:t,fetcher:n})},fetchTimeline:function(e,t){var n=t.timeline,o=(0,rt.Z)(t,at);e.state.backendInteractor.fetchTimeline(ct({store:e,timeline:n},o))},startFetchingNotifications:function(e){if(!e.state.fetchers.notifications){var t=e.state.backendInteractor.startFetchingNotifications({store:e});e.commit("addFetcher",{fetcherName:"notifications",fetcher:t})}},stopFetchingNotifications:function(e){var t=e.state.fetchers.notifications;t&&e.commit("removeFetcher",{fetcherName:"notifications",fetcher:t})},fetchNotifications:function(e,t){var n=(0,ot.Z)({},((0,nt.Z)(t),t));e.state.backendInteractor.fetchNotifications(ct({store:e},n))},startFetchingFollowRequests:function(e){if(!e.state.fetchers.followRequests){var t=e.state.backendInteractor.startFetchingFollowRequests({store:e});e.commit("addFetcher",{fetcherName:"followRequests",fetcher:t})}},stopFetchingFollowRequests:function(e){var t=e.state.fetchers.followRequests;t&&e.commit("removeFetcher",{fetcherName:"followRequests",fetcher:t})},removeFollowRequest:function(e,t){var n=e.state.followRequests.filter((function(e){return e!==t}));e.commit("setFollowRequests",n)},startFetchingLists:function(e){if(!e.state.fetchers.lists){var t=e.state.backendInteractor.startFetchingLists({store:e});e.commit("addFetcher",{fetcherName:"lists",fetcher:t})}},stopFetchingLists:function(e){var t=e.state.fetchers.lists;t&&e.commit("removeFetcher",{fetcherName:"lists",fetcher:t})},setWsToken:function(e,t){e.commit("setWsToken",t)},initializeSocket:function(e){var t=e.dispatch,n=e.commit,o=e.state,r=e.rootState,i=o.wsToken;if(r.instance.shoutAvailable&&void 0!==i&&null===o.socket){var s=new st.sk("/socket",{params:{token:i}});s.connect(),n("setSocket",s),t("initializeShout",s)}},disconnectFromSocket:function(e){var t=e.commit,n=e.state;n.socket&&n.socket.disconnect(),t("setSocket",null)}}};const dt=lt;var pt=n(36968),mt=n.n(pt),ht=n(27361),ft=n.n(ht);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var vt=function(e,t){var n=e.rootState,o=e.commit,r=t.path,i=t.value,s={};return mt()(s,r,i),n.api.backendInteractor.updateProfile({params:s}).then((function(e){o("addNewUsers",[e]),o("setCurrentUser",e)}))},bt=function(e,t){var n=e.rootState,o=e.commit,r=t.path,i=t.value,s=t.oldValue,a={};return mt()(a,r,i),n.api.backendInteractor.updateNotificationSettings({settings:a}).then((function(e){"success"===e.status?o("confirmProfileOption",{name,value:i}):o("confirmProfileOption",{name,value:s})}))},wt={defaultScope:"source.privacy",defaultNSFW:"source.sensitive",stripRichContent:{get:"source.pleroma.no_rich_text",set:"no_rich_text"},locked:"locked",acceptChatMessages:{get:"pleroma.accepts_chat_messages",set:"accepts_chat_messages"},allowFollowingMove:{get:"pleroma.allow_following_move",set:"allow_following_move"},discoverable:{get:"source.pleroma.discoverable",set:"discoverable"},hideFavorites:{get:"pleroma.hide_favorites",set:"hide_favorites"},hideFollowers:{get:"pleroma.hide_followers",set:"hide_followers"},hideFollows:{get:"pleroma.hide_follows",set:"hide_follows"},hideFollowersCount:{get:"pleroma.hide_followers_count",set:"hide_followers_count"},hideFollowsCount:{get:"pleroma.hide_follows_count",set:"hide_follows_count"},webPushHideContents:{get:"pleroma.notification_settings.hide_notification_contents",set:"hide_notification_contents",api:bt},blockNotificationsFromStrangers:{get:"pleroma.notification_settings.block_from_strangers",set:"block_from_strangers",api:bt}},yt={state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object.fromEntries(Object.keys(wt).map((function(e){return[e,null]})))),mutations:{confirmProfileOption:function(e,t){var n=t.name,o=t.value;mt()(e,n,o)},wipeProfileOption:function(e,t){var n=t.name;mt()(e,n,null)},wipeAllProfileOptions:function(e){Object.keys(wt).forEach((function(t){mt()(e,t,null)}))},setCurrentUser:function(e,t){Object.entries(wt).forEach((function(n){var o=(0,c.Z)(n,2),r=o[0],i=o[1],s=i.get,a=void 0===s?i:s;mt()(e,r,ft()(t._original,a))}))}},actions:{setProfileOption:function(e,t){var n=e.rootState,o=e.state,r=e.commit,i=(e.dispatch,t.name),s=t.value,a=ft()(o,i),u=wt[i];if(!u)throw new Error("Invalid server-side setting");var c=u.set,l=void 0===c?u:c,d=u.api,p=void 0===d?vt:d;r("wipeProfileOption",{name:i}),p({rootState:n,commit:r},{path:l,value:s,oldValue:a}).catch((function(e){console.warn("Error setting server-side option:",e),r("confirmProfileOption",{name:i,value:a})}))},logout:function(e){(0,e.commit)("wipeAllProfileOptions")}}};const Dt=yt;var _t=n(87185),kt=n.n(_t),Ct=n(69579),St=n.n(Ct),jt=n(7436),Ft=n.n(jt),At=n(7739),Ot=n.n(At),Et=n(85564),zt=n.n(Et),xt=n(74691),Pt=n.n(xt),It=n(50361),Tt=n.n(It),Bt=n(18446),$t=n.n(Bt),Ut=n(2262),Mt=n(48328),Lt=n(9382),Rt=(n(31934),n(95326),n(43011),n(68789),n(84131));Lt.vI.add(Rt.NBC),Mt.Z;var qt=["_journal"],Nt=["_timestamp","_version"],Zt=["_timestamp","_version"];function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=new Date("2022-08-04"),Gt={dirty:!1,flagStorage:{updateCounter:0,reset:0},prefsStorage:{_journal:[],simple:{dontShowUpdateNotifs:!1,collapseNav:!1},collections:{pinnedNavItems:["home","dms","chats"]}},raw:null,cache:null},Kt=Ht(Ht({},Gt.flagStorage),{},{updateCounter:1}),Yt=function(e,t,n){var o=e.indexOf(t),r=o+n,i=(0,l.Z)(e);return i.splice(o,1),i.splice(Pt()(r,0,i.length+1),0,t),i},Qt=function(e,t){return Ht(Ht({},e),{},{_user:t,_timestamp:Date.now(),_version:1})},Jt=function(e){return e._timestamp>0&&e._version>0},Xt=function(e){e.prefsStorage=e.prefsStorage||{simple:{},collections:{}},Object.entries(Gt.prefsStorage.simple).forEach((function(t){var n=(0,c.Z)(t,2),o=n[0],r=n[1];"number"!=typeof r&&"boolean"!=typeof r&&(console.warn("Preference simple.".concat(o," as invalid type, reinitializing")),mt()(e.prefsStorage.simple,o,Gt.prefsStorage.simple[o]))})),Object.entries(Gt.prefsStorage.collections).forEach((function(t){var n=(0,c.Z)(t,2),o=n[0],r=n[1];Array.isArray(r)||(console.warn("Preference collections.".concat(o," as invalid type, reinitializing")),mt()(e.prefsStorage.collections,o,Gt.prefsStorage.collections[o]))}))},en=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=zt()(t.map((function(e){return Array.isArray(e)?e:[]}))).filter((function(e){return Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"operation")&&Object.prototype.hasOwnProperty.call(e,"args")&&Object.prototype.hasOwnProperty.call(e,"timestamp")})),r=Ot()(o,"path"),i=Object.entries(r).map((function(e){var t=(0,c.Z)(e,2),n=t[0],o=t[1];if(o.sort((function(e,t){return e.timestamp>t.timestamp?1:-1})),n.startsWith("collections")){var r,i=Ft()(o,(function(e){return"removeFromCollection"===e.operation}));return r=i>0?o.slice(i):o,kt()(r,(function(e,t){return e.path===t.path&&e.operation===t.operation&&"addToCollection"===e.operation&&e.args[0]===t.args[0]}))}return n.startsWith("simple")?St()(o):o}));return zt()(i).sort((function(e,t){return e.timestamp>t.timestamp?1:-1}))},tn={clearServerSideStorage:function(e,t){Ht({},Tt()(Gt))},setServerSideStorage:function(e,t){var n=t.storage;e.raw=n;var o=e.cache;o&&o._user!==t.fqn&&(console.warn("cache belongs to another user! reinitializing local cache!"),o=null);var r=function(e,t){var n={recent:null,stale:null,needUpload:!1},o=Jt(e||{}),r=Jt(t||{});return!r&&o?(n.needUpload=!0,console.debug("Nothing valid stored on server, assuming cache to be source of truth"),n.recent=e,n.stale=t):!o&&r?(console.debug("Valid storage on server found, no local cache found, using live as source of truth"),n.recent=t,n.stale=e):o&&r?(console.debug("Both sources have valid data, figuring things out..."),t._timestamp===e._timestamp&&t._version===e._version?(console.debug("Same version/timestamp on both source, source of truth irrelevant"),n.recent=e,n.stale=t):(console.debug("Different timestamp, figuring out which one is more recent"),t._timestamp<e._timestamp?(n.recent=e,n.stale=t):(n.recent=t,n.stale=e))):(console.debug("Both sources are invalid, start from scratch"),n.needUpload=!0),n}(o=function(e){return e?(e._version<1&&(console.debug("Local cached data has older version, seeing if there any migrations that can be applied"),console.debug("No migrations found")),e._version>1&&(console.debug("Local cached data has newer version, seeing if there any reverse migrations that can be applied"),window._PLEROMA_HOTPATCH&&window._PLEROMA_HOTPATCH.reverseMigrations)?(console.debug("Found hotpatch migration, applying"),window._PLEROMA_HOTPATCH.reverseMigrations.call({},"serverSideStorage",{from:e._version,to:1},e)):e):e}(o),n),i=r.recent,s=r.stale,a=r.needsUpload,u=t.created_at>Vt,d=u?Kt:Gt.flagStorage,p=!1;if(null===i&&(console.debug("Data is empty, initializing for ".concat(u?"new":"existing"," user")),i=Qt({flagStorage:Ht({},d),prefsStorage:Ht({},Gt.prefsStorage)})),!a&&i&&s){console.debug("Checking if data needs merging...");var m=i,h=(m._timestamp,m._version,(0,rt.Z)(m,Nt)),f=(s._timestamp,s._version,(0,rt.Z)(s,Zt));p=!$t()(h,f),console.debug("Data ".concat(p?"needs":"doesn't need"," merging"))}var g,v,b=function(e,t){return Array.from(new Set([].concat((0,l.Z)(Object.keys((0,Ut.IU)((e||{}).flagStorage||{}))),(0,l.Z)(Object.keys((0,Ut.IU)((t||{}).flagStorage||{}))))))}(i,s);p?(console.debug("Merging the data..."),g=function(e,t,n){return t.flagStorage?e.flagStorage?Object.fromEntries(n.map((function(n){var o=e.flagStorage[n],r=t.flagStorage[n];return[n,Number((o>r?o:r)||0)]}))):t.flagStorage:e.flagStorage}(i,s,b),Xt(i),Xt(s),v=function(e,t,n){if(!t)return e;if(!e)return t;var o=e._journal,r=(0,rt.Z)(e,qt),i=t._journal,s=Ht({},r),a=en(i,o);return a.forEach((function(e){var t=e.path,n=(e.timestamp,e.operation),o=(e.command,e.args);if(t.startsWith("_"))console.error("journal contains entry to edit internal (starts with _) field '".concat(t,"', something is incorrect here, ignoring."));else switch(n){case"set":mt()(s,t,o[0]);break;case"addToCollection":mt()(s,t,Array.from(new Set(ft()(s,t)).add(o[0])));break;case"removeFromCollection":var r=new Set(ft()(s,t));r.delete(o[0]),mt()(s,t,Array.from(r));break;case"reorderCollection":var i=(0,c.Z)(o,2),a=i[0],u=i[1];mt()(s,t,Yt(ft()(s,t),a,u));break;default:console.error("Unknown journal operation: '".concat(n,"', did we forget to run reverse migrations beforehand?"))}})),Ht(Ht({},s),{},{_journal:a})}(i.prefsStorage,s.prefsStorage)):(g=i.flagStorage,v=i.prefsStorage),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.flagStorage,n=Ht({},e),o=Object.keys(e);if(e.reset>=1e3&&e.reset<=1001){console.debug("Received command to trim the flags");var r=new Set(Object.keys(t));n={},o.forEach((function(t){r.has(t)&&(n[t]=e[t])})),1001===e.reset&&(console.debug("Received command to reset the flags"),Object.keys(t).forEach((function(e){n[e]=0})))}else e.reset>0&&e.reset<9e3&&(console.debug("Received command to reset the flags"),o.forEach((function(e){n[e]=0})));return n.reset=0,n}(g),i.flagStorage=Ht(Ht({},d),g),i.prefsStorage=Ht(Ht({},Gt.prefsStorage),v),e.dirty=p||a,e.cache=i,s&&i&&!e.dirty&&(e.cache._timestamp=Math.min(s._timestamp,i._timestamp)),e.flagStorage=e.cache.flagStorage,e.prefsStorage=e.cache.prefsStorage},setFlag:function(e,t){var n=t.flag,o=t.value;e.flagStorage[n]=o,e.dirty=!0},setPreference:function(e,t){var n=t.path,o=t.value;n.startsWith("_")?console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring.")):(mt()(e.prefsStorage,n,o),e.prefsStorage._journal=[].concat((0,l.Z)(e.prefsStorage._journal),[{operation:"set",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0)},addCollectionPreference:function(e,t){var n=t.path,o=t.value;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var r=new Set(ft()(e.prefsStorage,n));r.add(o),mt()(e.prefsStorage,n,(0,l.Z)(r)),e.prefsStorage._journal=[].concat((0,l.Z)(e.prefsStorage._journal),[{operation:"addToCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},removeCollectionPreference:function(e,t){var n=t.path,o=t.value;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var r=new Set(ft()(e.prefsStorage,n));r.delete(o),mt()(e.prefsStorage,n,(0,l.Z)(r)),e.prefsStorage._journal=[].concat((0,l.Z)(e.prefsStorage._journal),[{operation:"removeFromCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},reorderCollectionPreference:function(e,t){var n=t.path,o=t.value,r=t.movement;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var i=ft()(e.prefsStorage,n),s=Yt(i,o,r);mt()(e.prefsStorage,n,s),e.prefsStorage._journal=[].concat((0,l.Z)(e.prefsStorage._journal),[{operation:"arrangeCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},updateCache:function(e,t){var n=t.username;e.prefsStorage._journal=en(e.prefsStorage._journal),e.cache=Qt({flagStorage:(0,Ut.IU)(e.flagStorage),prefsStorage:(0,Ut.IU)(e.prefsStorage)},n)}};const nn={state:Ht({},Tt()(Gt)),mutations:tn,actions:{pushServerSideStorage:function(e){var t=e.state,n=e.rootState,o=e.commit,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,i=void 0!==r&&r;if(t.dirty||i){o("updateCache",{username:n.users.currentUser.fqn});var s={pleroma_settings_store:{"pleroma-fe":t.cache}};n.api.backendInteractor.updateProfile({params:s}).then((function(e){o("setServerSideStorage",e),t.dirty=!1}))}}}};var on=n(84506),rn=n(29521),sn=n.n(rn);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn={frontends:[],loaded:!1,needsReboot:null,config:null,modifiedPaths:null,descriptions:null,draft:null,dbConfigEnabled:null},ln=(un({},cn.flagStorage),{state:un({},Tt()(cn)),mutations:{setInstanceAdminNoDbConfig:function(e){e.loaded=!1,e.dbConfigEnabled=!1},setAvailableFrontends:function(e,t){var n=t.frontends;e.frontends=n.map((function(e){return e.installedRefs=e.installed_refs,"pleroma-fe"===e.name?e.refs=["master","develop"]:e.refs=[e.ref],e}))},updateAdminSettings:function(e,t){var n=t.config,o=t.modifiedPaths;e.loaded=!0,e.dbConfigEnabled=!0,e.config=n,e.modifiedPaths=o},updateAdminDescriptions:function(e,t){var n=t.descriptions;e.descriptions=n},updateAdminDraft:function(e,t){var n=t.path,o=t.value,r=(0,c.Z)(n,3),i=[r[0],r[1],r[2]];mt()(e.draft,n,o),n.length>i.length&&mt()(e.draft,i,Tt()(ft()(e.draft,i)))},resetAdminDraft:function(e){e.draft=Tt()(e.config)}},actions:{loadFrontendsStuff:function(e){e.state;var t=e.rootState,n=(e.dispatch,e.commit);t.api.backendInteractor.fetchAvailableFrontends().then((function(e){return n("setAvailableFrontends",{frontends:e})}))},loadAdminStuff:function(e){var t=e.state,n=e.rootState,o=e.dispatch,r=e.commit;n.api.backendInteractor.fetchInstanceDBConfig().then((function(e){e.error?400===e.error.status&&e.error.json().then((function(e){/configurable_from_database/.test(e.error)&&r("setInstanceAdminNoDbConfig")})):o("setInstanceAdminSettings",{backendDbConfig:e})})),null===t.descriptions&&n.api.backendInteractor.fetchInstanceConfigDescriptions().then((function(e){return o("setInstanceAdminDescriptions",{backendDescriptions:e})}))},setInstanceAdminSettings:function(e,t){var n=e.state,o=e.commit,r=(e.dispatch,t.backendDbConfig),i=n.config||{},s=new Set;r.configs.forEach((function(e){var t=[e.group,e.key];e.db&&e.db.forEach((function(e){return s.add([].concat(t,[e]).join(" -> "))})),mt()(i,t,function e(t){return Array.isArray(t)&&t.length>0&&t[0].tuple?t.reduce((function(t,n){return un(un({},t),{},(0,d.Z)({},n.tuple[0],e(n.tuple[1])))}),{}):t}(e.value))})),o("updateAdminSettings",{config:i,modifiedPaths:s}),o("resetAdminDraft")},setInstanceAdminDescriptions:function(e,t){e.state;var n=e.commit,o=(e.dispatch,t.backendDescriptions),r=function e(t,n,o){var r=t.children,i=t.description,s=t.label,a=t.key,u=void 0===a?"<ROOT>":a,c=t.group,l=t.suggestions,d=c?[c,u]:[u],p={description:i,label:s,suggestions:l};Array.isArray(r)&&r.forEach((function(t){e(t,0,p)})),mt()(o,d,p)},i={};o.forEach((function(e){return r(e,0,i)})),n("updateAdminDescriptions",{descriptions:i})},pushAdminDraft:function(e){var t=e.rootState,n=e.state,o=(e.commit,e.dispatch),r=function e(t){return"object"!==(0,le.Z)(t)?t:Array.isArray(t)?t.map(e):Object.entries(t).map((function(e){var t=(0,c.Z)(e,2);return{tuple:[t[0],t[1]]}}))},i=zt()(Object.entries(n.config).map((function(e){var t=(0,c.Z)(e,2),n=t[0],o=t[1];return Object.keys(o).map((function(e){return{group:n,key:e}}))}))).filter((function(e){var t=e.group,o=e.key;return!$t()(n.config[t][o],n.draft[t][o])})).map((function(e){var t=e.group,o=e.key,i=n.config[t][o],s=n.draft[t][o],a=Object.entries(i),u=Object.entries(s);return{group:t,key:o,value:r(Object.fromEntries(sn()(u,a,$t())))}}));t.api.backendInteractor.pushInstanceDBConfig({payload:{configs:i}}).then((function(){return t.api.backendInteractor.fetchInstanceDBConfig()})).then((function(e){return o("setInstanceAdminSettings",{backendDbConfig:e})}))},pushAdminSetting:function(e,t){var n=e.rootState,o=(e.state,e.commit,e.dispatch),r=t.path,i=t.value,s=Array.isArray(r)?r:r.split(/\./g),a=(0,on.Z)(s),u=a[0],l=a[1],d=a.slice(2),p={};mt()(p,d,i),n.api.backendInteractor.pushInstanceDBConfig({payload:{configs:[{group:u,key:l,value:function e(t){return"object"!==(0,le.Z)(t)?t:Array.isArray(t)?t.map(e):Object.entries(t).map((function(e){var t=(0,c.Z)(e,2);return{tuple:[t[0],t[1]]}}))}(p)}]}}).then((function(){return n.api.backendInteractor.fetchInstanceDBConfig()})).then((function(e){return o("setInstanceAdminSettings",{backendDbConfig:e})}))},resetAdminSetting:function(e,t){var n=e.rootState,o=e.state,r=(e.commit,e.dispatch),i=t.path,s=i.split(/\./g),a=(0,c.Z)(s,3),u=a[0],l=a[1],d=a[2];return o.modifiedPaths.delete(i),n.api.backendInteractor.pushInstanceDBConfig({payload:{configs:[{group:u,key:l,delete:!0,subkeys:[d]}]}}).then((function(){return n.api.backendInteractor.fetchInstanceDBConfig()})).then((function(e){return r("setInstanceAdminSettings",{backendDbConfig:e})}))}}});const dn=ln,pn={state:{messages:[],channel:{state:""},joined:!1},mutations:{setChannel:function(e,t){e.channel=t},addMessage:function(e,t){e.messages.push(t),e.messages=e.messages.slice(-19,20)},setMessages:function(e,t){e.messages=t.slice(-19,20)},setJoined:function(e,t){e.joined=t}},actions:{initializeShout:function(e,t){var n=t.channel("chat:public");n.joinPush.receive("ok",(function(){e.commit("setJoined",!0)})),n.onClose((function(){e.commit("setJoined",!1)})),n.onError((function(){e.commit("setJoined",!1)})),n.on("new_msg",(function(t){e.commit("addMessage",t)})),n.on("messages",(function(t){var n=t.messages;e.commit("setMessages",n)})),n.join(),e.commit("setChannel",n)}}},mn={state:{clientId:!1,clientSecret:!1,appToken:!1,userToken:!1},mutations:{setClientData:function(e,t){var n=t.clientId,o=t.clientSecret;e.clientId=n,e.clientSecret=o},setAppToken:function(e,t){e.appToken=t},setToken:function(e,t){e.userToken=t},clearToken:function(e){e.userToken=!1,delete e.token}},getters:{getToken:function(e){return function(){return e.userToken||e.token||e.appToken}},getUserToken:function(e){return function(){return e.userToken||e.token}}}};var hn="password",fn="token",gn="totp",vn="recovery",bn=function(e){e.strategy=e.initStrategy,e.settings={}};const wn={namespaced:!0,state:{settings:{},strategy:hn,initStrategy:hn},getters:{settings:function(e,t){return e.settings},requiredPassword:function(e,t,n){return e.strategy===hn},requiredToken:function(e,t,n){return e.strategy===fn},requiredTOTP:function(e,t,n){return e.strategy===gn},requiredRecovery:function(e,t,n){return e.strategy===vn}},mutations:{setInitialStrategy:function(e,t){t&&(e.initStrategy=t,e.strategy=t)},requirePassword:function(e){e.strategy=hn},requireToken:function(e){e.strategy=fn},requireMFA:function(e,t){var n=t.settings;e.settings=n,e.strategy=gn},requireRecovery:function(e){e.strategy=vn},requireTOTP:function(e){e.strategy=gn},abortMFA:function(e){bn(e)}},actions:{login:function(e,t){return(0,o.Z)(i().mark((function n(){var o,r,s,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.state,r=e.dispatch,s=e.commit,a=t.access_token,s("setToken",a,{root:!0}),n.next=5,r("loginUser",a,{root:!0});case 5:bn(o);case 6:case"end":return n.stop()}}),n)})))()}}};var yn=n(58394),Dn=new Set(["image","video","audio","flash"]),_n={state:{media:[],currentIndex:0,activated:!1},mutations:{setMedia:function(e,t){e.media=t},setCurrentMedia:function(e,t){e.activated=!0,e.currentIndex=t},close:function(e){e.activated=!1}},actions:{setMedia:function(e,t){var n=e.commit,o=t.filter((function(e){var t=yn.ZP.fileType(e.mimetype);return Dn.has(t)}));n("setMedia",o)},setCurrentMedia:function(e,t){(0,e.commit)("setCurrentMedia",e.state.media.indexOf(t)||0)},closeMediaViewer:function(e){(0,e.commit)("close")}}};const kn=_n,Cn={state:{tokens:[]},actions:{fetchTokens:function(e){var t=e.rootState,n=e.commit;t.api.backendInteractor.fetchOAuthTokens().then((function(e){n("swapTokens",e)}))},revokeToken:function(e,t){var n=e.rootState,o=e.commit,r=e.state;n.api.backendInteractor.revokeOAuthToken({id:t}).then((function(e){201===e.status&&o("swapTokens",r.tokens.filter((function(e){return e.id!==t})))}))}},mutations:{swapTokens:function(e,t){e.tokens=t}}};var Sn=n(63105),jn=n.n(Sn),Fn={state:{reportModal:{userId:null,statuses:[],preTickedIds:[],activated:!1},reports:{}},mutations:{openUserReportingModal:function(e,t){var n=t.userId,o=t.statuses,r=t.preTickedIds;e.reportModal.userId=n,e.reportModal.statuses=o,e.reportModal.preTickedIds=r,e.reportModal.activated=!0},closeUserReportingModal:function(e){e.reportModal.activated=!1},setReportState:function(e,t){var n=t.id,o=t.state;e.reports[n].state=o},addReport:function(e,t){e.reports[t.id]=t}},actions:{openUserReportingModal:function(e,t){var n=e.rootState,o=e.commit,r=t.userId,i=t.statusIds,s=void 0===i?[]:i,a=s.map((function(e){return n.statuses.allStatusesObject[e]})),u=s,c=a.concat(jn()(n.statuses.allStatuses,(function(e){return e.user.id===r&&!u.includes(e.id)})));o("openUserReportingModal",{userId:r,statuses:c,preTickedIds:u})},closeUserReportingModal:function(e){(0,e.commit)("closeUserReportingModal")},setReportState:function(e,t){var n=e.commit,o=e.dispatch,r=e.rootState,i=t.id,s=t.state,a=r.reports.reports[i].state;n("setReportState",{id:i,state:s}),r.api.backendInteractor.setReportState({id:i,state:s}).catch((function(e){console.error("Failed to set report state",e),o("pushGlobalNotice",{level:"error",messageKey:"general.generic_error_message",messageArgs:[e.message],timeout:5e3}),n("setReportState",{id:i,state:a})}))},addReport:function(e,t){(0,e.commit)("addReport",t)}}};const An=Fn;const On={state:{trackedPolls:{},pollsObject:{}},mutations:{mergeOrAddPoll:function(e,t){var n=e.pollsObject[t.id];t.expired=Date.now()>Date.parse(t.expires_at),e.pollsObject[t.id]=n?z()(n,t):t},trackPoll:function(e,t){var n=e.trackedPolls[t];e.trackedPolls[t]=n?n+1:1},untrackPoll:function(e,t){var n=e.trackedPolls[t];e.trackedPolls[t]=n?n-1:0}},actions:{mergeOrAddPoll:function(e,t){(0,e.commit)("mergeOrAddPoll",t)},updateTrackedPoll:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit;n.api.backendInteractor.fetchPoll({pollId:t}).then((function(e){setTimeout((function(){n.polls.trackedPolls[t]&&o("updateTrackedPoll",t)}),3e4),r("mergeOrAddPoll",e)}))},trackPoll:function(e,t){var n=e.rootState,o=e.commit,r=e.dispatch;n.polls.trackedPolls[t]||setTimeout((function(){return r("updateTrackedPoll",t)}),3e4),o("trackPoll",t)},untrackPoll:function(e,t){(0,e.commit)("untrackPoll",t)},votePoll:function(e,t){var n=e.rootState,o=e.commit,r=(t.id,t.pollId),i=t.choices;return n.api.backendInteractor.vote({pollId:r,choices:i}).then((function(e){return o("mergeOrAddPoll",e),e}))}}},En={state:{params:null,modalActivated:!1},mutations:{openPostStatusModal:function(e,t){e.params=t,e.modalActivated=!0},closePostStatusModal:function(e){e.modalActivated=!1},resetPostStatusModal:function(e){e.params=null}},actions:{openPostStatusModal:function(e,t){(0,e.commit)("openPostStatusModal",t)},closePostStatusModal:function(e){(0,e.commit)("closePostStatusModal")},resetPostStatusModal:function(e){(0,e.commit)("resetPostStatusModal")}}},zn={state:{params:null,modalActivated:!1},mutations:{openEditStatusModal:function(e,t){e.params=t,e.modalActivated=!0},closeEditStatusModal:function(e){e.modalActivated=!1}},actions:{openEditStatusModal:function(e,t){(0,e.commit)("openEditStatusModal",t)},closeEditStatusModal:function(e){(0,e.commit)("closeEditStatusModal")}}},xn={state:{params:{},modalActivated:!1},mutations:{openStatusHistoryModal:function(e,t){e.params=t,e.modalActivated=!0},closeStatusHistoryModal:function(e){e.modalActivated=!1}},actions:{openStatusHistoryModal:function(e,t){(0,e.commit)("openStatusHistoryModal",t)},closeStatusHistoryModal:function(e){(0,e.commit)("closeStatusHistoryModal")}}};var Pn=n(73303),In=n.n(Pn),Tn=n(75472),Bn=n.n(Tn),$n=n(73955),Un=n.n($n),Mn=n(89734),Ln=n.n(Mn);function Rn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var Nn={add:function(e,t){var n=t.messages,o=t.updateMaxId,r=void 0===o||o;if(e)for(var i,s=function(){var t=n[a];if(t.chat_id!==e.chatId)return{v:void 0};if(t.fakeId){var o=e.idIndex[t.fakeId];if(o)return e.idIndex[t.id]&&(delete e.idIndex[t.id],e.messages=e.messages.filter((function(e){return e.id!==t.id}))),Object.assign(o,t,{error:!1}),delete o.fakeId,e.idIndex[o.id]=o,delete e.idIndex[t.fakeId],{v:void 0}}(!e.minId||!t.pending&&t.id<e.minId)&&(e.minId=t.id),(!e.maxId||t.id>e.maxId)&&r&&(e.maxId=t.id),e.idIndex[t.id]||function(e,t){if(t.idempotency_key)return e.idempotencyKeyIndex[t.idempotency_key]}(e,t)||(e.lastSeenMessageId<t.id&&e.newMessageCount++,e.idIndex[t.id]=t,e.messages.push(e.idIndex[t.id]),e.idempotencyKeyIndex[t.idempotency_key]=!0)},a=0;a<n.length;a++)if(i=s())return i.v},empty:function(e){return{idIndex:{},idempotencyKeyIndex:{},messages:[],newMessageCount:0,lastSeenMessageId:"0",chatId:e,minId:void 0,maxId:void 0}},getView:function(e){if(!e)return[];var t,n=[],o=Bn()(e.messages,["pending","id"],["asc","asc"]),r=o[0],i=o[o.length-1];if(r){var s=new Date(r.created_at);s.setHours(0,0,0,0),n.push({type:"date",date:s,id:s.getTime().toString()})}for(var a=!1,u=0;u<o.length;u++){var c=o[u],l=o[u+1],d=new Date(c.created_at);d.setHours(0,0,0,0),i&&i.date<d&&(n.push({type:"date",date:d,id:d.getTime().toString()}),i.isTail=!0,t=void 0,a=!0);var p={type:"message",data:c,date:d,id:c.id,messageChainId:t};(l&&l.account_id)!==c.account_id&&(p.isTail=!0,t=void 0),((i&&i.data&&i.data.account_id)!==c.account_id||a)&&(t=Un()(),p.isHead=!0,p.messageChainId=t),n.push(p),i=p,a=!1}return n},deleteMessage:function(e,t){if(e){if(e.messages=e.messages.filter((function(e){return e.id!==t})),delete e.idIndex[t],e.maxId===t){var n=T()(e.messages,"id");e.maxId=n.id}if(e.minId===t){var o=P()(e.messages,"id");e.minId=o.id}}},cullOlderMessages:function(e){var t=e.messages.length,n=t-50;if(!(t<=50)){e.messages=Ln()(e.messages,["id"]),e.minId=e.messages[n].id;var o,r=Rn(e.messages);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.id<e.minId&&(delete e.idIndex[i.id],delete e.idempotencyKeyIndex[i.idempotency_key])}}catch(e){r.e(e)}finally{r.f()}e.messages=e.messages.slice(n,t)}},resetNewMessageCount:function(e){e&&(e.newMessageCount=0,e.lastSeenMessageId=e.maxId)},clear:function(e){var t,n=[],o=Rn(e.messages);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.error?n.push(r.id):(delete e.idIndex[r.id],delete e.idempotencyKeyIndex[r.idempotency_key])}}catch(e){o.e(e)}finally{o.f()}e.messages=e.messages.filter((function(e){return n.includes(e.id)})),e.newMessageCount=0,e.lastSeenMessageId="0",e.minId=void 0,e.maxId=void 0},handleMessageError:function(e,t,n){if(e){var o=e.idIndex[t];if(o&&(o.error=!0,o.pending=!1,!n)){var r=Bn()(e.messages,["pending","id"],["asc","desc"])[0];if(r){var i=o.id;o.id="".concat(r.id,"-").concat((new Date).getTime()),e.idIndex[o.id]=o,delete e.idIndex[i]}}}}};const Zn=Nn;var Wn=n(27742);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn={chatList:{data:[],idStore:{}},chatListFetcher:null,openedChats:(0,Ut.qj)({}),openedChatMessageServices:(0,Ut.qj)({}),fetcher:void 0,currentChatId:null,lastReadMessageId:null},Kn=function(e,t){return $()(e.chatList.data,{id:t})},Yn={state:Vn({},Gn),getters:{currentChat:function(e){return e.openedChats[e.currentChatId]},currentChatMessageService:function(e){return e.openedChatMessageServices[e.currentChatId]},findOpenedChatByRecipientId:function(e){return function(t){return $()(e.openedChats,(function(e){return e.account.id===t}))}},sortedChatList:function(e){return Bn()(e.chatList.data,["updated_at"],["desc"])},unreadChatCount:function(e){return In()(e.chatList.data,"unread")}},actions:{startFetchingChats:function(e){var t=e.dispatch,n=e.commit,o=function(){return t("fetchChats",{latest:!0})};o(),n("setChatListFetcher",{fetcher:function(){return(0,ke.F)(o,5e3)}})},stopFetchingChats:function(e){(0,e.commit)("setChatListFetcher",{fetcher:void 0})},fetchChats:function(e){var t=e.dispatch,n=e.rootState;return e.commit,n.api.backendInteractor.chats().then((function(e){var n=e.chats;return t("addNewChats",{chats:n}),n}))},addNewChats:function(e,t){var n=t.chats,o=e.commit,r=e.dispatch,i=e.rootGetters;o("addNewUsers",n.map((function(e){return e.account})).filter((function(e){return e}))),o("addNewChats",{dispatch:r,chats:n,rootGetters:i,newChatMessageSideEffects:function(t){it(e,t)}})},updateChat:function(e,t){(0,e.commit)("updateChat",{chat:t.chat})},startFetchingCurrentChat:function(e,t){e.commit,(0,e.dispatch)("setCurrentChatFetcher",{fetcher:t.fetcher})},setCurrentChatFetcher:function(e,t){e.rootState,(0,e.commit)("setCurrentChatFetcher",{fetcher:t.fetcher})},addOpenedChat:function(e,t){e.rootState;var n=e.commit,o=e.dispatch,r=t.chat;n("addOpenedChat",{dispatch:o,chat:(0,Wn._J)(r)}),o("addNewUsers",[r.account])},addChatMessages:function(e,t){var n=e.commit;n("addChatMessages",Vn({commit:n},t))},resetChatNewMessageCount:function(e,t){(0,e.commit)("resetChatNewMessageCount",t)},clearCurrentChat:function(e,t){e.rootState;var n=e.commit;e.dispatch,n("setCurrentChatId",{chatId:void 0}),n("setCurrentChatFetcher",{fetcher:void 0})},readChat:function(e,t){var n=e.rootState,o=e.commit,r=e.dispatch,i=t.id,s=t.lastReadId,a=n.chats.lastReadMessageId!==s;r("resetChatNewMessageCount"),o("readChat",{id:i,lastReadId:s}),a&&n.api.backendInteractor.readChat({id:i,lastReadId:s})},deleteChatMessage:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.deleteChatMessage(t),o("deleteChatMessage",Vn({commit:o},t))},resetChats:function(e){var t=e.commit;(0,e.dispatch)("clearCurrentChat"),t("resetChats",{commit:t})},clearOpenedChats:function(e){e.rootState;var t=e.commit;e.dispatch,e.rootGetters,t("clearOpenedChats",{commit:t})},handleMessageError:function(e,t){var n=e.commit;n("handleMessageError",Vn({commit:n},t))},cullOlderMessages:function(e,t){(0,e.commit)("cullOlderMessages",t)}},mutations:{setChatListFetcher:function(e,t){t.commit;var n=t.fetcher,o=e.chatListFetcher;o&&o.stop(),e.chatListFetcher=n&&n()},setCurrentChatFetcher:function(e,t){var n=t.fetcher,o=e.fetcher;o&&o.stop(),e.fetcher=n&&n()},addOpenedChat:function(e,t){t._dispatch;var n=t.chat;e.currentChatId=n.id,e.openedChats[n.id]=n,e.openedChatMessageServices[n.id]||(e.openedChatMessageServices[n.id]=Zn.empty(n.id))},setCurrentChatId:function(e,t){var n=t.chatId;e.currentChatId=n},addNewChats:function(e,t){var n=t.chats,o=t.newChatMessageSideEffects;n.forEach((function(t){var n=Kn(e,t.id);if(n){var r=(n.lastMessage&&n.lastMessage.id)!==(t.lastMessage&&t.lastMessage.id);n.lastMessage=t.lastMessage,n.unread=t.unread,n.updated_at=t.updated_at,r&&n.unread&&o(t)}else e.chatList.data.push(t),e.chatList.idStore[t.id]=t}))},updateChat:function(e,t){t._dispatch;var n=t.chat,o=(t._rootGetters,Kn(e,n.id));o&&(o.lastMessage=n.lastMessage,o.unread=n.unread,o.updated_at=n.updated_at),o||e.chatList.data.unshift(n),e.chatList.idStore[n.id]=n},deleteChat:function(e,t){t._dispatch;var n=t.id;t._rootGetters,e.chats.data=e.chats.data.filter((function(e){return e.last_status.id!==n})),e.chats.idStore=k()(e.chats.idStore,(function(e){return e.last_status.id===n}))},resetChats:function(e,t){var n=t.commit;for(var o in e.chatList={data:[],idStore:{}},e.currentChatId=null,n("setChatListFetcher",{fetcher:void 0}),e.openedChats)Zn.clear(e.openedChatMessageServices[o]),delete e.openedChats[o],delete e.openedChatMessageServices[o]},setChatsLoading:function(e,t){var n=t.value;e.chats.loading=n},addChatMessages:function(e,t){var n=t.chatId,o=t.messages,r=t.updateMaxId,i=e.openedChatMessageServices[n];i&&Zn.add(i,{messages:o.map(Wn.UB),updateMaxId:r})},deleteChatMessage:function(e,t){var n=t.chatId,o=t.messageId,r=e.openedChatMessageServices[n];r&&Zn.deleteMessage(r,o)},resetChatNewMessageCount:function(e,t){var n=e.openedChatMessageServices[e.currentChatId];Zn.resetNewMessageCount(n)},clearOpenedChats:function(e){var t=e.currentChatId;for(var n in e.openedChats)t!==n&&(Zn.clear(e.openedChatMessageServices[n]),delete e.openedChats[n],delete e.openedChatMessageServices[n])},readChat:function(e,t){var n=t.id,o=t.lastReadId;e.lastReadMessageId=o;var r=Kn(e,n);r&&(r.unread=0)},handleMessageError:function(e,t){var n=t.chatId,o=t.fakeId,r=t.isRetry,i=e.openedChatMessageServices[n];Zn.handleMessageError(i,o,r)},cullOlderMessages:function(e,t){Zn.cullOlderMessages(e.openedChatMessageServices[t])}}};const Qn=Yn;const Jn={state:{announcements:[],supportsAnnouncements:!0,fetchAnnouncementsTimer:void 0},mutations:{setAnnouncements:function(e,t){e.announcements=t},setAnnouncementRead:function(e,t){var n=t.id,o=t.read,r=e.announcements.findIndex((function(e){return e.id===n}));r<0||(e.announcements[r].read=o)},setFetchAnnouncementsTimer:function(e,t){e.fetchAnnouncementsTimer=t},setSupportsAnnouncements:function(e,t){e.supportsAnnouncements=t}},getters:{unreadAnnouncementCount:function(e,t,n){return n.users.currentUser?e.announcements.filter((function(e){return!(e.inactive||e.read)})).length:0}},actions:{fetchAnnouncements:function(e){if(!e.state.supportsAnnouncements)return Promise.resolve();var t=e.rootState.users.currentUser,n=t&&t.privileges.includes("announcements_manage_announcements"),r=function(){var t=(0,o.Z)(i().mark((function t(){var o,r,s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e.rootState.api.backendInteractor.fetchAnnouncements());case 2:return t.next=4,e.rootState.api.backendInteractor.adminFetchAnnouncements();case 4:return o=t.sent,t.next=7,e.rootState.api.backendInteractor.fetchAnnouncements();case 7:return r=t.sent,s=r.reduce((function(e,t){return e[t.id]=t,e}),{}),a=function(e){return s[e.id]},o.forEach((function(e){var t=a(e);t?e.read=t.read:e.inactive=!0})),t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r().then((function(t){e.commit("setAnnouncements",t)})).catch((function(t){if(!t||404!==t.statusCode)throw t;e.commit("setSupportsAnnouncements",!1)}))},markAnnouncementAsRead:function(e,t){return e.rootState.api.backendInteractor.dismissAnnouncement({id:t}).then((function(){e.commit("setAnnouncementRead",{id:t,read:!0})}))},startFetchingAnnouncements:function(e){if(!e.state.fetchAnnouncementsTimer){var t=setInterval((function(){return e.dispatch("fetchAnnouncements")}),3e5);return e.commit("setFetchAnnouncementsTimer",t),e.dispatch("fetchAnnouncements")}},stopFetchingAnnouncements:function(e){var t=e.state.fetchAnnouncementsTimer;e.commit("setFetchAnnouncementsTimer",void 0),clearInterval(t)},postAnnouncement:function(e,t){var n=t.content,o=t.startsAt,r=t.endsAt,i=t.allDay;return e.rootState.api.backendInteractor.postAnnouncement({content:n,startsAt:o,endsAt:r,allDay:i}).then((function(){return e.dispatch("fetchAnnouncements")}))},editAnnouncement:function(e,t){var n=t.id,o=t.content,r=t.startsAt,i=t.endsAt,s=t.allDay;return e.rootState.api.backendInteractor.editAnnouncement({id:n,content:o,startsAt:r,endsAt:i,allDay:s}).then((function(){return e.dispatch("fetchAnnouncements")}))},deleteAnnouncement:function(e,t){return e.rootState.api.backendInteractor.deleteAnnouncement({id:t}).then((function(){return e.dispatch("fetchAnnouncements")}))}}};var Xn=n(64625),eo=n(72378),to=n.n(eo),no=n(69483),oo=!1,ro=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return mt()(t,n,ft()(e,n)),t}),{})},io=["markNotificationsAsSeen","clearCurrentUser","setCurrentUser","setServerSideStorage","setHighlight","setOption","setClientData","setToken","clearToken"],so=n.n(no)();function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=void 0===t?"vuex-lz":t,o=e.paths,r=void 0===o?[]:o,i=e.getState,s=void 0===i?function(e,t){return t.getItem(e)}:i,a=e.setState,u=void 0===a?function(e,t,n){return oo?n.setItem(e,t):(console.info("waiting for old state to be loaded..."),Promise.resolve())}:a,c=e.reducer,l=void 0===c?ro:c,d=e.storage,p=void 0===d?so:d,m=e.subscriber,h=void 0===m?function(e){return function(t){return e.subscribe(t)}}:m;return s(n,p).then((function(e){return function(t){try{if(null!==e&&"object"===(0,le.Z)(e)){var o=e.users||{};o.usersObject={};var i=o.users||[];R()(i,(function(e){o.usersObject[e.id]=e})),e.users=o,t.replaceState(to()({},t.state,e))}oo=!0}catch(e){console.error("Couldn't load state"),console.error(e),oo=!0}h(t)((function(e,o){try{io.includes(e.type)&&u(n,l(Tt()(o),r),p).then((function(n){void 0!==n&&("setOption"!==e.type&&"setCurrentUser"!==e.type||t.dispatch("settingsSaved",{success:n}))}),(function(n){"setOption"!==e.type&&"setCurrentUser"!==e.type||t.dispatch("settingsSaved",{error:n})}))}catch(e){console.error("Couldn't persist state:"),console.error(e)}}))}}))}const uo=function(e){e.subscribe((function(t,n){var o=n.instance.vapidPublicKey,r=n.config.webPushNotifications,i="granted"===n.interface.notificationPermission,s=n.users.currentUser,a="setCurrentUser"===t.type,u="setInstanceOption"===t.type&&"vapidPublicKey"===t.payload.name,c="setNotificationPermission"===t.type&&"granted"===t.payload,l="setOption"===t.type&&"webPushNotifications"===t.payload.name,d="setOption"===t.type&&"notificationVisibility"===t.payload.name;if(a||u||c||l||d){if(s&&o&&i&&r)return e.dispatch("registerPushNotifications");if(l&&!r)return e.dispatch("unregisterPushNotifications")}}))};var co=n(72617),lo=n(49963),po=n(28339),mo=n(20425),ho=n.n(mo),fo=n(42570),go=n(57810),vo=n(66252),bo=n(3577),wo=(0,vo._)("div",{id:"app_bg_wrapper",class:"app-bg-wrapper"},null,-1),yo=(0,vo._)("div",{class:"underlay"},null,-1),Do=(0,vo._)("div",{id:"notifs-sidebar"},null,-1),_o={key:0,class:"login-hint panel panel-default"},ko={class:"user-panel"},Co={key:"user-panel-signed",class:"panel panel-default signed-in"},So={class:"login panel panel-default"},jo={class:"panel-heading"},Fo={class:"panel-body"},Ao={class:"form-group"},Oo={for:"username"},Eo=["disabled","placeholder"],zo={class:"form-group"},xo={for:"password"},Po=["disabled"],Io={class:"form-group"},To={key:1,class:"form-group"},Bo={class:"form-group"},$o={class:"login-bottom"},Uo=["disabled"],Mo={key:0,class:"form-group"},Lo={class:"alert error"};function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC);const No={data:function(){return{user:{},error:!1}},computed:qo(qo({isPasswordAuth:function(){return this.requiredPassword},isTokenAuth:function(){return this.requiredToken}},(0,s.rn)({registrationOpen:function(e){return e.instance.registrationOpen},instance:function(e){return e.instance},loggingIn:function(e){return e.users.loggingIn},oauth:function(e){return e.oauth}})),(0,s.Se)("authFlow",["requiredPassword","requiredToken","requiredMFA"])),methods:qo(qo(qo({},(0,s.OI)("authFlow",["requireMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{submit:function(){this.isTokenAuth?this.submitToken():this.submitPassword()},submitToken:function(){var e=this.oauth,t={clientId:e.clientId,clientSecret:e.clientSecret,instance:this.instance.server,commit:this.$store.commit};qe.getOrCreateApp(t).then((function(e){qe.login(qo(qo({},e),t))}))},submitPassword:function(){var e=this,t={clientId:this.oauth.clientId,oauth:this.oauth,instance:this.instance.server,commit:this.$store.commit};this.error=!1,qe.getOrCreateApp(t).then((function(n){qe.getTokenWithCredentials(qo(qo({},n),{},{instance:t.instance,username:e.user.username,password:e.user.password})).then((function(t){t.error?"mfa_required"===t.error?e.requireMFA({settings:t}):"password_reset_required"===t.identifier?e.$router.push({name:"password-reset",params:{passwordResetRequested:!0}}):(e.error=t.error,e.focusOnPasswordInput()):e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}))},clearError:function(){this.error=!1},focusOnPasswordInput:function(){var e=this.$refs.passwordInput;e.focus(),e.setSelectionRange(0,e.value.length)}})};var Zo=n(83744);const Wo=(0,Zo.Z)(No,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link"),a=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",So,[(0,vo._)("div",jo,(0,bo.zw)(e.$t("login.login")),1),(0,vo._)("div",Fo,[(0,vo._)("form",{class:"login-form",onSubmit:t[2]||(t[2]=(0,lo.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[e.isPasswordAuth?((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:0},[(0,vo._)("div",Ao,[(0,vo._)("label",Oo,(0,bo.zw)(e.$t("login.username")),1),(0,vo.wy)((0,vo._)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.username=t}),disabled:e.loggingIn,class:"input form-control",placeholder:e.$t("login.placeholder")},null,8,Eo),[[lo.nr,e.user.username]])]),(0,vo._)("div",zo,[(0,vo._)("label",xo,(0,bo.zw)(e.$t("login.password")),1),(0,vo.wy)((0,vo._)("input",{id:"password",ref:"passwordInput","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.password=t}),disabled:e.loggingIn,class:"input form-control",type:"password"},null,8,Po),[[lo.nr,e.user.password]])]),(0,vo._)("div",Io,[(0,vo.Wm)(s,{to:{name:"password-reset"}},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("password_reset.forgot_password")),1)]})),_:1})])],64)):(0,vo.kq)("",!0),e.isTokenAuth?((0,vo.wg)(),(0,vo.iD)("div",To,[(0,vo._)("p",null,(0,bo.zw)(e.$t("login.description")),1)])):(0,vo.kq)("",!0),(0,vo._)("div",Bo,[(0,vo._)("div",$o,[(0,vo._)("div",null,[e.registrationOpen?((0,vo.wg)(),(0,vo.j4)(s,{key:0,to:{name:"registration"},class:"register"},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("login.register")),1)]})),_:1})):(0,vo.kq)("",!0)]),(0,vo._)("button",{disabled:e.loggingIn,type:"submit",class:"btn button-default"},(0,bo.zw)(e.$t("login.login")),9,Uo)])])],32)]),e.error?((0,vo.wg)(),(0,vo.iD)("div",Mo,[(0,vo._)("div",Lo,[(0,vo.Uk)((0,bo.zw)(e.error)+" ",1),(0,vo._)("button",{class:"button-unstyled",onClick:t[3]||(t[3]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,vo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,vo.kq)("",!0)])}]]);var Ho={class:"login panel panel-default"},Vo={class:"panel-heading"},Go={class:"panel-body"},Ko={class:"form-group"},Yo={for:"code"},Qo={class:"form-group"},Jo={class:"login-bottom"},Xo=(0,vo._)("br",null,null,-1),er={type:"submit",class:"btn button-default"},tr={key:0,class:"form-group"},nr={class:"alert error"},or={verifyOTPCode:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.mfaToken,i=e.code,s="".concat(o,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("mfa_token",r),a.append("code",i),a.append("challenge_type","totp"),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))},verifyRecoveryCode:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.mfaToken,i=e.code,s="".concat(o,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("mfa_token",r),a.append("code",i),a.append("challenge_type","recovery"),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))}};const rr=or;function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC);const ar={data:function(){return{code:null,error:!1}},computed:sr(sr({},(0,s.Se)({authSettings:"authFlow/settings"})),(0,s.rn)({instance:"instance",oauth:"oauth"})),methods:sr(sr(sr({},(0,s.OI)("authFlow",["requireTOTP","abortMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{clearError:function(){this.error=!1},submit:function(){var e=this,t=this.oauth,n={clientId:t.clientId,clientSecret:t.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};rr.verifyRecoveryCode(n).then((function(t){if(t.error)return e.error=t.error,void(e.code=null);e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}})},ur=(0,Zo.Z)(ar,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",Ho,[(0,vo._)("div",Vo,(0,bo.zw)(e.$t("login.heading.recovery")),1),(0,vo._)("div",Go,[(0,vo._)("form",{class:"login-form",onSubmit:t[3]||(t[3]=(0,lo.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,vo._)("div",Ko,[(0,vo._)("label",Yo,(0,bo.zw)(e.$t("login.recovery_code")),1),(0,vo.wy)((0,vo._)("input",{id:"code","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.code=t}),class:"input form-control"},null,512),[[lo.nr,e.code]])]),(0,vo._)("div",Qo,[(0,vo._)("div",Jo,[(0,vo._)("div",null,[(0,vo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=(0,lo.iM)((function(){return e.requireTOTP&&e.requireTOTP.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("login.enter_two_factor_code")),1),Xo,(0,vo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=(0,lo.iM)((function(){return e.abortMFA&&e.abortMFA.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("general.cancel")),1)]),(0,vo._)("button",er,(0,bo.zw)(e.$t("general.verify")),1)])])],32)]),e.error?((0,vo.wg)(),(0,vo.iD)("div",tr,[(0,vo._)("div",nr,[(0,vo.Uk)((0,bo.zw)(e.error)+" ",1),(0,vo._)("button",{class:"button-unstyled",onClick:t[4]||(t[4]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,vo.kq)("",!0)])}]]);var cr={class:"login panel panel-default"},lr={class:"panel-heading"},dr={class:"panel-body"},pr={class:"form-group"},mr={for:"code"},hr={class:"form-group"},fr={class:"login-bottom"},gr=(0,vo._)("br",null,null,-1),vr={type:"submit",class:"btn button-default"},br={key:0,class:"form-group"},wr={class:"alert error"};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC);const _r={data:function(){return{code:null,error:!1}},computed:Dr(Dr({},(0,s.Se)({authSettings:"authFlow/settings"})),(0,s.rn)({instance:"instance",oauth:"oauth"})),methods:Dr(Dr(Dr({},(0,s.OI)("authFlow",["requireRecovery","abortMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{clearError:function(){this.error=!1},submit:function(){var e=this,t=this.oauth,n={clientId:t.clientId,clientSecret:t.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};rr.verifyOTPCode(n).then((function(t){if(t.error)return e.error=t.error,void(e.code=null);e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}})},kr=(0,Zo.Z)(_r,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",cr,[(0,vo._)("div",lr,(0,bo.zw)(e.$t("login.heading.totp")),1),(0,vo._)("div",dr,[(0,vo._)("form",{class:"login-form",onSubmit:t[3]||(t[3]=(0,lo.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,vo._)("div",pr,[(0,vo._)("label",mr,(0,bo.zw)(e.$t("login.authentication_code")),1),(0,vo.wy)((0,vo._)("input",{id:"code","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.code=t}),class:"input form-control"},null,512),[[lo.nr,e.code]])]),(0,vo._)("div",hr,[(0,vo._)("div",fr,[(0,vo._)("div",null,[(0,vo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=(0,lo.iM)((function(){return e.requireRecovery&&e.requireRecovery.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("login.enter_recovery_code")),1),gr,(0,vo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=(0,lo.iM)((function(){return e.abortMFA&&e.abortMFA.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("general.cancel")),1)]),(0,vo._)("button",vr,(0,bo.zw)(e.$t("general.verify")),1)])])],32)]),e.error?((0,vo.wg)(),(0,vo.iD)("div",br,[(0,vo._)("div",wr,[(0,vo.Uk)((0,bo.zw)(e.error)+" ",1),(0,vo._)("button",{class:"button-unstyled",onClick:t[4]||(t[4]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,vo.Wm)(s,{size:"lg",class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,vo.kq)("",!0)])}]]);function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Sr={name:"AuthForm",render:function(){return(0,vo.h)((0,vo.up)(this.authForm))},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({authForm:function(){return this.requiredTOTP?"MFATOTPForm":this.requiredRecovery?"MFARecoveryForm":"LoginForm"}},(0,s.Se)("authFlow",["requiredTOTP","requiredRecovery"])),components:{MFARecoveryForm:ur,MFATOTPForm:kr,LoginForm:Wo}};var jr=n(76791),Fr=n(87607);function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Or={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({signedIn:function(){return this.user}},(0,s.rn)({user:function(e){return e.users.currentUser}})),components:{AuthForm:Sr,PostStatusForm:jr.Z,UserCard:Fr.Z}},Er=(0,Zo.Z)(Or,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserCard"),a=(0,vo.up)("PostStatusForm"),u=(0,vo.up)("auth-form");return(0,vo.wg)(),(0,vo.iD)("aside",ko,[e.signedIn?((0,vo.wg)(),(0,vo.iD)("div",Co,[(0,vo.Wm)(s,{"user-id":e.user.id,"hide-bio":!0,rounded:"top"},null,8,["user-id"]),(0,vo.Wm)(a)])):((0,vo.wg)(),(0,vo.j4)(u,{key:"user-panel"}))])}]]);var zr={class:"NavPanel"},xr={class:"panel panel-default"},Pr={key:0,class:"panel-heading nav-panel-heading"},Ir=(0,vo._)("div",{class:"spacer"},null,-1),Tr={key:1,class:"panel-body"},Br={class:"timelines"},$r={key:0,class:"icon iconLetter fa-scale-110 menu-icon"},Ur={class:"label"},Mr={key:0,class:"badge -notification"},Lr=["title","aria-pressed"],Rr=new Set(["bookmarks","dms","interactions","notifications","chat","chats","user-profile"]),qr={home:{route:"friends",icon:"home",label:"nav.home_timeline",criteria:["!private"]},public:{route:"public-timeline",anon:!0,icon:"users",label:"nav.public_tl",criteria:["!private"]},twkn:{route:"public-external-timeline",anon:!0,icon:"globe",label:"nav.twkn",criteria:["!private","federating"]},bookmarks:{route:"bookmarks",icon:"bookmark",label:"nav.bookmarks"},favorites:{routeObject:{name:"user-profile",query:{tab:"favorites"}},icon:"star",label:"user_card.favorites"},dms:{route:"dms",icon:"envelope",label:"nav.dms"}},Nr={interactions:{route:"interactions",icon:"bell",label:"nav.interactions"},chats:{route:"chats",icon:"comments",label:"nav.chats",badgeGetter:"unreadChatCount",criteria:["chats"]},friendRequests:{route:"friend-requests",icon:"user-plus",label:"nav.friend_requests",criteria:["lockedUser"],badgeGetter:"followRequestCount"},about:{route:"about",anon:!0,icon:"info-circle",label:"nav.about"},announcements:{route:"announcements",icon:"bullhorn",label:"nav.announcements",badgeGetter:"unreadAnnouncementCount",criteria:["announcements"]}};function Zr(e,t){return e.route||e.routeObject?(n=e.routeObject?e.routeObject:{name:e.anon||t?e.route:e.anonRoute},Rr.has(n.name)&&(n.params={username:t.screen_name,name:t.screen_name}),n):null;var n}const Wr={props:["to"]},Hr=(0,Zo.Z)(Wr,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link");return n.to?((0,vo.wg)(),(0,vo.j4)(s,{key:0,to:n.to,custom:""},{default:(0,vo.w5)((function(t){return[(0,vo.WI)(e.$slots,"default",(0,bo.vs)((0,vo.F4)(t)))]})),_:3},8,["to"])):(0,vo.WI)(e.$slots,"default",(0,bo.vs)((0,vo.dG)({key:1},{})))}]]);function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}Lt.vI.add(Rt.RP7);const Gr={props:["item","showPin"],components:{OptionalRouterLink:Hr},methods:{isPinned:function(e){return this.pinnedItems.has(e)},togglePin:function(e){this.isPinned(e)?this.$store.commit("removeCollectionPreference",{path:"collections.pinnedNavItems",value:e}):this.$store.commit("addCollectionPreference",{path:"collections.pinnedNavItems",value:e}),this.$store.dispatch("pushServerSideStorage")}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({routeTo:function(){return Zr(this.item,this.currentUser)},getters:function(){return this.$store.getters}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)}}))},Kr=(0,Zo.Z)(Gr,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("OptionalRouterLink");return(0,vo.wg)(),(0,vo.j4)(a,{to:e.routeTo},{default:(0,vo.w5)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.isActive,r=n.href,i=n.navigate;return[(0,vo._)("li",(0,vo.dG)({class:["NavigationEntry menu-item",{"-active":o}]},e.$attrs),[((0,vo.wg)(),(0,vo.j4)((0,vo.LL)(e.routeTo?"a":"button"),{class:"main-link",href:r,onClick:i},{default:(0,vo.w5)((function(){return[(0,vo._)("span",null,[e.item.icon?((0,vo.wg)(),(0,vo.j4)(s,{key:0,"fixed-width":"",class:"fa-scale-110 menu-icon",icon:e.item.icon},null,8,["icon"])):(0,vo.kq)("",!0)]),e.item.iconLetter?((0,vo.wg)(),(0,vo.iD)("span",$r,(0,bo.zw)(e.item.iconLetter),1)):(0,vo.kq)("",!0),(0,vo._)("span",Ur,(0,bo.zw)(e.item.labelRaw||e.$t(e.item.label)),1)]})),_:2},1032,["href","onClick"])),(0,vo.WI)(e.$slots,"default"),e.item.badgeGetter&&e.getters[e.item.badgeGetter]?((0,vo.wg)(),(0,vo.iD)("div",Mr,(0,bo.zw)(e.getters[e.item.badgeGetter]),1)):(0,vo.kq)("",!0),e.showPin&&e.currentUser?((0,vo.wg)(),(0,vo.iD)("button",{key:1,type:"button",class:"button-unstyled extra-button",title:e.$t(e.isPinned?"general.unpin":"general.pin"),"aria-pressed":!!e.isPinned,onClick:t[0]||(t[0]=(0,lo.iM)((function(t){return e.togglePin(e.item.name)}),["stop","prevent"]))},[e.showPin&&e.currentUser?((0,vo.wg)(),(0,vo.j4)(s,{key:0,"fixed-width":"",class:(0,bo.C_)(["fa-scale-110",{veryfaint:!e.isPinned(e.item.name)}]),transform:e.isPinned(e.item.name)?"":"rotate-45",icon:"thumbtack"},null,8,["class","transform"])):(0,vo.kq)("",!0)],8,Lr)):(0,vo.kq)("",!0)],16)]})),_:3},8,["to"])}]]);var Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.hasChats,o=t.hasAnnouncements,r=t.isFederating,i=t.isPrivate,s=t.currentUser;return e.filter((function(e){var t=e.criteria,a=e.anon,u=e.anonRoute,c=new Set(t||[]);return!(!r&&c.has("federating")||!s&&i&&c.has("!private")||!(s||a||u)||!(s&&s.locked||!c.has("lockedUser"))||!n&&c.has("chats")||!o&&c.has("announcements"))}))},Qr=function(e){return e.lists.allLists.map((function(e){return{name:"list-"+e.id,routeObject:{name:"lists-timeline",params:{id:e.id}},labelRaw:e.title,iconLetter:e.title[0]}}))};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Xr={props:["showPin"],components:{NavigationEntry:Kr},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,s.rn)({lists:Qr,currentUser:function(e){return e.users.currentUser},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating}}))};const ei=Xr,ti=(0,Zo.Z)(ei,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("NavigationEntry");return(0,vo.wg)(),(0,vo.iD)("ul",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.lists,(function(t){return(0,vo.wg)(),(0,vo.j4)(s,{key:t.name,"show-pin":e.showPin,item:t},null,8,["show-pin","item"])})),128))])}]]);var ni={class:"NavigationPins"},oi={key:1,class:"iconLetter fa-scale-110 fa-old-padding"},ri={key:2,class:"badge -dot -notification"};function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.FVb,Rt.g4A,Rt.xVw,Rt.FU$,Rt.lXL,Rt.qmU,Rt.sqG,Rt.aC2,Rt.Zrf);const ai={props:["limit"],methods:{getRouteTo:function(e){return Zr(e,this.currentUser)}},computed:si(si({getters:function(){return this.$store.getters}},(0,s.rn)({lists:Qr,currentUser:function(e){return e.users.currentUser},followRequestCount:function(e){return e.api.followRequests.length},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating},pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},supportsAnnouncements:function(e){return e.announcements.supportsAnnouncements},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)}})),{},{pinnedList:function(){var e=this;return this.currentUser?Yr([].concat((0,l.Z)(Object.entries(si({},qr)).filter((function(t){var n=(0,c.Z)(t,1)[0];return e.pinnedItems.has(n)})).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})}))),(0,l.Z)(this.lists.filter((function(t){return e.pinnedItems.has(t.name)}))),(0,l.Z)(Object.entries(si({},Nr)).filter((function(t){var n=(0,c.Z)(t,1)[0];return e.pinnedItems.has(n)})).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})})))),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser}).slice(0,this.limit):Yr([si(si({},qr.public),{},{name:"public"}),si(si({},qr.twkn),{},{name:"twkn"}),si(si({},Nr.about),{},{name:"about"})],{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}})},ui=(0,Zo.Z)(ai,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("router-link");return(0,vo.wg)(),(0,vo.iD)("span",ni,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.pinnedList,(function(t){return(0,vo.wg)(),(0,vo.j4)(a,{key:t.name,class:"button-unstyled pinned-item","active-class":"toggled",to:e.getRouteTo(t),title:t.labelRaw||e.$t(t.label)},{default:(0,vo.w5)((function(){return[t.icon?((0,vo.wg)(),(0,vo.j4)(s,{key:0,"fixed-width":"",icon:t.icon},null,8,["icon"])):(0,vo.kq)("",!0),t.iconLetter?((0,vo.wg)(),(0,vo.iD)("span",oi,(0,bo.zw)(t.iconLetter),1)):(0,vo.kq)("",!0),t.badgeGetter&&e.getters[t.badgeGetter]?((0,vo.wg)(),(0,vo.iD)("div",ri)):(0,vo.kq)("",!0)]})),_:2},1032,["to","title"])})),128))])}]]);var ci=n(65365);function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.FVb,Rt.g4A,Rt.xVw,Rt.FU$,Rt.ptq,Rt.mTx,Rt.lXL,Rt.qmU,Rt.sqG,Rt.aC2,Rt.Zrf,Rt.Acd);const pi={props:["forceExpand","forceEditMode"],created:function(){},components:{ListsMenuContent:ti,NavigationEntry:Kr,NavigationPins:ui,Checkbox:ci.Z},data:function(){return{editMode:!1,showTimelines:!1,showLists:!1,timelinesList:Object.entries(qr).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return di(di({},t[1]),{},{name:n})})),rootList:Object.entries(Nr).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return di(di({},t[1]),{},{name:n})}))}},methods:{toggleTimelines:function(){this.showTimelines=!this.showTimelines},toggleLists:function(){this.showLists=!this.showLists},toggleEditMode:function(){this.editMode=!this.editMode},toggleCollapse:function(){this.$store.commit("setPreference",{path:"simple.collapseNav",value:!this.collapsed}),this.$store.dispatch("pushServerSideStorage")},isPinned:function(e){return this.pinnedItems.has(e)},togglePin:function(e){this.isPinned(e)?this.$store.commit("removeCollectionPreference",{path:"collections.pinnedNavItems",value:e}):this.$store.commit("addCollectionPreference",{path:"collections.pinnedNavItems",value:e}),this.$store.dispatch("pushServerSideStorage")}},computed:di(di({},(0,s.rn)({currentUser:function(e){return e.users.currentUser},followRequestCount:function(e){return e.api.followRequests.length},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating},pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},supportsAnnouncements:function(e){return e.announcements.supportsAnnouncements},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)},collapsed:function(e){return e.serverSideStorage.prefsStorage.simple.collapseNav}})),{},{timelinesItems:function(){return Yr(Object.entries(di({},qr)).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return di(di({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})},rootItems:function(){return Yr(Object.entries(di({},Nr)).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return di(di({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}},(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"]))},mi=(0,Zo.Z)(pi,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("NavigationPins"),a=(0,vo.up)("FAIcon"),u=(0,vo.up)("NavigationEntry"),c=(0,vo.up)("router-link"),l=(0,vo.up)("ListsMenuContent");return(0,vo.wg)(),(0,vo.iD)("div",zr,[(0,vo._)("div",xr,[e.forceExpand?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",Pr,[(0,vo.Wm)(s,{limit:6}),Ir,(0,vo._)("button",{class:"button-unstyled",onClick:t[0]||(t[0]=function(){return e.toggleCollapse&&e.toggleCollapse.apply(e,arguments)})},[(0,vo.Wm)(a,{class:"navigation-chevron","fixed-width":"",icon:e.collapsed?"chevron-down":"chevron-up"},null,8,["icon"])])])),!e.collapsed||e.forceExpand?((0,vo.wg)(),(0,vo.iD)("ul",Tr,[e.currentUser||!e.privateMode?((0,vo.wg)(),(0,vo.j4)(u,{key:0,"show-pin":!1,item:{icon:"stream",label:"nav.timelines"},"aria-expanded":e.showTimelines?"true":"false",onClick:e.toggleTimelines},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{class:"timelines-chevron","fixed-width":"",icon:e.showTimelines?"chevron-up":"chevron-down"},null,8,["icon"])]})),_:1},8,["item","aria-expanded","onClick"])):(0,vo.kq)("",!0),(0,vo.wy)((0,vo._)("div",{class:(0,bo.C_)(["timelines-background menu-item-collapsible",{"-expanded":e.showTimelines}])},[(0,vo._)("div",Br,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.timelinesItems,(function(t){return(0,vo.wg)(),(0,vo.j4)(u,{key:t.name,"show-pin":e.editMode||e.forceEditMode,item:t},null,8,["show-pin","item"])})),128))])],2),[[lo.F8,e.showTimelines]]),e.currentUser?((0,vo.wg)(),(0,vo.j4)(u,{key:1,"show-pin":!1,item:{icon:"list",label:"nav.lists"},"aria-expanded":e.showLists?"true":"false",onClick:e.toggleLists},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(c,{title:e.$t("lists.manage_lists"),class:"button-unstyled extra-button",to:{name:"lists"},onClick:t[1]||(t[1]=(0,lo.iM)((function(){}),["stop"]))},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",icon:"wrench"})]})),_:1},8,["title"]),(0,vo.Wm)(a,{class:"timelines-chevron","fixed-width":"",icon:e.showLists?"chevron-up":"chevron-down"},null,8,["icon"])]})),_:1},8,["item","aria-expanded","onClick"])):(0,vo.kq)("",!0),(0,vo.wy)((0,vo._)("div",{class:(0,bo.C_)(["timelines-background menu-item-collapsible",{"-expanded":e.showLists}])},[(0,vo.Wm)(l,{"show-pin":e.editMode||e.forceEditMode,class:"timelines"},null,8,["show-pin"])],2),[[lo.F8,e.showLists]]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.rootItems,(function(t){return(0,vo.wg)(),(0,vo.j4)(u,{key:t.name,"show-pin":e.editMode||e.forceEditMode,item:t},null,8,["show-pin","item"])})),128)),!e.forceEditMode&&e.currentUser?((0,vo.wg)(),(0,vo.j4)(u,{key:2,"show-pin":!1,item:{label:e.editMode?e.$t("nav.edit_finish"):e.$t("nav.edit_pinned"),icon:e.editMode?"check":"wrench"},onClick:e.toggleEditMode},null,8,["item","onClick"])):(0,vo.kq)("",!0)])):(0,vo.kq)("",!0)])])}]]);var hi={class:"instance-specific-panel"},fi={class:"panel panel-default"},gi={class:"panel-body"},vi=["innerHTML"];const bi={computed:{instanceSpecificPanelContent:function(){return this.$store.state.instance.instanceSpecificPanelContent}}},wi=(0,Zo.Z)(bi,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("div",hi,[(0,vo._)("div",fi,[(0,vo._)("div",gi,[(0,vo._)("div",{innerHTML:e.instanceSpecificPanelContent},null,8,vi)])])])}]]);var yi={class:"features-panel"},Di={class:"panel panel-default base01-background"},_i={class:"panel-heading timeline-heading base02-background base04"},ki={class:"title"},Ci={class:"panel-body features-panel"},Si={key:0},ji={key:1},Fi={key:2},Ai={key:3},Oi={key:4},Ei=n(65079);const zi={computed:{shout:function(){return this.$store.state.instance.shoutAvailable},pleromaChatMessages:function(){return this.$store.state.instance.pleromaChatMessagesAvailable},gopher:function(){return this.$store.state.instance.gopherAvailable},whoToFollow:function(){return this.$store.state.instance.suggestionsEnabled},mediaProxy:function(){return this.$store.state.instance.mediaProxyAvailable},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},textlimit:function(){return this.$store.state.instance.textlimit},uploadlimit:function(){return Ei.Z.fileSizeFormat(this.$store.state.instance.uploadlimit)}}},xi=(0,Zo.Z)(zi,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("div",yi,[(0,vo._)("div",Di,[(0,vo._)("div",_i,[(0,vo._)("div",ki,(0,bo.zw)(e.$t("features_panel.title")),1)]),(0,vo._)("div",Ci,[(0,vo._)("ul",null,[e.shout?((0,vo.wg)(),(0,vo.iD)("li",Si,(0,bo.zw)(e.$t("features_panel.shout")),1)):(0,vo.kq)("",!0),e.pleromaChatMessages?((0,vo.wg)(),(0,vo.iD)("li",ji,(0,bo.zw)(e.$t("features_panel.pleroma_chat_messages")),1)):(0,vo.kq)("",!0),e.gopher?((0,vo.wg)(),(0,vo.iD)("li",Fi,(0,bo.zw)(e.$t("features_panel.gopher")),1)):(0,vo.kq)("",!0),e.whoToFollow?((0,vo.wg)(),(0,vo.iD)("li",Ai,(0,bo.zw)(e.$t("features_panel.who_to_follow")),1)):(0,vo.kq)("",!0),e.mediaProxy?((0,vo.wg)(),(0,vo.iD)("li",Oi,(0,bo.zw)(e.$t("features_panel.media_proxy")),1)):(0,vo.kq)("",!0),(0,vo._)("li",null,(0,bo.zw)(e.$t("features_panel.scope_options")),1),(0,vo._)("li",null,(0,bo.zw)(e.$t("features_panel.text_limit"))+" = "+(0,bo.zw)(e.textlimit),1),(0,vo._)("li",null,(0,bo.zw)(e.$t("features_panel.upload_limit"))+" = "+(0,bo.zw)(e.uploadlimit.num)+" "+(0,bo.zw)(e.$t("upload.file_size_units."+e.uploadlimit.unit)),1)])])])])}]]);var Pi={class:"who-to-follow-panel"},Ii={class:"panel panel-default base01-background"},Ti={class:"panel-heading timeline-heading base02-background base04"},Bi={class:"title"},$i={class:"who-to-follow"},Ui=["src"],Mi=(0,vo._)("br",null,null,-1),Li={class:"who-to-follow-more"},Ri=n(69983),qi=n.n(Ri),Ni=n(4493);function Zi(e){var t=e.$store.state.users.currentUser.credentials;t&&(e.usersToFollow.forEach((function(e){e.name="Loading..."})),p.ZP.suggestions({credentials:t}).then((function(t){!function(e,t){var n=this,o=qi()(t);e.usersToFollow.forEach((function(t,r){var i=o[r],s=i.avatar||n.$store.state.instance.defaultAvatar,a=i.acct;t.img=s,t.name=a,e.$store.state.api.backendInteractor.fetchUser({id:a}).then((function(n){n.error||(e.$store.commit("addNewUsers",[n]),t.id=n.id)}))}))}(e,t)})))}const Wi={data:function(){return{usersToFollow:[]}},computed:{user:function(){return this.$store.state.users.currentUser.screen_name},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled}},methods:{userProfileLink:function(e,t){return(0,Ni.Z)(e,t,this.$store.state.instance.restrictedNicknames)}},watch:{user:function(e,t){this.suggestionsEnabled&&Zi(this)}},mounted:function(){var e=this;this.usersToFollow=new Array(3).fill().map((function(t){return{img:e.$store.state.instance.defaultAvatar,name:"",id:0}})),this.suggestionsEnabled&&Zi(this)}},Hi=(0,Zo.Z)(Wi,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link");return(0,vo.wg)(),(0,vo.iD)("div",Pi,[(0,vo._)("div",Ii,[(0,vo._)("div",Ti,[(0,vo._)("div",Bi,(0,bo.zw)(e.$t("who_to_follow.who_to_follow")),1)]),(0,vo._)("div",$i,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.usersToFollow,(function(t){return(0,vo.wg)(),(0,vo.iD)("p",{key:t.id,class:"who-to-follow-items"},[(0,vo._)("img",{src:t.img},null,8,Ui),(0,vo.Wm)(s,{to:e.userProfileLink(t.id,t.name)},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(t.name),1)]})),_:2},1032,["to"]),Mi])})),128)),(0,vo._)("p",Li,[(0,vo.Wm)(s,{to:{name:"who-to-follow"}},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("who_to_follow.more")),1)]})),_:1})])])])])}]]);var Vi={key:0,class:"shout-panel"},Gi={class:"panel panel-default"},Ki={class:"title"},Yi={class:"panel-body shout-window"},Qi={class:"shout-avatar"},Ji=["src"],Xi={class:"shout-content"},es=(0,vo._)("br",null,null,-1),ts={class:"shout-text"},ns={class:"panel-body shout-input"},os={key:1,class:"shout-panel"},rs={class:"panel panel-default"},is={class:"title"};Lt.vI.add(Rt.Acd,Rt.NBC);const ss={props:["floating"],data:function(){return{currentMessage:"",channel:null,collapsed:!0}},computed:{messages:function(){return this.$store.state.shout.messages}},methods:{submit:function(e){this.$store.state.shout.channel.push("new_msg",{text:e},1e4),this.currentMessage=""},togglePanel:function(){this.collapsed=!this.collapsed},userProfileLink:function(e){return(0,Ni.Z)(e.id,e.username,this.$store.state.instance.restrictedNicknames)}},watch:{messages:function(e){var t=this.$el.querySelector(".chat-window");t&&t.scrollTop+t.offsetHeight+20>t.scrollHeight&&this.$nextTick((function(){t&&(t.scrollTop=t.scrollHeight-t.offsetHeight)}))}}},as=(0,Zo.Z)(ss,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("router-link");return e.collapsed&&e.floating?((0,vo.wg)(),(0,vo.iD)("div",os,[(0,vo._)("div",rs,[(0,vo._)("div",{class:"panel-heading -stub timeline-heading shout-heading",onClick:t[3]||(t[3]=(0,lo.iM)((function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),["stop","prevent"]))},[(0,vo._)("div",is,[(0,vo.Wm)(s,{class:"icon",icon:"bullhorn"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("shoutbox.title")),1)])])])])):((0,vo.wg)(),(0,vo.iD)("div",Vi,[(0,vo._)("div",Gi,[(0,vo._)("div",{class:(0,bo.C_)(["panel-heading",{"shout-heading":e.floating}]),onClick:t[0]||(t[0]=(0,lo.iM)((function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),["stop","prevent"]))},[(0,vo._)("div",Ki,[(0,vo.Uk)((0,bo.zw)(e.$t("shoutbox.title"))+" ",1),e.floating?((0,vo.wg)(),(0,vo.j4)(s,{key:0,icon:"times",class:"close-icon"})):(0,vo.kq)("",!0)])],2),(0,vo._)("div",Yi,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.messages,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.id,class:"shout-message"},[(0,vo._)("span",Qi,[(0,vo._)("img",{src:t.author.avatar},null,8,Ji)]),(0,vo._)("div",Xi,[(0,vo.Wm)(a,{class:"shout-name",to:e.userProfileLink(t.author)},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(t.author.username),1)]})),_:2},1032,["to"]),es,(0,vo._)("span",ts,(0,bo.zw)(t.text),1)])])})),128))]),(0,vo._)("div",ns,[(0,vo.wy)((0,vo._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.currentMessage=t}),class:"shout-input-textarea input",rows:"1",onKeyup:t[2]||(t[2]=(0,lo.D2)((function(t){return e.submit(e.currentMessage)}),["enter"]))},null,544),[[lo.nr,e.currentMessage]])])])]))}]]);var us=["src","alt","title"],cs=["src","alt","title"],ls=["title"],ds=["title"],ps=["title"],ms={key:6,class:"description"},hs={class:"counter"},fs={key:7,class:"loading-spinner"},gs=n(60466),vs=n(1297),bs=n(782);const ws={methods:{setTransform:function(e){var t=e.scale,n=e.x,o=e.y;this.$el.setTransform({scale:t,x:n,y:o})}},created:function(){bs.Z}},ys=(0,Zo.Z)(ws,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("pinch-zoom",(0,vo.dG)({class:"pinch-zoom-parent"},e.$attrs,(0,vo.mx)(e.$listeners,!0)),[(0,vo.WI)(e.$slots,"default")],16)}]]);var Ds=n(15671),_s=n(43144),ks=function(e,t){return[t[0]-e[0],t[1]-e[1]]},Cs=function(e){return[(t=e.touches[0]).screenX,t.screenY];var t},Ss=function(e){return[e.clientX,e.clientY]},js=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},Fs=function(e){return[e[1],-e[0]]},As=function(e,t){return e[0]*t[0]+e[1]*t[1]},Os=function(e,t){var n=As(e,t)/As(t,t);return[n*t[0],n*t[1]]};const Es={DIRECTION_LEFT:[-1,0],DIRECTION_RIGHT:[1,0],DIRECTION_UP:[0,-1],DIRECTION_DOWN:[0,1],swipeGesture:function(e,t){return{direction:e,onSwipe:t,threshold:arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,perpendicularTolerance:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,_startPos:[0,0],_swiping:!1}},beginSwipe:function(e,t){t._startPos=Cs(e),t._swiping=!0},updateSwipe:function(e,t){if(t._swiping){var n=ks(t._startPos,Cs(e));if(!(js(n)<t.threshold||As(n,t.direction)<0)){var o=Os(n,t.direction),r=Fs(t.direction),i=Os(n,r);js(o)*t.perpendicularTolerance<js(i)||(t.onSwipe(),t._swiping=!1)}}},SwipeAndClickGesture:function(){return(0,_s.Z)((function e(t){var n=t.direction,o=t.swipePreviewCallback,r=t.swipeEndCallback,i=t.swipeCancelCallback,s=t.swipelessClickCallback,a=t.threshold,u=void 0===a?30:a,c=t.perpendicularTolerance,l=void 0===c?1:c,d=t.disableClickThreshold,p=void 0===d?1:d;(0,Ds.Z)(this,e);var m=function(){};this.direction=n,this.swipePreviewCallback=o||m,this.swipeEndCallback=r||m,this.swipeCancelCallback=i||m,this.swipelessClickCallback=s||m,this.threshold="function"==typeof u?u:function(){return u},this.disableClickThreshold="function"==typeof p?p:function(){return p},this.perpendicularTolerance=l,this._reset()}),[{key:"_reset",value:function(){this._startPos=[0,0],this._pointerId=-1,this._swiping=!1,this._swiped=!1,this._preventNextClick=!1}},{key:"start",value:function(e){0===e.button&&(this._startPos=Ss(e),this._pointerId=e.pointerId,this._swiping=!0,this._swiped=!1)}},{key:"move",value:function(e){if(this._swiping&&this._pointerId===e.pointerId){this._swiped=!0;var t=Ss(e),n=ks(this._startPos,t);this.swipePreviewCallback(n)}}},{key:"cancel",value:function(e){this._swiping&&this._pointerId===e.pointerId&&this.swipeCancelCallback()}},{key:"end",value:function(e){var t=this;if(this._swiping&&this._pointerId===e.pointerId){this._swiping=!1;var n=Ss(e),o=ks(this._startPos,n),r=function(){if(js(o)<t.threshold())return 0;var e=As(o,t.direction)>0,n=Os(o,t.direction),r=Fs(t.direction),i=Os(o,r);return js(n)*t.perpendicularTolerance<js(i)?0:e?1:-1}();this._swiped&&this.swipeEndCallback(r),this._reset(),js(o)>=this.disableClickThreshold()&&"mouse"===e.pointerType&&(this._preventNextClick=!0)}}},{key:"click",value:function(e){this._preventNextClick||this.swipelessClickCallback(),this._reset()}}])}()},zs={props:{direction:{type:Array},threshold:{type:Function,default:function(){return 30}},disableClickThreshold:{type:Function,default:function(){return 1}},perpendicularTolerance:{type:Number,default:1}},methods:{handlePointerDown:function(e){this.$gesture.start(e)},handlePointerMove:function(e){this.$gesture.move(e)},handlePointerUp:function(e){this.$gesture.end(e)},handlePointerCancel:function(e){this.$gesture.cancel(e)},handleNativeClick:function(e){this.$gesture.click(e)},preview:function(e){this.$emit("preview-requested",e)},end:function(e){this.$emit("swipe-finished",e)},click:function(){this.$emit("swipeless-clicked")},cancel:function(){this.$emit("swipe-canceled")}},created:function(){this.$gesture=new Es.SwipeAndClickGesture({direction:this.direction,threshold:this.threshold,disableClickThreshold:this.disableClickThreshold,perpendicularTolerance:this.perpendicularTolerance,swipePreviewCallback:this.preview,swipeEndCallback:this.end,swipeCancelCallback:this.cancel,swipelessClickCallback:this.click})}},xs=(0,Zo.Z)(zs,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("div",(0,vo.dG)(e.$attrs,{onPointerdown:t[0]||(t[0]=function(){return e.handlePointerDown&&e.handlePointerDown.apply(e,arguments)}),onPointermove:t[1]||(t[1]=function(){return e.handlePointerMove&&e.handlePointerMove.apply(e,arguments)}),onPointerup:t[2]||(t[2]=function(){return e.handlePointerUp&&e.handlePointerUp.apply(e,arguments)}),onPointercancel:t[3]||(t[3]=function(){return e.handlePointerCancel&&e.handlePointerCancel.apply(e,arguments)}),onClick:t[4]||(t[4]=function(){return e.handleNativeClick&&e.handleNativeClick.apply(e,arguments)})}),[(0,vo.WI)(e.$slots,"default")],16)}]]);var Ps=n(53560);Lt.vI.add(Rt.A35,Rt._tD,Rt.IJ7,Rt.NBC);const Is={components:{StillImage:gs.Z,VideoAttachment:vs.Z,PinchZoom:ys,SwipeClick:xs,Modal:Mt.Z,Flash:Ps.Z},data:function(){return{loading:!1,swipeDirection:Es.DIRECTION_LEFT,swipeThreshold:function(){return window.innerWidth*(1/4)},pinchZoomMinScale:1,pinchZoomScaleResetLimit:1.2}},computed:{showing:function(){return this.$store.state.mediaViewer.activated},media:function(){return this.$store.state.mediaViewer.media},description:function(){return this.currentMedia.description},currentIndex:function(){return this.$store.state.mediaViewer.currentIndex},currentMedia:function(){return this.media[this.currentIndex]},canNavigate:function(){return this.media.length>1},type:function(){return this.currentMedia?this.getType(this.currentMedia):null},swipeDisableClickThreshold:function(){var e=this;return function(){return e.canNavigate?1:30}}},methods:{getType:function(e){return yn.ZP.fileType(e.mimetype)},hide:function(){var e=this;setTimeout((function(){e.$store.dispatch("closeMediaViewer")}),100)},hideIfNotSwiped:function(e){var t=this.$refs.swipeClick;t?t.$gesture.click(e):this.hide()},goPrev:function(){if(this.canNavigate){var e=0===this.currentIndex?this.media.length-1:this.currentIndex-1,t=this.media[e];"image"===this.getType(t)&&(this.loading=!0),this.$store.dispatch("setCurrentMedia",t)}},goNext:function(){if(this.canNavigate){var e=this.currentIndex===this.media.length-1?0:this.currentIndex+1,t=this.media[e];"image"===this.getType(t)&&(this.loading=!0),this.$store.dispatch("setCurrentMedia",t)}},onImageLoaded:function(){this.loading=!1},handleSwipePreview:function(e){this.$refs.pinchZoom.setTransform({scale:1,x:e[0],y:0})},handleSwipeEnd:function(e){this.$refs.pinchZoom.setTransform({scale:1,x:0,y:0}),e>0?this.goNext():e<0&&this.goPrev()},handleKeyupEvent:function(e){this.showing&&27===e.keyCode&&this.hide()},handleKeydownEvent:function(e){this.showing&&(39===e.keyCode?this.goNext():37===e.keyCode&&this.goPrev())}},mounted:function(){window.addEventListener("popstate",this.hide),document.addEventListener("keyup",this.handleKeyupEvent),document.addEventListener("keydown",this.handleKeydownEvent)},unmounted:function(){window.removeEventListener("popstate",this.hide),document.removeEventListener("keyup",this.handleKeyupEvent),document.removeEventListener("keydown",this.handleKeydownEvent)}},Ts=(0,Zo.Z)(Is,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("PinchZoom"),a=(0,vo.up)("SwipeClick"),u=(0,vo.up)("VideoAttachment"),c=(0,vo.up)("Flash"),l=(0,vo.up)("FAIcon"),d=(0,vo.up)("Modal");return e.showing?((0,vo.wg)(),(0,vo.j4)(d,{key:0,class:"media-modal-view",onBackdropClicked:e.hideIfNotSwiped},{default:(0,vo.w5)((function(){return["image"===e.type?((0,vo.wg)(),(0,vo.j4)(a,{key:0,ref:"swipeClick",class:"modal-image-container",direction:e.swipeDirection,threshold:e.swipeThreshold,"disable-click-threshold":e.swipeDisableClickThreshold,onPreviewRequested:e.handleSwipePreview,onSwipeFinished:e.handleSwipeEnd,onSwipelessClicked:e.hide},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{ref:"pinchZoom",class:"modal-image-container-inner",selector:".modal-image","reach-min-scale-strategy":"reset","stop-propagate-handled":"stop-propgate-handled","allow-pan-min-scale":e.pinchZoomMinScale,"min-scale":e.pinchZoomMinScale,"reset-to-min-scale-limit":e.pinchZoomScaleResetLimit},{default:(0,vo.w5)((function(){return[(0,vo._)("img",{class:(0,bo.C_)([{loading:e.loading},"modal-image"]),src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,onLoad:t[0]||(t[0]=function(){return e.onImageLoaded&&e.onImageLoaded.apply(e,arguments)})},null,42,us)]})),_:1},8,["allow-pan-min-scale","min-scale","reset-to-min-scale-limit"])]})),_:1},8,["direction","threshold","disable-click-threshold","onPreviewRequested","onSwipeFinished","onSwipelessClicked"])):(0,vo.kq)("",!0),"video"===e.type?((0,vo.wg)(),(0,vo.j4)(u,{key:1,class:"modal-image",attachment:e.currentMedia,controls:!0},null,8,["attachment"])):(0,vo.kq)("",!0),"audio"===e.type?((0,vo.wg)(),(0,vo.iD)("audio",{key:2,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,controls:""},null,8,cs)):(0,vo.kq)("",!0),"flash"===e.type?((0,vo.wg)(),(0,vo.j4)(c,{key:3,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description},null,8,["src","alt","title"])):(0,vo.kq)("",!0),e.canNavigate?((0,vo.wg)(),(0,vo.iD)("button",{key:4,title:e.$t("media_modal.previous"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--prev",onClick:t[1]||(t[1]=(0,lo.iM)((function(){return e.goPrev&&e.goPrev.apply(e,arguments)}),["stop","prevent"]))},[(0,vo.Wm)(l,{class:"button-icon arrow-icon",icon:"chevron-left"})],8,ls)):(0,vo.kq)("",!0),e.canNavigate?((0,vo.wg)(),(0,vo.iD)("button",{key:5,title:e.$t("media_modal.next"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--next",onClick:t[2]||(t[2]=(0,lo.iM)((function(){return e.goNext&&e.goNext.apply(e,arguments)}),["stop","prevent"]))},[(0,vo.Wm)(l,{class:"button-icon arrow-icon",icon:"chevron-right"})],8,ds)):(0,vo.kq)("",!0),(0,vo._)("button",{class:"modal-view-button modal-view-button-hide",title:e.$t("media_modal.hide"),onClick:t[3]||(t[3]=(0,lo.iM)((function(){return e.hide&&e.hide.apply(e,arguments)}),["stop","prevent"]))},[(0,vo.Wm)(l,{class:"button-icon",icon:"times"})],8,ps),e.description?((0,vo.wg)(),(0,vo.iD)("span",ms,(0,bo.zw)(e.description),1)):(0,vo.kq)("",!0),(0,vo._)("span",hs,(0,bo.zw)(e.$tc("media_modal.counter",e.currentIndex+1,{current:e.currentIndex+1,total:e.media.length})),1),e.loading?((0,vo.wg)(),(0,vo.iD)("span",fs,[(0,vo.Wm)(l,{spin:"",icon:"circle-notch",size:"5x"})])):(0,vo.kq)("",!0)]})),_:1},8,["onBackdropClicked"])):(0,vo.kq)("",!0)}]]);var Bs={key:1,class:"side-drawer-logo-wrapper"},$s=["src"],Us={key:0},Ms={key:0,class:"badge -notification"},Ls={key:0},Rs={key:0,class:"badge -notification"},qs={key:0,class:"badge -notification"};function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ns(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.$Wj,Rt.jLD,Rt.J9Y,Rt.lXL,Rt.qmU,Rt.FKd,Rt.Acd,Rt.wn1,Rt.HLz,Rt.b7W,Rt.sqG,Rt.GTN,Rt.Zrf);const Ws={props:["logout"],data:function(){return{closed:!0,closeGesture:void 0}},created:function(){this.closeGesture=Es.swipeGesture(Es.DIRECTION_LEFT,this.toggleDrawer),this.currentUser&&this.currentUser.locked&&this.$store.dispatch("startFetchingFollowRequests")},components:{UserCard:Fr.Z},computed:Zs(Zs({currentUser:function(){return this.$store.state.users.currentUser},shout:function(){return this.$store.state.shout.joined},unseenNotifications:function(){return(0,ne.Km)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},logo:function(){return this.$store.state.instance.logo},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},followRequestCount:function(){return this.$store.state.api.followRequests.length},privateMode:function(){return this.$store.state.instance.private},federating:function(){return this.$store.state.instance.federating},timelinesRoute:function(){var e;return this.$store.state.interface.lastTimeline&&(e=this.$store.state.interface.lastTimeline),e=this.currentUser?"friends":"public-timeline",Rr.has(e)?{name:e,params:{username:this.currentUser.screen_name}}:{name:e}}},(0,s.rn)({pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},supportsAnnouncements:function(e){return e.announcements.supportsAnnouncements}})),(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"])),methods:{toggleDrawer:function(){this.closed=!this.closed},doLogout:function(){this.logout(),this.toggleDrawer()},touchStart:function(e){Es.beginSwipe(e,this.closeGesture)},touchMove:function(e){Es.updateSwipe(e,this.closeGesture)},openSettingsModal:function(){this.$store.dispatch("openSettingsModal","user")},openAdminModal:function(){this.$store.dispatch("openSettingsModal","admin")}}},Hs=(0,Zo.Z)(Ws,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserCard"),a=(0,vo.up)("FAIcon"),u=(0,vo.up)("router-link");return(0,vo.wg)(),(0,vo.iD)("div",{class:(0,bo.C_)(["side-drawer-container mobile-drawer",{"side-drawer-container-closed":e.closed,"side-drawer-container-open":!e.closed}])},[(0,vo._)("div",{class:(0,bo.C_)(["side-drawer-darken",{"side-drawer-darken-closed":e.closed}])},null,2),(0,vo._)("div",{class:(0,bo.C_)(["side-drawer",{"side-drawer-closed":e.closed}]),onTouchstart:t[19]||(t[19]=function(){return e.touchStart&&e.touchStart.apply(e,arguments)}),onTouchmove:t[20]||(t[20]=function(){return e.touchMove&&e.touchMove.apply(e,arguments)})},[(0,vo._)("div",{class:"side-drawer-heading",onClick:t[0]||(t[0]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[e.currentUser?((0,vo.wg)(),(0,vo.j4)(s,{key:0,"user-id":e.currentUser.id,"hide-bio":!0},null,8,["user-id"])):((0,vo.wg)(),(0,vo.iD)("div",Bs,[(0,vo._)("img",{src:e.logo},null,8,$s),e.hideSitename?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("span",Us,(0,bo.zw)(e.sitename),1))]))]),(0,vo._)("ul",null,[e.currentUser?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("li",{key:0,onClick:t[1]||(t[1]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"login"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-in-alt"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("login.login")),1)]})),_:1})])),e.currentUser||!e.privateMode?((0,vo.wg)(),(0,vo.iD)("li",{key:1,onClick:t[2]||(t[2]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:e.timelinesRoute,class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"home"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.timelines")),1)]})),_:1},8,["to"])])):(0,vo.kq)("",!0),e.currentUser?((0,vo.wg)(),(0,vo.iD)("li",{key:2,onClick:t[3]||(t[3]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"lists"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"list"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.lists")),1)]})),_:1})])):(0,vo.kq)("",!0),e.currentUser&&e.pleromaChatMessagesAvailable?((0,vo.wg)(),(0,vo.iD)("li",{key:3,onClick:t[4]||(t[4]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"chats",params:{username:e.currentUser.screen_name}},style:{position:"relative"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"comments"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.chats"))+" ",1),e.unreadChatCount?((0,vo.wg)(),(0,vo.iD)("span",Ms,(0,bo.zw)(e.unreadChatCount),1)):(0,vo.kq)("",!0)]})),_:1},8,["to"])])):(0,vo.kq)("",!0)]),e.currentUser?((0,vo.wg)(),(0,vo.iD)("ul",Ls,[(0,vo._)("li",{onClick:t[5]||(t[5]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"interactions",params:{username:e.currentUser.screen_name}},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bell"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.interactions")),1)]})),_:1},8,["to"])]),e.currentUser.locked?((0,vo.wg)(),(0,vo.iD)("li",{key:0,onClick:t[6]||(t[6]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:"/friend-requests",class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.friend_requests"))+" ",1),e.followRequestCount>0?((0,vo.wg)(),(0,vo.iD)("span",Rs,(0,bo.zw)(e.followRequestCount),1)):(0,vo.kq)("",!0)]})),_:1})])):(0,vo.kq)("",!0),e.shout?((0,vo.wg)(),(0,vo.iD)("li",{key:1,onClick:t[7]||(t[7]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"shout-panel"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("shoutbox.title")),1)]})),_:1})])):(0,vo.kq)("",!0)])):(0,vo.kq)("",!0),(0,vo._)("ul",null,[e.currentUser||!e.privateMode?((0,vo.wg)(),(0,vo.iD)("li",{key:0,onClick:t[8]||(t[8]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"search"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.search")),1)]})),_:1})])):(0,vo.kq)("",!0),e.currentUser&&e.suggestionsEnabled?((0,vo.wg)(),(0,vo.iD)("li",{key:1,onClick:t[9]||(t[9]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"who-to-follow"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.who_to_follow")),1)]})),_:1})])):(0,vo.kq)("",!0),(0,vo._)("li",{onClick:t[11]||(t[11]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo._)("button",{class:"menu-item",onClick:t[10]||(t[10]=function(){return e.openSettingsModal&&e.openSettingsModal.apply(e,arguments)})},[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("settings.settings")),1)])]),(0,vo._)("li",{onClick:t[12]||(t[12]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"about"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"info-circle"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.about")),1)]})),_:1})]),e.currentUser&&"admin"===e.currentUser.role?((0,vo.wg)(),(0,vo.iD)("li",{key:2,onClick:t[14]||(t[14]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo._)("button",{class:"menu-item",onClick:t[13]||(t[13]=(0,lo.iM)((function(){return e.openAdminModal&&e.openAdminModal.apply(e,arguments)}),["stop"]))},[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.administration")),1)])])):(0,vo.kq)("",!0),e.currentUser&&e.supportsAnnouncements?((0,vo.wg)(),(0,vo.iD)("li",{key:3,onClick:t[15]||(t[15]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"announcements"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.announcements"))+" ",1),e.unreadAnnouncementCount?((0,vo.wg)(),(0,vo.iD)("span",qs,(0,bo.zw)(e.unreadAnnouncementCount),1)):(0,vo.kq)("",!0)]})),_:1})])):(0,vo.kq)("",!0),e.currentUser?((0,vo.wg)(),(0,vo.iD)("li",{key:4,onClick:t[16]||(t[16]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo.Wm)(u,{to:{name:"edit-navigation"},class:"menu-item"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"compass"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("nav.edit_nav_mobile")),1)]})),_:1})])):(0,vo.kq)("",!0),e.currentUser?((0,vo.wg)(),(0,vo.iD)("li",{key:5,onClick:t[18]||(t[18]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,vo._)("button",{class:"menu-item",onClick:t[17]||(t[17]=function(){return e.doLogout&&e.doLogout.apply(e,arguments)})},[(0,vo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("login.logout")),1)])])):(0,vo.kq)("",!0)])],34),(0,vo._)("div",{class:(0,bo.C_)(["side-drawer-click-outside",{"side-drawer-click-outside-closed":e.closed}]),onClick:t[21]||(t[21]=(0,lo.iM)((function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)}),["stop","prevent"]))},null,2)],2)}]]);var Vs=["title"],Gs=n(23279),Ks=n.n(Gs);Lt.vI.add(Rt.IwR);var Ys=new Set(["chats","chat","lists-edit"]);const Qs={data:function(){return{hidden:!1,scrollingDown:!1,inputActive:!1,oldScrollPos:0,amountScrolled:0}},created:function(){this.autohideFloatingPostButton&&this.activateFloatingPostButtonAutohide(),window.addEventListener("resize",this.handleOSK)},unmounted:function(){this.autohideFloatingPostButton&&this.deactivateFloatingPostButtonAutohide(),window.removeEventListener("resize",this.handleOSK)},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},isHidden:function(){return!!Ys.has(this.$route.name)||this.autohideFloatingPostButton&&(this.hidden||this.inputActive)},isPersistent:function(){return!!this.$store.getters.mergedConfig.alwaysShowNewPostButton},autohideFloatingPostButton:function(){return!!this.$store.getters.mergedConfig.autohideFloatingPostButton}},watch:{autohideFloatingPostButton:function(e){e?this.activateFloatingPostButtonAutohide():this.deactivateFloatingPostButtonAutohide()}},methods:{activateFloatingPostButtonAutohide:function(){window.addEventListener("scroll",this.handleScrollStart),window.addEventListener("scroll",this.handleScrollEnd)},deactivateFloatingPostButtonAutohide:function(){window.removeEventListener("scroll",this.handleScrollStart),window.removeEventListener("scroll",this.handleScrollEnd)},openPostForm:function(){this.$store.dispatch("openPostStatusModal")},handleOSK:function(){var e=window.innerWidth<350,t=e&&window.innerHeight<345,n=!e&&window.innerWidth<450&&window.innerHeight<560;this.inputActive=!(!t&&!n)},handleScrollStart:Ks()((function(){window.scrollY>this.oldScrollPos?this.hidden=!0:this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!0,trailing:!1}),handleScrollEnd:Ks()((function(){this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!1,trailing:!0})}},Js=(0,Zo.Z)(Qs,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon");return e.isLoggedIn?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:(0,bo.C_)(["MobilePostButton button-default new-status-button",{hidden:e.isHidden,"always-show":e.isPersistent}]),title:e.$t("post_status.new_status"),onClick:t[0]||(t[0]=function(){return e.openPostForm&&e.openPostForm.apply(e,arguments)})},[(0,vo.Wm)(s,{icon:"pen"})],10,Vs)):(0,vo.kq)("",!0)}]]);var Xs={class:"MobileNav"},ea={class:"item"},ta=["title","aria-expanaded"],na={key:0,class:"badge -dot -notification"},oa={class:"item right"},ra=["title"],ia={key:0,class:"badge -dot -notification"},sa={class:"panel-heading mobile-notifications-header"},aa={class:"title"},ua={key:0,class:"badge -notification unseen-count"},ca=(0,vo._)("span",{class:"spacer"},null,-1),la=["title"],da=["title"],pa=["title"],ma=n(40297),ha=n(1447);function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC,Rt.qmU,Rt.xiG,Rt.FPD,Rt.Kl4,Rt.FFp);const va={components:{SideDrawer:Hs,Notifications:ma.default,NavigationPins:ui,ConfirmModal:ha.Z},data:function(){return{notificationsCloseGesture:void 0,notificationsOpen:!1,notificationsAtTop:!0,showingConfirmLogout:!1}},created:function(){var e=this;this.notificationsCloseGesture=Es.swipeGesture(Es.DIRECTION_RIGHT,(function(){return e.closeMobileNotifications(!0)}),50)},computed:ga(ga({currentUser:function(){return this.$store.state.users.currentUser},unseenNotifications:function(){return(0,ne.Km)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length+(0,ne.wY)(this.$store)},unseenCount:function(){return this.unseenNotifications.length},unseenCountBadgeText:function(){return"".concat(this.unseenCount?this.unseenCount:"")},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},isChat:function(){return"chat"===this.$route.name}},(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"])),{},{chatsPinned:function(){return new Set(this.$store.state.serverSideStorage.prefsStorage.collections.pinnedNavItems).has("chats")},shouldConfirmLogout:function(){return this.$store.getters.mergedConfig.modalOnLogout},closingDrawerMarksAsSeen:function(){return this.$store.getters.mergedConfig.closingDrawerMarksAsSeen}},(0,s.Se)(["unreadChatCount"])),methods:{toggleMobileSidebar:function(){this.$refs.sideDrawer.toggleDrawer()},openMobileNotifications:function(){this.notificationsOpen=!0},closeMobileNotifications:function(e){this.notificationsOpen&&(this.notificationsOpen=!1,e&&this.closingDrawerMarksAsSeen&&this.markNotificationsAsSeen())},notificationsTouchStart:function(e){Es.beginSwipe(e,this.notificationsCloseGesture)},notificationsTouchMove:function(e){Es.updateSwipe(e,this.notificationsCloseGesture)},scrollToTop:function(){window.scrollTo(0,0)},scrollMobileNotificationsToTop:function(){this.$refs.mobileNotifications.scrollTo(0,0)},showConfirmLogout:function(){this.showingConfirmLogout=!0},hideConfirmLogout:function(){this.showingConfirmLogout=!1},logout:function(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},markNotificationsAsSeen:function(){this.$store.dispatch("markNotificationsAsSeen")},onScroll:function(e){var t=e.target,n=t.scrollTop,o=t.clientHeight,r=t.scrollHeight;this.notificationsAtTop=n>0,n+o>=r&&this.$refs.notifications.fetchOlderNotifications()}},watch:{$route:function(){this.closeMobileNotifications()}}},ba=(0,Zo.Z)(va,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("NavigationPins"),u=(0,vo.up)("FALayers"),c=(0,vo.up)("SideDrawer"),l=(0,vo.up)("confirm-modal");return(0,vo.wg)(),(0,vo.iD)("div",Xs,[(0,vo._)("nav",{id:"nav",class:"mobile-nav",onClick:t[2]||(t[2]=function(t){return e.scrollToTop()})},[(0,vo._)("div",ea,[(0,vo._)("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_sidebar"),"aria-expanaded":e.$refs.sideDrawer&&!e.$refs.sideDrawer.closed,onClick:t[0]||(t[0]=(0,lo.iM)((function(t){return e.toggleMobileSidebar()}),["stop","prevent"]))},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"bars"}),e.unreadChatCount&&!e.chatsPinned||e.unreadAnnouncementCount?((0,vo.wg)(),(0,vo.iD)("div",na)):(0,vo.kq)("",!0)],8,ta),(0,vo.Wm)(a,{class:"pins"})]),(0,vo.Uk)(),(0,vo._)("div",oa,[e.currentUser?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.unseenNotificationsCount?e.$t("nav.mobile_notifications_unread_active"):e.$t("nav.mobile_notifications"),onClick:t[1]||(t[1]=(0,lo.iM)((function(t){return e.openMobileNotifications()}),["stop","prevent"]))},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"bell"}),e.unseenNotificationsCount?((0,vo.wg)(),(0,vo.iD)("div",ia)):(0,vo.kq)("",!0)],8,ra)):(0,vo.kq)("",!0)])]),e.currentUser?((0,vo.wg)(),(0,vo.iD)("aside",{key:0,class:(0,bo.C_)(["mobile-notifications-drawer mobile-drawer",{"-closed":!e.notificationsOpen}]),onTouchstart:t[7]||(t[7]=(0,lo.iM)((function(){return e.notificationsTouchStart&&e.notificationsTouchStart.apply(e,arguments)}),["stop"])),onTouchmove:t[8]||(t[8]=(0,lo.iM)((function(){return e.notificationsTouchMove&&e.notificationsTouchMove.apply(e,arguments)}),["stop"]))},[(0,vo._)("div",sa,[(0,vo._)("span",aa,[(0,vo.Uk)((0,bo.zw)(e.$t("notifications.notifications"))+" ",1),e.unseenCountBadgeText?((0,vo.wg)(),(0,vo.iD)("span",ua,(0,bo.zw)(e.unseenCountBadgeText),1)):(0,vo.kq)("",!0)]),ca,e.notificationsAtTop?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.$t("general.scroll_to_top"),onClick:t[3]||(t[3]=(0,lo.iM)((function(){return e.scrollMobileNotificationsToTop&&e.scrollMobileNotificationsToTop.apply(e,arguments)}),["stop","prevent"]))},[(0,vo.Wm)(u,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{icon:"arrow-up"}),(0,vo.Wm)(s,{icon:"minus",transform:"up-7"})]})),_:1})],8,la)):(0,vo.kq)("",!0),e.closingDrawerMarksAsSeen?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_notifications_mark_as_seen"),onClick:t[4]||(t[4]=(0,lo.iM)((function(t){return e.markNotificationsAsSeen()}),["stop","prevent"]))},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"check-double"})],8,da)),(0,vo._)("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_notifications_close"),onClick:t[5]||(t[5]=(0,lo.iM)((function(t){return e.closeMobileNotifications(!0)}),["stop","prevent"]))},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,pa)]),(0,vo._)("div",{id:"mobile-notifications",ref:"mobileNotifications",class:"mobile-notifications",onScroll:t[6]||(t[6]=function(){return e.onScroll&&e.onScroll.apply(e,arguments)})},null,544)],34)):(0,vo.kq)("",!0),(0,vo.Wm)(c,{ref:"sideDrawer",logout:e.logout},null,8,["logout"]),((0,vo.wg)(),(0,vo.j4)(vo.lR,{to:"#modal"},[e.showingConfirmLogout?((0,vo.wg)(),(0,vo.j4)(l,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("login.logout_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,vo.kq)("",!0)]))])}]]);var wa={class:"inner-nav"},ya={class:"item sitename"},Da=["src"],_a={class:"item right actions"},ka=["title"],Ca=["title"],Sa=(0,vo._)("span",{class:"spacer"},null,-1),ja=["title"],Fa=["title","aria-expanded"],Aa=["placeholder"],Oa=["title"],Ea=["title","aria-expanded"],za=(0,vo._)("span",{class:"spacer"},null,-1),xa=(0,vo._)("span",{class:"spacer"},null,-1);Lt.vI.add(Rt.NBC,Rt.wn1);const Pa={data:function(){return{searchTerm:void 0,hidden:!0,error:!1}},watch:{$route:function(e){"search"===e.name&&(this.searchTerm=e.query.query)}},methods:{find:function(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},toggleHidden:function(){var e=this;this.hidden=!this.hidden,this.$emit("toggled",this.hidden),this.$nextTick((function(){e.hidden||e.$refs.searchInput.focus()}))}}},Ia=(0,Zo.Z)(Pa,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",{class:(0,bo.C_)(["SearchBar",{"-expanded":!e.hidden}])},[e.hidden?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"button-unstyled nav-icon",title:e.$t("nav.search"),type:"button","aria-expanded":!e.hidden,onClick:t[0]||(t[0]=(0,lo.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[(0,vo.Wm)(s,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"})],8,Fa)):((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:1},[(0,vo.wy)((0,vo._)("input",{id:"search-bar-input",ref:"searchInput","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),class:"input search-bar-input",placeholder:e.$t("nav.search"),type:"text",onKeyup:t[2]||(t[2]=(0,lo.D2)((function(t){return e.find(e.searchTerm)}),["enter"]))},null,40,Aa),[[lo.nr,e.searchTerm]]),(0,vo._)("button",{class:"button-default search-button",type:"submit",title:e.$t("nav.search"),onClick:t[3]||(t[3]=function(t){return e.find(e.searchTerm)})},[(0,vo.Wm)(s,{"fixed-width":"",icon:"search"})],8,Oa),(0,vo._)("button",{class:"button-unstyled cancel-search",type:"button",title:e.$t("nav.search_close"),"aria-expanded":!e.hidden,onClick:t[4]||(t[4]=(0,lo.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[(0,vo.Wm)(s,{"fixed-width":"",icon:"times",class:"cancel-icon fa-scale-110 fa-old-padding"})],8,Ea),za,xa],64))],2)}]]);Lt.vI.add(Rt.$Wj,Rt.jLD,Rt.J9Y,Rt.lXL,Rt.qmU,Rt.FKd,Rt.Acd,Rt.wn1,Rt.HLz,Rt.b7W,Rt.sqG);const Ta={components:{SearchBar:Ia,ConfirmModal:ha.Z},data:function(){return{searchBarHidden:!0,supportsMask:window.CSS&&window.CSS.supports&&(window.CSS.supports("mask-size","contain")||window.CSS.supports("-webkit-mask-size","contain")||window.CSS.supports("-moz-mask-size","contain")||window.CSS.supports("-ms-mask-size","contain")||window.CSS.supports("-o-mask-size","contain")),showingConfirmLogout:!1}},computed:{enableMask:function(){return this.supportsMask&&this.$store.state.instance.logoMask},logoStyle:function(){return{visibility:this.enableMask?"hidden":"visible"}},logoMaskStyle:function(){return this.enableMask?{"mask-image":"url(".concat(this.$store.state.instance.logo,")")}:{"background-color":this.enableMask?"":"transparent"}},logoBgStyle:function(){return Object.assign({margin:"".concat(this.$store.state.instance.logoMargin," 0"),opacity:this.searchBarHidden?1:0},this.enableMask?{}:{"background-color":this.enableMask?"":"transparent"})},logo:function(){return this.$store.state.instance.logo},sitename:function(){return this.$store.state.instance.name},hideSitename:function(){return this.$store.state.instance.hideSitename},logoLeft:function(){return this.$store.state.instance.logoLeft},currentUser:function(){return this.$store.state.users.currentUser},privateMode:function(){return this.$store.state.instance.private},shouldConfirmLogout:function(){return this.$store.getters.mergedConfig.modalOnLogout}},methods:{scrollToTop:function(){window.scrollTo(0,0)},showConfirmLogout:function(){this.showingConfirmLogout=!0},hideConfirmLogout:function(){this.showingConfirmLogout=!1},logout:function(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},onSearchBarToggled:function(e){this.searchBarHidden=e},openSettingsModal:function(){this.$store.dispatch("openSettingsModal","user")},openAdminModal:function(){this.$store.dispatch("openSettingsModal","admin")}}},Ba=(0,Zo.Z)(Ta,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link"),a=(0,vo.up)("search-bar"),u=(0,vo.up)("FAIcon"),c=(0,vo.up)("confirm-modal");return(0,vo.wg)(),(0,vo.iD)("nav",{id:"nav",class:(0,bo.C_)(["DesktopNav",{"-logoLeft":e.logoLeft}]),onClick:t[4]||(t[4]=function(t){return e.scrollToTop()})},[(0,vo._)("div",wa,[(0,vo._)("div",ya,[e.hideSitename?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(s,{key:0,class:"site-name",to:{name:"root"},"active-class":"home"},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.sitename),1)]})),_:1}))]),(0,vo.Wm)(s,{class:"logo",to:{name:"root"},style:(0,bo.j5)(e.logoBgStyle),title:e.sitename},{default:(0,vo.w5)((function(){return[(0,vo._)("div",{class:"mask",style:(0,bo.j5)(e.logoMaskStyle)},null,4),(0,vo._)("img",{src:e.logo,style:(0,bo.j5)(e.logoStyle)},null,12,Da)]})),_:1},8,["style","title"]),(0,vo._)("div",_a,[e.currentUser||!e.privateMode?((0,vo.wg)(),(0,vo.j4)(a,{key:0,onToggled:e.onSearchBarToggled,onClick:t[0]||(t[0]=(0,lo.iM)((function(){}),["stop"]))},null,8,["onToggled"])):(0,vo.kq)("",!0),(0,vo._)("button",{class:"button-unstyled nav-icon",title:e.$t("nav.preferences"),onClick:t[1]||(t[1]=(0,lo.iM)((function(){return e.openSettingsModal&&e.openSettingsModal.apply(e,arguments)}),["stop"]))},[(0,vo.Wm)(u,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"})],8,ka),e.currentUser&&"admin"===e.currentUser.role?((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"button-unstyled nav-icon",target:"_blank",title:e.$t("nav.administration"),onClick:t[2]||(t[2]=(0,lo.iM)((function(){return e.openAdminModal&&e.openAdminModal.apply(e,arguments)}),["stop"]))},[(0,vo.Wm)(u,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"})],8,Ca)):(0,vo.kq)("",!0),Sa,e.currentUser?((0,vo.wg)(),(0,vo.iD)("button",{key:2,class:"button-unstyled nav-icon",title:e.$t("login.logout"),onClick:t[3]||(t[3]=(0,lo.iM)((function(){return e.logout&&e.logout.apply(e,arguments)}),["stop","prevent"]))},[(0,vo.Wm)(u,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"})],8,ja)):(0,vo.kq)("",!0)])]),((0,vo.wg)(),(0,vo.j4)(vo.lR,{to:"#modal"},[e.showingConfirmLogout?((0,vo.wg)(),(0,vo.j4)(c,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("login.logout_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,vo.kq)("",!0)]))],2)}]]);var $a={class:"user-reporting-panel panel"},Ua={class:"panel-heading"},Ma={class:"panel-body"},La={class:"user-reporting-panel-left"},Ra=["placeholder"],qa={key:0},Na=["disabled"],Za={key:0,class:"alert error"},Wa={class:"user-reporting-panel-right"},Ha={class:"status-fadein user-reporting-panel-sitem"},Va=n(17521),Ga=n(41550),Ka=n(12061);function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Qa={components:{Status:Va.default,List:Ga.Z,Checkbox:ci.Z,Modal:Mt.Z,UserLink:Ka.Z},data:function(){return{comment:"",forward:!1,statusIdsToReport:[],processing:!1,error:!1}},computed:{reportModal:function(){return this.$store.state.reports.reportModal},isLoggedIn:function(){return!!this.$store.state.users.currentUser},isOpen:function(){return this.isLoggedIn&&this.reportModal.activated},userId:function(){return this.reportModal.userId},user:function(){return this.$store.getters.findUser(this.userId)},remoteInstance:function(){return!this.user.is_local&&this.user.screen_name.substr(this.user.screen_name.indexOf("@")+1)},statuses:function(){return this.reportModal.statuses},preTickedIds:function(){return this.reportModal.preTickedIds}},watch:{userId:"resetState",preTickedIds:function(e){this.statusIdsToReport=e}},methods:{resetState:function(){this.comment="",this.forward=!1,this.statusIdsToReport=this.preTickedIds,this.processing=!1,this.error=!1},closeModal:function(){this.$store.dispatch("closeUserReportingModal")},reportUser:function(){var e=this;this.processing=!0,this.error=!1;var t={userId:this.userId,comment:this.comment,forward:this.forward,statusIds:this.statusIdsToReport};this.$store.state.api.backendInteractor.reportUser(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)).then((function(){e.processing=!1,e.resetState(),e.closeModal()})).catch((function(){e.processing=!1,e.error=!0}))},clearError:function(){this.error=!1},isChecked:function(e){return-1!==this.statusIdsToReport.indexOf(e)},toggleStatus:function(e,t){e!==this.isChecked(t)&&(e?this.statusIdsToReport.push(t):this.statusIdsToReport.splice(this.statusIdsToReport.indexOf(t),1))},resize:function(e){var t=e.target||e;t instanceof window.Element&&(t.style.height="auto",t.style.height="".concat(t.scrollHeight,"px"),""===t.value&&(t.style.height=null))}}},Ja=(0,Zo.Z)(Qa,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserLink"),a=(0,vo.up)("i18n-t"),u=(0,vo.up)("Checkbox"),c=(0,vo.up)("Status"),l=(0,vo.up)("List"),d=(0,vo.up)("Modal");return e.isOpen?((0,vo.wg)(),(0,vo.j4)(d,{key:0,onBackdropClicked:e.closeModal},{default:(0,vo.w5)((function(){return[(0,vo._)("div",$a,[(0,vo._)("div",Ua,[(0,vo.Wm)(a,{tag:"div",keypath:"user_reporting.title",class:"title"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{user:e.user},null,8,["user"])]})),_:1})]),(0,vo._)("div",Ma,[(0,vo._)("div",La,[(0,vo._)("div",null,[(0,vo._)("p",null,(0,bo.zw)(e.$t("user_reporting.add_comment_description")),1),(0,vo.wy)((0,vo._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.comment=t}),class:"input form-control",placeholder:e.$t("user_reporting.additional_comments"),rows:"1",onInput:t[1]||(t[1]=function(){return e.resize&&e.resize.apply(e,arguments)})},null,40,Ra),[[lo.nr,e.comment]])]),e.user.is_local?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",qa,[(0,vo._)("p",null,(0,bo.zw)(e.$t("user_reporting.forward_description")),1),(0,vo.Wm)(u,{modelValue:e.forward,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.forward=t})},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("user_reporting.forward_to",[e.remoteInstance])),1)]})),_:1},8,["modelValue"])])),(0,vo._)("div",null,[(0,vo._)("button",{class:"btn button-default",disabled:e.processing,onClick:t[3]||(t[3]=function(){return e.reportUser&&e.reportUser.apply(e,arguments)})},(0,bo.zw)(e.$t("user_reporting.submit")),9,Na),e.error?((0,vo.wg)(),(0,vo.iD)("div",Za,(0,bo.zw)(e.$t("user_reporting.generic_error")),1)):(0,vo.kq)("",!0)])]),(0,vo._)("div",Wa,[(0,vo.Wm)(l,{items:e.statuses},{item:(0,vo.w5)((function(t){var n=t.item;return[(0,vo._)("div",Ha,[(0,vo.Wm)(c,{"in-conversation":!1,focused:!1,statusoid:n},null,8,["statusoid"]),(0,vo.Wm)(u,{"model-value":e.isChecked(n.id),"onUpdate:modelValue":function(t){return e.toggleStatus(t,n.id)}},null,8,["model-value","onUpdate:modelValue"])])]})),_:1},8,["items"])])])])]})),_:1},8,["onBackdropClicked"])):(0,vo.kq)("",!0)}]]);var Xa={class:"edit-form-modal-panel panel"},eu={class:"panel-heading"},tu=n(7257);const nu={components:{PostStatusForm:jr.Z,Modal:Mt.Z},data:function(){return{resettingForm:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},modalActivated:function(){return this.$store.state.editStatus.modalActivated},isFormVisible:function(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params:function(){return this.$store.state.editStatus.params||{}}},watch:{params:function(e,t){var n=this;ft()(e,"statusId")!==ft()(t,"statusId")&&(this.resettingForm=!0,this.$nextTick((function(){n.resettingForm=!1})))},isFormVisible:function(e){var t=this;e&&this.$nextTick((function(){return t.$el&&t.$el.querySelector("textarea").focus()}))}},methods:{doEditStatus:function(e){var t=e.status,n=e.spoilerText,o=e.sensitive,r=e.media,i=e.contentType,s=e.poll,a={store:this.$store,statusId:this.$store.state.editStatus.params.statusId,status:t,spoilerText:n,sensitive:o,poll:s,media:r,contentType:i};return tu.Z.editStatus(a).then((function(e){return e})).catch((function(e){return console.error("Error editing status",e),{error:e.message}}))},closeModal:function(){this.$store.dispatch("closeEditStatusModal")}}},ou=(0,Zo.Z)(nu,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("PostStatusForm"),a=(0,vo.up)("Modal");return e.isFormVisible?((0,vo.wg)(),(0,vo.j4)(a,{key:0,class:"edit-form-modal-view",onBackdropClicked:e.closeModal},{default:(0,vo.w5)((function(){return[(0,vo._)("div",Xa,[(0,vo._)("div",eu,(0,bo.zw)(e.$t("post_status.edit_status")),1),(0,vo.Wm)(s,(0,vo.dG)({class:"panel-body"},e.params,{"post-handler":e.doEditStatus,"disable-polls":!0,"disable-visibility-selector":!0,onPosted:e.closeModal}),null,16,["post-handler","onPosted"])])]})),_:1},8,["onBackdropClicked"])):(0,vo.kq)("",!0)}]]);var ru={class:"post-form-modal-panel panel"},iu={class:"panel-heading"};const su={components:{PostStatusForm:jr.Z,Modal:Mt.Z},data:function(){return{resettingForm:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},modalActivated:function(){return this.$store.state.postStatus.modalActivated},isFormVisible:function(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params:function(){return this.$store.state.postStatus.params||{}}},watch:{params:function(e,t){var n=this;ft()(e,"repliedUser.id")!==ft()(t,"repliedUser.id")&&(this.resettingForm=!0,this.$nextTick((function(){n.resettingForm=!1})))},isFormVisible:function(e){var t=this;e&&this.$nextTick((function(){return t.$el&&t.$el.querySelector("textarea").focus()}))}},methods:{closeModal:function(){this.$store.dispatch("closePostStatusModal")},resetAndClose:function(){this.$store.dispatch("resetPostStatusModal"),this.$store.dispatch("closePostStatusModal")}}},au=(0,Zo.Z)(su,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("PostStatusForm"),a=(0,vo.up)("Modal");return e.isLoggedIn&&!e.resettingForm?((0,vo.wg)(),(0,vo.j4)(a,{key:0,"is-open":e.modalActivated,class:"post-form-modal-view",onBackdropClicked:e.closeModal},{default:(0,vo.w5)((function(){return[(0,vo._)("div",ru,[(0,vo._)("div",iu,(0,bo.zw)(e.$t("post_status.new_status")),1),(0,vo.Wm)(s,(0,vo.dG)({class:"panel-body"},e.params,{onPosted:e.resetAndClose}),null,16,["onPosted"])])]})),_:1},8,["is-open","onBackdropClicked"])):(0,vo.kq)("",!0)}]]);var uu={class:"status-history-modal-panel panel"},cu={class:"panel-heading"},lu={class:"panel-body"},du={key:0,class:"history-body"};const pu={components:{Modal:Mt.Z,Status:Va.default},data:function(){return{statuses:[]}},computed:{modalActivated:function(){return this.$store.state.statusHistory.modalActivated},params:function(){return this.$store.state.statusHistory.params},statusId:function(){return this.params.id},historyCount:function(){return this.statuses.length},history:function(){return this.statuses}},watch:{params:function(e,t){var n=ft()(e,"id")!==ft()(t,"id");n&&this.resetHistory(),(n||ft()(e,"edited_at")!==ft()(t,"edited_at"))&&this.fetchStatusHistory()}},methods:{resetHistory:function(){this.statuses=[]},fetchStatusHistory:function(){var e=this;this.$store.dispatch("fetchStatusHistory",this.params).then((function(t){e.statuses=t}))},closeModal:function(){this.$store.dispatch("closeStatusHistoryModal")}}},mu=(0,Zo.Z)(pu,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("status"),a=(0,vo.up)("Modal");return e.modalActivated?((0,vo.wg)(),(0,vo.j4)(a,{key:0,class:"status-history-modal-view",onBackdropClicked:e.closeModal},{default:(0,vo.w5)((function(){return[(0,vo._)("div",uu,[(0,vo._)("div",cu,(0,bo.zw)(e.$t("status.status_history"))+" ("+(0,bo.zw)(e.historyCount)+") ",1),(0,vo._)("div",lu,[e.historyCount>0?((0,vo.wg)(),(0,vo.iD)("div",du,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.history,(function(e){return(0,vo.wg)(),(0,vo.j4)(s,{key:e.id,statusoid:e,"is-preview":!0,class:"conversation-status status-fadein panel-body"},null,8,["statusoid"])})),128))])):(0,vo.kq)("",!0)])])]})),_:1},8,["onBackdropClicked"])):(0,vo.kq)("",!0)}]]);var hu={class:"global-notice-list"},fu={class:"notice-message"},gu=["onClick"];Lt.vI.add(Rt.NBC);const vu={computed:{notices:function(){return this.$store.state.interface.globalNotices}},methods:{closeNotice:function(e){this.$store.dispatch("removeGlobalNotice",e)}}},bu=(0,Zo.Z)(vu,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",hu,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.notices,(function(t,n){return(0,vo.wg)(),(0,vo.iD)("div",{key:n,class:(0,bo.C_)(["alert global-notice",(0,d.Z)({},t.level,!0)])},[(0,vo._)("div",fu,(0,bo.zw)(e.$t(t.messageKey,t.messageArgs)),1),(0,vo._)("button",{class:"button-unstyled close-notice",onClick:function(n){return e.closeNotice(t)}},[(0,vo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,gu)],2)})),128))])}]]);function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const yu={name:"app",components:{UserPanel:Er,NavPanel:mi,Notifications:(0,vo.RC)((function(){return Promise.resolve().then(n.bind(n,40297))})),InstanceSpecificPanel:wi,FeaturesPanel:xi,WhoToFollowPanel:Hi,ShoutPanel:as,MediaModal:Ts,SideDrawer:Hs,MobilePostStatusButton:Js,MobileNav:ba,DesktopNav:Ba,SettingsModal:(0,vo.RC)((function(){return n.e(7594).then(n.bind(n,7594))})),UpdateNotification:(0,vo.RC)((function(){return n.e(6464).then(n.bind(n,16464))})),UserReportingModal:Ja,PostStatusModal:au,EditStatusModal:ou,StatusHistoryModal:mu,GlobalNoticeList:bu},data:function(){return{mobileActivePanel:"timeline"}},created:function(){var e=this.$store.getters.mergedConfig.interfaceLanguage;this.$store.dispatch("setOption",{name:"interfaceLanguage",value:e}),window.addEventListener("resize",this.updateMobileState)},unmounted:function(){window.removeEventListener("resize",this.updateMobileState)},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({classes:function(){return[{"-reverse":this.reverseLayout,"-no-sticky-headers":this.noSticky,"-has-new-post-button":this.newPostButtonShown},"-"+this.layoutType]},navClasses:function(){var e=this.$store.getters.mergedConfig.navbarColumnStretch;return["-"+this.layoutType].concat((0,l.Z)(e?["-column-stretch"]:[]))},currentUser:function(){return this.$store.state.users.currentUser},userBackground:function(){return this.currentUser.background_image},instanceBackground:function(){return this.mergedConfig.hideInstanceWallpaper?null:this.$store.state.instance.background},background:function(){return this.userBackground||this.instanceBackground},bgStyle:function(){if(this.background)return{"--body-background-image":"url(".concat(this.background,")")}},shout:function(){return this.$store.state.shout.joined},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent},isChats:function(){return"chat"===this.$route.name||"chats"===this.$route.name},isListEdit:function(){return"lists-edit"===this.$route.name},newPostButtonShown:function(){return!this.isChats&&!this.isListEdit&&(this.$store.getters.mergedConfig.alwaysShowNewPostButton||"mobile"===this.layoutType)},showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},editingAvailable:function(){return this.$store.state.instance.editingAvailable},shoutboxPosition:function(){return this.$store.getters.mergedConfig.alwaysShowNewPostButton||!1},hideShoutbox:function(){return this.$store.getters.mergedConfig.hideShoutbox},layoutType:function(){return this.$store.state.interface.layoutType},privateMode:function(){return this.$store.state.instance.private},reverseLayout:function(){var e=this.$store.getters.mergedConfig,t=e.thirdColumnMode,n=e.sidebarRight;return"wide"!==this.layoutType||"notifications"===t?n:!n},noSticky:function(){return this.$store.getters.mergedConfig.disableStickyHeaders},showScrollbars:function(){return this.$store.getters.mergedConfig.showScrollbars}},(0,s.Se)(["mergedConfig"])),methods:{updateMobileState:function(){this.$store.dispatch("setLayoutWidth",Ie()),this.$store.dispatch("setLayoutHeight",Te())}}},Du=(0,Zo.Z)(yu,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("MobileNav"),a=(0,vo.up)("DesktopNav"),u=(0,vo.up)("Notifications"),c=(0,vo.up)("user-panel"),l=(0,vo.up)("nav-panel"),d=(0,vo.up)("instance-specific-panel"),p=(0,vo.up)("features-panel"),m=(0,vo.up)("who-to-follow-panel"),h=(0,vo.up)("router-link"),f=(0,vo.up)("router-view"),g=(0,vo.up)("MediaModal"),v=(0,vo.up)("shout-panel"),b=(0,vo.up)("MobilePostStatusButton"),w=(0,vo.up)("UserReportingModal"),y=(0,vo.up)("PostStatusModal"),D=(0,vo.up)("EditStatusModal"),_=(0,vo.up)("StatusHistoryModal"),k=(0,vo.up)("SettingsModal"),C=(0,vo.up)("UpdateNotification"),S=(0,vo.up)("GlobalNoticeList");return(0,vo.wy)(((0,vo.wg)(),(0,vo.iD)("div",{id:"app-loaded",style:(0,bo.j5)(e.bgStyle)},[wo,"mobile"===e.layoutType?((0,vo.wg)(),(0,vo.j4)(s,{key:0})):((0,vo.wg)(),(0,vo.j4)(a,{key:1,class:(0,bo.C_)(e.navClasses)},null,8,["class"])),e.currentUser?((0,vo.wg)(),(0,vo.j4)(u,{key:2})):(0,vo.kq)("",!0),(0,vo._)("div",{id:"content",class:(0,bo.C_)(["app-layout container",e.classes])},[yo,(0,vo._)("div",{id:"sidebar",class:(0,bo.C_)(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},[(0,vo.Wm)(c),"mobile"!==e.layoutType?((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:0},[(0,vo.Wm)(l),e.showInstanceSpecificPanel?((0,vo.wg)(),(0,vo.j4)(d,{key:0})):(0,vo.kq)("",!0),!e.currentUser&&e.showFeaturesPanel?((0,vo.wg)(),(0,vo.j4)(p,{key:1})):(0,vo.kq)("",!0),e.currentUser&&e.suggestionsEnabled?((0,vo.wg)(),(0,vo.j4)(m,{key:2})):(0,vo.kq)("",!0),Do],64)):(0,vo.kq)("",!0)],2),(0,vo._)("main",{id:"main-scroller",class:(0,bo.C_)(["column main",{"-full-height":e.isChats||e.isListEdit}])},[e.currentUser?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",_o,[(0,vo.Wm)(h,{to:{name:"login"},class:"panel-body"},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("login.hint")),1)]})),_:1})])),(0,vo.Wm)(f)],2),(0,vo._)("div",{id:"notifs-column",class:(0,bo.C_)(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},null,2)],2),(0,vo.Wm)(g),e.currentUser&&e.shout&&!e.hideShoutbox?((0,vo.wg)(),(0,vo.j4)(v,{key:3,floating:!0,class:(0,bo.C_)(["floating-shout mobile-hidden",{"-left":e.shoutboxPosition}])},null,8,["class"])):(0,vo.kq)("",!0),(0,vo.Wm)(b),(0,vo.Wm)(w),(0,vo.Wm)(y),e.editingAvailable?((0,vo.wg)(),(0,vo.j4)(D,{key:4})):(0,vo.kq)("",!0),e.editingAvailable?((0,vo.wg)(),(0,vo.j4)(_,{key:5})):(0,vo.kq)("",!0),(0,vo.Wm)(k),(0,vo.Wm)(C),(0,vo.Wm)(S)],4)),[[lo.F8,e.$store.state.interface.themeApplied]])}]]);var _u={key:1,class:"rightside-button"},ku=["title"],Cu={key:0,class:"rightside-button"},Su=["title"],ju={class:"badge -counter"},Fu=["title"],Au={ref:"timeline",class:"timeline",role:"feed"},Ou={key:0,class:"new-status-notification text-center faint"},Eu={key:1,class:"new-status-notification text-center faint"},zu={class:"new-status-notification text-center"},xu={key:3,class:"new-status-notification text-center"},Pu=n(24350),Iu=n.n(Pu),Tu=n(23493),Bu=n.n(Tu),$u={key:0,class:"panel-heading conversation-heading -sticky"},Uu={class:"title"},Mu={key:0},Lu={key:1},Ru={key:0,class:"thread-body"},qu={key:0,class:"conversation-dive-to-top-level-box"},Nu={key:1,class:"thread-ancestors"},Zu={key:0,class:"thread-ancestor-dive-box"},Wu={class:"thread-ancestor-dive-box-inner"},Hu={key:1,class:"thread-body"},Vu=n(66678),Gu=n.n(Vu),Ku={class:"thread-tree"},Yu={key:0,class:"thread-tree-replies"},Qu={key:1,class:"thread-tree-replies thread-tree-replies-hidden"};Lt.vI.add(Rt.Sbq,Rt.cLY);const Ju={components:{Status:Va.default},name:"ThreadTree",props:{depth:Number,status:Object,inProfile:Boolean,conversation:Array,collapsable:Boolean,isExpanded:Boolean,pinnedStatusIdsObject:Object,profileUserId:String,focused:Function,highlight:String,getReplies:Function,setHighlight:Function,toggleExpanded:Function,simple:Boolean,toggleThreadDisplay:Function,threadDisplayStatus:Object,showThreadRecursively:Function,totalReplyCount:Object,totalReplyDepth:Object,statusContentProperties:Object,setStatusContentProperty:Function,toggleStatusContentProperty:Function,dive:Function},computed:{suspendable:function(){var e=!this.$refs.statusComponent||this.$refs.statusComponent.suspendable;return this.$refs.childComponent?e&&this.$refs.childComponent.every((function(e){return e.suspendable})):e},reverseLookupTable:function(){return this.conversation.reduce((function(e,t,n){return e[t.id]=n,e}),{})},currentReplies:function(){var e=this;return this.getReplies(this.status.id).map((function(t){var n=t.id;return e.statusById(n)}))},threadShowing:function(){return"showing"===this.threadDisplayStatus[this.status.id]},currentProp:function(){return this.statusContentProperties[this.status.id]}},methods:{statusById:function(e){return this.conversation[this.reverseLookupTable[e]]},collapseThread:function(){},showThread:function(){},showAllSubthreads:function(){},toggleCurrentProp:function(e){this.toggleStatusContentProperty(this.status.id,e)},setCurrentProp:function(e,t){this.setStatusContentProperty(this.status.id,e)}}},Xu=(0,Zo.Z)(Ju,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("status"),a=(0,vo.up)("thread-tree"),u=(0,vo.up)("FAIcon"),c=(0,vo.up)("i18n-t");return(0,vo.wg)(),(0,vo.iD)("article",Ku,[((0,vo.wg)(),(0,vo.j4)(s,{key:e.status.id,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:e.status,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[e.status.id],focused:e.focused(e.status.id),"in-conversation":e.isExpanded,highlight:e.highlight,replies:e.getReplies(e.status.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status conversation-status-treeview status-fadein panel-body","simple-tree":e.simple,"controlled-thread-display-status":e.threadDisplayStatus[e.status.id],"controlled-toggle-thread-display":function(){return e.toggleThreadDisplay(e.status.id)},"controlled-showing-tall":e.currentProp.showingTall,"controlled-expanding-subject":e.currentProp.expandingSubject,"controlled-showing-long-subject":e.currentProp.showingLongSubject,"controlled-replying":e.currentProp.replying,"controlled-media-playing":e.currentProp.mediaPlaying,"controlled-toggle-showing-tall":function(){return e.toggleCurrentProp("showingTall")},"controlled-toggle-expanding-subject":function(){return e.toggleCurrentProp("expandingSubject")},"controlled-toggle-showing-long-subject":function(){return e.toggleCurrentProp("showingLongSubject")},"controlled-toggle-replying":function(){return e.toggleCurrentProp("replying")},"controlled-set-media-playing":function(t){return e.setCurrentProp("mediaPlaying",t)},dive:e.dive?function(){return e.dive(e.status.id)}:void 0,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","controlled-thread-display-status","controlled-toggle-thread-display","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","dive","onGoto","onToggleExpanded"])),e.currentReplies.length&&e.threadShowing?((0,vo.wg)(),(0,vo.iD)("div",Yu,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.currentReplies,(function(t){return(0,vo.wg)(),(0,vo.j4)(a,{key:t.id,ref_for:!0,ref:"childComponent",depth:e.depth+1,status:t,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,focused:e.focused,"get-replies":e.getReplies,highlight:e.highlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.simple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.dive},null,8,["depth","status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","focused","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"])})),128))])):(0,vo.kq)("",!0),e.currentReplies.length&&!e.threadShowing?((0,vo.wg)(),(0,vo.iD)("div",Qu,[e.simple?((0,vo.wg)(),(0,vo.j4)(c,{key:0,scope:"global",tag:"button",keypath:"status.thread_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[0]||(t[0]=(0,lo.iM)((function(t){return e.dive(e.status.id)}),["prevent"]))},{icon:(0,vo.w5)((function(){return[(0,vo.Wm)(u,{icon:"angle-double-right"})]})),text:(0,vo.w5)((function(){return[(0,vo._)("span",null,(0,bo.zw)(e.$tc("status.thread_follow",e.totalReplyCount[e.status.id],{numStatus:e.totalReplyCount[e.status.id]})),1)]})),_:1})):((0,vo.wg)(),(0,vo.j4)(c,{key:1,scope:"global",tag:"button",keypath:"status.thread_show_full_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[1]||(t[1]=(0,lo.iM)((function(t){return e.showThreadRecursively(e.status.id)}),["prevent"]))},{icon:(0,vo.w5)((function(){return[(0,vo.Wm)(u,{icon:"angle-double-down"})]})),text:(0,vo.w5)((function(){return[(0,vo._)("span",null,(0,bo.zw)(e.$tc("status.thread_show_full",e.totalReplyCount[e.status.id],{numStatus:e.totalReplyCount[e.status.id],depth:e.totalReplyDepth[e.status.id]})),1)]})),_:1}))])):(0,vo.kq)("",!0)])}]]);var ec={class:"dropdown-menu",role:"menu"},tc={key:0,role:"group"},nc=["aria-checked"],oc=["aria-checked"],rc=["aria-checked"],ic={key:3,role:"separator",class:"dropdown-divider"},sc=["aria-checked"],ac=["aria-checked"],uc=["aria-checked"],cc=["aria-checked"],lc=n(67943);function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.G_j,Rt.yGG,Rt.klh);const mc={props:{conversation:Boolean},components:{Popover:lc.default},methods:{setReplyVisibility:function(e){this.$store.dispatch("setOption",{name:"replyVisibility",value:e}),this.$store.dispatch("queueFlushAll")},openTab:function(e){this.$store.dispatch("openSettingsModalTab",e)}},computed:pc(pc({},(0,s.Se)(["mergedConfig"])),{},{loggedIn:function(){return!!this.$store.state.users.currentUser},replyVisibilitySelf:{get:function(){return"self"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("self")}},replyVisibilityFollowing:{get:function(){return"following"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("following")}},replyVisibilityAll:{get:function(){return"all"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("all")}},hideMedia:{get:function(){return this.mergedConfig.hideAttachments||this.mergedConfig.hideAttachmentsInConv},set:function(){var e=!this.hideMedia;this.$store.dispatch("setOption",{name:"hideAttachments",value:e}),this.$store.dispatch("setOption",{name:"hideAttachmentsInConv",value:e})}},hideMutedPosts:{get:function(){return this.mergedConfig.hideFilteredStatuses},set:function(){var e=!this.hideMutedPosts;this.$store.dispatch("setOption",{name:"hideFilteredStatuses",value:e})}},muteBotStatuses:{get:function(){return this.mergedConfig.muteBotStatuses},set:function(){var e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}},muteSensitiveStatuses:{get:function(){return this.mergedConfig.muteSensitiveStatuses},set:function(){var e=!this.muteSensitiveStatuses;this.$store.dispatch("setOption",{name:"muteSensitiveStatuses",value:e})}}})},hc=(0,Zo.Z)(mc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("Popover");return(0,vo.wg)(),(0,vo.j4)(a,{trigger:"click",class:"QuickFilterSettings","bound-to":{x:"container"},"trigger-attrs":{title:e.$t("timeline.quick_filter_settings")}},{content:(0,vo.w5)((function(){return[(0,vo._)("div",ec,[e.loggedIn?((0,vo.wg)(),(0,vo.iD)("div",tc,[e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"menu-item dropdown-item","aria-checked":e.replyVisibilityAll,role:"menuitemradio",onClick:t[0]||(t[0]=function(t){return e.replyVisibilityAll=!0})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityAll}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.reply_visibility_all")),1)],8,nc)),e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"menu-item dropdown-item","aria-checked":e.replyVisibilityFollowing,role:"menuitemradio",onClick:t[1]||(t[1]=function(t){return e.replyVisibilityFollowing=!0})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityFollowing}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.reply_visibility_following_short")),1)],8,oc)),e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:2,class:"menu-item dropdown-item","aria-checked":e.replyVisibilitySelf,role:"menuitemradio",onClick:t[2]||(t[2]=function(t){return e.replyVisibilitySelf=!0})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilitySelf}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.reply_visibility_self_short")),1)],8,rc)),e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",ic))])):(0,vo.kq)("",!0),(0,vo._)("button",{class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.muteBotStatuses,onClick:t[3]||(t[3]=function(t){return e.muteBotStatuses=!e.muteBotStatuses})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.muteBotStatuses}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.mute_bot_posts")),1)],8,sc),(0,vo._)("button",{class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.muteSensitiveStatuses,onClick:t[4]||(t[4]=function(t){return e.muteSensitiveStatuses=!e.muteSensitiveStatuses})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.muteSensitiveStatuses}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.mute_sensitive_posts")),1)],8,ac),(0,vo._)("button",{class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.hideMedia,onClick:t[5]||(t[5]=function(t){return e.hideMedia=!e.hideMedia})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hideMedia}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.hide_media_previews")),1)],8,uc),(0,vo._)("button",{class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.hideMutedPosts,onClick:t[6]||(t[6]=function(t){return e.hideMutedPosts=!e.hideMutedPosts})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hideMutedPosts}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.hide_all_muted_posts")),1)],8,cc),(0,vo._)("button",{class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[7]||(t[7]=function(t){return e.openTab("filtering")})},[(0,vo.Wm)(s,{icon:"font"}),(0,vo.Uk)((0,bo.zw)(e.$t("settings.word_filter_and_more")),1)])])]})),trigger:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{icon:"filter"})]})),_:1},8,["trigger-attrs"])}]]);var fc={class:"dropdown-menu",role:"menu"},gc={role:"group"},vc=["aria-checked"],bc=["aria-checked"],wc=(0,vo._)("div",{role:"separator",class:"dropdown-divider"},null,-1),yc=["aria-checked"],Dc=["aria-checked"],_c=["aria-checked"];function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.Zrf,Rt.lCn,Rt.xiG,Rt.klh);const Sc={props:{conversation:Boolean},components:{Popover:lc.default},methods:{setConversationDisplay:function(e){this.$store.dispatch("setOption",{name:"conversationDisplay",value:e})},openTab:function(e){this.$store.dispatch("openSettingsModalTab",e)}},computed:Cc(Cc({},(0,s.Se)(["mergedConfig"])),{},{loggedIn:function(){return!!this.$store.state.users.currentUser},conversationDisplay:{get:function(){return this.mergedConfig.conversationDisplay},set:function(e){this.setConversationDisplay(e)}},autoUpdate:{get:function(){return this.mergedConfig.streaming},set:function(){var e=!this.autoUpdate;this.$store.dispatch("setOption",{name:"streaming",value:e})}},collapseWithSubjects:{get:function(){return this.mergedConfig.collapseMessageWithSubject},set:function(){var e=!this.collapseWithSubjects;this.$store.dispatch("setOption",{name:"collapseMessageWithSubject",value:e})}},showUserAvatars:{get:function(){return this.mergedConfig.mentionLinkShowAvatar},set:function(){var e=!this.showUserAvatars;this.$store.dispatch("setOption",{name:"mentionLinkShowAvatar",value:e})}},muteBotStatuses:{get:function(){return this.mergedConfig.muteBotStatuses},set:function(){var e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}},muteSensitiveStatuses:{get:function(){return this.mergedConfig.muteSensitiveStatuses},set:function(){var e=!this.muteSensitiveStatuses;this.$store.dispatch("setOption",{name:"muteSensitiveStatuses",value:e})}}})},jc=(0,Zo.Z)(Sc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("Popover");return(0,vo.wg)(),(0,vo.j4)(a,{trigger:"click",class:"QuickViewSettings","bound-to":{x:"container"},"trigger-attrs":{title:e.$t("timeline.quick_view_settings")}},{content:(0,vo.w5)((function(){return[(0,vo._)("div",fc,[(0,vo._)("div",gc,[(0,vo._)("button",{class:"menu-item dropdown-item","aria-checked":"tree"===e.conversationDisplay,role:"menuitemradio",onClick:t[0]||(t[0]=function(t){return e.conversationDisplay="tree"})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox -radio",{"menu-checkbox-checked":"tree"===e.conversationDisplay}]),"aria-hidden":!0},null,2),(0,vo.Wm)(s,{icon:"folder-tree","aria-hidden":!0}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("settings.conversation_display_tree_quick")),1)],8,vc),(0,vo._)("button",{class:"menu-item dropdown-item","aria-checked":"linear"===e.conversationDisplay,role:"menuitemradio",onClick:t[1]||(t[1]=function(t){return e.conversationDisplay="linear"})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox -radio",{"menu-checkbox-checked":"linear"===e.conversationDisplay}]),"aria-hidden":!0},null,2),(0,vo.Wm)(s,{icon:"list","aria-hidden":!0}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("settings.conversation_display_linear_quick")),1)],8,bc)]),wc,(0,vo._)("button",{class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.showUserAvatars,onClick:t[2]||(t[2]=function(t){return e.showUserAvatars=!e.showUserAvatars})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.showUserAvatars}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.mention_link_show_avatar_quick")),1)],8,yc),e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.autoUpdate,onClick:t[3]||(t[3]=function(t){return e.autoUpdate=!e.autoUpdate})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.autoUpdate}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.auto_update")),1)],8,Dc)),e.conversation?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"menu-item dropdown-item",role:"menuitemcheckbox","aria-checked":e.collapseWithSubjects,onClick:t[4]||(t[4]=function(t){return e.collapseWithSubjects=!e.collapseWithSubjects})},[(0,vo._)("span",{class:(0,bo.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.collapseWithSubjects}]),"aria-hidden":!0},null,2),(0,vo.Uk)((0,bo.zw)(e.$t("settings.collapse_subject")),1)],8,_c)),(0,vo._)("button",{class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[5]||(t[5]=function(t){return e.openTab("general")})},[(0,vo.Wm)(s,{icon:"wrench"}),(0,vo.Uk)((0,bo.zw)(e.$t("settings.more_settings")),1)])])]})),trigger:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{icon:"bars"})]})),_:1},8,["trigger-attrs"])}]]);function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.Sbq,Rt.UXu,Rt.A35);var Oc=function(e,t){var n="retweet"===e.type?e.retweeted_status.id:e.id,o="retweet"===t.type?t.retweeted_status.id:t.id,r=Number(n),i=Number(o),s=!Number.isNaN(r),a=!Number.isNaN(i);return s&&a?r<i?-1:1:s&&!a?-1:!s&&a?1:n<o?-1:1};const Ec={data:function(){return{highlight:null,expanded:!1,threadDisplayStatusObject:{},statusContentPropertiesObject:{},inlineDivePosition:null,loadStatusError:null}},props:["statusId","collapsable","isPage","pinnedStatusIdsObject","inProfile","profileUserId","virtualHidden"],created:function(){this.isPage&&this.fetchConversation()},computed:Ac(Ac({maxDepthToShowByDefault:function(){var e=this.$store.getters.mergedConfig.maxDepthInThread-2;return e>=1?e:1},streamingEnabled:function(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===p._z.JOINED},displayStyle:function(){return this.$store.getters.mergedConfig.conversationDisplay},isTreeView:function(){return!this.isLinearView},treeViewIsSimple:function(){return!this.$store.getters.mergedConfig.conversationTreeAdvanced},isLinearView:function(){return"linear"===this.displayStyle},shouldFadeAncestors:function(){return this.$store.getters.mergedConfig.conversationTreeFadeAncestors},otherRepliesButtonPosition:function(){return this.$store.getters.mergedConfig.conversationOtherRepliesButton},showOtherRepliesButtonBelowStatus:function(){return"below"===this.otherRepliesButtonPosition},showOtherRepliesButtonInsideStatus:function(){return"inside"===this.otherRepliesButtonPosition},suspendable:function(){return this.isTreeView?Object.entries(this.statusContentProperties).every((function(e){var t=(0,c.Z)(e,2),n=(t[0],t[1]);return!n.replying&&0===n.mediaPlaying.length})):!this.$refs.statusComponent||!this.$refs.statusComponent[0]||this.$refs.statusComponent.every((function(e){return e.suspendable}))},hideStatus:function(){return this.virtualHidden&&this.suspendable},status:function(){return this.$store.state.statuses.allStatusesObject[this.statusId]},originalStatusId:function(){return this.status.retweeted_status?this.status.retweeted_status.id:this.statusId},conversationId:function(){return this.getConversationId(this.statusId)},conversation:function(){if(!this.status)return[];if(!this.isExpanded)return[this.status];var e=Gu()(this.$store.state.statuses.conversationsObject[this.conversationId]),t=M()(e,{id:this.originalStatusId});return-1!==t&&(e[t]=this.status),function(e,t){return(e="retweet"===t.type?jn()(e,(function(e){return"retweet"===e.type||e.id!==t.retweeted_status.id})):jn()(e,(function(e){return"retweet"!==e.type}))).filter((function(e){return e})).sort(Oc)}(e,this.status)},statusMap:function(){return this.conversation.reduce((function(e,t){return e[t.id]=t,e}),{})},threadTree:function(){var e=this,t=this.conversation.reduce((function(e,t,n){return e[t.id]=n,e}),{}),n=function n(o,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.map((function(r){return s[r]?[]:(s[r]=!0,[{status:e.conversation[t[r]],id:r,depth:i},n(o,o[r],i+1,s)].reduce((function(e,t){return e.concat(t)}),[]))})).reduce((function(e,t){return e.concat(t)}),[])}(this.conversation.reduce((function(t,n){var o=n.id;return t.forest[o]=e.getReplies(o).map((function(e){return e.id})),t}),{forest:{}}).forest,this.topLevel.map((function(e){return e.id})));return n},replyIds:function(){var e=this;return this.conversation.map((function(e){return e.id})).reduce((function(t,n){return t[n]=(e.replies[n]||[]).map((function(e){return e.id})),t}),{})},totalReplyCount:function(){var e=this,t={};return this.conversation.map((function(e){return e.id})).map((function n(o){return t[o]||(t[o]=1+e.replyIds[o].map((function(e){return n(e)})).reduce((function(e,t){return e+t}),0)),t[o]})),Object.keys(t).reduce((function(e,n){return e[n]=t[n]-1,e}),{})},totalReplyDepth:function(){var e=this,t={};return this.conversation.map((function(e){return e.id})).map((function n(o){return t[o]||(t[o]=1+e.replyIds[o].map((function(e){return n(e)})).reduce((function(e,t){return e>t?e:t}),0)),t[o]})),Object.keys(t).reduce((function(e,n){return e[n]=t[n]-1,e}),{})},depths:function(){return this.threadTree.reduce((function(e,t){return e[t.id]=t.depth,e}),{})},topLevel:function(){var e=this;return this.conversation.reduce((function(t,n){return t.filter((function(t){return-1===e.getReplies(n.id).map((function(e){return e.id})).indexOf(t.id)}))}),this.conversation)},otherTopLevelCount:function(){return this.topLevel.length-1},showingTopLevel:function(){return this.canDive&&this.diveRoot?[this.statusMap[this.diveRoot]]:this.topLevel},diveRoot:function(){var e=this.inlineDivePosition||this.statusId;return this.parentOf(e)?e:null},diveDepth:function(){return this.canDive&&this.diveRoot?this.depths[this.diveRoot]:0},diveMode:function(){return this.canDive&&!!this.diveRoot},shouldShowAllConversationButton:function(){return this.isTreeView&&this.isExpanded&&this.diveMode&&this.topLevel.length>1},shouldShowAncestors:function(){return this.isTreeView&&this.isExpanded&&this.ancestorsOf(this.diveRoot).length},replies:function(){var e=1;return $e()(this.conversation,(function(t,n){var o=n.id,r=n.in_reply_to_status_id;return r&&(t[r]=t[r]||[],t[r].push({name:"#".concat(e),id:o})),e++,t}),{})},isExpanded:function(){return!(!this.expanded&&!this.isPage)},hiddenStyle:function(){var e=this.status&&this.status.virtualHeight||"120px";return this.virtualHidden?{height:e}:{}},threadDisplayStatus:function(){var e=this;return this.conversation.reduce((function(t,n){var o=n.id,r=e.depths[o],i=e.threadDisplayStatusObject[o]?e.threadDisplayStatusObject[o]:r-e.diveDepth<=e.maxDepthToShowByDefault?"showing":"hidden";return t[o]=i,t}),{})},statusContentProperties:function(){var e=this;return this.conversation.reduce((function(t,n){var o,r=n.id,i=(o={showingTall:!1,expandingSubject:!1,showingLongSubject:!1,isReplying:!1,mediaPlaying:[]},e.statusContentPropertiesObject[r]?Ac(Ac({},o),e.statusContentPropertiesObject[r]):o);return t[r]=i,t}),{})},canDive:function(){return this.isTreeView&&this.isExpanded},focused:function(){var e=this;return function(t){return e.isExpanded&&t===e.highlight}},maybeHighlight:function(){return this.isExpanded?this.highlight:null}},(0,s.Se)(["mergedConfig"])),(0,s.rn)({mastoUserSocketStatus:function(e){return e.api.mastoUserSocketStatus}})),components:{Status:Va.default,ThreadTree:Xu,QuickFilterSettings:hc,QuickViewSettings:jc},watch:{statusId:function(e,t){var n=this.getConversationId(e),o=this.getConversationId(t);n&&o&&n===o?this.setHighlight(this.originalStatusId):this.fetchConversation()},expanded:function(e){e?this.fetchConversation():this.resetDisplayState()},virtualHidden:function(e){this.$store.dispatch("setVirtualHeight",{statusId:this.statusId,height:"".concat(this.$el.clientHeight,"px")})}},methods:{fetchConversation:function(){var e=this;this.status?this.$store.state.api.backendInteractor.fetchConversation({id:this.statusId}).then((function(t){var n=t.ancestors,o=t.descendants;e.$store.dispatch("addNewStatuses",{statuses:n}),e.$store.dispatch("addNewStatuses",{statuses:o}),e.setHighlight(e.originalStatusId)})):(this.loadStatusError=null,this.$store.state.api.backendInteractor.fetchStatus({id:this.statusId}).then((function(t){e.$store.dispatch("addNewStatuses",{statuses:[t]}),e.fetchConversation()})).catch((function(t){e.loadStatusError=t})))},getReplies:function(e){return this.replies[e]||[]},getHighlight:function(){return this.isExpanded?this.highlight:null},setHighlight:function(e){e&&(this.highlight=e,this.streamingEnabled||this.$store.dispatch("fetchStatus",e),this.$store.dispatch("fetchFavsAndRepeats",e),this.$store.dispatch("fetchEmojiReactionsBy",e))},toggleExpanded:function(){this.expanded=!this.expanded},getConversationId:function(e){var t=this.$store.state.statuses.allStatusesObject[e];return ft()(t,"retweeted_status.statusnet_conversation_id",ft()(t,"statusnet_conversation_id"))},setThreadDisplay:function(e,t){this.threadDisplayStatusObject=Ac(Ac({},this.threadDisplayStatusObject),{},(0,d.Z)({},e,t))},toggleThreadDisplay:function(e){var t="showing"===this.threadDisplayStatus[e]?"hidden":"showing";this.setThreadDisplay(e,t)},setThreadDisplayRecursively:function(e,t){var n=this;this.setThreadDisplay(e,t),this.getReplies(e).map((function(e){return e.id})).map((function(e){return n.setThreadDisplayRecursively(e,t)}))},showThreadRecursively:function(e){this.setThreadDisplayRecursively(e,"showing")},setStatusContentProperty:function(e,t,n){this.statusContentPropertiesObject=Ac(Ac({},this.statusContentPropertiesObject),{},(0,d.Z)({},e,Ac(Ac({},this.statusContentPropertiesObject[e]),{},(0,d.Z)({},t,n))))},toggleStatusContentProperty:function(e,t){this.setStatusContentProperty(e,t,!this.statusContentProperties[e][t])},leastVisibleAncestor:function(e){for(var t=e,n=this.parentOf(t);t;){if("showing"===this.threadDisplayStatus[n])return t;n=this.parentOf(n),t=this.parentOf(t)}return this.topLevel[0]?this.topLevel[0].id:void 0},diveIntoStatus:function(e,t){this.tryScrollTo(e)},diveToTopLevel:function(){this.tryScrollTo(this.topLevelAncestorOrSelfId(this.diveRoot)||this.topLevel[0].id)},undive:function(){this.inlineDivePosition=null,this.setHighlight(this.statusId)},tryScrollTo:function(e){var t=this;e&&(this.isPage?this.$router.push({name:"conversation",params:{id:e}}):this.inlineDivePosition=e,this.$nextTick((function(){t.setHighlight(e)})))},goToCurrent:function(){this.tryScrollTo(this.diveRoot||this.topLevel[0].id)},statusById:function(e){return this.statusMap[e]},parentOf:function(e){var t=this.statusById(e);if(t){var n=t.in_reply_to_status_id;if(this.statusMap[n])return n}},parentOrSelf:function(e){return this.parentOf(e)||e},ancestorsOf:function(e){for(var t=[],n=this.parentOf(e);n;)t.unshift(this.statusMap[n]),n=this.parentOf(n);return t},topLevelAncestorOrSelfId:function(e){for(var t=e,n=this.parentOf(e);n;)t=this.parentOf(t),n=this.parentOf(n);return t},resetDisplayState:function(){this.undive(),this.threadDisplayStatusObject={}}}},zc=(0,Zo.Z)(Ec,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("QuickFilterSettings"),a=(0,vo.up)("QuickViewSettings"),u=(0,vo.up)("FAIcon"),c=(0,vo.up)("i18n-t"),l=(0,vo.up)("status"),d=(0,vo.up)("thread-tree");return e.hideStatus?((0,vo.wg)(),(0,vo.iD)("div",{key:1,class:"Conversation -hidden",style:(0,bo.j5)(e.hiddenStyle)},null,4)):((0,vo.wg)(),(0,vo.iD)("div",{key:0,style:(0,bo.j5)(e.hiddenStyle),class:(0,bo.C_)(["Conversation",{"-expanded":e.isExpanded,panel:e.isExpanded}])},[e.isExpanded?((0,vo.wg)(),(0,vo.iD)("div",$u,[(0,vo._)("span",Uu,(0,bo.zw)(e.$t("timeline.conversation")),1),e.collapsable?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"button-unstyled -link",onClick:t[0]||(t[0]=(0,lo.iM)((function(){return e.toggleExpanded&&e.toggleExpanded.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("timeline.collapse")),1)):(0,vo.kq)("",!0),e.collapsable?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(s,{key:1,conversation:!0,class:"rightside-button"})),e.collapsable?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(a,{key:2,conversation:!0,class:"rightside-button"}))])):(0,vo.kq)("",!0),e.isPage&&!e.status?((0,vo.wg)(),(0,vo.iD)("div",{key:1,class:(0,bo.C_)(["conversation-body",{"panel-body":e.isExpanded}])},[e.loadStatusError?((0,vo.wg)(),(0,vo.iD)("p",Lu,(0,bo.zw)(e.$t("status.load_error",{error:e.loadStatusError})),1)):((0,vo.wg)(),(0,vo.iD)("p",Mu,[(0,vo.Wm)(u,{spin:"",icon:"circle-notch"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("status.loading")),1)]))],2)):((0,vo.wg)(),(0,vo.iD)("div",{key:2,class:(0,bo.C_)(["conversation-body",{"panel-body":e.isExpanded}])},[e.isTreeView?((0,vo.wg)(),(0,vo.iD)("div",Ru,[e.shouldShowAllConversationButton?((0,vo.wg)(),(0,vo.iD)("div",qu,[(0,vo.Wm)(c,{keypath:"status.show_all_conversation_with_icon",tag:"button",class:"button-unstyled -link",scope:"global",onClick:(0,lo.iM)(e.diveToTopLevel,["prevent"])},{icon:(0,vo.w5)((function(){return[(0,vo.Wm)(u,{icon:"angle-double-left"})]})),text:(0,vo.w5)((function(){return[(0,vo._)("span",null,(0,bo.zw)(e.$tc("status.show_all_conversation",e.otherTopLevelCount,{numStatus:e.otherTopLevelCount})),1)]})),_:1},8,["onClick"])])):(0,vo.kq)("",!0),e.shouldShowAncestors?((0,vo.wg)(),(0,vo.iD)("div",Nu,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.ancestorsOf(e.diveRoot),(function(t){return(0,vo.wg)(),(0,vo.iD)("article",{key:t.id,class:(0,bo.C_)(["thread-ancestor",{"thread-ancestor-has-other-replies":e.getReplies(t.id).length>1,"-faded":e.shouldFadeAncestors}])},[(0,vo.Wm)(l,{ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:t,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[t.id],focused:e.focused(t.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(t.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","simple-tree":e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"show-other-replies-as-button":e.showOtherRepliesButtonInsideStatus,dive:function(){return e.diveIntoStatus(t.id)},"controlled-showing-tall":e.statusContentProperties[t.id].showingTall,"controlled-expanding-subject":e.statusContentProperties[t.id].expandingSubject,"controlled-showing-long-subject":e.statusContentProperties[t.id].showingLongSubject,"controlled-replying":e.statusContentProperties[t.id].replying,"controlled-media-playing":e.statusContentProperties[t.id].mediaPlaying,"controlled-toggle-showing-tall":function(){return e.toggleStatusContentProperty(t.id,"showingTall")},"controlled-toggle-expanding-subject":function(){return e.toggleStatusContentProperty(t.id,"expandingSubject")},"controlled-toggle-showing-long-subject":function(){return e.toggleStatusContentProperty(t.id,"showingLongSubject")},"controlled-toggle-replying":function(){return e.toggleStatusContentProperty(t.id,"replying")},"controlled-set-media-playing":function(n){return e.toggleStatusContentProperty(t.id,"mediaPlaying",n)},onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","show-other-replies-as-button","dive","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","onGoto","onToggleExpanded"]),e.showOtherRepliesButtonBelowStatus&&e.getReplies(t.id).length>1?((0,vo.wg)(),(0,vo.iD)("div",Zu,[(0,vo._)("div",Wu,[(0,vo.Wm)(c,{tag:"button",scope:"global",keypath:"status.ancestor_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:(0,lo.iM)((function(n){return e.diveIntoStatus(t.id)}),["prevent"])},{icon:(0,vo.w5)((function(){return[(0,vo.Wm)(u,{icon:"angle-double-right"})]})),text:(0,vo.w5)((function(){return[(0,vo._)("span",null,(0,bo.zw)(e.$tc("status.ancestor_follow",e.getReplies(t.id).length-1,{numReplies:e.getReplies(t.id).length-1})),1)]})),_:2},1032,["onClick"])])])):(0,vo.kq)("",!0)],2)})),128))])):(0,vo.kq)("",!0),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.showingTopLevel,(function(t){return(0,vo.wg)(),(0,vo.j4)(d,{key:t.id,ref_for:!0,ref:"statusComponent",depth:0,status:t,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,focused:e.focused,"get-replies":e.getReplies,highlight:e.maybeHighlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.canDive?e.diveIntoStatus:void 0},null,8,["status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","focused","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"])})),128))])):(0,vo.kq)("",!0),e.isLinearView?((0,vo.wg)(),(0,vo.iD)("div",Hu,[(0,vo._)("article",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.conversation,(function(t){return(0,vo.wg)(),(0,vo.j4)(l,{key:t.id,ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:t,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[t.id],focused:e.focused(t.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(t.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","onGoto","onToggleExpanded"])})),128))])])):(0,vo.kq)("",!0)],2))],6))}]]);var xc={key:1},Pc={class:"button-unstyled title timeline-menu-title"},Ic={class:"timeline-title"};function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.ptq);const $c={components:{Popover:lc.default,NavigationEntry:Kr,ListsMenuContent:Xr},data:function(){return{isOpen:!1}},created:function(){({friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn",quotes:"nav.quotes"})[this.$route.name]&&this.$store.dispatch("setLastTimeline",this.$route.name)},computed:Bc(Bc({useListsMenu:function(){return"lists-timeline"===this.$route.name}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating}})),{},{timelinesList:function(){return Yr(Object.entries(qr).map((function(e){var t=(0,c.Z)(e,2),n=t[0];return Bc(Bc({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}}),methods:{openMenu:function(){var e=this;setTimeout((function(){e.isOpen=!0}),25)},blockOpen:function(e){this.isOpen||e.stopPropagation()},timelineName:function(){var e=this.$route.name;if("tag-timeline"===e)return"#"+this.$route.params.tag;if("lists-timeline"===e)return this.$store.getters.findListTitle(this.$route.params.id);var t={friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn",quotes:"nav.quotes"}[this.$route.name];return t?this.$t(t):e}}},Uc=(0,Zo.Z)($c,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("ListsMenuContent"),a=(0,vo.up)("NavigationEntry"),u=(0,vo.up)("FAIcon"),c=(0,vo.up)("Popover");return(0,vo.wg)(),(0,vo.j4)(c,{trigger:"click",class:(0,bo.C_)(["TimelineMenu",{open:e.isOpen}]),"bound-to":{x:"container"},"bound-to-selector":".Timeline","popover-class":"timeline-menu-popover popover-default",onShow:e.openMenu,onClose:t[1]||(t[1]=function(){return e.isOpen=!1})},{content:(0,vo.w5)((function(){return[e.useListsMenu?((0,vo.wg)(),(0,vo.j4)(s,{key:0,"show-pin":!1,class:"timelines"})):((0,vo.wg)(),(0,vo.iD)("ul",xc,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.timelinesList,(function(e){return(0,vo.wg)(),(0,vo.j4)(a,{key:e.name,"show-pin":!1,item:e},null,8,["item"])})),128))]))]})),trigger:(0,vo.w5)((function(){return[(0,vo._)("span",Pc,[(0,vo._)("span",Ic,(0,bo.zw)(e.timelineName()),1),(0,vo._)("span",null,[(0,vo.Wm)(u,{size:"sm",icon:"chevron-down"})]),(0,vo._)("span",{class:"click-blocker",onClick:t[0]||(t[0]=function(){return e.blockOpen&&e.blockOpen.apply(e,arguments)})})])]})),_:1},8,["class","onShow"])}]]);function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}Lt.vI.add(Rt.IJ7,Rt.b7W,Rt.Kl4,Rt.FPD,Rt.EQ8,Rt.LEp);var Lc={props:["timeline","timelineName","title","userId","listId","statusId","tag","embedded","count","pinnedStatusIds","inProfile","footerSlipgate"],data:function(){return{showScrollTop:!1,paused:!1,unfocused:!1,bottomedOut:!1,virtualScrollIndex:0,blockingClicks:!1}},components:{Status:Va.default,Conversation:zc,TimelineMenu:Uc,QuickFilterSettings:hc,QuickViewSettings:jc},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({filteredVisibleStatuses:function(){var e=this;return this.timeline.visibleStatuses.filter((function(t){return"user"!==e.timelineName||t.id>=e.timeline.minId&&t.id<=e.timeline.maxId}))},filteredPinnedStatusIds:function(){var e=this;return(this.pinnedStatusIds||[]).filter((function(t){return e.timeline.statusesObject[t]}))},newStatusCount:function(){return this.timeline.newStatusCount},showLoadButton:function(){return this.timeline.newStatusCount>0||0!==this.timeline.flushMarker},loadButtonString:function(){return 0!==this.timeline.flushMarker?this.$t("timeline.reload"):"".concat(this.$t("timeline.show_new")," (").concat(this.newStatusCount,")")},mobileLoadButtonString:function(){return 0!==this.timeline.flushMarker?"+":this.newStatusCount>99?"∞":this.newStatusCount},classes:function(){var e=this.embedded?["-embedded"]:["panel","panel-default"];return this.blockingClicks&&(e=e.concat(["-blocked","_misclick-prevention"])),{root:e,header:["timeline-heading"].concat(this.embedded?["panel-body"]:["panel-heading","-sticky"]),body:["timeline-body"].concat((this.embedded,["panel-body"])),footer:["timeline-footer"].concat(this.embedded?["panel-body"]:["panel-footer"])}},pinnedStatusIdsObject:function(){return Iu()(this.pinnedStatusIds)},statusesToDisplay:function(){var e=this.timeline.visibleStatuses.length,t=Math.ceil(Math.max(3,window.innerHeight/80)),n=this.virtualScrollIndex-this.filteredPinnedStatusIds.length,o=Math.max(0,n-t),r=Math.min(e,n+t);return this.timeline.visibleStatuses.slice(o,r).map((function(e){return e.id}))},virtualScrollingEnabled:function(){return this.$store.getters.mergedConfig.virtualScrolling}},(0,s.rn)({mobileLayout:function(e){return"mobile"===e.interface.layoutType}})),created:function(){var e=this.$store,t=e.state.users.currentUser.credentials,n=0===this.timeline.visibleStatuses.length;if(window.addEventListener("scroll",this.handleScroll),e.state.api.fetchers[this.timelineName])return!1;je.fetchAndUpdate({store:e,credentials:t,timeline:this.timelineName,showImmediately:n,userId:this.userId,listId:this.listId,statusId:this.statusId,tag:this.tag})},mounted:function(){void 0!==document.hidden&&(document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.unfocused=document.hidden),window.addEventListener("keydown",this.handleShortKey),setTimeout(this.determineVisibleStatuses,250)},unmounted:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("keydown",this.handleShortKey),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.commit("setLoading",{timeline:this.timelineName,value:!1})},methods:{scrollToTop:function(){window.scrollTo({top:this.$el.offsetTop})},stopBlockingClicks:Ks()((function(){this.blockingClicks=!1}),1e3),blockClicksTemporarily:function(){this.blockingClicks||(this.blockingClicks=!0),this.stopBlockingClicks()},handleShortKey:function(e){["textarea","input"].includes(e.target.tagName.toLowerCase())||"."===e.key&&this.showNewStatuses()},showNewStatuses:function(){0!==this.timeline.flushMarker?(this.$store.commit("clearTimeline",{timeline:this.timelineName,excludeUserId:!0}),this.$store.commit("queueFlush",{timeline:this.timelineName,id:0}),"user"===this.timelineName&&this.$store.dispatch("fetchPinnedStatuses",this.userId),this.fetchOlderStatuses()):(this.blockClicksTemporarily(),this.$store.commit("showNewStatuses",{timeline:this.timelineName}),this.paused=!1),window.scrollTo({top:0})},fetchOlderStatuses:Bu()((function(){var e=this,t=this.$store,n=t.state.users.currentUser.credentials;t.commit("setLoading",{timeline:this.timelineName,value:!0}),je.fetchAndUpdate({store:t,credentials:n,timeline:this.timelineName,older:!0,showImmediately:!0,userId:this.userId,listId:this.listId,statusId:this.statusId,tag:this.tag}).then((function(t){var n=t.statuses;n&&0===n.length&&(e.bottomedOut=!0)})).finally((function(){return t.commit("setLoading",{timeline:e.timelineName,value:!1})}))}),1e3,void 0),determineVisibleStatuses:function(){if(this.$refs.timeline&&this.virtualScrollingEnabled){var e=this.$refs.timeline.children,t=Math.max(0,Math.min(this.virtualScrollIndex,e.length-1));if(0!==e.length){var n=Math.max(document.body.offsetHeight,window.pageYOffset),o=window.pageYOffset+.5*window.innerHeight,r=Math.floor(e.length*(o/n)),i=e[r].getBoundingClientRect().y,s=e[t].getBoundingClientRect().y;for(Math.abs(i)>s&&(r=t,i=s);i<-20&&r<e.length-1;)i+=e[r].offsetHeight,r++;for(;i>window.innerHeight+100&&r>0;)i-=e[--r].offsetHeight;this.virtualScrollIndex=r}}},scrollLoad:function(e){var t=document.body.getBoundingClientRect(),n=Math.max(t.height,-t.y);!1===this.timeline.loading&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchOlderStatuses()},handleScroll:Bu()((function(e){this.showScrollTop=this.$el.offsetTop<window.scrollY,this.determineVisibleStatuses(),this.scrollLoad(e)}),200),handleVisibilityChange:function(){this.unfocused=document.hidden}},watch:{newStatusCount:function(e){if(this.$store.getters.mergedConfig.streaming&&e>0){var t=document.documentElement;!((window.pageYOffset||t.scrollTop)-(t.clientTop||0)<15)||this.paused||this.unfocused&&this.$store.getters.mergedConfig.pauseOnUnfocused?this.paused=!0:this.showNewStatuses()}}}};const Rc=Lc,qc=(0,Zo.Z)(Rc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("TimelineMenu"),a=(0,vo.up)("FAIcon"),u=(0,vo.up)("FALayers"),c=(0,vo.up)("QuickFilterSettings"),l=(0,vo.up)("QuickViewSettings"),d=(0,vo.up)("conversation");return(0,vo.wg)(),(0,vo.iD)("div",{class:(0,bo.C_)(["Timeline",e.classes.root])},[(0,vo._)("div",{class:(0,bo.C_)(e.classes.header)},[e.embedded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(s,{key:0,"timeline-name":e.timelineName},null,8,["timeline-name"])),e.showScrollTop&&!e.embedded?((0,vo.wg)(),(0,vo.iD)("div",_u,[(0,vo._)("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=function(){return e.scrollToTop&&e.scrollToTop.apply(e,arguments)})},[(0,vo.Wm)(u,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{icon:"arrow-up"}),(0,vo.Wm)(a,{icon:"minus",transform:"up-7"})]})),_:1})],8,ku)])):(0,vo.kq)("",!0),e.mobileLayout&&!e.embedded?((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:2},[e.showLoadButton?((0,vo.wg)(),(0,vo.iD)("div",Cu,[(0,vo._)("button",{class:"button-unstyled loadmore-button",title:e.loadButtonString,onClick:t[1]||(t[1]=(0,lo.iM)((function(){return e.showNewStatuses&&e.showNewStatuses.apply(e,arguments)}),["prevent"]))},[(0,vo.Wm)(a,{"fixed-width":"",icon:"circle-plus"}),(0,vo._)("div",ju,(0,bo.zw)(e.mobileLoadButtonString),1)],8,Su)])):e.embedded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",{key:1,class:"loadmore-text faint veryfaint rightside-icon",title:e.$t("timeline.up_to_date"),"aria-disabled":!0,onClick:t[2]||(t[2]=(0,lo.iM)((function(){}),["prevent"]))},[(0,vo.Wm)(a,{"fixed-width":"",icon:"check"})],8,Fu))],64)):((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:3},[e.showLoadButton?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"button-default loadmore-button",onClick:t[3]||(t[3]=(0,lo.iM)((function(){return e.showNewStatuses&&e.showNewStatuses.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.loadButtonString),1)):e.embedded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",{key:1,class:"loadmore-text faint",onClick:t[4]||(t[4]=(0,lo.iM)((function(){}),["prevent"]))},(0,bo.zw)(e.$t("timeline.up_to_date")),1))],64)),e.embedded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(c,{key:4,class:"rightside-button"})),e.embedded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.j4)(l,{key:5,class:"rightside-button"}))],2),(0,vo._)("div",{class:(0,bo.C_)(e.classes.body)},[(0,vo._)("div",Au,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.filteredPinnedStatusIds,(function(t){return(0,vo.wg)(),(0,vo.j4)(d,{key:t+"-pinned",role:"listitem",class:"status-fadein","status-id":t,collapsable:!0,"pinned-status-ids-object":e.pinnedStatusIdsObject,"in-profile":e.inProfile,"profile-user-id":e.userId},null,8,["status-id","pinned-status-ids-object","in-profile","profile-user-id"])})),128)),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.filteredVisibleStatuses,(function(t){return(0,vo.wg)(),(0,vo.j4)(d,{key:t.id,role:"listitem",class:"status-fadein","status-id":t.id,collapsable:!0,"in-profile":e.inProfile,"profile-user-id":e.userId,"virtual-hidden":e.virtualScrollingEnabled&&!e.statusesToDisplay.includes(t.id)},null,8,["status-id","in-profile","profile-user-id","virtual-hidden"])})),128))],512)],2),(0,vo._)("div",{class:(0,bo.C_)(e.classes.footer)},[((0,vo.wg)(),(0,vo.j4)(vo.lR,{to:e.footerSlipgate,disabled:!e.embedded||!e.footerSlipgate},[0===e.count?((0,vo.wg)(),(0,vo.iD)("div",Ou,(0,bo.zw)(e.$t("timeline.no_statuses")),1)):e.bottomedOut?((0,vo.wg)(),(0,vo.iD)("div",Eu,(0,bo.zw)(e.$t("timeline.no_more_statuses")),1)):e.timeline.loading?((0,vo.wg)(),(0,vo.iD)("div",xu,[(0,vo.Wm)(a,{icon:"circle-notch",spin:"",size:"lg"})])):((0,vo.wg)(),(0,vo.iD)("button",{key:2,class:"button-unstyled -link",onClick:t[5]||(t[5]=(0,lo.iM)((function(t){return e.fetchOlderStatuses()}),["prevent"]))},[(0,vo._)("div",zu,(0,bo.zw)(e.$t("timeline.load_older")),1)]))],8,["to","disabled"]))],2)],2)}]]),Nc={components:{Timeline:qc},computed:{timeline:function(){return this.$store.state.statuses.timelines.public}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"public"})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","public")}},Zc=(0,Zo.Z)(Nc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.public_tl"),timeline:e.timeline,"timeline-name":"public"},null,8,["title","timeline"])}]]),Wc={components:{Timeline:qc},computed:{timeline:function(){return this.$store.state.statuses.timelines.publicAndExternal}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"publicAndExternal"})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","publicAndExternal")}},Hc=(0,Zo.Z)(Wc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.twkn"),timeline:e.timeline,"timeline-name":"publicAndExternal"},null,8,["title","timeline"])}]]),Vc={components:{Timeline:qc},computed:{timeline:function(){return this.$store.state.statuses.timelines.friends}}},Gc=(0,Zo.Z)(Vc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.timeline"),timeline:e.timeline,"timeline-name":"friends"},null,8,["title","timeline"])}]]),Kc={created:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})},components:{Timeline:qc},computed:{tag:function(){return this.$route.params.tag},timeline:function(){return this.$store.state.statuses.timelines.tag}},watch:{tag:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})}},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","tag")}},Yc=(0,Zo.Z)(Kc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.tag,timeline:e.timeline,"timeline-name":"tag",tag:e.tag},null,8,["title","timeline","tag"])}]]),Qc={computed:{timeline:function(){return this.$store.state.statuses.timelines.bookmarks}},components:{Timeline:qc},unmounted:function(){this.$store.commit("clearTimeline",{timeline:"bookmarks"})}},Jc=(0,Zo.Z)(Qc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.bookmarks"),timeline:e.timeline,"timeline-name":"bookmarks"},null,8,["title","timeline"])}]]),Xc={components:{Conversation:zc},computed:{statusId:function(){return this.$route.params.id}}},el=(0,Zo.Z)(Xc,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("conversation");return(0,vo.wg)(),(0,vo.j4)(s,{collapsable:!1,"is-page":"true","status-id":e.statusId},null,8,["status-id"])}]]);var tl={class:"panel panel-default"},nl={class:"panel-heading"},ol={class:"title"},rl=["label"],il=["label"],sl=["label"],al=["label"],ul=["label"],cl=["label"],ll=["label"],dl=n(79354),pl={mentions:["mention"],statuses:["status"],"likes+repeats":["repeat","like"],follows:["follow"],reactions:["pleroma:emoji_reaction"],reports:["pleroma:report"],moves:["move"]};const ml={data:function(){return{allowFollowingMove:this.$store.state.users.currentUser.allow_following_move,filterMode:pl.mentions,canSeeReports:this.$store.state.users.currentUser.privileges.includes("reports_manage_reports")}},methods:{onModeSwitch:function(e){this.filterMode=pl[e]}},components:{Notifications:ma.default,TabSwitcher:dl.Z}},hl=(0,Zo.Z)(ml,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("tab-switcher"),a=(0,vo.up)("Notifications");return(0,vo.wg)(),(0,vo.iD)("div",tl,[(0,vo._)("div",nl,[(0,vo._)("div",ol,(0,bo.zw)(e.$t("nav.interactions")),1)]),(0,vo.Wm)(s,{ref:"tabSwitcher","on-switch":e.onModeSwitch},{default:(0,vo.w5)((function(){return[(0,vo._)("span",{key:"statuses",label:e.$t("nav.mentions")},null,8,rl),(0,vo._)("span",{key:"statuses",label:e.$t("interactions.statuses")},null,8,il),(0,vo._)("span",{key:"likes+repeats",label:e.$t("interactions.favs_repeats")},null,8,sl),(0,vo._)("span",{key:"follows",label:e.$t("interactions.follows")},null,8,al),(0,vo._)("span",{key:"reactions",label:e.$t("interactions.emoji_reactions")},null,8,ul),e.canSeeReports?((0,vo.wg)(),(0,vo.iD)("span",{key:"reports",label:e.$t("interactions.reports")},null,8,cl)):(0,vo.kq)("",!0),e.allowFollowingMove?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("span",{key:"moves",label:e.$t("interactions.moves")},null,8,ll))]})),_:1},8,["on-switch"]),(0,vo.Wm)(a,{ref:"notifications","no-heading":!0,"no-extra":!0,"minimal-mode":!0,"filter-mode":e.filterMode},null,8,["filter-mode"])])}]]),fl={computed:{timeline:function(){return this.$store.state.statuses.timelines.dms}},components:{Timeline:qc}},gl=(0,Zo.Z)(fl,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.dms"),timeline:e.timeline,"timeline-name":"dms"},null,8,["title","timeline"])}]]);var vl={key:0},bl={key:1,class:"chat-list panel panel-default"},wl={class:"panel-heading -sticky"},yl={class:"title"},Dl={class:"panel-body"},_l={key:0,class:"timeline"},kl={key:1,class:"emtpy-chat-list-alert"},Cl={class:"chat-list-item-left"},Sl={class:"chat-list-item-center"},jl={class:"heading"},Fl={key:0,class:"name-and-account-name"},Al=(0,vo._)("span",{class:"heading-right"},null,-1),Ol={class:"time-wrapper"},El={class:"chat-preview"},zl={key:0,class:"badge -notification unread-chat-count"},xl=n(97415),Pl=n(98654),Il=n(93960),Tl=n(1840),Bl=["title"],$l=n(92820);const Ul={name:"ChatTitle",components:{UserAvatar:Pl.default,RichContent:$l.Z,UserPopover:(0,vo.RC)((function(){return Promise.resolve().then(n.bind(n,70670))}))},props:["user","withAvatar"],computed:{title:function(){return this.user?this.user.screen_name_ui:""},htmlTitle:function(){return this.user?this.user.name_html:""}}},Ml=(0,Zo.Z)(Ul,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserAvatar"),a=(0,vo.up)("UserPopover"),u=(0,vo.up)("RichContent");return(0,vo.wg)(),(0,vo.iD)("div",{class:"chat-title",title:e.title},[e.withAvatar&&e.user?((0,vo.wg)(),(0,vo.j4)(a,{key:0,class:"avatar-container","user-id":e.user.id},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{class:"titlebar-avatar",user:e.user},null,8,["user"])]})),_:1},8,["user-id"])):(0,vo.kq)("",!0),e.user?((0,vo.wg)(),(0,vo.j4)(u,{key:1,class:"username",title:"@"+(e.user&&e.user.screen_name_ui),html:e.htmlTitle,emoji:e.user.emoji||[]},null,8,["title","html","emoji"])):(0,vo.kq)("",!0)],8,Bl)}]]);function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ql={name:"ChatListItem",props:["chat"],components:{UserAvatar:Pl.default,AvatarList:Il.Z,Timeago:Tl.Z,ChatTitle:Ml,StatusBody:xl.Z},computed:Rl(Rl({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{attachmentInfo:function(){if(0!==this.chat.lastMessage.attachments.length){var e=this.chat.lastMessage.attachments.map((function(e){return yn.ZP.fileType(e.mimetype)}));return e.includes("video")?this.$t("file_type.video"):e.includes("audio")?this.$t("file_type.audio"):e.includes("image")?this.$t("file_type.image"):this.$t("file_type.file")}},messageForStatusContent:function(){var e=this.chat.lastMessage,t=e?e.emojis:[],n=e&&e.account_id===this.currentUser.id,o=e?this.attachmentInfo||e.content:"",r=n?"<i>".concat(this.$t("chats.you"),"</i> ").concat(o):o;return{summary:"",emojis:t,raw_html:r,text:r,attachments:[]}}}),methods:{openChat:function(e){this.chat.id&&this.$router.push({name:"chat",params:{username:this.currentUser.screen_name,recipient_id:this.chat.account.id}})}}},Nl=(0,Zo.Z)(ql,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserAvatar"),a=(0,vo.up)("ChatTitle"),u=(0,vo.up)("Timeago"),c=(0,vo.up)("StatusBody");return(0,vo.wg)(),(0,vo.iD)("div",{class:"chat-list-item",onClickCapture:t[0]||(t[0]=(0,lo.iM)((function(){return e.openChat&&e.openChat.apply(e,arguments)}),["prevent"]))},[(0,vo._)("div",Cl,[(0,vo.Wm)(s,{user:e.chat.account,height:"48px",width:"48px"},null,8,["user"])]),(0,vo._)("div",Sl,[(0,vo._)("div",jl,[e.chat.account?((0,vo.wg)(),(0,vo.iD)("span",Fl,[(0,vo.Wm)(a,{user:e.chat.account},null,8,["user"])])):(0,vo.kq)("",!0),Al,(0,vo._)("div",Ol,[(0,vo.Wm)(u,{time:e.chat.updated_at,"auto-update":60},null,8,["time"])])]),(0,vo._)("div",El,[(0,vo.Wm)(c,{class:"chat-preview-body",status:e.messageForStatusContent,"single-line":!0},null,8,["status"]),e.chat.unread>0?((0,vo.wg)(),(0,vo.iD)("div",zl,(0,bo.zw)(e.chat.unread),1)):(0,vo.kq)("",!0)])])],32)}]]);var Zl={class:"panel-default panel chat-new"},Wl={ref:"header",class:"panel-heading"},Hl={class:"panel-body"},Vl={class:"input-wrap"},Gl={class:"input-search"},Kl={class:"member-list"},Yl=["onClickCapture"],Ql=n(32609);function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.wn1,Rt.A35);var ed={components:{BasicUserCard:Ql.Z,UserAvatar:Pl.default},data:function(){return{suggestions:[],userIds:[],loading:!1,query:""}},created:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.backendInteractor.chats();case 2:t.sent.chats.forEach((function(t){return e.suggestions.push(t.account)}));case 5:case"end":return t.stop()}}),t)})))()},computed:Xl(Xl({users:function(){var e=this;return this.userIds.map((function(t){return e.findUser(t)}))},availableUsers:function(){return 0!==this.query.length?this.users:this.suggestions}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},backendInteractor:function(e){return e.api.backendInteractor}})),(0,s.Se)(["findUser"])),methods:{goBack:function(){this.$emit("cancel")},goToChat:function(e){this.$router.push({name:"chat",params:{recipient_id:e.id}})},onInput:function(){this.search(this.query)},addUser:function(e){this.selectedUserIds.push(e.id),this.query=""},removeUser:function(e){this.selectedUserIds=this.selectedUserIds.filter((function(t){return t!==e}))},search:function(e){var t=this;e?(this.loading=!0,this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts"}).then((function(e){t.loading=!1,t.userIds=e.accounts.map((function(e){return e.id}))}))):this.loading=!1}}};const td=ed,nd=(0,Zo.Z)(td,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("BasicUserCard");return(0,vo.wg)(),(0,vo.iD)("div",Zl,[(0,vo._)("div",Wl,[(0,vo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){return e.goBack&&e.goBack.apply(e,arguments)})},[(0,vo.Wm)(s,{size:"lg",icon:"chevron-left"})])],512),(0,vo._)("div",Hl,[(0,vo._)("div",Vl,[(0,vo._)("div",Gl,[(0,vo.Wm)(s,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),(0,vo.wy)((0,vo._)("input",{ref:"search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.query=t}),class:"input",placeholder:"Search people",onInput:t[2]||(t[2]=function(){return e.onInput&&e.onInput.apply(e,arguments)})},null,544),[[lo.nr,e.query]])]),(0,vo._)("div",Kl,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.availableUsers,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.id,class:"list-item",onClickCapture:(0,lo.iM)((function(n){return e.goToChat(t)}),["prevent"])},[(0,vo.Wm)(a,{user:t},null,8,["user"])],40,Yl)})),128))])])])}]]);function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const id={components:{ChatListItem:Nl,List:Ga.Z,ChatNew:nd},computed:rd(rd({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),(0,s.Se)(["sortedChatList"])),data:function(){return{isNew:!1}},created:function(){this.$store.dispatch("fetchChats",{latest:!0})},methods:{cancelNewChat:function(){this.isNew=!1,this.$store.dispatch("fetchChats",{latest:!0})},newChat:function(){this.isNew=!0}}},sd=(0,Zo.Z)(id,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("ChatNew"),a=(0,vo.up)("ChatListItem"),u=(0,vo.up)("List");return e.isNew?((0,vo.wg)(),(0,vo.iD)("div",vl,[(0,vo.Wm)(s,{onCancel:e.cancelNewChat},null,8,["onCancel"])])):((0,vo.wg)(),(0,vo.iD)("div",bl,[(0,vo._)("div",wl,[(0,vo._)("span",yl,(0,bo.zw)(e.$t("chats.chats")),1),(0,vo._)("button",{class:"button-default",onClick:t[0]||(t[0]=function(){return e.newChat&&e.newChat.apply(e,arguments)})},(0,bo.zw)(e.$t("chats.new")),1)]),(0,vo._)("div",Dl,[e.sortedChatList.length>0?((0,vo.wg)(),(0,vo.iD)("div",_l,[(0,vo.Wm)(u,{items:e.sortedChatList},{item:(0,vo.w5)((function(e){var t=e.item;return[((0,vo.wg)(),(0,vo.j4)(a,{key:t.id,compact:!1,chat:t},null,8,["chat"]))]})),_:1},8,["items"])])):((0,vo.wg)(),(0,vo.iD)("div",kl,[(0,vo._)("span",null,(0,bo.zw)(e.$t("chats.empty_chat_list_placeholder")),1)]))])]))}]]);var ad={class:"chat-view"},ud={class:"chat-view-inner"},cd={ref:"inner",class:"panel-default panel chat-view-body"},ld={ref:"header",class:"panel-heading -sticky chat-view-heading"},dd={class:"title text-center"},pd={key:1,class:"chat-loading-error"},md={class:"alert error"},hd={ref:"footer",class:"panel-body footer"},fd={key:0,class:"badge -notification unread-chat-count unread-message-count"},gd={key:0,class:"avatar-wrapper"},vd={class:"chat-message-inner"},bd={class:"dropdown-menu"},wd=["title"],yd={class:"created-at"},Dd={key:1,class:"chat-message-date-separator"},_d=n(88230),kd=n(16127),Cd=n(83758),Sd=n(39776);const jd={name:"Timeago",props:["date"],computed:{displayDate:function(){var e=new Date;return e.setHours(0,0,0,0),this.date.getTime()===e.getTime()?this.$t("display_date.today"):this.date.toLocaleDateString(Sd.Z.internalToBrowserLocale(this.$i18n.locale),{day:"numeric",month:"long"})}}},Fd=(0,Zo.Z)(jd,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("time",null,(0,bo.zw)(i.displayDate),1)}]]);function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC,Rt.cNd);const Ed={name:"ChatMessage",props:["author","edited","noHeading","chatViewItem","hoveredMessageChain"],emits:["hover"],components:{Popover:lc.default,Attachment:_d.Z,StatusContent:xl.Z,UserAvatar:Pl.default,Gallery:kd.Z,LinkPreview:Cd.Z,ChatMessageDate:Fd,UserPopover:(0,vo.RC)((function(){return Promise.resolve().then(n.bind(n,70670))}))},computed:Od(Od({createdAt:function(){return this.chatViewItem.data.created_at.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1})},isCurrentUser:function(){return this.message.account_id===this.currentUser.id},message:function(){return this.chatViewItem.data},isMessage:function(){return"message"===this.chatViewItem.type},messageForStatusContent:function(){return{summary:"",emojis:this.message.emojis,raw_html:this.message.content||"",text:this.message.content||"",attachments:this.message.attachments}},hasAttachment:function(){return this.message.attachments.length>0}},(0,s.rn)({betterShadow:function(e){return e.interface.browserSupport.cssFilter},currentUser:function(e){return e.users.currentUser},restrictedNicknames:function(e){return e.instance.restrictedNicknames}})),{},{popoverMarginStyle:function(){return this.isCurrentUser?{}:{left:50}}},(0,s.Se)(["mergedConfig","findUser"])),data:function(){return{hovered:!1,menuOpened:!1}},methods:{onHover:function(e){this.$emit("hover",{isHovered:e,messageChainId:this.chatViewItem.messageChainId})},deleteMessage:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm(e.$t("chats.delete_confirm"))){t.next=4;break}return t.next=4,e.$store.dispatch("deleteChatMessage",{messageId:e.chatViewItem.data.id,chatId:e.chatViewItem.data.chat_id});case 4:e.hovered=!1,e.menuOpened=!1;case 6:case"end":return t.stop()}}),t)})))()}}},zd=(0,Zo.Z)(Ed,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserAvatar"),a=(0,vo.up)("UserPopover"),u=(0,vo.up)("FAIcon"),c=(0,vo.up)("Popover"),l=(0,vo.up)("StatusContent"),d=(0,vo.up)("ChatMessageDate");return e.isMessage?((0,vo.wg)(),(0,vo.iD)("div",{key:0,class:(0,bo.C_)(["chat-message-wrapper",{"hovered-message-chain":e.hoveredMessageChain}]),onMouseover:t[5]||(t[5]=function(t){return e.onHover(!0)}),onMouseleave:t[6]||(t[6]=function(t){return e.onHover(!1)})},[(0,vo._)("div",{class:(0,bo.C_)(["chat-message",[{outgoing:e.isCurrentUser,incoming:!e.isCurrentUser}]])},[e.isCurrentUser?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",gd,[e.chatViewItem.isHead?((0,vo.wg)(),(0,vo.j4)(a,{key:0,"user-id":e.author.id},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{compact:!0,"better-shadow":e.betterShadow,user:e.author},null,8,["better-shadow","user"])]})),_:1},8,["user-id"])):(0,vo.kq)("",!0)])),(0,vo._)("div",vd,[(0,vo._)("div",{class:"status-body",style:(0,bo.j5)({"min-width":e.message.attachment?"80%":""})},[(0,vo._)("div",{class:(0,bo.C_)(["media status",{"without-attachment":!e.hasAttachment,pending:e.chatViewItem.data.pending,error:e.chatViewItem.data.error}]),style:{position:"relative"},onMouseenter:t[3]||(t[3]=function(t){return e.hovered=!0}),onMouseleave:t[4]||(t[4]=function(t){return e.hovered=!1})},[(0,vo._)("div",{class:(0,bo.C_)(["chat-message-menu",{visible:e.hovered||e.menuOpened}])},[(0,vo.Wm)(c,{trigger:"click",placement:"top","bound-to-selector":".chat-view-inner","bound-to":{x:"container"},margin:e.popoverMarginStyle,onShow:t[1]||(t[1]=function(t){return e.menuOpened=!0}),onClose:t[2]||(t[2]=function(t){return e.menuOpened=!1})},{content:(0,vo.w5)((function(){return[(0,vo._)("div",bd,[(0,vo._)("button",{class:"menu-item dropdown-item dropdown-item-icon",onClick:t[0]||(t[0]=function(){return e.deleteMessage&&e.deleteMessage.apply(e,arguments)})},[(0,vo.Wm)(u,{icon:"times"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("chats.delete")),1)])])]})),trigger:(0,vo.w5)((function(){return[(0,vo._)("button",{class:"button-default menu-icon",title:e.$t("chats.more")},[(0,vo.Wm)(u,{icon:"ellipsis-h"})],8,wd)]})),_:1},8,["margin"])],2),(0,vo.Wm)(l,{class:"message-content",status:e.messageForStatusContent,"full-content":!0},{footer:(0,vo.w5)((function(){return[(0,vo._)("span",yd,(0,bo.zw)(e.createdAt),1)]})),_:1},8,["status"])],34)],4)])],2)],34)):((0,vo.wg)(),(0,vo.iD)("div",Dd,[(0,vo.Wm)(d,{date:e.chatViewItem.date},null,8,["date"])]))}]]);var xd=function(){return{scrollTop:window.scrollY,scrollHeight:document.documentElement.scrollHeight,offsetHeight:window.innerHeight}};function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pd(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.ptq,Rt.A35);var Td={components:{ChatMessage:zd,ChatTitle:Ml,PostStatusForm:jr.Z},data:function(){return{jumpToBottomButtonVisible:!1,hoveredMessageChainId:void 0,lastScrollPosition:{},scrollableContainerHeight:"100%",errorLoadingChat:!1,messageRetriers:{}}},created:function(){this.startFetching(),window.addEventListener("resize",this.handleResize)},mounted:function(){var e=this;window.addEventListener("scroll",this.handleScroll),void 0!==document.hidden&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$nextTick((function(){e.handleResize()}))},unmounted:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.dispatch("clearCurrentChat")},computed:Id(Id({recipient:function(){return this.currentChat&&this.currentChat.account},recipientId:function(){return this.$route.params.recipient_id},formPlaceholder:function(){return this.recipient?this.$t("chats.message_user",{nickname:this.recipient.screen_name_ui}):""},chatViewItems:function(){return Zn.getView(this.currentChatMessageService)},newMessageCount:function(){return this.currentChatMessageService&&this.currentChatMessageService.newMessageCount},streamingEnabled:function(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===p._z.JOINED}},(0,s.Se)(["currentChat","currentChatMessageService","findOpenedChatByRecipientId","mergedConfig"])),(0,s.rn)({backendInteractor:function(e){return e.api.backendInteractor},mastoUserSocketStatus:function(e){return e.api.mastoUserSocketStatus},mobileLayout:function(e){return"mobile"===e.interface.layoutType},currentUser:function(e){return e.users.currentUser}})),watch:{chatViewItems:function(){var e=this,t=this.bottomedOut(10);this.$nextTick((function(){t&&e.scrollDown()}))},$route:function(){this.startFetching()},mastoUserSocketStatus:function(e){e===p._z.JOINED&&this.fetchChat({isFirstFetch:!0})}},methods:{onMessageHover:function(e){var t=e.isHovered,n=e.messageChainId;this.hoveredMessageChainId=t?n:void 0},onFilesDropped:function(){var e=this;this.$nextTick((function(){e.handleResize()}))},handleVisibilityChange:function(){var e=this;this.$nextTick((function(){!document.hidden&&e.bottomedOut(10)&&e.scrollDown({forceRead:!0})}))},handleResize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.delayed;void 0!==n&&n?setTimeout((function(){e.handleResize(Id(Id({},t),{},{delayed:!1}))}),100):this.$nextTick((function(){var t=xd().offsetHeight,n=(void 0===t?void 0:t)-e.lastScrollPosition.offsetHeight;0===n||e.bottomedOut()||e.$nextTick((function(){window.scrollBy({top:-Math.trunc(n)})})),e.lastScrollPosition=xd()}))},scrollDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,n=void 0===t?"auto":t,o=e.forceRead,r=void 0!==o&&o;this.$nextTick((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:n})})),r&&this.readChat()},readChat:function(){if(this.currentChatMessageService&&this.currentChatMessageService.maxId&&!document.hidden){var e=this.currentChatMessageService.maxId;this.$store.dispatch("readChat",{id:this.currentChat.id,lastReadId:e})}},bottomedOut:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=window.scrollY+e;return document.documentElement.scrollHeight-window.innerHeight<=t}(e)},reachedTop:function(){return window.scrollY<=0},cullOlderCheck:function(){var e=this;window.setTimeout((function(){e.bottomedOut(10)&&e.$store.dispatch("cullOlderMessages",e.currentChatMessageService.chatId)}),5e3)},handleScroll:Bu()((function(){var e=this;this.lastScrollPosition=xd(),this.currentChat&&(this.reachedTop()?this.fetchChat({maxId:this.currentChatMessageService.minId}):this.bottomedOut(10)?(this.jumpToBottomButtonVisible=!1,this.cullOlderCheck(),this.newMessageCount>0&&window.setTimeout((function(){e.$el&&e.readChat()}),1500)):this.jumpToBottomButtonVisible=!0)}),200),handleScrollUp:function(e){var t,n,o=xd();window.scrollTo({top:(t=e,n=o,t.scrollTop+(n.scrollHeight-t.scrollHeight))})},fetchChat:function(e){var t=this,n=e.isFirstFetch,o=void 0!==n&&n,r=e.fetchLatest,i=void 0!==r&&r,s=e.maxId,a=this.currentChatMessageService;if(a&&(!i||!this.streamingEnabled)){var u=a.chatId,c=!!s,l=i&&a.maxId;return this.backendInteractor.chatMessages({id:u,maxId:s,sinceId:l}).then((function(e){o&&Zn.clear(a);var n=xd();t.$store.dispatch("addChatMessages",{chatId:u,messages:e}).then((function(){t.$nextTick((function(){c&&t.handleScrollUp(n),!(document.documentElement.scrollHeight>window.innerHeight)&&e.length>0&&t.fetchChat({maxId:t.currentChatMessageService.minId})}))}))}))}},startFetching:function(){var e=this;return(0,o.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.findOpenedChatByRecipientId(e.recipientId)){t.next=12;break}return t.prev=2,t.next=5,e.backendInteractor.getOrCreateChat({accountId:e.recipientId});case 5:n=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.error("Error creating or getting a chat",t.t0),e.errorLoadingChat=!0;case 12:n&&(e.$nextTick((function(){e.scrollDown({forceRead:!0})})),e.$store.dispatch("addOpenedChat",{chat:n}),e.doStartFetching());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},doStartFetching:function(){var e=this;this.$store.dispatch("startFetchingCurrentChat",{fetcher:function(){return(0,ke.F)((function(){return e.fetchChat({fetchLatest:!0})}),5e3)}}),this.fetchChat({isFirstFetch:!0})},handleAttachmentPosting:function(){var e=this;this.$nextTick((function(){e.handleResize(),e.scrollDown({forceRead:!0})}))},sendMessage:function(e){var t=this,n=e.status,o=e.media,r=e.idempotencyKey,i={id:this.currentChat.id,content:n,idempotencyKey:r};o[0]&&(i.mediaId=o[0].id);var s=function(e){var t=e.attachments,n=e.userId,o=e.idempotencyKey,r={content:e.content,chat_id:e.chatId,created_at:new Date,id:"".concat((new Date).getTime()),attachments:t,account_id:n,idempotency_key:o,emojis:[],pending:!0,isNormalized:!0};return t[0]&&(r.attachment=t[0]),r}({attachments:o,chatId:this.currentChat.id,content:n,userId:this.currentUser.id,idempotencyKey:r});return this.$store.dispatch("addChatMessages",{chatId:this.currentChat.id,messages:[s]}).then((function(){t.handleAttachmentPosting()})),this.doSendMessage({params:i,fakeMessage:s,retriesLeft:10})},doSendMessage:function(e){var t=this,n=e.params,o=e.fakeMessage,r=e.retriesLeft,i=void 0===r?10:r;if(!(i<=0))return this.backendInteractor.sendChatMessage(n).then((function(e){return t.$store.dispatch("addChatMessages",{chatId:t.currentChat.id,updateMaxId:!1,messages:[Id(Id({},e),{},{fakeId:o.id})]}),e})).catch((function(e){return console.error("Error sending message",e),t.$store.dispatch("handleMessageError",{chatId:t.currentChat.id,fakeId:o.id,isRetry:10!==i}),(e.statusCode>=500&&e.statusCode<600||"Failed to fetch"===e.message)&&(t.messageRetriers[o.id]=setTimeout((function(){t.doSendMessage({params:n,fakeMessage:o,retriesLeft:i-1})}),1e3*Math.pow(2,10-i))),{}})),Promise.resolve(o)},goBack:function(){this.$router.push({name:"chats",params:{username:this.currentUser.screen_name}})}}};const Bd=Td,$d=(0,Zo.Z)(Bd,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("ChatTitle"),u=(0,vo.up)("ChatMessage"),c=(0,vo.up)("PostStatusForm");return(0,vo.wg)(),(0,vo.iD)("div",ad,[(0,vo._)("div",ud,[(0,vo._)("div",cd,[(0,vo._)("div",ld,[(0,vo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){return e.goBack&&e.goBack.apply(e,arguments)})},[(0,vo.Wm)(s,{size:"lg",icon:"chevron-left"})]),(0,vo._)("div",dd,[(0,vo.Wm)(a,{user:e.recipient,"with-avatar":!0},null,8,["user"])])],512),(0,vo._)("div",{class:"chat-message-list message-list",style:(0,bo.j5)({height:e.scrollableContainerHeight})},[e.errorLoadingChat?((0,vo.wg)(),(0,vo.iD)("div",pd,[(0,vo._)("div",md,(0,bo.zw)(e.$t("chats.error_loading_chat")),1)])):((0,vo.wg)(!0),(0,vo.iD)(vo.HY,{key:0},(0,vo.Ko)(e.chatViewItems,(function(t){return(0,vo.wg)(),(0,vo.j4)(u,{key:t.id,author:e.recipient,"chat-view-item":t,"hovered-message-chain":t.messageChainId===e.hoveredMessageChainId,onHover:e.onMessageHover},null,8,["author","chat-view-item","hovered-message-chain","onHover"])})),128))],4),(0,vo._)("div",hd,[(0,vo._)("div",{class:(0,bo.C_)(["jump-to-bottom-button",{visible:e.jumpToBottomButtonVisible}]),onClick:t[1]||(t[1]=function(t){return e.scrollDown({behavior:"smooth"})})},[(0,vo._)("span",null,[(0,vo.Wm)(s,{icon:"chevron-down"}),e.newMessageCount?((0,vo.wg)(),(0,vo.iD)("div",fd,(0,bo.zw)(e.newMessageCount),1)):(0,vo.kq)("",!0)])],2),(0,vo.Wm)(c,{"disable-subject":!0,"disable-scope-selector":!0,"disable-notice":!0,"disable-lock-warning":!0,"disable-polls":!0,"disable-sensitivity-checkbox":!0,"disable-submit":e.errorLoadingChat||!e.currentChat,"disable-preview":!0,"optimistic-posting":!0,"post-handler":e.sendMessage,"submit-on-enter":!e.mobileLayout,"preserve-focus":!e.mobileLayout,"auto-focus":!e.mobileLayout,placeholder:e.formPlaceholder,"file-limit":1,"max-height":"160","emoji-picker-placement":"top",onResize:e.handleResize},null,8,["disable-submit","post-handler","submit-on-enter","preserve-focus","auto-focus","placeholder","onResize"])],512)],512)])])}]]);var Ud={key:0,class:"user-profile panel panel-default"},Md={class:"panel-body"},Ld={key:0,class:"user-birthday"},Rd={key:1,class:"user-profile-fields"},qd=["title"],Nd=["title"],Zd=["label","disabled"],Wd=["label","disabled"],Hd={key:1,class:"panel user-profile-placeholder"},Vd={class:"panel-heading"},Gd={class:"title"},Kd={key:0},Yd={class:"follow-card-content-container"},Qd={key:0,class:"faint"},Jd={key:0,class:"follow-card-follow-button"},Xd=n(72895),ep=n(34837),tp=["disabled","title"],np=["textContent"];const op={props:["user","relationship"],data:function(){return{inProgress:!1,showingConfirmRemoveFollower:!1}},components:{ConfirmModal:ha.Z},computed:{label:function(){return this.inProgress?this.$t("user_card.follow_progress"):this.$t("user_card.remove_follower")},shouldConfirmRemoveUserFromFollowers:function(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers}},methods:{showConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!1},onClick:function(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers:function(){var e=this;this.inProgress=!0,this.$store.dispatch("removeUserFromFollowers",this.relationship.id).then((function(){e.inProgress=!1})),this.hideConfirmRemoveUserFromFollowers()}}},rp=(0,Zo.Z)(op,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("i18n-t"),a=(0,vo.up)("confirm-modal");return(0,vo.wg)(),(0,vo.iD)("button",{class:(0,bo.C_)(["btn button-default follow-button",{toggled:e.inProgress}]),disabled:e.inProgress,title:e.$t("user_card.remove_follower"),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[(0,vo.Uk)((0,bo.zw)(e.label)+" ",1),((0,vo.wg)(),(0,vo.j4)(vo.lR,{to:"#modal"},[e.showingConfirmRemoveFollower?((0,vo.wg)(),(0,vo.j4)(a,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(s,{keypath:"user_card.remove_follower_confirm",tag:"span"},{user:(0,vo.w5)((function(){return[(0,vo._)("span",{textContent:(0,bo.zw)(e.user.screen_name_ui)},null,8,np)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,vo.kq)("",!0)]))],10,tp)}]]),ip={props:["user","noFollowsYou"],components:{BasicUserCard:Ql.Z,RemoteFollow:Xd.Z,FollowButton:ep.Z,RemoveFollowerButton:rp},computed:{isMe:function(){return this.$store.state.users.currentUser.id===this.user.id},loggedIn:function(){return this.$store.state.users.currentUser},relationship:function(){return this.$store.getters.relationship(this.user.id)}}},sp=(0,Zo.Z)(ip,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("RemoteFollow"),a=(0,vo.up)("FollowButton"),u=(0,vo.up)("RemoveFollowerButton"),c=(0,vo.up)("basic-user-card");return(0,vo.wg)(),(0,vo.j4)(c,{user:e.user},{default:(0,vo.w5)((function(){return[(0,vo._)("div",Yd,[e.isMe||!e.noFollowsYou&&e.relationship.followed_by?((0,vo.wg)(),(0,vo.iD)("span",Qd,(0,bo.zw)(e.isMe?e.$t("user_card.its_you"):e.$t("user_card.follows_you")),1)):(0,vo.kq)("",!0),e.loggedIn?e.isMe?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:2},[(0,vo.Wm)(a,{relationship:e.relationship,"label-following":e.$t("user_card.follow_unfollow"),class:"follow-card-follow-button",user:e.user},null,8,["relationship","label-following","user"]),e.noFollowsYou&&e.relationship.followed_by?((0,vo.wg)(),(0,vo.j4)(u,{key:0,user:e.user,relationship:e.relationship,class:"follow-card-button"},null,8,["user","relationship"])):(0,vo.kq)("",!0)],64)):((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:1},[e.relationship.following?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",Jd,[(0,vo.Wm)(s,{user:e.user},null,8,["user"])]))],64))])]})),_:1},8,["user"])}]]);var ap=n(98027);Lt.vI.add(Rt.IJ7,Rt.xiy);var up=(0,ap.Z)({fetch:function(e,t){return t.dispatch("fetchFollowers",e.userId)},select:function(e,t){return ft()(t.getters.findUser(e.userId),"followerIds",[]).map((function(e){return t.getters.findUser(e)}))},destroy:function(e,t){return t.dispatch("clearFollowers",e.userId)},childPropName:"items",additionalPropNames:["userId"]})(Ga.Z),cp=(0,ap.Z)({fetch:function(e,t){return t.dispatch("fetchFriends",e.userId)},select:function(e,t){return ft()(t.getters.findUser(e.userId),"friendIds",[]).map((function(e){return t.getters.findUser(e)}))},destroy:function(e,t){return t.dispatch("clearFriends",e.userId)},childPropName:"items",additionalPropNames:["userId"]})(Ga.Z),lp="statuses";const dp={data:function(){return{error:!1,userId:null,tab:lp,footerRef:null}},created:function(){var e=this.$route.params;this.load({name:e.name,id:e.id}),this.tab=ft()(this.$route,"query.tab",lp)},unmounted:function(){this.stopFetching()},computed:{timeline:function(){return this.$store.state.statuses.timelines.user},favorites:function(){return this.$store.state.statuses.timelines.favorites},media:function(){return this.$store.state.statuses.timelines.media},isUs:function(){return this.userId&&this.$store.state.users.currentUser.id&&this.userId===this.$store.state.users.currentUser.id},user:function(){return this.$store.getters.findUser(this.userId)},isExternal:function(){return"external-user-profile"===this.$route.name},followsTabVisible:function(){return this.isUs||!this.user.hide_follows},followersTabVisible:function(){return this.isUs||!this.user.hide_followers},favoritesTabVisible:function(){return this.isUs||!this.user.hide_favorites},formattedBirthday:function(){var e=Sd.Z.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.user.birthday)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})}},methods:{setFooterRef:function(e){this.footerRef=e},load:function(e){var t=this,n=function(e,n){n!==t.$store.state.statuses.timelines[e].userId&&t.$store.commit("clearTimeline",{timeline:e}),t.$store.dispatch("startFetchingTimeline",{timeline:e,userId:n})},o=function(e){t.userId=e,n("user",e),n("media",e),t.isUs?n("favorites"):t.user.hide_favorites||n("favorites",e),t.$store.dispatch("fetchPinnedStatuses",e)};this.userId=null,this.error=!1;var r=e.id,i=e.name,s=r?this.$store.getters.findUser(r):this.$store.getters.findUserByName(i);s?o(s.id):(r?this.$store.dispatch("fetchUser",r):this.$store.dispatch("fetchUserByName",i)).then((function(e){var t=e.id;return o(t)})).catch((function(e){var n=ft()(e,"error.error");t.error="No user with such user_id"===n?t.$t("user_profile.profile_does_not_exist"):n||t.$t("user_profile.profile_loading_error")}))},stopFetching:function(){this.$store.dispatch("stopFetchingTimeline","user"),this.$store.dispatch("stopFetchingTimeline","favorites"),this.$store.dispatch("stopFetchingTimeline","media")},switchUser:function(e){this.stopFetching(),this.load(e)},onTabSwitch:function(e){this.tab=e,this.$router.replace({query:{tab:e}})},linkClicked:function(e){var t=e.target;"SPAN"===t.tagName&&(t=t.parentNode),"A"===t.tagName&&window.open(t.href,"_blank")}},watch:{"$route.params.id":function(e){e&&this.switchUser({id:e})},"$route.params.name":function(e){e&&this.switchUser({name:e})},"$route.query":function(e){this.tab=e.tab||lp}},components:{UserCard:Fr.Z,Timeline:qc,FollowerList:up,FriendList:cp,FollowCard:sp,TabSwitcher:dl.Z,Conversation:zc,RichContent:$l.Z}},pp=(0,Zo.Z)(dp,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("UserCard"),a=(0,vo.up)("FAIcon"),u=(0,vo.up)("RichContent"),c=(0,vo.up)("Timeline"),l=(0,vo.up)("FollowCard"),d=(0,vo.up)("FriendList"),p=(0,vo.up)("FollowerList"),m=(0,vo.up)("tab-switcher");return(0,vo.wg)(),(0,vo.iD)("div",null,[e.user?((0,vo.wg)(),(0,vo.iD)("div",Ud,[(0,vo._)("div",Md,[(0,vo.Wm)(s,{"user-id":e.userId,switcher:!0,selected:e.timeline.viewing,"avatar-action":"zoom",rounded:"top","has-note-editor":!0},null,8,["user-id","selected"]),e.user.birthday?((0,vo.wg)(),(0,vo.iD)("span",Ld,[(0,vo.Wm)(a,{class:"fa-old-padding",icon:"birthday-cake"}),(0,vo.Uk)(" "+(0,bo.zw)(e.$t("user_card.birthday",{birthday:e.formattedBirthday})),1)])):(0,vo.kq)("",!0),e.user.fields_html&&e.user.fields_html.length>0?((0,vo.wg)(),(0,vo.iD)("div",Rd,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.user.fields_html,(function(t,n){return(0,vo.wg)(),(0,vo.iD)("dl",{key:n,class:"user-profile-field"},[(0,vo._)("dt",{title:e.user.fields_text[n].name,class:"user-profile-field-name"},[(0,vo.Wm)(u,{html:t.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,qd),(0,vo._)("dd",{title:e.user.fields_text[n].value,class:"user-profile-field-value"},[(0,vo.Wm)(u,{html:t.value,emoji:e.user.emoji},null,8,["html","emoji"])],8,Nd)])})),128))])):(0,vo.kq)("",!0)]),(0,vo.Wm)(m,{"active-tab":e.tab,"render-only-focused":!0,"on-switch":e.onTabSwitch},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(c,{key:"statuses",label:e.$t("user_card.statuses"),count:e.user.statuses_count,embedded:!0,title:e.$t("user_profile.timeline_title"),timeline:e.timeline,"timeline-name":"user","user-id":e.userId,"pinned-status-ids":e.user.pinnedStatusIds,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","count","title","timeline","user-id","pinned-status-ids","footer-slipgate"]),e.followsTabVisible?((0,vo.wg)(),(0,vo.iD)("div",{key:"followees",class:"panel-body",label:e.$t("user_card.followees"),disabled:!e.user.friends_count},[(0,vo.Wm)(d,{"user-id":e.userId,"non-interactive":!0},{item:(0,vo.w5)((function(e){var t=e.item;return[(0,vo.Wm)(l,{user:t},null,8,["user"])]})),_:1},8,["user-id"])],8,Zd)):(0,vo.kq)("",!0),e.followersTabVisible?((0,vo.wg)(),(0,vo.iD)("div",{key:"followers",class:"panel-body",label:e.$t("user_card.followers"),disabled:!e.user.followers_count},[(0,vo.Wm)(p,{"user-id":e.userId,"non-interactive":!0},{item:(0,vo.w5)((function(t){var n=t.item;return[(0,vo.Wm)(l,{user:n,"no-follows-you":e.isUs},null,8,["user","no-follows-you"])]})),_:1},8,["user-id"])],8,Wd)):(0,vo.kq)("",!0),(0,vo.Wm)(c,{key:"media",label:e.$t("user_card.media"),disabled:!e.media.visibleStatuses.length,embedded:!0,title:e.$t("user_card.media"),"timeline-name":"media",timeline:e.media,"user-id":e.userId,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","user-id","footer-slipgate"]),e.favoritesTabVisible?((0,vo.wg)(),(0,vo.j4)(c,{key:"favorites",label:e.$t("user_card.favorites"),disabled:!e.favorites.visibleStatuses.length,embedded:!0,title:e.$t("user_card.favorites"),"timeline-name":"favorites",timeline:e.favorites,"user-id":e.isUs?void 0:e.userId,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","user-id","footer-slipgate"])):(0,vo.kq)("",!0)]})),_:1},8,["active-tab","on-switch"]),(0,vo._)("div",{ref:e.setFooterRef,class:"panel-footer"},null,512)])):((0,vo.wg)(),(0,vo.iD)("div",Hd,[(0,vo._)("div",Vd,[(0,vo._)("div",Gd,(0,bo.zw)(e.$t("settings.profile_tab")),1)]),(0,vo._)("div",null,[e.error?((0,vo.wg)(),(0,vo.iD)("span",Kd,(0,bo.zw)(e.error),1)):((0,vo.wg)(),(0,vo.j4)(a,{key:1,spin:"",icon:"circle-notch"}))])]))])}]]);var mp={class:"Search panel panel-default"},hp={class:"panel-heading"},fp={class:"title"},gp={class:"panel-body search-input-container"},vp=["placeholder"],bp={key:0,class:"panel-body text-center loading-icon"},wp={key:1},yp={class:"search-nav-heading"},Dp=["label"],_p=["label"],kp=["label"],Cp={class:"panel-body"},Sp={key:0},jp={class:"new-status-notification text-center"},Fp={key:1,class:"text-center loading-icon"},Ap={key:2,class:"search-result-heading"},Op={key:1},Ep={key:0,class:"search-result-heading"},zp={key:2},xp={key:0,class:"search-result-heading"},Pp={class:"hashtag"},Ip={key:0},Tp={key:0},Bp={key:1},$p={key:0,class:"count"},Up=(0,vo._)("div",{class:"search-result-footer text-center panel-footer faint"},null,-1),Mp=n(45578),Lp=n.n(Mp);Lt.vI.add(Rt.IJ7,Rt.wn1);const Rp={components:{FollowCard:sp,Conversation:zc,Status:Va.default,TabSwitcher:dl.Z},props:["query"],data:function(){return{loaded:!1,loading:!1,searchTerm:this.query||"",userIds:[],statuses:[],hashtags:[],currenResultTab:"statuses",statusesOffset:0,lastStatusFetchCount:0,lastQuery:""}},computed:{users:function(){var e=this;return this.userIds.map((function(t){return e.$store.getters.findUser(t)}))},visibleStatuses:function(){var e=this.$store.state.statuses.allStatusesObject;return this.statuses.filter((function(t){return e[t.id]&&!e[t.id].deleted}))}},mounted:function(){this.search(this.query)},watch:{query:function(e){this.searchTerm=e,this.search(e)}},methods:{newQuery:function(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},search:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.loading=!0,this.$refs.searchInput.blur(),this.lastQuery!==e&&(this.userIds=[],this.hashtags=[],this.statuses=[],this.statusesOffset=0,this.lastStatusFetchCount=0),this.$store.dispatch("search",{q:e,resolve:!0,offset:this.statusesOffset,type:n}).then((function(n){t.loading=!1;var o=t.statuses.length;t.userIds=t.userIds.concat(be()(n.accounts,"id")),t.statuses=Lp()(t.statuses.concat(n.statuses),"id"),t.hashtags=t.hashtags.concat(n.hashtags),t.currenResultTab=t.getActiveTab(),t.loaded=!0,t.statusesOffset=t.statuses.length,t.lastStatusFetchCount=t.statuses.length-o,t.lastQuery=e}))):this.loading=!1},resultCount:function(e){var t=this[e].length;return 0===t?"":" (".concat(t,")")},onResultTabSwitch:function(e){this.currenResultTab=e},getActiveTab:function(){return this.visibleStatuses.length>0?"statuses":this.users.length>0?"people":this.hashtags.length>0?"hashtags":"statuses"},lastHistoryRecord:function(e){return e.history&&e.history[0]}}},qp=(0,Zo.Z)(Rp,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("tab-switcher"),u=(0,vo.up)("Status"),c=(0,vo.up)("FollowCard"),l=(0,vo.up)("router-link");return(0,vo.wg)(),(0,vo.iD)("div",mp,[(0,vo._)("div",hp,[(0,vo._)("div",fp,(0,bo.zw)(e.$t("nav.search")),1)]),(0,vo._)("div",gp,[(0,vo.wy)((0,vo._)("input",{ref:"searchInput","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t}),class:"input search-input",placeholder:e.$t("nav.search"),onKeyup:t[1]||(t[1]=(0,lo.D2)((function(t){return e.newQuery(e.searchTerm)}),["enter"]))},null,40,vp),[[lo.nr,e.searchTerm]]),(0,vo._)("button",{class:"btn button-default search-button",type:"submit",onClick:t[2]||(t[2]=function(t){return e.newQuery(e.searchTerm)})},[(0,vo.Wm)(s,{icon:"search"})])]),e.loading&&0==e.statusesOffset?((0,vo.wg)(),(0,vo.iD)("div",bp,[(0,vo.Wm)(s,{icon:"circle-notch",spin:"",size:"lg"})])):e.loaded?((0,vo.wg)(),(0,vo.iD)("div",wp,[(0,vo._)("div",yp,[(0,vo.Wm)(a,{ref:"tabSwitcher","on-switch":e.onResultTabSwitch,"active-tab":e.currenResultTab},{default:(0,vo.w5)((function(){return[(0,vo._)("span",{key:"statuses",label:e.$t("user_card.statuses")+e.resultCount("visibleStatuses")},null,8,Dp),(0,vo._)("span",{key:"people",label:e.$t("search.people")+e.resultCount("users")},null,8,_p),(0,vo._)("span",{key:"hashtags",label:e.$t("search.hashtags")+e.resultCount("hashtags")},null,8,kp)]})),_:1},8,["on-switch","active-tab"])])])):(0,vo.kq)("",!0),(0,vo._)("div",Cp,["statuses"===e.currenResultTab?((0,vo.wg)(),(0,vo.iD)("div",Sp,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.visibleStatuses,(function(e){return(0,vo.wg)(),(0,vo.j4)(u,{key:e.id,collapsable:!1,expandable:!1,compact:!1,class:"search-result",statusoid:e,"no-heading":!1},null,8,["statusoid"])})),128)),!e.loading&&e.loaded&&e.lastStatusFetchCount>0?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"more-statuses-button button-unstyled -link",onClick:t[3]||(t[3]=(0,lo.iM)((function(t){return e.search(e.searchTerm,"statuses")}),["prevent"]))},[(0,vo._)("div",jp,(0,bo.zw)(e.$t("search.load_more")),1)])):e.loading&&e.statusesOffset>0?((0,vo.wg)(),(0,vo.iD)("div",Fp,[(0,vo.Wm)(s,{icon:"circle-notch",spin:"",size:"lg"})])):(0,vo.kq)("",!0),0!==e.visibleStatuses.length&&0!==e.lastStatusFetchCount||e.loading||!e.loaded?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",Ap,[(0,vo._)("h4",null,(0,bo.zw)(0===e.visibleStatuses.length?e.$t("search.no_results"):e.$t("search.no_more_results")),1)]))])):"people"===e.currenResultTab?((0,vo.wg)(),(0,vo.iD)("div",Op,[0===e.users.length&&!e.loading&&e.loaded?((0,vo.wg)(),(0,vo.iD)("div",Ep,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("search.no_results")),1)])):(0,vo.kq)("",!0),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.users,(function(e){return(0,vo.wg)(),(0,vo.j4)(c,{key:e.id,user:e,class:"list-item search-result"},null,8,["user"])})),128))])):"hashtags"===e.currenResultTab?((0,vo.wg)(),(0,vo.iD)("div",zp,[0===e.hashtags.length&&!e.loading&&e.loaded?((0,vo.wg)(),(0,vo.iD)("div",xp,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("search.no_results")),1)])):(0,vo.kq)("",!0),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.hashtags,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.url,class:"status trend search-result"},[(0,vo._)("div",Pp,[(0,vo.Wm)(l,{to:{name:"tag-timeline",params:{tag:t.name}}},{default:(0,vo.w5)((function(){return[(0,vo.Uk)(" #"+(0,bo.zw)(t.name),1)]})),_:2},1032,["to"]),e.lastHistoryRecord(t)?((0,vo.wg)(),(0,vo.iD)("div",Ip,[1==e.lastHistoryRecord(t).accounts?((0,vo.wg)(),(0,vo.iD)("span",Tp,(0,bo.zw)(e.$t("search.person_talking",{count:e.lastHistoryRecord(t).accounts})),1)):((0,vo.wg)(),(0,vo.iD)("span",Bp,(0,bo.zw)(e.$t("search.people_talking",{count:e.lastHistoryRecord(t).accounts})),1))])):(0,vo.kq)("",!0)]),e.lastHistoryRecord(t)?((0,vo.wg)(),(0,vo.iD)("div",$p,(0,bo.zw)(e.lastHistoryRecord(t).uses),1)):(0,vo.kq)("",!0)])})),128))])):(0,vo.kq)("",!0)]),Up])}]]);var Np={class:"settings panel panel-default"},Zp={class:"panel-heading"},Wp={key:0,class:"panel-body"},Hp={class:"container"},Vp={class:"text-fields"},Gp={class:"form--label",for:"sign-up-username"},Kp=["disabled","placeholder"],Yp={key:0,class:"form-error"},Qp={key:0},Jp={class:"form--label",for:"sign-up-fullname"},Xp=["disabled","placeholder"],em={key:1,class:"form-error"},tm={key:0},nm={class:"form--label",for:"email"},om=["disabled","aria-required"],rm={key:2,class:"form-error"},im={key:0},sm={class:"form-group"},am={class:"form--label",for:"bio"},um=["disabled","placeholder"],cm={class:"form--label",for:"sign-up-password"},lm=["disabled"],dm={key:3,class:"form-error"},pm={key:0},mm={class:"form--label",for:"sign-up-password-confirmation"},hm=["disabled"],fm={key:4,class:"form-error"},gm={key:0},vm={key:1},bm={class:"form--label",for:"sign-up-birthday"},wm=["disabled","max","aria-required"],ym={key:5,class:"form-error"},Dm={key:0},_m={key:1},km={key:6,class:"form-group"},Cm={class:"form--label",for:"reason"},Sm=["disabled","placeholder"],jm={key:7,id:"captcha-group",class:"form-group"},Fm={class:"form--label",for:"captcha-label"},Am=["src"],Om=["disabled"],Em={key:8,class:"form-group"},zm={for:"token"},xm={class:"form-group"},Pm=["disabled"],Im=["innerHTML"],Tm={key:0,class:"form-group"},Bm={class:"alert error"},$m={key:1},Um={class:"registration-notice"},Mm=n(21359),Lm=n(35332),Rm=n(95479),qm=n(27483);function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Wm={setup:function(){return{v$:(0,Mm.ZP)()}},data:function(){return{user:{email:"",fullname:"",username:"",password:"",confirm:"",birthday:"",reason:"",language:[""]},captcha:{}}},components:{InterfaceLanguageSwitcher:Rm.Z},validations:function(){var e=this;return{user:{email:{required:(0,Lm.CF)((function(){return e.accountActivationRequired}))},username:{required:Lm.C1},fullname:{required:Lm.C1},password:{required:Lm.C1},confirm:{required:Lm.C1,sameAs:(0,Lm.sH)(this.user.password)},birthday:{required:(0,Lm.CF)((function(){return e.birthdayRequired})),maxValue:function(t){return!e.birthdayRequired||new Date(t).getTime()<=e.birthdayMin.getTime()}},reason:{required:(0,Lm.CF)((function(){return e.accountApprovalRequired}))},language:{}}}},created:function(){(!this.registrationOpen&&!this.token||this.signedIn)&&this.$router.push({name:"root"}),this.setCaptcha()},computed:Zm({token:function(){return this.$route.params.token},bioPlaceholder:function(){return this.replaceNewlines(this.$t("registration.bio_placeholder"))},reasonPlaceholder:function(){return this.replaceNewlines(this.$t("registration.reason_placeholder"))},birthdayMin:function(){var e=this.birthdayMinAge,t=new Date;t.setUTCMilliseconds(0),t.setUTCSeconds(0),t.setUTCMinutes(0),t.setUTCHours(0);var n=new Date;return n.setTime(t.getTime()-e*qm.x4),n},birthdayMinAttr:function(){return this.birthdayMin.toJSON().replace(/T.+$/,"")},birthdayMinFormatted:function(){var e=Sd.Z.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.birthdayMin)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})}},(0,s.rn)({registrationOpen:function(e){return e.instance.registrationOpen},signedIn:function(e){return!!e.users.currentUser},isPending:function(e){return e.users.signUpPending},serverValidationErrors:function(e){return e.users.signUpErrors},signUpNotice:function(e){return e.users.signUpNotice},hasSignUpNotice:function(e){return!!e.users.signUpNotice.message},termsOfService:function(e){return e.instance.tos},accountActivationRequired:function(e){return e.instance.accountActivationRequired},accountApprovalRequired:function(e){return e.instance.accountApprovalRequired},birthdayRequired:function(e){return e.instance.birthdayRequired},birthdayMinAge:function(e){return e.instance.birthdayMinAge}})),methods:Zm(Zm({},(0,s.nv)(["signUp","getCaptcha"])),{},{submit:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.user.nickname=e.user.username,e.user.token=e.token,e.user.captcha_solution=e.captcha.solution,e.user.captcha_token=e.captcha.token,e.user.captcha_answer_data=e.captcha.answer_data,e.user.language&&(e.user.language=Sd.Z.internalToBackendLocaleMulti(e.user.language.filter((function(e){return e})))),e.v$.$touch(),e.v$.$invalid){t.next=19;break}return t.prev=8,t.next=11,e.signUp(e.user);case 11:"ok"===t.sent&&e.$router.push({name:"friends"}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),console.warn("Registration failed: ",t.t0),e.setCaptcha();case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()},setCaptcha:function(){var e=this;this.getCaptcha().then((function(t){e.captcha=t}))},replaceNewlines:function(e){return e.replace(/\s*\n\s*/g," \n")}})},Hm=(0,Zo.Z)(Wm,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("interface-language-switcher");return(0,vo.wg)(),(0,vo.iD)("div",Np,[(0,vo._)("div",Zp,(0,bo.zw)(e.$t("registration.registration")),1),e.hasSignUpNotice?((0,vo.wg)(),(0,vo.iD)("div",$m,[(0,vo._)("p",Um,(0,bo.zw)(e.signUpNotice.message),1)])):((0,vo.wg)(),(0,vo.iD)("div",Wp,[(0,vo._)("form",{class:"registration-form",onSubmit:t[12]||(t[12]=(0,lo.iM)((function(t){return e.submit(e.user)}),["prevent"]))},[(0,vo._)("div",Hp,[(0,vo._)("div",Vp,[(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.username.$error}])},[(0,vo._)("label",Gp,(0,bo.zw)(e.$t("login.username")),1),(0,vo.wy)((0,vo._)("input",{id:"sign-up-username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.v$.user.username.$model=t}),disabled:e.isPending,class:"input form-control","aria-required":!0,placeholder:e.$t("registration.username_placeholder")},null,8,Kp),[[lo.nr,e.v$.user.username.$model,void 0,{trim:!0}]])],2),e.v$.user.username.$dirty?((0,vo.wg)(),(0,vo.iD)("div",Yp,[(0,vo._)("ul",null,[e.v$.user.username.required?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("li",Qp,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.username_required")),1)]))])])):(0,vo.kq)("",!0),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.fullname.$error}])},[(0,vo._)("label",Jp,(0,bo.zw)(e.$t("registration.fullname")),1),(0,vo.wy)((0,vo._)("input",{id:"sign-up-fullname","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.v$.user.fullname.$model=t}),disabled:e.isPending,class:"input form-control","aria-required":!0,placeholder:e.$t("registration.fullname_placeholder")},null,8,Xp),[[lo.nr,e.v$.user.fullname.$model,void 0,{trim:!0}]])],2),e.v$.user.fullname.$dirty?((0,vo.wg)(),(0,vo.iD)("div",em,[(0,vo._)("ul",null,[e.v$.user.fullname.required?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("li",tm,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.fullname_required")),1)]))])])):(0,vo.kq)("",!0),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.email.$error}])},[(0,vo._)("label",nm,(0,bo.zw)(e.accountActivationRequired?e.$t("registration.email"):e.$t("registration.email_optional")),1),(0,vo.wy)((0,vo._)("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.v$.user.email.$model=t}),disabled:e.isPending,class:"input form-control",type:"email","aria-required":e.accountActivationRequired},null,8,om),[[lo.nr,e.v$.user.email.$model]])],2),e.v$.user.email.$dirty?((0,vo.wg)(),(0,vo.iD)("div",rm,[(0,vo._)("ul",null,[e.v$.user.email.required?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("li",im,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.email_required")),1)]))])])):(0,vo.kq)("",!0),(0,vo._)("div",sm,[(0,vo._)("label",am,(0,bo.zw)(e.$t("registration.bio_optional")),1),(0,vo.wy)((0,vo._)("textarea",{id:"bio","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.user.bio=t}),disabled:e.isPending,class:"input form-control",placeholder:e.bioPlaceholder},null,8,um),[[lo.nr,e.user.bio]])]),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.password.$error}])},[(0,vo._)("label",cm,(0,bo.zw)(e.$t("login.password")),1),(0,vo.wy)((0,vo._)("input",{id:"sign-up-password","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.user.password=t}),disabled:e.isPending,class:"input form-control",type:"password","aria-required":!0},null,8,lm),[[lo.nr,e.user.password]])],2),e.v$.user.password.$dirty?((0,vo.wg)(),(0,vo.iD)("div",dm,[(0,vo._)("ul",null,[e.v$.user.password.required?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("li",pm,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.password_required")),1)]))])])):(0,vo.kq)("",!0),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.confirm.$error}])},[(0,vo._)("label",mm,(0,bo.zw)(e.$t("registration.password_confirm")),1),(0,vo.wy)((0,vo._)("input",{id:"sign-up-password-confirmation","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.user.confirm=t}),disabled:e.isPending,class:"input form-control",type:"password","aria-required":!0},null,8,hm),[[lo.nr,e.user.confirm]])],2),e.v$.user.confirm.$dirty?((0,vo.wg)(),(0,vo.iD)("div",fm,[(0,vo._)("ul",null,[e.v$.user.confirm.required.$invalid?((0,vo.wg)(),(0,vo.iD)("li",gm,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.password_confirmation_required")),1)])):(0,vo.kq)("",!0),e.v$.user.confirm.sameAs.$invalid?((0,vo.wg)(),(0,vo.iD)("li",vm,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.password_confirmation_match")),1)])):(0,vo.kq)("",!0)])])):(0,vo.kq)("",!0),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.birthday.$error}])},[(0,vo._)("label",bm,(0,bo.zw)(e.birthdayRequired?e.$t("registration.birthday"):e.$t("registration.birthday_optional")),1),(0,vo.wy)((0,vo._)("input",{id:"sign-up-birthday","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.user.birthday=t}),disabled:e.isPending,class:"input form-control",type:"date",max:e.birthdayRequired?e.birthdayMinAttr:void 0,"aria-required":e.birthdayRequired},null,8,wm),[[lo.nr,e.user.birthday]])],2),e.v$.user.birthday.$dirty?((0,vo.wg)(),(0,vo.iD)("div",ym,[(0,vo._)("ul",null,[e.v$.user.birthday.required.$invalid?((0,vo.wg)(),(0,vo.iD)("li",Dm,[(0,vo._)("span",null,(0,bo.zw)(e.$t("registration.validations.birthday_required")),1)])):(0,vo.kq)("",!0),e.v$.user.birthday.maxValue.$invalid?((0,vo.wg)(),(0,vo.iD)("li",_m,[(0,vo._)("span",null,(0,bo.zw)(e.$tc("registration.validations.birthday_min_age",{date:e.birthdayMinFormatted})),1)])):(0,vo.kq)("",!0)])])):(0,vo.kq)("",!0),(0,vo._)("div",{class:(0,bo.C_)(["form-group",{"form-group--error":e.v$.user.language.$error}])},[(0,vo.Wm)(s,{for:"email-language","prompt-text":e.$t("registration.email_language"),language:e.v$.user.language.$model,"set-language":function(t){return e.v$.user.language.$model=t},onClick:t[7]||(t[7]=(0,lo.iM)((function(){}),["stop","prevent"]))},null,8,["prompt-text","language","set-language"])],2),e.accountApprovalRequired?((0,vo.wg)(),(0,vo.iD)("div",km,[(0,vo._)("label",Cm,(0,bo.zw)(e.$t("registration.reason")),1),(0,vo.wy)((0,vo._)("textarea",{id:"reason","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.user.reason=t}),disabled:e.isPending,class:"input form-control",placeholder:e.reasonPlaceholder},null,8,Sm),[[lo.nr,e.user.reason]])])):(0,vo.kq)("",!0),"none"!=e.captcha.type?((0,vo.wg)(),(0,vo.iD)("div",jm,[(0,vo._)("label",Fm,(0,bo.zw)(e.$t("registration.captcha")),1),["kocaptcha","native"].includes(e.captcha.type)?((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:0},[(0,vo._)("img",{src:e.captcha.url,onClick:t[9]||(t[9]=function(){return e.setCaptcha&&e.setCaptcha.apply(e,arguments)})},null,8,Am),(0,vo._)("sub",null,(0,bo.zw)(e.$t("registration.new_captcha")),1),(0,vo.wy)((0,vo._)("input",{id:"captcha-answer","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.captcha.solution=t}),disabled:e.isPending,class:"input form-control",type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,8,Om),[[lo.nr,e.captcha.solution]])],64)):(0,vo.kq)("",!0)])):(0,vo.kq)("",!0),e.token?((0,vo.wg)(),(0,vo.iD)("div",Em,[(0,vo._)("label",zm,(0,bo.zw)(e.$t("registration.token")),1),(0,vo.wy)((0,vo._)("input",{id:"token","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.token=t}),disabled:"true",class:"input form-control",type:"text"},null,512),[[lo.nr,e.token]])])):(0,vo.kq)("",!0),(0,vo._)("div",xm,[(0,vo._)("button",{disabled:e.isPending,type:"submit",class:"btn button-default"},(0,bo.zw)(e.$t("registration.register")),9,Pm)])]),(0,vo._)("div",{class:"terms-of-service",innerHTML:e.termsOfService},null,8,Im)]),e.serverValidationErrors.length?((0,vo.wg)(),(0,vo.iD)("div",Tm,[(0,vo._)("div",Bm,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.serverValidationErrors,(function(e){return(0,vo.wg)(),(0,vo.iD)("span",{key:e},(0,bo.zw)(e),1)})),128))])])):(0,vo.kq)("",!0)],32)]))])}]]);var Vm={class:"settings panel panel-default"},Gm={class:"panel-heading"},Km={class:"panel-body"},Ym={class:"container"},Qm={key:0},Jm={key:0},Xm={key:1},eh={key:1},th={key:0},nh={class:"form-group text-center"},oh={key:2},rh={key:0,class:"alert password-reset-required error"},ih={class:"form-group"},sh=["disabled","placeholder"],ah={class:"form-group"},uh=["disabled"],ch={key:3,class:"alert error notice-dismissible"};function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.NBC);var ph={data:function(){return{user:{email:""},isPending:!1,success:!1,throttled:!1,error:null}},computed:dh(dh({},(0,s.rn)({signedIn:function(e){return!!e.users.currentUser},instance:function(e){return e.instance}})),{},{mailerEnabled:function(){return this.instance.mailerEnabled}}),created:function(){this.signedIn&&this.$router.push({name:"root"})},props:{passwordResetRequested:{default:!1,type:Boolean}},methods:{dismissError:function(){this.error=null},submit:function(){var e=this;this.isPending=!0;var t=this.user.email;(function(e){var t=e.instance,n={email:e.email},o=$e()(n,(function(e,t,n){var o="".concat(n,"=").concat(encodeURIComponent(t));return"".concat(e,"&").concat(o)}),""),r="".concat(t).concat("/auth/password","?").concat(o);return window.fetch(r,{method:"POST"})})({instance:this.instance.server,email:t}).then((function(t){var n=t.status;e.isPending=!1,e.user.email="",204===n?(e.success=!0,e.error=null):429===n&&(e.throttled=!0,e.error=e.$t("password_reset.too_many_requests"))})).catch((function(){e.isPending=!1,e.user.email="",e.error=e.$t("general.generic_error")}))}}};const mh=ph,hh=(0,Zo.Z)(mh,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link"),a=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",Vm,[(0,vo._)("div",Gm,(0,bo.zw)(e.$t("password_reset.password_reset")),1),(0,vo._)("div",Km,[(0,vo._)("form",{class:"password-reset-form",onSubmit:t[2]||(t[2]=(0,lo.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,vo._)("div",Ym,[e.mailerEnabled?e.success||e.throttled?((0,vo.wg)(),(0,vo.iD)("div",eh,[e.success?((0,vo.wg)(),(0,vo.iD)("p",th,(0,bo.zw)(e.$t("password_reset.check_email")),1)):(0,vo.kq)("",!0),(0,vo._)("div",nh,[(0,vo.Wm)(s,{to:{name:"root"}},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("password_reset.return_home")),1)]})),_:1})])])):((0,vo.wg)(),(0,vo.iD)("div",oh,[e.passwordResetRequested?((0,vo.wg)(),(0,vo.iD)("p",rh,(0,bo.zw)(e.$t("password_reset.password_reset_required")),1)):(0,vo.kq)("",!0),(0,vo._)("p",null,(0,bo.zw)(e.$t("password_reset.instruction")),1),(0,vo._)("div",ih,[(0,vo.wy)((0,vo._)("input",{ref:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.email=t}),disabled:e.isPending,placeholder:e.$t("password_reset.placeholder"),class:"input form-control",type:"input"},null,8,sh),[[lo.nr,e.user.email]])]),(0,vo._)("div",ah,[(0,vo._)("button",{disabled:e.isPending,type:"submit",class:"btn button-default btn-block"},(0,bo.zw)(e.$t("settings.save")),9,uh)])])):((0,vo.wg)(),(0,vo.iD)("div",Qm,[e.passwordResetRequested?((0,vo.wg)(),(0,vo.iD)("p",Jm,(0,bo.zw)(e.$t("password_reset.password_reset_required_but_mailer_is_disabled")),1)):((0,vo.wg)(),(0,vo.iD)("p",Xm,(0,bo.zw)(e.$t("password_reset.password_reset_disabled")),1))])),e.error?((0,vo.wg)(),(0,vo.iD)("p",ch,[(0,vo._)("span",null,(0,bo.zw)(e.error),1),(0,vo._)("a",{class:"fa-scale-110 fa-old-padding dismiss",onClick:t[1]||(t[1]=(0,lo.iM)((function(t){return e.dismissError()}),["prevent"]))},[(0,vo.Wm)(a,{icon:"times"})])])):(0,vo.kq)("",!0)])],32)])])}]]);var fh={class:"settings panel panel-default"},gh={class:"panel-heading"},vh={class:"title"},bh={class:"panel-body"},wh={class:"follow-request-card-content-container"};const yh={props:["user"],components:{BasicUserCard:Ql.Z,ConfirmModal:ha.Z},data:function(){return{showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},methods:{findFollowRequestNotificationId:function(){var e=this,t=(0,ne.Bt)(this.$store).find((function(t){return t.from_profile.id===e.user.id&&"follow_request"===t.type}));return t&&t.id},showApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!1},approveUser:function(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove:function(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user);var e=this.findFollowRequestNotificationId();this.$store.dispatch("markSingleNotificationAsSeen",{id:e}),this.$store.dispatch("updateNotification",{id:e,updater:function(e){e.type="follow"}}),this.hideApproveConfirmDialog()},denyUser:function(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny:function(){var e=this,t=this.findFollowRequestNotificationId();this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){e.$store.dispatch("dismissNotificationLocal",{id:t}),e.$store.dispatch("removeFollowRequest",e.user)})),this.hideDenyConfirmDialog()}},computed:{mergedConfig:function(){return this.$store.getters.mergedConfig},shouldConfirmApprove:function(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny:function(){return this.mergedConfig.modalOnDenyFollow}}},Dh={components:{FollowRequestCard:(0,Zo.Z)(yh,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("confirm-modal"),a=(0,vo.up)("basic-user-card");return(0,vo.wg)(),(0,vo.j4)(a,{user:e.user},{default:(0,vo.w5)((function(){return[(0,vo._)("div",wh,[(0,vo._)("button",{class:"btn button-default",onClick:t[0]||(t[0]=function(){return e.approveUser&&e.approveUser.apply(e,arguments)})},(0,bo.zw)(e.$t("user_card.approve")),1),(0,vo._)("button",{class:"btn button-default",onClick:t[1]||(t[1]=function(){return e.denyUser&&e.denyUser.apply(e,arguments)})},(0,bo.zw)(e.$t("user_card.deny")),1)]),((0,vo.wg)(),(0,vo.j4)(vo.lR,{to:"#modal"},[e.showingApproveConfirmDialog?((0,vo.wg)(),(0,vo.j4)(s,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,vo.kq)("",!0),e.showingDenyConfirmDialog?((0,vo.wg)(),(0,vo.j4)(s,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,vo.kq)("",!0)]))]})),_:1},8,["user"])}]])},computed:{requests:function(){return this.$store.state.api.followRequests}}},_h=(0,Zo.Z)(Dh,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FollowRequestCard");return(0,vo.wg)(),(0,vo.iD)("div",fh,[(0,vo._)("div",gh,[(0,vo._)("div",vh,(0,bo.zw)(e.$t("nav.friend_requests")),1)]),(0,vo._)("div",bh,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.requests,(function(e){return(0,vo.wg)(),(0,vo.j4)(s,{key:e.id,user:e,class:"list-item"},null,8,["user"])})),128))])])}]]),kh={props:["code"],mounted:function(){var e=this;if(this.code){var t=this.$store.state.oauth,n=t.clientId,o=t.clientSecret;qe.getToken({clientId:n,clientSecret:o,instance:this.$store.state.instance.server,code:this.code}).then((function(t){e.$store.commit("setToken",t.access_token),e.$store.dispatch("loginUser",t.access_token),e.$router.push({name:"friends"})}))}}},Ch=(0,Zo.Z)(kh,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("h1",null,"...")}]]);var Sh={class:"panel panel-default"},jh={class:"panel-heading"},Fh={class:"panel-body"};const Ah={components:{FollowCard:sp},data:function(){return{users:[]}},mounted:function(){this.getWhoToFollow()},methods:{showWhoToFollow:function(e){var t=this;e.forEach((function(e,n){t.$store.state.api.backendInteractor.fetchUser({id:e.acct}).then((function(e){e.error||(t.$store.commit("addNewUsers",[e]),t.users.push(e))}))}))},getWhoToFollow:function(){var e=this,t=this.$store.state.users.currentUser.credentials;t&&p.ZP.suggestions({credentials:t}).then((function(t){e.showWhoToFollow(t)}))}}},Oh=(0,Zo.Z)(Ah,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FollowCard");return(0,vo.wg)(),(0,vo.iD)("div",Sh,[(0,vo._)("div",jh,(0,bo.zw)(e.$t("who_to_follow.who_to_follow")),1),(0,vo._)("div",Fh,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.users,(function(e){return(0,vo.wg)(),(0,vo.j4)(s,{key:e.id,user:e,class:"list-item"},null,8,["user"])})),128))])])}]]);var Eh={class:"column-inner"},zh={class:"panel panel-default"},xh={class:"panel-body"},Ph=["innerHTML"];const Ih={computed:{content:function(){return this.$store.state.instance.tos}}},Th=(0,Zo.Z)(Ih,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("div",null,[(0,vo._)("div",zh,[(0,vo._)("div",xh,[(0,vo._)("div",{class:"tos-content",innerHTML:e.content},null,8,Ph)])])])}]]);var Bh={class:"staff-panel"},$h={class:"panel panel-default base01-background"},Uh={class:"panel-heading timeline-heading base02-background"},Mh={class:"title"},Lh={class:"panel-body"};function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Nh={created:function(){var e=this;this.$store.state.instance.staffAccounts.forEach((function(t){return e.$store.dispatch("fetchUserIfMissing",t)}))},components:{BasicUserCard:Ql.Z},computed:qh(qh({groupedStaffAccounts:function(){var e=be()(this.staffAccounts,this.findUserByName).filter((function(e){return e})),t=Ot()(e,"role");return[{role:"admin",users:t.admin},{role:"moderator",users:t.moderator}].filter((function(e){return e.users}))}},(0,s.Se)(["findUserByName"])),(0,s.rn)({staffAccounts:function(e){return e.instance.staffAccounts}}))},Zh=(0,Zo.Z)(Nh,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("basic-user-card");return(0,vo.wg)(),(0,vo.iD)("div",Bh,[(0,vo._)("div",$h,[(0,vo._)("div",Uh,[(0,vo._)("div",Mh,(0,bo.zw)(e.$t("about.staff")),1)]),(0,vo._)("div",Lh,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.groupedStaffAccounts,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.role,class:"staff-group"},[(0,vo._)("h4",null,(0,bo.zw)(e.$t("general.role."+t.role)),1),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(t.users,(function(e){return(0,vo.wg)(),(0,vo.j4)(s,{key:e.screen_name,user:e},null,8,["user"])})),128))])})),128))])])])}]]);var Wh={key:0,class:"mrf-transparency-panel"},Hh={class:"panel panel-default base01-background"},Vh={class:"panel-heading timeline-heading base02-background"},Gh={class:"title"},Kh={class:"panel-body"},Yh={class:"mrf-section"},Qh=["textContent"],Jh={key:0},Xh={key:1},ef={key:0},tf={key:1},nf={key:2},of={key:0},rf={key:1},sf={key:3},af={key:0},uf={key:1},cf={key:4},lf={key:0},df={key:1},pf={key:5},mf={key:0},hf={key:1},ff={key:6},gf={key:0},vf={key:1},bf={key:7},wf={key:8},yf=["textContent"],Df={key:9},_f=["textContent"],kf={key:10};function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jf=function(e,t,n){return e.map((function(e){return t[n]&&t[n][e]&&t[n][e].reason?{instance:e,reason:t[n][e].reason}:{instance:e,reason:""}}))};const Ff={computed:Sf(Sf({},(0,s.rn)({federationPolicy:function(e){return ft()(e,"instance.federationPolicy")},mrfPolicies:function(e){return ft()(e,"instance.federationPolicy.mrf_policies",[])},quarantineInstances:function(e){return jf(ft()(e,"instance.federationPolicy.quarantined_instances",[]),ft()(e,"instance.federationPolicy.quarantined_instances_info",[]),"quarantined_instances")},acceptInstances:function(e){return jf(ft()(e,"instance.federationPolicy.mrf_simple.accept",[]),ft()(e,"instance.federationPolicy.mrf_simple_info",[]),"accept")},rejectInstances:function(e){return jf(ft()(e,"instance.federationPolicy.mrf_simple.reject",[]),ft()(e,"instance.federationPolicy.mrf_simple_info",[]),"reject")},ftlRemovalInstances:function(e){return jf(ft()(e,"instance.federationPolicy.mrf_simple.federated_timeline_removal",[]),ft()(e,"instance.federationPolicy.mrf_simple_info",[]),"federated_timeline_removal")},mediaNsfwInstances:function(e){return jf(ft()(e,"instance.federationPolicy.mrf_simple.media_nsfw",[]),ft()(e,"instance.federationPolicy.mrf_simple_info",[]),"media_nsfw")},mediaRemovalInstances:function(e){return jf(ft()(e,"instance.federationPolicy.mrf_simple.media_removal",[]),ft()(e,"instance.federationPolicy.mrf_simple_info",[]),"media_removal")},keywordsFtlRemoval:function(e){return ft()(e,"instance.federationPolicy.mrf_keyword.federated_timeline_removal",[])},keywordsReject:function(e){return ft()(e,"instance.federationPolicy.mrf_keyword.reject",[])},keywordsReplace:function(e){return ft()(e,"instance.federationPolicy.mrf_keyword.replace",[])}})),{},{hasInstanceSpecificPolicies:function(){return this.quarantineInstances.length||this.acceptInstances.length||this.rejectInstances.length||this.ftlRemovalInstances.length||this.mediaNsfwInstances.length||this.mediaRemovalInstances.length},hasKeywordPolicies:function(){return this.keywordsFtlRemoval.length||this.keywordsReject.length||this.keywordsReplace.length}})},Af={components:{InstanceSpecificPanel:wi,FeaturesPanel:xi,TermsOfServicePanel:Th,StaffPanel:Zh,MRFTransparencyPanel:(0,Zo.Z)(Ff,[["render",function(e,t,n,o,r,i){return e.federationPolicy?((0,vo.wg)(),(0,vo.iD)("div",Wh,[(0,vo._)("div",Hh,[(0,vo._)("div",Vh,[(0,vo._)("div",Gh,(0,bo.zw)(e.$t("about.mrf.federation")),1)]),(0,vo._)("div",Kh,[(0,vo._)("div",Yh,[(0,vo._)("h2",null,(0,bo.zw)(e.$t("about.mrf.mrf_policies")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.mrf_policies_desc")),1),(0,vo._)("ul",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.mrfPolicies,(function(e){return(0,vo.wg)(),(0,vo.iD)("li",{key:e,textContent:(0,bo.zw)(e)},null,8,Qh)})),128))]),e.hasInstanceSpecificPolicies?((0,vo.wg)(),(0,vo.iD)("h2",Jh,(0,bo.zw)(e.$t("about.mrf.simple.simple_policies")),1)):(0,vo.kq)("",!0),e.acceptInstances.length?((0,vo.wg)(),(0,vo.iD)("div",Xh,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.accept")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.accept_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.acceptInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_accept"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",ef,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",tf,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.rejectInstances.length?((0,vo.wg)(),(0,vo.iD)("div",nf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.reject")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.reject_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.rejectInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_reject"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",of,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",rf,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.quarantineInstances.length?((0,vo.wg)(),(0,vo.iD)("div",sf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.quarantine")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.quarantine_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.quarantineInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_quarantine"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",af,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",uf,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.ftlRemovalInstances.length?((0,vo.wg)(),(0,vo.iD)("div",cf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.ftl_removal")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.ftl_removal_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.ftlRemovalInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_ftl_removal"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",lf,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",df,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.mediaNsfwInstances.length?((0,vo.wg)(),(0,vo.iD)("div",pf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.media_nsfw")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.media_nsfw_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.mediaNsfwInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_media_nsfw"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",mf,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",hf,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.mediaRemovalInstances.length?((0,vo.wg)(),(0,vo.iD)("div",ff,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.simple.media_removal")),1),(0,vo._)("p",null,(0,bo.zw)(e.$t("about.mrf.simple.media_removal_desc")),1),(0,vo._)("table",null,[(0,vo._)("tr",null,[(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.instance")),1),(0,vo._)("th",null,(0,bo.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.mediaRemovalInstances,(function(t){return(0,vo.wg)(),(0,vo.iD)("tr",{key:t.instance+"_media_removal"},[(0,vo._)("td",null,(0,bo.zw)(t.instance),1),""===t.reason?((0,vo.wg)(),(0,vo.iD)("td",gf,(0,bo.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,vo.wg)(),(0,vo.iD)("td",vf,(0,bo.zw)(t.reason),1))])})),128))])])):(0,vo.kq)("",!0),e.hasKeywordPolicies?((0,vo.wg)(),(0,vo.iD)("h2",bf,(0,bo.zw)(e.$t("about.mrf.keyword.keyword_policies")),1)):(0,vo.kq)("",!0),e.keywordsFtlRemoval.length?((0,vo.wg)(),(0,vo.iD)("div",wf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.keyword.ftl_removal")),1),(0,vo._)("ul",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.keywordsFtlRemoval,(function(e){return(0,vo.wg)(),(0,vo.iD)("li",{key:e,textContent:(0,bo.zw)(e)},null,8,yf)})),128))])])):(0,vo.kq)("",!0),e.keywordsReject.length?((0,vo.wg)(),(0,vo.iD)("div",Df,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.keyword.reject")),1),(0,vo._)("ul",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.keywordsReject,(function(e){return(0,vo.wg)(),(0,vo.iD)("li",{key:e,textContent:(0,bo.zw)(e)},null,8,_f)})),128))])])):(0,vo.kq)("",!0),e.keywordsReplace.length?((0,vo.wg)(),(0,vo.iD)("div",kf,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("about.mrf.keyword.replace")),1),(0,vo._)("ul",null,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.keywordsReplace,(function(t){return(0,vo.wg)(),(0,vo.iD)("li",{key:t},(0,bo.zw)(t.pattern)+" "+(0,bo.zw)(e.$t("about.mrf.keyword.is_replaced_by"))+" "+(0,bo.zw)(t.replacement),1)})),128))])])):(0,vo.kq)("",!0)])])])])):(0,vo.kq)("",!0)}]])},computed:{showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent}}},Of=(0,Zo.Z)(Af,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("instance-specific-panel"),a=(0,vo.up)("staff-panel"),u=(0,vo.up)("terms-of-service-panel"),c=(0,vo.up)("MRFTransparencyPanel"),l=(0,vo.up)("features-panel");return(0,vo.wg)(),(0,vo.iD)("div",Eh,[e.showInstanceSpecificPanel?((0,vo.wg)(),(0,vo.j4)(s,{key:0})):(0,vo.kq)("",!0),(0,vo.Wm)(a),(0,vo.Wm)(u),(0,vo.Wm)(c),e.showFeaturesPanel?((0,vo.wg)(),(0,vo.j4)(l,{key:1})):(0,vo.kq)("",!0)])}]]);var Ef={class:"panel panel-default"},zf={class:"panel-heading"},xf={class:"panel-body"},Pf={key:0};const If={data:function(){return{error:!1}},mounted:function(){this.redirect()},methods:{redirect:function(){var e=this,t=this.$route.params.username+"@"+this.$route.params.hostname;this.$store.state.api.backendInteractor.fetchUser({id:t}).then((function(t){if(t.error)e.error=!0;else{e.$store.commit("addNewUsers",[t]);var n=t.id;e.$router.replace({name:"external-user-profile",params:{id:n}})}})).catch((function(){e.error=!0}))}}},Tf=(0,Zo.Z)(If,[["render",function(e,t,n,o,r,i){return(0,vo.wg)(),(0,vo.iD)("div",Ef,[(0,vo._)("div",zf,(0,bo.zw)(e.$t("remote_user_resolver.remote_user_resolver")),1),(0,vo._)("div",xf,[(0,vo._)("p",null,(0,bo.zw)(e.$t("remote_user_resolver.searching_for"))+" @"+(0,bo.zw)(e.$route.params.username)+"@"+(0,bo.zw)(e.$route.params.hostname),1),e.error?((0,vo.wg)(),(0,vo.iD)("p",Pf,(0,bo.zw)(e.$t("remote_user_resolver.error")),1)):(0,vo.kq)("",!0)])])}]]);var Bf={class:"Lists panel panel-default"},$f={class:"panel-heading"},Uf={class:"title"},Mf={class:"panel-body"},Lf={class:"list-card"};Lt.vI.add(Rt.cNd);const Rf={props:["list"]},qf={data:function(){return{isNew:!1}},components:{ListsCard:(0,Zo.Z)(Rf,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link"),a=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",Lf,[(0,vo.Wm)(s,{to:{name:"lists-timeline",params:{id:e.list.id}},class:"list-name"},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.list.title),1)]})),_:1},8,["to"]),(0,vo.Wm)(s,{to:{name:"lists-edit",params:{id:e.list.id}},class:"button-list-edit"},{default:(0,vo.w5)((function(){return[(0,vo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"ellipsis-h"})]})),_:1},8,["to"])])}]])},computed:{lists:function(){return this.$store.state.lists.allLists}},methods:{cancelNewList:function(){this.isNew=!1},newList:function(){this.isNew=!0}}},Nf=(0,Zo.Z)(qf,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("router-link"),a=(0,vo.up)("ListsCard");return(0,vo.wg)(),(0,vo.iD)("div",Bf,[(0,vo._)("div",$f,[(0,vo._)("div",Uf,(0,bo.zw)(e.$t("lists.lists")),1),(0,vo.Wm)(s,{to:{name:"lists-new"},class:"button-default btn new-list-button"},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("lists.new")),1)]})),_:1})]),(0,vo._)("div",Mf,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.lists.slice().reverse(),(function(e){return(0,vo.wg)(),(0,vo.j4)(a,{key:e,list:e,class:"list-item"},null,8,["list"])})),128))])])}]]),Zf=Nf,Wf={data:function(){return{listId:null}},components:{Timeline:qc},computed:{timeline:function(){return this.$store.state.statuses.timelines.list}},watch:{$route:function(e){"lists-timeline"===e.name&&e.params.id!==this.listId&&(this.listId=e.params.id,this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"}),this.$store.dispatch("fetchList",{listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId}))}},created:function(){this.listId=this.$route.params.id,this.$store.dispatch("fetchList",{listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"})}},Hf=(0,Zo.Z)(Wf,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:"list.name",timeline:e.timeline,"list-id":e.listId,"timeline-name":"list"},null,8,["timeline","list-id"])}]]);var Vf={class:"panel-default panel ListEdit"},Gf={ref:"header",class:"panel-heading list-edit-heading"},Kf={class:"title"},Yf={class:"panel-body"},Qf={class:"input-wrap"},Jf={for:"list-edit-title"},Xf=["label"],eg={class:"users-list"},tg=["onClick"],ng=["label"],og={key:0,class:"loading"},rg={key:1,class:"users-list"},ig={key:0},sg=["onClick"],ag=["onClick"],ug={class:"panel-footer"},cg=(0,vo._)("span",{class:"spacer"},null,-1),lg={class:"ListsUserSearch"},dg={class:"input-wrap"},pg={class:"input-search"},mg=["placeholder"],hg={class:"input-wrap"};Lt.vI.add(Rt.wn1,Rt.A35);const fg={components:{Checkbox:ci.Z},emits:["loading","loadingDone","results"],data:function(){return{loading:!1,query:"",followingOnly:!0}},methods:{onInput:Ks()((function(){this.search(this.query)}),2e3),search:function(e){var t=this;e?(this.loading=!0,this.$emit("loading"),this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts",following:this.followingOnly}).then((function(e){t.$emit("results",e.accounts.map((function(e){return e.id})))})).finally((function(){t.loading=!1,t.$emit("loadingDone")}))):this.loading=!1}}},gg=(0,Zo.Z)(fg,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("Checkbox");return(0,vo.wg)(),(0,vo.iD)("div",lg,[(0,vo._)("div",dg,[(0,vo._)("div",pg,[(0,vo.Wm)(s,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),(0,vo.wy)((0,vo._)("input",{ref:"search","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.query=t}),class:"input",placeholder:e.$t("lists.search"),onInput:t[1]||(t[1]=function(){return e.onInput&&e.onInput.apply(e,arguments)})},null,40,mg),[[lo.nr,e.query]])]),(0,vo._)("div",hg,[(0,vo.Wm)(a,{modelValue:e.followingOnly,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.followingOnly=t}),onChange:e.onInput},{default:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.$t("lists.following_only")),1)]})),_:1},8,["modelValue","onChange"])])])}]]);var vg=n(30727);function bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Lt.vI.add(Rt.wn1,Rt.A35);var yg={components:{BasicUserCard:Ql.Z,UserAvatar:Pl.default,ListsUserSearch:gg,TabSwitcher:dl.Z,PanelLoading:vg.Z},data:function(){return{title:"",titleDraft:"",membersUserIds:[],removedUserIds:new Set([]),searchUserIds:[],addedUserIds:new Set([]),searchLoading:!1,reallyDelete:!1}},created:function(){var e=this;this.id&&(this.$store.dispatch("fetchList",{listId:this.id}).then((function(){e.title=e.findListTitle(e.id),e.titleDraft=e.title})),this.$store.dispatch("fetchListAccounts",{listId:this.id}).then((function(){e.membersUserIds=e.findListAccounts(e.id),e.membersUserIds.forEach((function(t){e.$store.dispatch("fetchUserIfMissing",t)}))})))},computed:wg(wg({id:function(){return this.$route.params.id},membersUsers:function(){var e=this;return[].concat((0,l.Z)(this.membersUserIds),(0,l.Z)(this.addedUserIds)).map((function(t){return e.findUser(t)})).filter((function(e){return e}))},searchUsers:function(){var e=this;return this.searchUserIds.map((function(t){return e.findUser(t)})).filter((function(e){return e}))}},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),(0,s.Se)(["findUser","findListTitle","findListAccounts"])),methods:{onInput:function(){this.search(this.query)},toggleRemoveMember:function(e){this.removedUserIds.has(e.id)?(this.id&&this.addUser(e),this.removedUserIds.delete(e.id)):(this.id&&this.removeUser(e.id),this.removedUserIds.add(e.id))},toggleAddFromSearch:function(e){this.addedUserIds.has(e.id)?(this.id&&this.removeUser(e.id),this.addedUserIds.delete(e.id)):(this.id&&this.addUser(e),this.addedUserIds.add(e.id))},isRemoved:function(e){return this.removedUserIds.has(e.id)},isAdded:function(e){return this.addedUserIds.has(e.id)},addUser:function(e){this.$store.dispatch("addListAccount",{accountId:e.id,listId:this.id})},removeUser:function(e){this.$store.dispatch("removeListAccount",{accountId:e,listId:this.id})},onSearchLoading:function(e){this.searchLoading=!0},onSearchLoadingDone:function(e){this.searchLoading=!1},onSearchResults:function(e){this.searchLoading=!1,this.searchUserIds=e},updateListTitle:function(){var e=this;this.$store.dispatch("setList",{listId:this.id,title:this.titleDraft}).then((function(){e.title=e.findListTitle(e.id)}))},createList:function(){var e=this;this.$store.dispatch("createList",{title:this.titleDraft}).then((function(t){return e.$store.dispatch("setListAccounts",{listId:t.id,accountIds:(0,l.Z)(e.addedUserIds)}).then((function(){return t.id}))})).then((function(t){e.$router.push({name:"lists-timeline",params:{id:t}})})).catch((function(t){e.$store.dispatch("pushGlobalNotice",{messageKey:"lists.error",messageArgs:[t.message],level:"error"})}))},deleteList:function(){this.$store.dispatch("deleteList",{listId:this.id}),this.$router.push({name:"lists"})}}};const Dg=yg,_g=(0,Zo.Z)(Dg,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("FAIcon"),a=(0,vo.up)("i18n-t"),u=(0,vo.up)("BasicUserCard"),c=(0,vo.up)("ListsUserSearch"),l=(0,vo.up)("PanelLoading"),d=(0,vo.up)("tab-switcher");return(0,vo.wg)(),(0,vo.iD)("div",Vf,[(0,vo._)("div",Gf,[(0,vo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){var t;return e.$router.back&&(t=e.$router).back.apply(t,arguments)})},[(0,vo.Wm)(s,{size:"lg",icon:"chevron-left"})]),(0,vo._)("div",Kf,[e.id?((0,vo.wg)(),(0,vo.j4)(a,{key:0,keypath:"lists.editing_list"},{listTitle:(0,vo.w5)((function(){return[(0,vo.Uk)((0,bo.zw)(e.title),1)]})),_:1})):((0,vo.wg)(),(0,vo.j4)(a,{key:1,keypath:"lists.creating_list"}))])],512),(0,vo._)("div",Yf,[(0,vo._)("div",Qf,[(0,vo._)("label",Jf,(0,bo.zw)(e.$t("lists.title")),1),(0,vo.Uk)(" "+(0,bo.zw)(" ")+" "),(0,vo.wy)((0,vo._)("input",{id:"list-edit-title",ref:"title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.titleDraft=t}),class:"input"},null,512),[[lo.nr,e.titleDraft]]),e.id?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"btn button-default follow-button",onClick:t[2]||(t[2]=function(){return e.updateListTitle&&e.updateListTitle.apply(e,arguments)})},(0,bo.zw)(e.$t("lists.update_title")),1)):(0,vo.kq)("",!0)]),(0,vo.Wm)(d,{class:"list-member-management","scrollable-tabs":!0},{default:(0,vo.w5)((function(){return[e.id||e.addedUserIds.size>0?((0,vo.wg)(),(0,vo.iD)("div",{key:0,label:e.$t("lists.manage_members"),class:"members-list"},[(0,vo._)("div",eg,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.membersUsers,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.id,class:"member"},[(0,vo.Wm)(u,{user:t},{default:(0,vo.w5)((function(){return[(0,vo._)("button",{class:"btn button-default follow-button",onClick:function(n){return e.toggleRemoveMember(t)}},(0,bo.zw)(e.isRemoved(t)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,tg)]})),_:2},1032,["user"])])})),128))])],8,Xf)):(0,vo.kq)("",!0),(0,vo._)("div",{class:"search-list",label:e.$t("lists.add_members")},[(0,vo.Wm)(c,{onResults:e.onSearchResults,onLoading:e.onSearchLoading,onLoadingDone:e.onSearchLoadingDone},null,8,["onResults","onLoading","onLoadingDone"]),e.searchLoading?((0,vo.wg)(),(0,vo.iD)("div",og,[(0,vo.Wm)(l)])):((0,vo.wg)(),(0,vo.iD)("div",rg,[((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.searchUsers,(function(t){return(0,vo.wg)(),(0,vo.iD)("div",{key:t.id,class:"member"},[(0,vo.Wm)(u,{user:t},{default:(0,vo.w5)((function(){return[e.membersUserIds.includes(t.id)?((0,vo.wg)(),(0,vo.iD)("span",ig,(0,bo.zw)(e.$t("lists.is_in_list")),1)):(0,vo.kq)("",!0),e.membersUserIds.includes(t.id)?((0,vo.wg)(),(0,vo.iD)("button",{key:2,class:"btn button-default follow-button",onClick:function(n){return e.toggleRemoveMember(t)}},(0,bo.zw)(e.isRemoved(t)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,ag)):((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"btn button-default follow-button",onClick:function(n){return e.toggleAddFromSearch(t)}},(0,bo.zw)(e.isAdded(t)?e.$t("general.undo"):e.$t("lists.add_to_list")),9,sg))]})),_:2},1032,["user"])])})),128))]))],8,ng)]})),_:1})]),(0,vo._)("div",ug,[cg,e.id?e.reallyDelete?((0,vo.wg)(),(0,vo.iD)(vo.HY,{key:2},[(0,vo.Uk)((0,bo.zw)(e.$t("lists.really_delete"))+" ",1),(0,vo._)("button",{class:"btn button-default footer-button",onClick:t[5]||(t[5]=function(){return e.deleteList&&e.deleteList.apply(e,arguments)})},(0,bo.zw)(e.$t("general.yes")),1),(0,vo._)("button",{class:"btn button-default footer-button",onClick:t[6]||(t[6]=function(t){return e.reallyDelete=!1})},(0,bo.zw)(e.$t("general.no")),1)],64)):((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"btn button-default footer-button",onClick:t[4]||(t[4]=function(t){return e.reallyDelete=!0})},(0,bo.zw)(e.$t("lists.delete")),1)):((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:"btn button-default footer-button",onClick:t[3]||(t[3]=function(){return e.createList&&e.createList.apply(e,arguments)})},(0,bo.zw)(e.$t("lists.create")),1))])])}]]);var kg={class:"panel panel-default announcements-page"},Cg={class:"panel-heading"},Sg={class:"panel-body"},jg={key:0},Fg={class:"post-form"},Ag={class:"heading"},Og={class:"body"},Eg={class:"footer"},zg=["disabled"],xg={key:0,class:"alert error"},Pg={class:"announcement"},Ig={class:"heading"},Tg={class:"body"},Bg={class:"footer"},$g={key:0,class:"times"},Ug={key:0},Mg={key:1},Lg={key:2},Rg={key:1,class:"actions"},qg=["disabled","title"],Ng={key:2,class:"actions"},Zg={key:0,class:"alert error"},Wg={class:"announcement-editor"},Hg=["placeholder","disabled"],Vg={class:"announcement-metadata"},Gg={for:"announcement-start-time"},Kg=["type","disabled"],Yg={class:"announcement-metadata"},Qg={for:"announcement-end-time"},Jg=["type","disabled"],Xg={class:"announcement-metadata"},ev={for:"announcement-all-day"};const tv={components:{Checkbox:ci.Z},props:{announcement:Object,disabled:Boolean}},nv=(0,Zo.Z)(tv,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Checkbox");return(0,vo.wg)(),(0,vo.iD)("div",Wg,[(0,vo.wy)((0,vo._)("textarea",{ref:"textarea","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.announcement.content=t}),class:"input post-textarea",rows:"1",cols:"1",placeholder:e.$t("announcements.post_placeholder"),disabled:e.disabled},null,8,Hg),[[lo.nr,e.announcement.content]]),(0,vo._)("span",Vg,[(0,vo._)("label",Gg,(0,bo.zw)(e.$t("announcements.start_time_prompt")),1),(0,vo.wy)((0,vo._)("input",{id:"announcement-start-time","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.announcement.startsAt=t}),class:"input",type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,Kg),[[lo.YZ,e.announcement.startsAt]])]),(0,vo._)("span",Yg,[(0,vo._)("label",Qg,(0,bo.zw)(e.$t("announcements.end_time_prompt")),1),(0,vo.wy)((0,vo._)("input",{id:"announcement-end-time","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.announcement.endsAt=t}),class:"input",type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,Jg),[[lo.YZ,e.announcement.endsAt]])]),(0,vo._)("span",Xg,[(0,vo.Wm)(s,{id:"announcement-all-day",modelValue:e.announcement.allDay,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.announcement.allDay=t}),disabled:e.disabled},null,8,["modelValue","disabled"]),(0,vo._)("label",ev,(0,bo.zw)(e.$t("announcements.all_day_prompt")),1)])])}]]);function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const iv={components:{AnnouncementEditor:nv,RichContent:$l.Z},data:function(){return{editing:!1,editedAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:void 0},editError:""}},props:{announcement:Object},computed:rv(rv({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{canEditAnnouncement:function(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")},content:function(){return this.announcement.content},isRead:function(){return this.announcement.read},publishedAt:function(){var e=this.announcement.published_at;if(e)return this.formatTimeOrDate(e,Sd.Z.internalToBrowserLocale(this.$i18n.locale))},startsAt:function(){var e=this.announcement.starts_at;if(e)return this.formatTimeOrDate(e,Sd.Z.internalToBrowserLocale(this.$i18n.locale))},endsAt:function(){var e=this.announcement.ends_at;if(e)return this.formatTimeOrDate(e,Sd.Z.internalToBrowserLocale(this.$i18n.locale))},inactive:function(){return this.announcement.inactive}}),methods:{markAsRead:function(){if(!this.isRead)return this.$store.dispatch("markAnnouncementAsRead",this.announcement.id)},deleteAnnouncement:function(){return this.$store.dispatch("deleteAnnouncement",this.announcement.id)},formatTimeOrDate:function(e,t){var n=new Date(e);return this.announcement.all_day?n.toLocaleDateString(t):n.toLocaleString(t)},enterEditMode:function(){this.editedAnnouncement.content=this.announcement.pleroma.raw_content,this.editedAnnouncement.startsAt=this.announcement.starts_at,this.editedAnnouncement.endsAt=this.announcement.ends_at,this.editedAnnouncement.allDay=this.announcement.all_day,this.editing=!0},submitEdit:function(){var e=this;this.$store.dispatch("editAnnouncement",rv({id:this.announcement.id},this.editedAnnouncement)).then((function(){e.editing=!1})).catch((function(t){e.editError=t.error}))},cancelEdit:function(){this.editing=!1},clearError:function(){this.editError=void 0}}};function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const uv={components:{Announcement:(0,Zo.Z)(iv,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("rich-content"),a=(0,vo.up)("announcement-editor"),u=(0,vo.up)("FAIcon");return(0,vo.wg)(),(0,vo.iD)("div",Pg,[(0,vo._)("div",Ig,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("announcements.title")),1)]),(0,vo._)("div",Tg,[e.editing?((0,vo.wg)(),(0,vo.j4)(a,{key:1,announcement:e.editedAnnouncement},null,8,["announcement"])):((0,vo.wg)(),(0,vo.j4)(s,{key:0,html:e.content,emoji:e.announcement.emojis,"handle-links":!0},null,8,["html","emoji"]))]),(0,vo._)("div",Bg,[e.editing?(0,vo.kq)("",!0):((0,vo.wg)(),(0,vo.iD)("div",$g,[e.publishedAt?((0,vo.wg)(),(0,vo.iD)("span",Ug,(0,bo.zw)(e.$t("announcements.published_time_display",{time:e.publishedAt})),1)):(0,vo.kq)("",!0),e.startsAt?((0,vo.wg)(),(0,vo.iD)("span",Mg,(0,bo.zw)(e.$t("announcements.start_time_display",{time:e.startsAt})),1)):(0,vo.kq)("",!0),e.endsAt?((0,vo.wg)(),(0,vo.iD)("span",Lg,(0,bo.zw)(e.$t("announcements.end_time_display",{time:e.endsAt})),1)):(0,vo.kq)("",!0)])),e.editing?((0,vo.wg)(),(0,vo.iD)("div",Ng,[(0,vo._)("button",{class:"btn button-default",onClick:t[3]||(t[3]=function(){return e.submitEdit&&e.submitEdit.apply(e,arguments)})},(0,bo.zw)(e.$t("announcements.submit_edit_action")),1),(0,vo._)("button",{class:"btn button-default",onClick:t[4]||(t[4]=function(){return e.cancelEdit&&e.cancelEdit.apply(e,arguments)})},(0,bo.zw)(e.$t("announcements.cancel_edit_action")),1),e.editing&&e.editError?((0,vo.wg)(),(0,vo.iD)("div",Zg,[(0,vo.Uk)((0,bo.zw)(e.$t("announcements.edit_error",{error:e.error}))+" ",1),(0,vo._)("button",{class:"button-unstyled",onClick:t[5]||(t[5]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,vo.Wm)(u,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):(0,vo.kq)("",!0)])):((0,vo.wg)(),(0,vo.iD)("div",Rg,[e.currentUser?((0,vo.wg)(),(0,vo.iD)("button",{key:0,class:(0,bo.C_)(["btn button-default",{toggled:e.isRead}]),disabled:e.inactive,title:e.inactive?e.$t("announcements.inactive_message"):"",onClick:t[0]||(t[0]=function(){return e.markAsRead&&e.markAsRead.apply(e,arguments)})},(0,bo.zw)(e.$t("announcements.mark_as_read_action")),11,qg)):(0,vo.kq)("",!0),e.canEditAnnouncement?((0,vo.wg)(),(0,vo.iD)("button",{key:1,class:"btn button-default",onClick:t[1]||(t[1]=function(){return e.enterEditMode&&e.enterEditMode.apply(e,arguments)})},(0,bo.zw)(e.$t("announcements.edit_action")),1)):(0,vo.kq)("",!0),e.canEditAnnouncement?((0,vo.wg)(),(0,vo.iD)("button",{key:2,class:"btn button-default",onClick:t[2]||(t[2]=function(){return e.deleteAnnouncement&&e.deleteAnnouncement.apply(e,arguments)})},(0,bo.zw)(e.$t("announcements.delete_action")),1)):(0,vo.kq)("",!0)]))])])}]]),AnnouncementEditor:nv},data:function(){return{newAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:!1},posting:!1,error:void 0}},mounted:function(){this.$store.dispatch("fetchAnnouncements")},computed:av(av({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{announcements:function(){return this.$store.state.announcements.announcements},canPostAnnouncement:function(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")}}),methods:{postAnnouncement:function(){var e=this;this.posting=!0,this.$store.dispatch("postAnnouncement",this.newAnnouncement).then((function(){e.newAnnouncement.content="",e.startsAt=void 0,e.endsAt=void 0})).catch((function(t){e.error=t.error})).finally((function(){e.posting=!1}))},clearError:function(){this.error=void 0}}},cv=(0,Zo.Z)(uv,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("announcement-editor"),a=(0,vo.up)("FAIcon"),u=(0,vo.up)("announcement");return(0,vo.wg)(),(0,vo.iD)("div",kg,[(0,vo._)("div",Cg,[(0,vo._)("span",null,(0,bo.zw)(e.$t("announcements.page_header")),1)]),(0,vo._)("div",Sg,[e.canPostAnnouncement?((0,vo.wg)(),(0,vo.iD)("section",jg,[(0,vo._)("div",Fg,[(0,vo._)("div",Ag,[(0,vo._)("h4",null,(0,bo.zw)(e.$t("announcements.post_form_header")),1)]),(0,vo._)("div",Og,[(0,vo.Wm)(s,{announcement:e.newAnnouncement,disabled:e.posting},null,8,["announcement","disabled"])]),(0,vo._)("div",Eg,[(0,vo._)("button",{class:"btn button-default post-button",disabled:e.posting,onClick:t[0]||(t[0]=(0,lo.iM)((function(){return e.postAnnouncement&&e.postAnnouncement.apply(e,arguments)}),["prevent"]))},(0,bo.zw)(e.$t("announcements.post_action")),9,zg),e.error?((0,vo.wg)(),(0,vo.iD)("div",xg,[(0,vo.Uk)((0,bo.zw)(e.$t("announcements.post_error",{error:e.error}))+" ",1),(0,vo._)("button",{class:"button-unstyled",onClick:t[1]||(t[1]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,vo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):(0,vo.kq)("",!0)])])])):(0,vo.kq)("",!0),((0,vo.wg)(!0),(0,vo.iD)(vo.HY,null,(0,vo.Ko)(e.announcements,(function(e){return(0,vo.wg)(),(0,vo.iD)("section",{key:e.id},[(0,vo.Wm)(u,{announcement:e},null,8,["announcement"])])})),128))])])}]]),lv={created:function(){this.$store.commit("clearTimeline",{timeline:"quotes"}),this.$store.dispatch("startFetchingTimeline",{timeline:"quotes",statusId:this.statusId})},components:{Timeline:qc},computed:{statusId:function(){return this.$route.params.id},timeline:function(){return this.$store.state.statuses.timelines.quotes}},watch:{statusId:function(){this.$store.commit("clearTimeline",{timeline:"quotes"}),this.$store.dispatch("startFetchingTimeline",{timeline:"quotes",statusId:this.statusId})}},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","quotes")}},dv=(0,Zo.Z)(lv,[["render",function(e,t,n,o,r,i){var s=(0,vo.up)("Timeline");return(0,vo.wg)(),(0,vo.j4)(s,{title:e.$t("nav.quotes"),timeline:e.timeline,"timeline-name":"quotes","status-id":e.statusId},null,8,["title","timeline","status-id"])}]]),pv=function(e){var t=function(t,n,o){e.state.users.currentUser?o():o(e.state.instance.redirectRootNoLogin||"/main/all")},n=[{name:"root",path:"/",redirect:function(t){return(e.state.users.currentUser?e.state.instance.redirectRootLogin:e.state.instance.redirectRootNoLogin)||"/main/all"}},{name:"public-external-timeline",path:"/main/all",component:Hc},{name:"public-timeline",path:"/main/public",component:Zc},{name:"friends",path:"/main/friends",component:Gc,beforeEnter:t},{name:"tag-timeline",path:"/tag/:tag",component:Yc},{name:"bookmarks",path:"/bookmarks",component:Jc},{name:"conversation",path:"/notice/:id",component:el,meta:{dontScroll:!0}},{name:"quotes",path:"/notice/:id/quotes",component:dv},{name:"remote-user-profile-acct",path:"/remote-users/:_(@)?:username([^/@]+)@:hostname([^/@]+)",component:Tf,beforeEnter:t},{name:"remote-user-profile",path:"/remote-users/:hostname/:username",component:Tf,beforeEnter:t},{name:"external-user-profile",path:"/users/$:id",component:pp},{name:"interactions",path:"/users/:username/interactions",component:hl,beforeEnter:t},{name:"dms",path:"/users/:username/dms",component:gl,beforeEnter:t},{name:"registration",path:"/registration",component:Hm},{name:"password-reset",path:"/password-reset",component:hh,props:!0},{name:"registration-token",path:"/registration/:token",component:Hm},{name:"friend-requests",path:"/friend-requests",component:_h,beforeEnter:t},{name:"notifications",path:"/:username/notifications",component:ma.default,props:function(){return{disableTeleport:!0}},beforeEnter:t},{name:"login",path:"/login",component:Sr},{name:"shout-panel",path:"/shout-panel",component:as,props:function(){return{floating:!1}}},{name:"oauth-callback",path:"/oauth-callback",component:Ch,props:function(e){return{code:e.query.code}}},{name:"search",path:"/search",component:qp,props:function(e){return{query:e.query.query}}},{name:"who-to-follow",path:"/who-to-follow",component:Oh,beforeEnter:t},{name:"about",path:"/about",component:Of},{name:"announcements",path:"/announcements",component:cv},{name:"user-profile",path:"/users/:name",component:pp},{name:"legacy-user-profile",path:"/:name",component:pp},{name:"lists",path:"/lists",component:Zf},{name:"lists-timeline",path:"/lists/:id",component:Hf},{name:"lists-edit",path:"/lists/:id/edit",component:_g},{name:"lists-new",path:"/lists/new",component:_g},{name:"edit-navigation",path:"/nav-edit",component:mi,props:function(){return{forceExpand:!0,forceEditMode:!0}},beforeEnter:t}];return e.state.instance.pleromaChatMessagesAvailable&&(n=n.concat([{name:"chat",path:"/users/:username/chats/:recipient_id",component:$d,meta:{dontScroll:!1},beforeEnter:t},{name:"chats",path:"/users/:username/chats",component:sd,meta:{dontScroll:!1},beforeEnter:t}])),n};var mv,hv,fv=n(58509),gv=new Set([]),vv=function(e){var t=window.innerWidth-document.documentElement.clientWidth;fv.Qp(e,{reserveScrollBarGap:!0}),gv.add(e),setTimeout((function(){if(gv.size<=1){if(void 0===mv){var e=document.getElementById("nav");mv=window.getComputedStyle(e).getPropertyValue("padding-right"),e.style.paddingRight=mv?"calc(".concat(mv," + ").concat(t,"px)"):"".concat(t,"px")}if(void 0===hv){var n=document.getElementById("app_bg_wrapper");hv=window.getComputedStyle(n).getPropertyValue("right"),n.style.right=hv?"calc(".concat(hv," + ").concat(t,"px)"):"".concat(t,"px")}document.body.classList.add("scroll-locked")}}))},bv=function(e){gv.delete(e),setTimeout((function(){0===gv.size&&(void 0!==mv&&(document.getElementById("nav").style.paddingRight=mv,mv=void 0),void 0!==hv&&(document.getElementById("app_bg_wrapper").style.right=hv,hv=void 0),document.body.classList.remove("scroll-locked"))})),fv.tG(e)},wv={mounted:function(e,t){t.value&&vv(e)},updated:function(e,t){t.oldValue!==t.value&&(t.value?vv(e):bv(e))},unmounted:function(e){bv(e)}};const yv=function(e){e.directive("body-scroll-lock",wv)};var Dv=n(77394),_v=n(49753);function kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sv=null,jv=function(e){var t=atob(e),n=Uint8Array.from((0,l.Z)(t).map((function(e){return e.charCodeAt(0)})));return(new TextDecoder).decode(n)},Fv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.getElementById("initial-results")?(Sv||(Sv=JSON.parse(document.getElementById("initial-results").textContent)),Sv):null)&&n[t]){e.next=3;break}return e.abrupt("return",window.fetch(t));case 3:return o=jv(n[t]),r=JSON.parse(o),e.abrupt("return",{ok:!0,json:function(){return r},text:function(){return r}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Av=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,Fv("/api/v1/instance");case 4:if(!(o=e.sent).ok){e.next=18;break}return e.next=8,o.json();case 8:r=e.sent,s=r.max_toot_chars,a=r.pleroma.vapid_public_key,n.dispatch("setInstanceOption",{name:"textlimit",value:s}),n.dispatch("setInstanceOption",{name:"accountApprovalRequired",value:r.approval_required}),n.dispatch("setInstanceOption",{name:"birthdayRequired",value:!!r.pleroma.metadata.birthday_required}),n.dispatch("setInstanceOption",{name:"birthdayMinAge",value:r.pleroma.metadata.birthday_min_age||0}),a&&n.dispatch("setInstanceOption",{name:"vapidPublicKey",value:a}),e.next=19;break;case 18:throw o;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.error("Could not load instance config, potentially fatal"),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),Ov=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.store,e.prev=1,e.next=4,window.fetch("/api/pleroma/frontend_configurations");case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:return o=e.sent,e.abrupt("return",o.pleroma_fe);case 12:throw n;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Could not load backend-provided frontend config, potentially fatal"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),Ev=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.fetch("/static/config.json");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.json());case 8:throw t;case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("Failed to load static/config.json, continuing without it."),console.warn(e.t0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),zv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.apiConfig,o=t.staticConfig,r=t.store,s=window.___pleromafe_dev_overrides||{},a=window.___pleromafe_mode.NODE_ENV,u={},s.staticConfigPreference&&"development"===a?(console.warn("OVERRIDING API CONFIG WITH STATIC CONFIG"),u=Object.assign({},n,o)):u=Object.assign({},o,n),(c=function(e){r.dispatch("setInstanceOption",{name:e,value:u[e]})})("nsfwCensorImage"),c("background"),c("hidePostStats"),c("hideBotIndication"),c("hideUserStats"),c("hideFilteredStatuses"),c("logo"),r.dispatch("setInstanceOption",{name:"logoMask",value:void 0===u.logoMask||u.logoMask}),r.dispatch("setInstanceOption",{name:"logoMargin",value:void 0===u.logoMargin?0:u.logoMargin}),c("logoLeft"),r.commit("authFlow/setInitialStrategy",u.loginMethod),c("redirectRootNoLogin"),c("redirectRootLogin"),c("showInstanceSpecificPanel"),c("minimalScopesMode"),c("hideMutedPosts"),c("collapseMessageWithSubject"),c("scopeCopy"),c("subjectLineBehavior"),c("postContentType"),c("alwaysShowSubjectInput"),c("showFeaturesPanel"),c("hideSitename"),c("sidebarRight");case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,window.fetch("/static/terms-of-service.html");case 4:if(!(o=e.sent).ok){e.next=12;break}return e.next=8,o.text();case 8:r=e.sent,n.dispatch("setInstanceOption",{name:"tos",value:r}),e.next=13;break;case 12:throw o;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.warn("Can't load TOS"),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),Pv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,Fv("/instance/panel.html");case 4:if(!(o=e.sent).ok){e.next=12;break}return e.next=8,o.text();case 8:r=e.sent,n.dispatch("setInstanceOption",{name:"instanceSpecificPanelContent",value:r}),e.next=13;break;case 12:throw o;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.warn("Can't load instance panel"),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),Iv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,window.fetch("/static/stickers.json");case 4:if(!(r=e.sent).ok){e.next=15;break}return e.next=8,r.json();case 8:return s=e.sent,e.next=11,Promise.all(Object.entries(s).map(function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.Z)(t,2),o=n[0],r=n[1],e.next=3,window.fetch(r+"pack.json");case 3:if(s=e.sent,a={},!s.ok){e.next=9;break}return e.next=8,s.json();case 8:a=e.sent;case 9:return e.abrupt("return",{pack:o,path:r,meta:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:a=e.sent.sort((function(e,t){return e.meta.title.localeCompare(t.meta.title)})),n.dispatch("setInstanceOption",{name:"stickers",value:a}),e.next=16;break;case 15:throw r;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.warn("Can't load stickers"),console.warn(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),Tv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,o=n.state,r=n.commit,s=o.oauth,a=o.instance,e.abrupt("return",Me(Cv(Cv({},s),{},{instance:a.server,commit:r})).then((function(e){return Le(Cv(Cv({},e),{},{instance:a.server}))})).then((function(e){r("setAppToken",e.access_token),r("setBackendInteractor",Pe(n.getters.getToken()))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bv=function(e){var t=e.store,n=e.accounts.map((function(e){return e.split("/").pop()}));t.dispatch("setInstanceOption",{name:"staffAccounts",value:n})},$v=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,u,c,l,d,p,m,h,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,Fv("/nodeinfo/2.0.json");case 4:if(!(o=e.sent).ok){e.next=53;break}return e.next=8,o.json();case 8:r=e.sent,s=r.metadata,a=s.features,n.dispatch("setInstanceOption",{name:"name",value:s.nodeName}),n.dispatch("setInstanceOption",{name:"registrationOpen",value:r.openRegistrations}),n.dispatch("setInstanceOption",{name:"mediaProxyAvailable",value:a.includes("media_proxy")}),n.dispatch("setInstanceOption",{name:"safeDM",value:a.includes("safe_dm_mentions")}),n.dispatch("setInstanceOption",{name:"shoutAvailable",value:a.includes("chat")}),n.dispatch("setInstanceOption",{name:"pleromaChatMessagesAvailable",value:a.includes("pleroma_chat_messages")}),n.dispatch("setInstanceOption",{name:"pleromaCustomEmojiReactionsAvailable",value:a.includes("pleroma_custom_emoji_reactions")}),n.dispatch("setInstanceOption",{name:"gopherAvailable",value:a.includes("gopher")}),n.dispatch("setInstanceOption",{name:"pollsAvailable",value:a.includes("polls")}),n.dispatch("setInstanceOption",{name:"editingAvailable",value:a.includes("editing")}),n.dispatch("setInstanceOption",{name:"pollLimits",value:s.pollLimits}),n.dispatch("setInstanceOption",{name:"mailerEnabled",value:s.mailerEnabled}),n.dispatch("setInstanceOption",{name:"quotingAvailable",value:a.includes("quote_posting")}),n.dispatch("setInstanceOption",{name:"groupActorAvailable",value:a.includes("pleroma:group_actors")}),u=s.uploadLimits,n.dispatch("setInstanceOption",{name:"uploadlimit",value:parseInt(u.general)}),n.dispatch("setInstanceOption",{name:"avatarlimit",value:parseInt(u.avatar)}),n.dispatch("setInstanceOption",{name:"backgroundlimit",value:parseInt(u.background)}),n.dispatch("setInstanceOption",{name:"bannerlimit",value:parseInt(u.banner)}),n.dispatch("setInstanceOption",{name:"fieldsLimits",value:s.fieldsLimits}),n.dispatch("setInstanceOption",{name:"restrictedNicknames",value:s.restrictedNicknames}),n.dispatch("setInstanceOption",{name:"postFormats",value:s.postFormats}),c=s.suggestions,n.dispatch("setInstanceOption",{name:"suggestionsEnabled",value:c.enabled}),n.dispatch("setInstanceOption",{name:"suggestionsWeb",value:c.web}),l=r.software,n.dispatch("setInstanceOption",{name:"backendVersion",value:l.version}),n.dispatch("setInstanceOption",{name:"pleromaBackend",value:"pleroma"===l.name}),d=s.private,n.dispatch("setInstanceOption",{name:"private",value:d}),p=window.___pleromafe_commit_hash,n.dispatch("setInstanceOption",{name:"frontendVersion",value:p}),m=s.federation,n.dispatch("setInstanceOption",{name:"tagPolicyAvailable",value:void 0!==m.mrf_policies&&s.federation.mrf_policies.includes("TagPolicy")}),n.dispatch("setInstanceOption",{name:"federationPolicy",value:m}),n.dispatch("setInstanceOption",{name:"federating",value:void 0===m.enabled||m.enabled}),h=s.accountActivationRequired,n.dispatch("setInstanceOption",{name:"accountActivationRequired",value:h}),f=s.staffAccounts,Bv({store:n,accounts:f}),e.next=54;break;case 53:throw o;case 54:e.next=60;break;case 56:e.prev=56,e.t0=e.catch(1),console.warn("Could not load nodeinfo"),console.warn(e.t0);case 60:case"end":return e.stop()}}),e,null,[[1,56]])})));return function(t){return e.apply(this,arguments)}}(),Uv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,Promise.all([Ov({store:n}),Ev()]);case 3:return o=e.sent,r=o[0],s=o[1],e.next=8,zv({store:n,apiConfig:r,staticConfig:s}).then(Tv({store:n}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mv=function(){var e=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.store).getters.getUserToken()){e.next=10;break}return e.prev=2,e.next=5,n.dispatch("loginUser",n.getters.getUserToken());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();const Lv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,o=t.i18n,n.dispatch("setLayoutWidth",Ie()),n.dispatch("setLayoutHeight",Te()),_v.Z.initFaviconService(),(0,Ne.Wx)(n),window.addEventListener("focus",(function(){return(0,Ne.Aq)()})),r=window.___pleromafe_dev_overrides||{},s=void 0!==r.target?r.target:window.location.origin,n.dispatch("setInstanceOption",{name:"server",value:s}),e.next=11,Uv({store:n});case 11:return e.next=13,n.dispatch("setTheme");case 13:return(0,Dv.mg)(n.state.config),e.next=16,Promise.all([Mv({store:n}),Pv({store:n}),$v({store:n}),Av({store:n})]);case 16:return n.dispatch("fetchMutes"),n.dispatch("startFetchingAnnouncements"),xv({store:n}),Iv({store:n}),a=(0,po.p7)({history:(0,po.PO)(),routes:pv(n),scrollBehavior:function(e,t,n){return!e.matched.some((function(e){return e.meta.dontScroll}))&&(n||{left:0,top:0})}}),(u=(0,lo.ri)(Du)).use(a),u.use(n),u.use(o),u.use(ho()),u.use(yv),u.use(fo.ZP),u.component("FAIcon",go.GN),u.component("FALayers",go.NH),u.config.unwrapInjectedRef=!0,u.mount("#app"),e.abrupt("return",u);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Rv=(window.navigator.language||"en").split("-")[0],qv=(0,Xn.o)({locale:"en",fallbackLocale:"en",messages:co.Z.default});co.Z.setLanguage(qv.global,Rv);var Nv={paths:["serverSideStorage.cache","config","users.lastLoginName","oauth"]};(0,o.Z)(i().mark((function e(){var t,n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n=[uo],e.prev=2,e.next=5,ao(Nv);case 5:o=e.sent,n.push(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),t=!0;case 13:r=(0,s.MT)({modules:{i18n:{getters:{i18n:function(){return qv.global}}},interface:u.Z,instance:D,users:tt,statuses:te,notifications:se,lists:ce,api:dt,config:m.ZP,profileConfig:Dt,serverSideStorage:nn,adminSettings:dn,shout:pn,oauth:mn,authFlow:wn,mediaViewer:kn,oauthTokens:Cn,reports:An,polls:On,postStatus:En,editStatus:zn,statusHistory:xn,chats:Qn,announcements:Jn},plugins:n,strict:!1}),t&&r.dispatch("pushGlobalNotice",{messageKey:"errors.storage_unavailable",level:"error"}),Lv({store:r,i18n:qv});case 16:case"end":return e.stop()}}),e,null,[[2,9]])})))(),window.___pleromafe_mode={NODE_ENV:"production"},window.___pleromafe_commit_hash="83189d9d\n",window.___pleromafe_dev_overrides=void 0},85565:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>g,W2:()=>f,ZP:()=>v});var o=n(4942),r=n(29439),i=n(36968),s=n.n(i),a=n(6258),u=n(77394),c=n(72617),l=n(39776);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=new Set(["sidebarColumnWidth","contentColumnWidth","notifsColumnWidth","textSize","navbarSize","panelHeaderSize","forcedRoundness","emojiSize","emojiReactionsScale"]),f={expertLevel:0,theme:void 0,colors:{},customTheme:void 0,customThemeSource:void 0,themeDebug:!1,forceThemeRecompilation:!1,theme3hacks:{underlay:"none",fonts:{interface:void 0,input:void 0,post:void 0,monospace:void 0}},hideISP:!1,hideInstanceWallpaper:!1,hideShoutbox:!1,hideMutedPosts:void 0,hideMutedThreads:void 0,hideWordFilteredPosts:void 0,muteBotStatuses:void 0,muteSensitiveStatuses:void 0,collapseMessageWithSubject:void 0,padEmoji:!0,hideAttachments:!1,hideAttachmentsInConv:!1,hideScrobbles:!1,hideScrobblesAfter:"2d",maxThumbnails:16,hideNsfw:!0,preloadImage:!0,loopVideo:!0,loopVideoSilentOnly:!0,streaming:!1,emojiReactionsOnTimeline:!0,alwaysShowNewPostButton:!1,autohideFloatingPostButton:!1,pauseOnUnfocused:!0,stopGifs:!0,replyVisibility:"all",thirdColumnMode:"notifications",notificationVisibility:{follows:!0,mentions:!0,statuses:!0,likes:!0,repeats:!0,moves:!0,emojiReactions:!0,followRequest:!0,reports:!0,chatMention:!0,polls:!0},notificationNative:{follows:!0,mentions:!0,statuses:!0,likes:!1,repeats:!1,moves:!1,emojiReactions:!1,followRequest:!0,reports:!0,chatMention:!0,polls:!0},webPushNotifications:!1,webPushAlwaysShowNotifications:!1,muteWords:[],highlight:{},interfaceLanguage:(window.navigator.language||"en").split("-")[0],hideScopeNotice:!1,useStreamingApi:!1,sidebarRight:void 0,scopeCopy:void 0,subjectLineBehavior:void 0,alwaysShowSubjectInput:void 0,postContentType:void 0,minimalScopesMode:void 0,hideFilteredStatuses:void 0,modalOnRepeat:void 0,modalOnUnfollow:void 0,modalOnBlock:void 0,modalOnMute:void 0,modalOnDelete:void 0,modalOnLogout:void 0,modalOnApproveFollow:void 0,modalOnDenyFollow:void 0,modalOnRemoveUserFromFollowers:void 0,playVideosInModal:!1,useOneClickNsfw:!1,useContainFit:!0,disableStickyHeaders:!1,showScrollbars:!1,userPopoverAvatarAction:"open",userPopoverOverlay:!1,sidebarColumnWidth:"25rem",contentColumnWidth:"45rem",notifsColumnWidth:"25rem",emojiReactionsScale:void 0,textSize:void 0,emojiSize:void 0,navbarSize:void 0,panelHeaderSize:void 0,forcedRoundness:void 0,navbarColumnStretch:!1,greentext:void 0,useAtIcon:void 0,mentionLinkDisplay:void 0,mentionLinkShowTooltip:void 0,mentionLinkShowAvatar:void 0,mentionLinkFadeDomain:void 0,mentionLinkShowYous:void 0,mentionLinkBoldenYou:void 0,hidePostStats:void 0,hideBotIndication:void 0,hideUserStats:void 0,virtualScrolling:void 0,sensitiveByDefault:void 0,conversationDisplay:void 0,conversationTreeAdvanced:void 0,conversationOtherRepliesButton:void 0,conversationTreeFadeAncestors:void 0,showExtraNotifications:void 0,showExtraNotificationsTip:void 0,showChatsInExtraNotifications:void 0,showAnnouncementsInExtraNotifications:void 0,showFollowRequestsInExtraNotifications:void 0,maxDepthInThread:void 0,autocompleteSelect:void 0,closingDrawerMarksAsSeen:void 0,unseenAtTop:void 0,ignoreInactionableSeen:void 0},g=Object.entries(f).filter((function(e){var t=(0,r.Z)(e,2);return t[0],void 0===t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return t[1],n}));const v={state:m({},f),getters:{defaultConfig:function(e,t,n,o){var r=n.instance;return m(m({},f),Object.fromEntries(g.map((function(e){return[e,r[e]]}))))},mergedConfig:function(e,t,n,o){return m(m({},o.defaultConfig),Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,r.Z)(e,2);return t[0],void 0!==t[1]}))))}},mutations:{setOptionTemporarily:function(e,t){var n=t.name,o=t.value;s()(e,n,o),(0,u.mg)(e)},setOption:function(e,t){var n=t.name,o=t.value;s()(e,n,o)},setHighlight:function(e,t){var n=t.user,o=t.color,r=t.type,i=this.state.config.highlight[n];o||r?e.highlight[n]={color:o||i.color,type:r||i.type}:delete e.highlight[n]}},actions:{loadSettings:function(e,t){var n,o=e.dispatch,r=new Set(Object.keys(f)),i=new Set(Object.keys(t)),s=new Set,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(i);try{for(a.s();!(n=a.n()).done;){var u=n.value;r.has(u)&&s.add(u)}}catch(e){a.e(e)}finally{a.f()}s.forEach((function(e){return o("setOption",{name:e,value:t[e]})}))},setHighlight:function(e,t){var n=e.commit;e.dispatch,n("setHighlight",{user:t.user,color:t.color,type:t.type})},setOptionTemporarily:function(e,t){var n=e.commit,o=e.dispatch,r=e.state,i=e.rootState,s=t.name,a=t.value;if(null===i.interface.temporaryChangesTimeoutId){var u=r[s];n("setOptionTemporarily",{name:s,value:a});var c=function(){n("setOptionTemporarily",{name:s,value:u}),n("clearTemporaryChanges")};n("setTemporaryChanges",{timeoutId:setTimeout(c,1e4),confirm:function(){o("setOption",{name:s,value:a}),n("clearTemporaryChanges")},revert:c})}else console.warn("Can't track more than one temporary change")},setThemeV2:function(e,t){var n=e.commit,o=e.dispatch,r=t.customTheme,i=t.customThemeSource;n("setOption",{name:"theme",value:"custom"}),n("setOption",{name:"customTheme",value:r}),n("setOption",{name:"customThemeSource",value:i}),o("setTheme",{themeData:i,recompile:!0})},setOption:function(e,t){var n=e.commit,o=e.dispatch,r=e.state,i=t.name,s=t.value;if(new Set(["useStreamingApi"]).has(i))"useStreamingApi"===i&&o(s?"enableMastoSockets":"disableMastoSockets").then((function(){n("setOption",{name:"useStreamingApi",value:s})})).catch((function(e){console.error("Failed starting MastoAPI Streaming socket",e),o("disableMastoSockets"),o("setOption",{name:"useStreamingApi",value:!1})}));else switch(n("setOption",{name:i,value:s}),h.has(i)&&(0,u.mg)(r),i.startsWith("theme3hacks")&&o("setTheme",{recompile:!0}),i){case"theme":if("custom"===s)break;o("setTheme",{themeName:s,recompile:!0,saveData:!0});break;case"themeDebug":o("setTheme",{recompile:!0});break;case"interfaceLanguage":c.Z.setLanguage(this.getters.i18n,s),o("loadUnicodeEmojiData",s),a.Z.set("userLanguage",l.Z.internalToBackendLocaleMulti(s));break;case"thirdColumnMode":o("setLayoutWidth",void 0)}}}}},45140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,b:()=>p});var o=n(4942),r=n(29439),i=n(93433),s=n(77394),a=n(40454),u=n(2673);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d={state:{localFonts:null,themeApplied:!1,temporaryChangesTimeoutId:null,temporaryChangesConfirm:function(){},temporaryChangesRevert:function(){},settingsModalState:"hidden",settingsModalLoadedUser:!1,settingsModalLoadedAdmin:!1,settingsModalTargetTab:null,settingsModalMode:"user",settings:{currentSaveStateNotice:null,noticeClearTimeout:null,notificationPermission:null},browserSupport:{cssFilter:window.CSS&&window.CSS.supports&&(window.CSS.supports("filter","drop-shadow(0 0)")||window.CSS.supports("-webkit-filter","drop-shadow(0 0)")),localFonts:"function"==typeof window.queryLocalFonts},layoutType:"normal",globalNotices:[],layoutHeight:0,lastTimeline:null},mutations:{settingsSaved:function(e,t){var n=t.success,o=t.error;n?(e.noticeClearTimeout&&clearTimeout(e.noticeClearTimeout),e.settings.currentSaveStateNotice={error:!1,data:n},e.settings.noticeClearTimeout=setTimeout((function(){return delete e.settings.currentSaveStateNotice}),2e3)):e.settings.currentSaveStateNotice={error:!0,errorData:o}},setTemporaryChanges:function(e,t){var n=t.timeoutId,o=t.confirm,r=t.revert;e.temporaryChangesTimeoutId=n,e.temporaryChangesConfirm=o,e.temporaryChangesRevert=r},clearTemporaryChanges:function(e){clearTimeout(e.temporaryChangesTimeoutId),e.temporaryChangesTimeoutId=null,e.temporaryChangesConfirm=function(){},e.temporaryChangesRevert=function(){}},setThemeApplied:function(e){e.themeApplied=!0},setNotificationPermission:function(e,t){e.notificationPermission=t},setLayoutType:function(e,t){e.layoutType=t},closeSettingsModal:function(e){e.settingsModalState="hidden"},togglePeekSettingsModal:function(e){switch(e.settingsModalState){case"minimized":return void(e.settingsModalState="visible");case"visible":return void(e.settingsModalState="minimized");default:throw new Error("Illegal minimization state of settings modal")}},openSettingsModal:function(e,t){e.settingsModalMode=t,e.settingsModalState="visible","user"===t?e.settingsModalLoadedUser||(e.settingsModalLoadedUser=!0):"admin"===t&&(e.settingsModalLoadedAdmin||(e.settingsModalLoadedAdmin=!0))},setSettingsModalTargetTab:function(e,t){e.settingsModalTargetTab=t},pushGlobalNotice:function(e,t){e.globalNotices.push(t)},removeGlobalNotice:function(e,t){e.globalNotices=e.globalNotices.filter((function(e){return e!==t}))},setLayoutHeight:function(e,t){e.layoutHeight=t},setLayoutWidth:function(e,t){e.layoutWidth=t},setLastTimeline:function(e,t){e.lastTimeline=t},setFontsList:function(e,t){e.localFonts=(0,i.Z)(new Set(t.map((function(e){return e.family}))).values())}},actions:{setPageTitle:function(e){var t=e.rootState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.title="".concat(n," ").concat(t.instance.name)},settingsSaved:function(e,t){var n=e.commit;e.dispatch,n("settingsSaved",{success:t.success,error:t.error})},setNotificationPermission:function(e,t){(0,e.commit)("setNotificationPermission",t)},closeSettingsModal:function(e){(0,e.commit)("closeSettingsModal")},openSettingsModal:function(e){(0,e.commit)("openSettingsModal",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user")},togglePeekSettingsModal:function(e){(0,e.commit)("togglePeekSettingsModal")},clearSettingsModalTargetTab:function(e){(0,e.commit)("setSettingsModalTargetTab",null)},openSettingsModalTab:function(e,t){var n=e.commit;n("setSettingsModalTargetTab",t),n("openSettingsModal","user")},pushGlobalNotice:function(e,t){var n=e.commit,o=e.dispatch,r=e.state,i=t.messageKey,s=t.messageArgs,a=void 0===s?{}:s,u=t.level,c=void 0===u?"error":u,l=t.timeout,d=void 0===l?0:l;n("pushGlobalNotice",{messageKey:i,messageArgs:a,level:c});var p=r.globalNotices[r.globalNotices.length-1];return d&&setTimeout((function(){return o("removeGlobalNotice",p)}),d),p},removeGlobalNotice:function(e,t){(0,e.commit)("removeGlobalNotice",t)},setLayoutHeight:function(e,t){(0,e.commit)("setLayoutHeight",t)},setLayoutWidth:function(e,t){var n=e.commit,o=e.state,r=e.rootGetters,i=e.rootState,s=t;void 0!==t?n("setLayoutWidth",t):s=o.layoutWidth;var a=s<=800?"mobile":"normal";"none"!==r.mergedConfig.thirdColumnMode&&i.users.currentUser?n("setLayoutType",s>=1300?"wide":a):n("setLayoutType",a)},queryLocalFonts:function(e){var t=e.commit,n=e.dispatch,o=e.state;null===o.localFonts&&(t("setFontsList",[]),o.browserSupport.localFonts&&window.queryLocalFonts().then((function(e){t("setFontsList",e)})).catch((function(e){n("pushGlobalNotice",{messageKey:"settings.style.themes3.font.font_list_unavailable",messageArgs:{error:e},level:"error"})})))},setLastTimeline:function(e,t){(0,e.commit)("setLastTimeline",t)},setTheme:function(e){var t=e.commit,n=e.rootState,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.themeName,c=o.themeData,l=o.recompile,d=o.saveData,m=n.instance.theme,h=n.config,f=h.theme,g=h.customTheme,v=h.customThemeSource,b=h.forceThemeRecompilation,w=h.themeDebug,y=h.theme3hacks,D=f||m,_=b||l,k=null;if(c)k=Promise.resolve(p(c));else if(a)k=(0,s.I3)(a).then((function(e){return p(e)}));else if(v||g)k=Promise.resolve(p({_pleroma_theme_version:2,theme:g,source:v}));else{if(!D||"custom"===D)throw new Error("Cannot load any theme!");k=(0,s.I3)(D).then((function(e){var n=p(e);return D===m&&t("setInstanceOption",{name:"themeData",value:{theme:n}}),n}))}if(_||w||!(0,s.sE)())return k.then((function(e){var n=(0,u.FE)(e);d&&(t("setOption",{name:"theme",value:a||D}),t("setOption",{name:"customTheme",value:e}),t("setOption",{name:"customThemeSource",value:e}));var o=[];Object.entries(y).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];switch(n){case"fonts":Object.entries(y.fonts).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];if(null!=i&&i.family)switch(n){case"interface":o.push({component:"Root",directives:{"--font":"generic | "+i.family}});break;case"input":o.push({component:"Input",directives:{"--font":"generic | "+i.family}});break;case"post":o.push({component:"RichContent",directives:{"--font":"generic | "+i.family}});break;case"monospace":o.push({component:"Root",directives:{"--monoFont":"generic | "+i.family}})}}));break;case"underlay":if("none"!==i){var s={component:"Underlay",directives:{}};"opaque"===i&&(s.directives.opacity=1,s.directives.background="--wallpaper"),"transparent"===i&&(s.directives.opacity=0),o.push(s)}}}));var c=[].concat((0,i.Z)(n),o);(0,s._v)(c,(function(){return t("setThemeApplied")}),w)})),k;t("setThemeApplied")}}};var p=function(e){if(Array.isArray(e)){var t={colors:{}};return t.colors.bg=e[1],t.colors.fg=e[2],t.colors.text=e[3],t.colors.link=e[4],t.colors.cRed=e[5],t.colors.cGreen=e[6],t.colors.cBlue=e[7],t.colors.cOrange=e[8],(0,a.XV)(t).theme}var n,o,r;return 1===e.themeFileVerison?(0,a.XV)(e).theme:(Object.prototype.hasOwnProperty.call(e,"_pleroma_theme_version")||Object.prototype.hasOwnProperty.call(e,"source")||Object.prototype.hasOwnProperty.call(e,"theme")?(n=e.theme,o=e.source):Object.prototype.hasOwnProperty.call(e,"themeEngineVersion")&&(n=e,o=e),r=o&&o.themeEngineVersion===a.we?l(l({},n||{}),o):n,(0,a.XV)(r).theme)}},77776:(e,t,n)=>{"use strict";n.d(t,{ro:()=>qe,_z:()=>Ze,ZP:()=>We,pR:()=>Me});var o=n(15861),r=n(44925),i=n(29439),s=n(4942),a=n(27361),u=n.n(a),c=n(10928),l=n.n(c),d=n(57043),p=n.n(d),m=n(35161),h=n.n(m),f=n(66073),g=n.n(f),v=n(64687),b=n.n(v),w=n(27742),y=n(71002),D=n(43144),_=n(15671),k=n(73930),C=n(61120),S=n(60136),j=n(72407),F=n(93433),A=n(48403),O=n.n(A);function E(e,t,n){return t=(0,C.Z)(t),(0,k.Z)(e,z()?Reflect.construct(t,n||[],(0,C.Z)(e).constructor):t.apply(e,n))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}function x(e,t,n,o){this.name="StatusCodeError",this.statusCode=e,this.message=e+" - "+(JSON&&JSON.stringify?JSON.stringify(t):t),this.error=t,this.options=n,this.response=o,Error.captureStackTrace&&Error.captureStackTrace(this)}x.prototype=Object.create(Error.prototype),x.prototype.constructor=x;var P=function(e){function t(e){var n,o;(0,_.Z)(this,t),n=E(this,t),Error.captureStackTrace&&Error.captureStackTrace(n);try{if("string"==typeof e&&(e=JSON.parse(e)).hasOwnProperty("error")&&(e=JSON.parse(e.error)),"object"===(0,y.Z)(e)){var r=JSON.parse(e.error);r.ap_id&&(r.username=r.ap_id,delete r.ap_id),n.message=(o=r,Object.entries(o).reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],r=n[1].reduce((function(e,t){return e+[O()(o.replace(/_/g," ")),t].join(" ")+". "}),"");return[].concat((0,F.Z)(e),[r])}),[]))}else n.message=e}catch(t){n.message=e}return n}return(0,S.Z)(t,e),(0,D.Z)(t)}((0,j.Z)(Error)),I=["nickname"],T=["id","credentials"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U="/api/pleroma/aliases",M="/api/pleroma/admin/users/tag",L=function(e,t){return"/api/pleroma/admin/users/".concat(e,"/permission_group/").concat(t)},R=function(e){return"/api/v1/notifications/".concat(e,"/dismiss")},q=function(e){return"/api/v1/statuses/".concat(e,"/favourite")},N=function(e){return"/api/v1/statuses/".concat(e,"/unfavourite")},Z=function(e){return"/api/v1/statuses/".concat(e,"/reblog")},W=function(e){return"/api/v1/statuses/".concat(e,"/unreblog")},H=function(e){return"/api/v1/statuses/".concat(e)},V="/api/v1/timelines/public",G=function(e){return"/api/v1/statuses/".concat(e)},K=function(e){return"/api/v1/accounts/".concat(e,"/statuses")},Y=function(e){return"/api/v1/lists/".concat(e)},Q=function(e){return"/api/v1/timelines/list/".concat(e)},J=function(e){return"/api/v1/lists/".concat(e,"/accounts")},X=function(e){return"/api/v1/timelines/tag/".concat(e)},ee=function(e){return"/api/v1/accounts/".concat(e,"/mute")},te=function(e){return"/api/v1/accounts/".concat(e,"/unmute")},ne=function(e){return"/api/v1/pleroma/accounts/".concat(e,"/subscribe")},oe=function(e){return"/api/v1/pleroma/accounts/".concat(e,"/unsubscribe")},re=function(e){return"/api/v1/accounts/".concat(e,"/note")},ie=function(e){return"/api/v1/statuses/".concat(e,"/bookmark")},se=function(e){return"/api/v1/statuses/".concat(e,"/unbookmark")},ae="/api/v1/media",ue=function(e){return"/api/v1/statuses/".concat(e,"/favourited_by")},ce=function(e){return"/api/v1/statuses/".concat(e,"/reblogged_by")},le="/api/v1/accounts/update_credentials",de=function(e){return"/api/v1/statuses/".concat(e,"/pin")},pe=function(e){return"/api/v1/statuses/".concat(e,"/unpin")},me=function(e){return"/api/v1/statuses/".concat(e,"/mute")},he=function(e){return"/api/v1/statuses/".concat(e,"/unmute")},fe="/api/v1/domain_blocks",ge="/api/v1/lists",ve=function(e){return"/api/v1/announcements/".concat(e,"/dismiss")},be=function(e){return"/api/v1/pleroma/statuses/".concat(e,"/reactions")},we=function(e,t){return"/api/v1/pleroma/statuses/".concat(e,"/reactions/").concat(t)},ye=function(e,t){return"/api/v1/pleroma/statuses/".concat(e,"/reactions/").concat(t)},De=function(e){return"/api/v1/pleroma/chats/".concat(e,"/messages")},_e=function(e){return"/api/v1/pleroma/chats/".concat(e,"/read")},ke=function(e,t){return"/api/v1/pleroma/chats/".concat(e,"/messages/").concat(t)},Ce="/api/v1/pleroma/backups",Se=function(e){return"/api/v1/pleroma/admin/announcements/".concat(e)},je=function(e){return"/api/v1/pleroma/admin/announcements/".concat(e)},Fe=function(e){return"/api/v1/pleroma/statuses/".concat(e,"/quotes")},Ae=function(e){return"/api/v1/pleroma/accounts/".concat(e,"/favourites")},Oe="/api/pleroma/admin/config",Ee=function(e){return"/api/v1/pleroma/emoji/pack?name=".concat(e)},ze=function(e){return"/api/v1/pleroma/emoji/packs/files?name=".concat(e)},xe=window.fetch,Pe=function(e,t){var n=""+e;return(t=t||{}).credentials="same-origin",xe(n,t)},Ie=function(e){var t=e.method,n=e.url,o=e.params,r=e.payload,s=e.credentials,a=e.headers,u={method:t,headers:$({Accept:"application/json","Content-Type":"application/json"},void 0===a?{}:a)};return o&&(n+="?"+Object.entries(o).map((function(e){var t=(0,i.Z)(e,2),n=t[0],o=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(o)})).join("&")),r&&(u.body=JSON.stringify(r)),s&&(u.headers=$($({},u.headers),Te(s))),Pe(n,u).then((function(e){return new Promise((function(t,o){return e.json().then((function(r){return e.ok?t(r):o(new x(e.status,r,{url:n,options:u},e))})).catch((function(t){return o(new x(e.status,t,{url:n,options:u},e))}))}))}))},Te=function(e){return e?{Authorization:"Bearer ".concat(e)}:{}},Be=function(e){var t=e.id,n=e.credentials,o="".concat("/api/v1/accounts","/").concat(t);return Ie({url:o,credentials:n}).then((function(e){return(0,w.nL)(e)}))},$e=function(e){var t=e.id,n=e.maxId,o=e.sinceId,r=e.limit,i=void 0===r?20:r,s=e.credentials,a=function(e){return"/api/v1/accounts/".concat(e,"/following")}(t),u=[n&&"max_id=".concat(n),o&&"since_id=".concat(o),i&&"limit=".concat(i),"with_relationships=true"].filter((function(e){return e})).join("&");return Pe(a+=u?"?"+u:"",{headers:Te(s)}).then((function(e){return e.json()})).then((function(e){return e.map(w.nL)}))},Ue=function(e){var t=e.content,n=e.startsAt,o=e.endsAt,r=e.allDay,i={content:t};return void 0!==n&&(i.starts_at=n?new Date(n).toISOString():null),void 0!==o&&(i.ends_at=o?new Date(o).toISOString():null),void 0!==r&&(i.all_day=r),i},Me=function(e){var t=e.credentials,n=e.stream,o=e.args,r=void 0===o?{}:o;return Object.entries($($({},t?{access_token:t}:{}),{},{stream:n},r)).reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],r=n[1];return e+"".concat(o,"=").concat(r,"&")}),"/api/v1/streaming?")},Le=new Set(["update","notification","delete","filters_changed","status.update"]),Re=new Set(["pleroma:chat_update"]),qe=function(e){var t=e.url,n=e.preprocessor,o=void 0===n?Ne:n,r=e.id,i=void 0===r?"Unknown":r,s=new EventTarget,a=new WebSocket(t);if(!a)throw new Error("Failed to create socket ".concat(i));var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};e.addEventListener(t,(function(e){s.dispatchEvent(new CustomEvent(t,{detail:n(e)}))}))};return a.addEventListener("open",(function(e){console.debug("[WS][".concat(i,"] Socket connected"),e)})),a.addEventListener("error",(function(e){console.debug("[WS][".concat(i,"] Socket errored"),e)})),a.addEventListener("close",(function(e){console.debug("[WS][".concat(i,"] Socket disconnected with code ").concat(e.code),e)})),u(a,"open"),u(a,"close"),u(a,"message",o),u(a,"error"),s.close=function(){a.close(1e3,"Shutting down socket")},s.getState=function(){return a.readyState},s},Ne=function(e){var t=e.data;if(t){var n=JSON.parse(t),o=n.event,r=n.payload;if(!Le.has(o)&&!Re.has(o))return console.warn("Unknown event",e),null;if("delete"===o)return{event:o,id:r};var i=r?JSON.parse(r):null;return"update"===o||"status.update"===o?{event:o,status:(0,w.Wn)(i)}:"notification"===o?{event:o,notification:(0,w.eM)(i)}:"pleroma:chat_update"===o?{event:o,chatUpdate:(0,w._J)(i)}:void 0}},Ze=Object.freeze({JOINED:1,CLOSED:2,ERROR:3,DISABLED:4,STARTING:5,STARTING_INITIAL:6});const We={verifyCredentials:function(e){return Pe("/api/v1/accounts/verify_credentials",{headers:Te(e)}).then((function(e){return e.ok?e.json():{error:e}})).then((function(e){return e.error?e:(0,w.nL)(e)}))},fetchTimeline:function(e){var t=e.timeline,n=e.credentials,r=e.since,i=void 0!==r&&r,s=e.minId,a=void 0!==s&&s,u=e.until,c=void 0!==u&&u,l=e.userId,d=void 0!==l&&l,p=e.listId,m=void 0!==p&&p,f=e.statusId,g=void 0!==f&&f,v=e.tag,y=void 0!==v&&v,D=e.withMuted,_=void 0!==D&&D,k=e.replyVisibility,C=void 0===k?"all":k,S=e.includeTypes,j=void 0===S?[]:S,F={public:V,friends:"/api/v1/timelines/home",dms:"/api/v1/timelines/direct",notifications:"/api/v1/notifications",publicAndExternal:V,user:K,media:K,list:Q,favorites:"/api/v1/favourites",publicFavorites:Ae,tag:X,bookmarks:"/api/v1/bookmarks",quotes:Fe},A="notifications"===t,O=[],E=F[t];"favorites"===t&&d&&(E=F.publicFavorites(d)),"user"!==t&&"media"!==t||(E=E(d)),"list"===t&&(E=E(m)),"quotes"===t&&(E=E(g)),a&&O.push(["min_id",a]),i&&O.push(["since_id",i]),c&&O.push(["max_id",c]),y&&(E=E(y)),"media"===t&&O.push(["only_media",1]),"public"===t&&O.push(["local",!0]),"public"!==t&&"publicAndExternal"!==t||O.push(["only_media",!1]),"favorites"!==t&&"bookmarks"!==t&&O.push(["with_muted",_]),"all"!==C&&O.push(["reply_visibility",C]),j.length>0&&j.forEach((function(e){O.push(["include_types[]",e])})),O.push(["limit",20]);var z=h()(O,(function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return E+="?".concat(z),Pe(E,{headers:Te(n)}).then(function(){var e=(0,o.Z)(b().mark((function e(n){var o,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.ok,e.next=3,n.json();case 3:if(r=e.sent,!o||r.errors){e.next=9;break}return i=(0,w.Nw)(n.headers.get("Link"),{flakeId:"bookmarks"!==t&&"notifications"!==t}),e.abrupt("return",{data:r.map(A?w.eM:w.Wn),pagination:i});case 9:return r.errors||(r.errors=[]),r.status=n.status,r.statusText=n.statusText,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchPinnedStatuses:function(e){var t=e.id,n=e.credentials,o=K(t)+"?pinned=true";return Ie({url:o,credentials:n}).then((function(e){return e.map(w.Wn)}))},fetchConversation:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/statuses/".concat(e,"/context")}(t);return Pe(o,{headers:Te(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching timeline",e)})).then((function(e){return e.json()})).then((function(e){var t=e.ancestors,n=e.descendants;return{ancestors:t.map(w.Wn),descendants:n.map(w.Wn)}}))},fetchStatus:function(e){var t=e.id,n=e.credentials,o=G(t);return Pe(o,{headers:Te(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching timeline",e)})).then((function(e){return e.json()})).then((function(e){return(0,w.Wn)(e)}))},fetchStatusSource:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/statuses/".concat(e,"/source")}(t);return Pe(o,{headers:Te(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching source",e)})).then((function(e){return e.json()})).then((function(e){return(0,w.P7)(e)}))},fetchStatusHistory:function(e){var t,n=e.status,o=e.credentials,r=(t=n.id,"/api/v1/statuses/".concat(t,"/history"));return Ie({url:r,credentials:o}).then((function(e){return e.reverse(),e.map((function(e){return e.originalStatus=n,(0,w.Wn)(e)}))}))},fetchFriends:$e,exportFriends:function(e){var t=e.id,n=e.credentials;return new Promise(function(){var e=(0,o.Z)(b().mark((function e(o,r){var i,s,a,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=[],s=!0;case 3:if(!s){e.next=12;break}return a=i.length>0?l()(i).id:void 0,e.next=7,$e({id:t,maxId:a,credentials:n});case 7:u=e.sent,i=p()(i,u),0===u.length&&(s=!1),e.next=3;break;case 12:o(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}())},fetchFollowers:function(e){var t=e.id,n=e.maxId,o=e.sinceId,r=e.limit,i=void 0===r?20:r,s=e.credentials,a=function(e){return"/api/v1/accounts/".concat(e,"/followers")}(t),u=[n&&"max_id=".concat(n),o&&"since_id=".concat(o),i&&"limit=".concat(i),"with_relationships=true"].filter((function(e){return e})).join("&");return Pe(a+=u?"?"+u:"",{headers:Te(s)}).then((function(e){return e.json()})).then((function(e){return e.map(w.nL)}))},followUser:function(e){var t=e.id,n=e.credentials,o=(0,r.Z)(e,T),i=function(e){return"/api/v1/accounts/".concat(e,"/follow")}(t),s={};return void 0!==o.reblogs&&(s.reblogs=o.reblogs),Pe(i,{body:JSON.stringify(s),headers:$($({},Te(n)),{},{"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))},unfollowUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/accounts/".concat(e,"/unfollow")}(t);return Pe(o,{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},pinOwnStatus:function(e){var t=e.id,n=e.credentials;return Ie({url:de(t),credentials:n,method:"POST"}).then((function(e){return(0,w.Wn)(e)}))},unpinOwnStatus:function(e){var t=e.id,n=e.credentials;return Ie({url:pe(t),credentials:n,method:"POST"}).then((function(e){return(0,w.Wn)(e)}))},muteConversation:function(e){var t=e.id,n=e.credentials;return Ie({url:me(t),credentials:n,method:"POST"}).then((function(e){return(0,w.Wn)(e)}))},unmuteConversation:function(e){var t=e.id,n=e.credentials;return Ie({url:he(t),credentials:n,method:"POST"}).then((function(e){return(0,w.Wn)(e)}))},blockUser:function(e){var t=e.id,n=e.credentials;return Pe(function(e){return"/api/v1/accounts/".concat(e,"/block")}(t),{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},unblockUser:function(e){var t=e.id,n=e.credentials;return Pe(function(e){return"/api/v1/accounts/".concat(e,"/unblock")}(t),{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},removeUserFromFollowers:function(e){var t=e.id,n=e.credentials;return Pe(function(e){return"/api/v1/accounts/".concat(e,"/remove_from_followers")}(t),{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},editUserNote:function(e){var t=e.id,n=e.credentials,o=e.comment;return Ie({url:re(t),credentials:n,payload:{comment:o},method:"POST"})},fetchUser:Be,fetchUserByName:function(e){var t=e.name,n=e.credentials;return Ie({url:"/api/v1/accounts/lookup",credentials:n,params:{acct:t}}).then((function(e){return e.id})).catch((function(e){if(e&&404===e.statusCode)return t;throw e})).then((function(e){return Be({id:e,credentials:n})}))},fetchUserRelationship:function(e){var t=e.id,n=e.credentials,o="".concat("/api/v1/accounts/relationships","/?id=").concat(t);return Pe(o,{headers:Te(n)}).then((function(e){return new Promise((function(t,n){return e.json().then((function(r){return e.ok?t(r):n(new x(e.status,r,{url:o},e))}))}))}))},favorite:function(e){var t=e.id,n=e.credentials;return Ie({url:q(t),method:"POST",credentials:n}).then((function(e){return(0,w.Wn)(e)}))},unfavorite:function(e){var t=e.id,n=e.credentials;return Ie({url:N(t),method:"POST",credentials:n}).then((function(e){return(0,w.Wn)(e)}))},retweet:function(e){var t=e.id,n=e.credentials;return Ie({url:Z(t),method:"POST",credentials:n}).then((function(e){return(0,w.Wn)(e)}))},unretweet:function(e){var t=e.id,n=e.credentials;return Ie({url:W(t),method:"POST",credentials:n}).then((function(e){return(0,w.Wn)(e)}))},bookmarkStatus:function(e){var t=e.id,n=e.credentials;return Ie({url:ie(t),headers:Te(n),method:"POST"})},unbookmarkStatus:function(e){var t=e.id,n=e.credentials;return Ie({url:se(t),headers:Te(n),method:"POST"})},postStatus:function(e){var t=e.credentials,n=e.status,o=e.spoilerText,r=e.visibility,i=e.sensitive,s=e.poll,a=e.mediaIds,u=void 0===a?[]:a,c=e.inReplyToStatusId,l=e.quoteId,d=e.contentType,p=e.preview,m=e.idempotencyKey,h=new FormData,f=s.options||[];if(h.append("status",n),h.append("source","Pleroma FE"),o&&h.append("spoiler_text",o),r&&h.append("visibility",r),i&&h.append("sensitive",i),d&&h.append("content_type",d),u.forEach((function(e){h.append("media_ids[]",e)})),f.some((function(e){return""!==e}))){var g={expires_in:parseInt(s.expiresIn,10),multiple:s.multiple};Object.keys(g).forEach((function(e){h.append("poll[".concat(e,"]"),g[e])})),f.forEach((function(e){h.append("poll[options][]",e)}))}c&&h.append("in_reply_to_id",c),l&&h.append("quote_id",l),p&&h.append("preview","true");var v=Te(t);return m&&(v["idempotency-key"]=m),Pe("/api/v1/statuses",{body:h,method:"POST",headers:v}).then((function(e){return e.json()})).then((function(e){return e.error?e:(0,w.Wn)(e)}))},editStatus:function(e){var t=e.id,n=e.credentials,o=e.status,r=e.spoilerText,i=e.sensitive,s=e.poll,a=e.mediaIds,u=void 0===a?[]:a,c=e.contentType,l=new FormData,d=s.options||[];if(l.append("status",o),r&&l.append("spoiler_text",r),i&&l.append("sensitive",i),c&&l.append("content_type",c),u.forEach((function(e){l.append("media_ids[]",e)})),d.some((function(e){return""!==e}))){var p={expires_in:parseInt(s.expiresIn,10),multiple:s.multiple};Object.keys(p).forEach((function(e){l.append("poll[".concat(e,"]"),p[e])})),d.forEach((function(e){l.append("poll[options][]",e)}))}var m=Te(n);return Pe(G(t),{body:l,method:"PUT",headers:m}).then((function(e){return e.json()})).then((function(e){return e.error?e:(0,w.Wn)(e)}))},deleteStatus:function(e){var t=e.id,n=e.credentials;return Ie({url:H(t),credentials:n,method:"DELETE"})},uploadMedia:function(e){var t=e.formData,n=e.credentials;return Pe(ae,{body:t,method:"POST",headers:Te(n)}).then((function(e){return e.json()})).then((function(e){return(0,w.cO)(e)}))},setMediaDescription:function(e){var t=e.id,n=e.description,o=e.credentials;return Ie({url:"".concat(ae,"/").concat(t),method:"PUT",headers:Te(o),payload:{description:n}}).then((function(e){return(0,w.cO)(e)}))},fetchMutes:function(e){var t=e.maxId,n=e.credentials,o=new URLSearchParams({with_relationships:!0});return t&&o.append("max_id",t),Ie({url:"".concat("/api/v1/mutes/","?").concat(o.toString()),credentials:n}).then((function(e){return e.map(w.nL)}))},muteUser:function(e){var t=e.id,n=e.expiresIn,o=e.credentials,r={};return n&&(r.expires_in=n),Ie({url:ee(t),credentials:o,method:"POST",payload:r})},unmuteUser:function(e){var t=e.id,n=e.credentials;return Ie({url:te(t),credentials:n,method:"POST"})},subscribeUser:function(e){var t=e.id,n=e.credentials;return Ie({url:ne(t),credentials:n,method:"POST"})},unsubscribeUser:function(e){var t=e.id,n=e.credentials;return Ie({url:oe(t),credentials:n,method:"POST"})},fetchBlocks:function(e){var t=e.maxId,n=e.credentials,o=new URLSearchParams({with_relationships:!0});return t&&o.append("max_id",t),Ie({url:"".concat("/api/v1/blocks/","?").concat(o.toString()),credentials:n}).then((function(e){return e.map(w.nL)}))},fetchOAuthTokens:function(e){var t=e.credentials;return Pe("/api/oauth_tokens.json",{headers:Te(t)}).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching auth tokens",e)}))},revokeOAuthToken:function(e){var t=e.id,n=e.credentials,o="/api/oauth_tokens/".concat(t);return Pe(o,{headers:Te(n),method:"DELETE"})},tagUser:function(e){var t=e.tag,n=e.credentials,o={nicknames:[e.user.screen_name],tags:[t]},r=Te(n);return r["Content-Type"]="application/json",Pe(M,{method:"PUT",headers:r,body:JSON.stringify(o)})},untagUser:function(e){var t=e.tag,n=e.credentials,o={nicknames:[e.user.screen_name],tags:[t]},r=Te(n);return r["Content-Type"]="application/json",Pe(M,{method:"DELETE",headers:r,body:JSON.stringify(o)})},deleteUser:function(e){var t=e.credentials,n=e.user.screen_name,o=Te(t);return Pe("".concat("/api/pleroma/admin/users","?nickname=").concat(n),{method:"DELETE",headers:o})},addRight:function(e){var t=e.right,n=e.credentials,o=e.user.screen_name;return Pe(L(o,t),{method:"POST",headers:Te(n),body:{}})},deleteRight:function(e){var t=e.right,n=e.credentials,o=e.user.screen_name;return Pe(L(o,t),{method:"DELETE",headers:Te(n),body:{}})},activateUser:function(e){var t=e.credentials,n=e.user.screen_name;return Ie({url:"/api/pleroma/admin/users/activate",method:"PATCH",credentials:t,payload:{nicknames:[n]}}).then((function(e){return u()(e,"users.0")}))},deactivateUser:function(e){var t=e.credentials,n=e.user.screen_name;return Ie({url:"/api/pleroma/admin/users/deactivate",method:"PATCH",credentials:t,payload:{nicknames:[n]}}).then((function(e){return u()(e,"users.0")}))},register:function(e){var t=e.params,n=e.credentials,o=t.nickname,i=(0,r.Z)(t,I);return Pe("/api/v1/accounts",{method:"POST",headers:$($({},Te(n)),{},{"Content-Type":"application/json"}),body:JSON.stringify($({nickname:o,locale:"en_US",agreement:!0},i))}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new P(e)}))}))},getCaptcha:function(){return Pe("/api/pleroma/captcha").then((function(e){return e.json()}))},updateProfileImages:function(e){var t=e.credentials,n=e.avatar,o=void 0===n?null:n,r=e.avatarName,i=void 0===r?null:r,s=e.banner,a=void 0===s?null:s,u=e.background,c=void 0===u?null:u,l=new FormData;return null!==o&&(null!==i?l.append("avatar",o,i):l.append("avatar",o)),null!==a&&l.append("header",a),null!==c&&l.append("pleroma_background_image",c),Pe(le,{headers:Te(t),method:"PATCH",body:l}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error);return(0,w.nL)(e)}))},updateProfile:function(e){var t=e.credentials,n=e.params;return Ie({url:le,method:"PATCH",payload:n,credentials:t}).then((function(e){return(0,w.nL)(e)}))},importMutes:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Pe("/api/pleroma/mutes_import",{body:o,method:"POST",headers:Te(n)}).then((function(e){return e.ok}))},importBlocks:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Pe("/api/pleroma/blocks_import",{body:o,method:"POST",headers:Te(n)}).then((function(e){return e.ok}))},importFollows:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Pe("/api/pleroma/follow_import",{body:o,method:"POST",headers:Te(n)}).then((function(e){return e.ok}))},deleteAccount:function(e){var t=e.credentials,n=e.password,o=new FormData;return o.append("password",n),Pe("/api/pleroma/delete_account",{body:o,method:"POST",headers:Te(t)}).then((function(e){return e.json()}))},changeEmail:function(e){var t=e.credentials,n=e.email,o=e.password,r=new FormData;return r.append("email",n),r.append("password",o),Pe("/api/pleroma/change_email",{body:r,method:"POST",headers:Te(t)}).then((function(e){return e.json()}))},moveAccount:function(e){var t=e.credentials,n=e.password,o=e.targetAccount,r=new FormData;return r.append("password",n),r.append("target_account",o),Pe("/api/pleroma/move_account",{body:r,method:"POST",headers:Te(t)}).then((function(e){return e.json()}))},addAlias:function(e){var t=e.credentials,n=e.alias;return Ie({url:U,method:"PUT",credentials:t,payload:{alias:n}})},deleteAlias:function(e){var t=e.credentials,n=e.alias;return Ie({url:U,method:"DELETE",credentials:t,payload:{alias:n}})},listAliases:function(e){var t=e.credentials;return Ie({url:U,method:"GET",credentials:t,params:{_cacheBooster:(new Date).getTime()}})},changePassword:function(e){var t=e.credentials,n=e.password,o=e.newPassword,r=e.newPasswordConfirmation,i=new FormData;return i.append("password",n),i.append("new_password",o),i.append("new_password_confirmation",r),Pe("/api/pleroma/change_password",{body:i,method:"POST",headers:Te(t)}).then((function(e){return e.json()}))},settingsMFA:function(e){var t=e.credentials;return Pe("/api/pleroma/accounts/mfa",{headers:Te(t),method:"GET"}).then((function(e){return e.json()}))},mfaDisableOTP:function(e){var t=e.credentials,n=e.password,o=new FormData;return o.append("password",n),Pe("/api/pleroma/accounts/mfa/totp",{body:o,method:"DELETE",headers:Te(t)}).then((function(e){return e.json()}))},generateMfaBackupCodes:function(e){var t=e.credentials;return Pe("/api/pleroma/accounts/mfa/backup_codes",{headers:Te(t),method:"GET"}).then((function(e){return e.json()}))},mfaSetupOTP:function(e){var t=e.credentials;return Pe("/api/pleroma/accounts/mfa/setup/totp",{headers:Te(t),method:"GET"}).then((function(e){return e.json()}))},mfaConfirmOTP:function(e){var t=e.credentials,n=e.password,o=e.token,r=new FormData;return r.append("password",n),r.append("code",o),Pe("/api/pleroma/accounts/mfa/confirm/totp",{body:r,headers:Te(t),method:"POST"}).then((function(e){return e.json()}))},addBackup:function(e){var t=e.credentials;return Ie({url:Ce,method:"POST",credentials:t})},listBackups:function(e){var t=e.credentials;return Ie({url:Ce,method:"GET",credentials:t,params:{_cacheBooster:(new Date).getTime()}})},fetchFollowRequests:function(e){var t=e.credentials;return Pe("/api/v1/follow_requests",{headers:Te(t)}).then((function(e){return e.json()})).then((function(e){return e.map(w.nL)}))},fetchLists:function(e){var t=e.credentials;return Pe(ge,{headers:Te(t)}).then((function(e){return e.json()}))},createList:function(e){var t=e.title,n=e.credentials,o=ge,r=Te(n);return r["Content-Type"]="application/json",Pe(o,{headers:r,method:"POST",body:JSON.stringify({title:t})}).then((function(e){return e.json()}))},getList:function(e){var t=e.listId,n=e.credentials,o=Y(t);return Pe(o,{headers:Te(n)}).then((function(e){return e.json()}))},updateList:function(e){var t=e.listId,n=e.title,o=e.credentials,r=Y(t),i=Te(o);return i["Content-Type"]="application/json",Pe(r,{headers:i,method:"PUT",body:JSON.stringify({title:n})})},getListAccounts:function(e){var t=e.listId,n=e.credentials,o=J(t);return Pe(o,{headers:Te(n)}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.id}))}))},addAccountsToList:function(e){var t=e.listId,n=e.accountIds,o=e.credentials,r=J(t),i=Te(o);return i["Content-Type"]="application/json",Pe(r,{headers:i,method:"POST",body:JSON.stringify({account_ids:n})})},removeAccountsFromList:function(e){var t=e.listId,n=e.accountIds,o=e.credentials,r=J(t),i=Te(o);return i["Content-Type"]="application/json",Pe(r,{headers:i,method:"DELETE",body:JSON.stringify({account_ids:n})})},deleteList:function(e){var t=e.listId,n=e.credentials,o=Y(t);return Pe(o,{method:"DELETE",headers:Te(n)})},approveUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/follow_requests/".concat(e,"/authorize")}(t);return Pe(o,{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},denyUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/follow_requests/".concat(e,"/reject")}(t);return Pe(o,{headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},suggestions:function(e){var t=e.credentials;return Pe("/api/v1/suggestions",{headers:Te(t)}).then((function(e){return e.json()}))},markNotificationsAsSeen:function(e){var t=e.id,n=e.credentials,o=e.single,r=void 0!==o&&o,i=new FormData;return r?i.append("id",t):i.append("max_id",t),Pe("/api/v1/pleroma/notifications/read",{body:i,headers:Te(n),method:"POST"}).then((function(e){return e.json()}))},dismissNotification:function(e){var t=e.credentials,n=e.id;return Ie({url:R(n),method:"POST",payload:{id:n},credentials:t})},vote:function(e){var t,n=e.pollId,o=e.choices,r=e.credentials;return(new FormData).append("choices",o),Ie({url:(t=encodeURIComponent(n),"/api/v1/polls/".concat(t,"/votes")),method:"POST",credentials:r,payload:{choices:o}})},fetchPoll:function(e){var t,n=e.pollId,o=e.credentials;return Ie({url:(t=encodeURIComponent(n),"/api/v1/polls/".concat(t)),method:"GET",credentials:o})},fetchFavoritedByUsers:function(e){var t=e.id,n=e.credentials;return Ie({url:ue(t),method:"GET",credentials:n}).then((function(e){return e.map(w.nL)}))},fetchRebloggedByUsers:function(e){var t=e.id,n=e.credentials;return Ie({url:ce(t),method:"GET",credentials:n}).then((function(e){return e.map(w.nL)}))},fetchEmojiReactions:function(e){var t=e.id,n=e.credentials;return Ie({url:be(t),credentials:n}).then((function(e){return e.map((function(e){return e.accounts=e.accounts.map(w.nL),e}))}))},reactWithEmoji:function(e){var t=e.id,n=e.emoji,o=e.credentials;return Ie({url:we(t,n),method:"PUT",credentials:o}).then(w.Wn)},unreactWithEmoji:function(e){var t=e.id,n=e.emoji,o=e.credentials;return Ie({url:ye(t,n),method:"DELETE",credentials:o}).then(w.Wn)},reportUser:function(e){var t=e.credentials,n=e.userId,o=e.statusIds,r=e.comment,i=e.forward;return Ie({url:"/api/v1/reports",method:"POST",payload:{account_id:n,status_ids:o,comment:r,forward:i},credentials:t})},updateNotificationSettings:function(e){var t=e.credentials,n=e.settings,o=new FormData;return g()(n,(function(e,t){o.append(t,e)})),Pe("".concat("/api/pleroma/notification_settings","?").concat(new URLSearchParams(n)),{headers:Te(t),method:"PUT",body:o}).then((function(e){return e.json()}))},search2:function(e){var t=e.credentials,n=e.q,o=e.resolve,r=e.limit,i=e.offset,s=e.following,a=e.type,u="/api/v2/search",c=[];n&&c.push(["q",encodeURIComponent(n)]),o&&c.push(["resolve",o]),r&&c.push(["limit",r]),i&&c.push(["offset",i]),s&&c.push(["following",!0]),a&&c.push(["following",a]),c.push(["with_relationships",!0]);var l=h()(c,(function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return u+="?".concat(l),Pe(u,{headers:Te(t)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching search result",e)})).then((function(e){return e.json()})).then((function(e){return e.accounts=e.accounts.slice(0,r).map((function(e){return(0,w.nL)(e)})),e.statuses=e.statuses.slice(0,r).map((function(e){return(0,w.Wn)(e)})),e}))},searchUsers:function(e){var t=e.credentials,n=e.query;return Ie({url:"/api/v1/accounts/search",params:{q:n,resolve:!0},credentials:t}).then((function(e){return e.map(w.nL)}))},fetchKnownDomains:function(e){var t=e.credentials;return Ie({url:"/api/v1/instance/peers",credentials:t})},fetchDomainMutes:function(e){var t=e.credentials;return Ie({url:fe,credentials:t})},muteDomain:function(e){var t=e.domain,n=e.credentials;return Ie({url:fe,method:"POST",payload:{domain:t},credentials:n})},unmuteDomain:function(e){var t=e.domain,n=e.credentials;return Ie({url:fe,method:"DELETE",payload:{domain:t},credentials:n})},chats:function(e){var t=e.credentials;return Pe("/api/v1/pleroma/chats",{headers:Te(t)}).then((function(e){return e.json()})).then((function(e){return{chats:e.map(w._J).filter((function(e){return e}))}}))},getOrCreateChat:function(e){var t,n=e.accountId,o=e.credentials;return Ie({url:(t=n,"/api/v1/pleroma/chats/by-account-id/".concat(t)),method:"POST",credentials:o})},chatMessages:function(e){var t=e.id,n=e.credentials,o=e.maxId,r=e.sinceId,i=e.limit,s=void 0===i?20:i,a=De(t),u=[o&&"max_id=".concat(o),r&&"since_id=".concat(r),s&&"limit=".concat(s)].filter((function(e){return e})).join("&");return Ie({url:a+=u?"?"+u:"",method:"GET",credentials:n})},sendChatMessage:function(e){var t=e.id,n=e.content,o=e.mediaId,r=void 0===o?null:o,i=e.idempotencyKey,s=e.credentials,a={content:n};r&&(a.media_id=r);var u={};return i&&(u["idempotency-key"]=i),Ie({url:De(t),method:"POST",payload:a,credentials:s,headers:u})},readChat:function(e){var t=e.id,n=e.lastReadId,o=e.credentials;return Ie({url:_e(t),method:"POST",payload:{last_read_id:n},credentials:o})},deleteChatMessage:function(e){var t=e.chatId,n=e.messageId,o=e.credentials;return Ie({url:ke(t,n),method:"DELETE",credentials:o})},setReportState:function(e){var t=e.id,n=e.state,o=e.credentials;return Pe("/api/pleroma/admin/reports",{headers:$($({},Te(o)),{},{Accept:"application/json","Content-Type":"application/json"}),method:"PATCH",body:JSON.stringify({reports:[{id:t,state:n}]})}).then((function(e){if(e.status>=500)throw Error(e.statusText);return e.status>=400?e.json():e})).then((function(e){if(e.errors)throw Error(e.errors[0].message)}))},fetchUserInLists:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/accounts/".concat(e,"/lists")}(t);return Pe(o,{headers:Te(n)}).then((function(e){return e.json()}))},fetchAnnouncements:function(e){var t=e.credentials;return Ie({url:"/api/v1/announcements",credentials:t})},dismissAnnouncement:function(e){var t=e.id,n=e.credentials;return Ie({url:ve(t),credentials:n,method:"POST"})},postAnnouncement:function(e){var t=e.credentials,n=e.content,o=e.startsAt,r=e.endsAt,i=e.allDay;return Ie({url:"/api/v1/pleroma/admin/announcements",credentials:t,method:"POST",payload:Ue({content:n,startsAt:o,endsAt:r,allDay:i})})},editAnnouncement:function(e){var t=e.id,n=e.credentials,o=e.content,r=e.startsAt,i=e.endsAt,s=e.allDay;return Ie({url:Se(t),credentials:n,method:"PATCH",payload:Ue({content:o,startsAt:r,endsAt:i,allDay:s})})},deleteAnnouncement:function(e){var t=e.id,n=e.credentials;return Ie({url:je(t),credentials:n,method:"DELETE"})},fetchScrobbles:function(e){var t=e.accountId,n=e.limit,o=void 0===n?1:n,r="/api/v1/pleroma/accounts/".concat(t,"/scrobbles"),i=[["limit",o]],s=h()(i,(function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return r+="?".concat(s),Pe(r,{}).then((function(e){return e.ok?e.json():{error:e}}))},adminFetchAnnouncements:function(e){var t=e.credentials;return Ie({url:"/api/v1/pleroma/admin/announcements",credentials:t})},fetchInstanceDBConfig:function(e){var t=e.credentials;return Pe(Oe,{headers:Te(t)}).then((function(e){return e.ok?e.json():{error:e}}))},fetchInstanceConfigDescriptions:function(e){var t=e.credentials;return Pe("/api/pleroma/admin/config/descriptions",{headers:Te(t)}).then((function(e){return e.ok?e.json():{error:e}}))},fetchAvailableFrontends:function(e){var t=e.credentials;return Pe("/api/pleroma/admin/frontends",{headers:Te(t)}).then((function(e){return e.ok?e.json():{error:e}}))},pushInstanceDBConfig:function(e){var t=e.credentials,n=e.payload;return Pe(Oe,{headers:$({Accept:"application/json","Content-Type":"application/json"},Te(t)),method:"POST",body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():{error:e}}))},installFrontend:function(e){var t=e.credentials,n=e.payload;return Pe("/api/pleroma/admin/frontends/install",{headers:$({Accept:"application/json","Content-Type":"application/json"},Te(t)),method:"POST",body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():{error:e}}))},importEmojiFromFS:function(){return Pe("/api/pleroma/emoji/packs/import")},reloadEmoji:function(){return Pe("/api/pleroma/admin/reload_emoji",{method:"POST"})},listEmojiPacks:function(e){var t=e.page,n=e.pageSize;return Pe(function(e,t){return"/api/v1/pleroma/emoji/packs?page=".concat(e,"&page_size=").concat(t)}(t,n))},createEmojiPack:function(e){var t=e.name;return Pe(Ee(t),{method:"POST"})},deleteEmojiPack:function(e){var t=e.name;return Pe(Ee(t),{method:"DELETE"})},saveEmojiPackMetadata:function(e){var t=e.name,n=e.newData;return Pe(Ee(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:n})})},addNewEmojiFile:function(e){var t=e.packName,n=e.file,o=e.shortcode,r=e.filename,i=new FormData;return""!==r.trim()&&i.set("filename",r),""!==o.trim()&&i.set("shortcode",o),i.set("file",n),Pe(ze(t),{method:"POST",body:i})},updateEmojiFile:function(e){var t=e.packName,n=e.shortcode,o=e.newShortcode,r=e.newFilename,i=e.force;return Pe(ze(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortcode:n,new_shortcode:o,new_filename:r,force:i})})},deleteEmojiFile:function(e){var t=e.packName,n=e.shortcode;return Pe("".concat(ze(t),"&shortcode=").concat(n),{method:"DELETE"})},listRemoteEmojiPacks:function(e){var t=e.instance,n=e.page,o=e.pageSize;return t.startsWith("http")||(t="https://"+t),Pe(function(e,t,n){return"/api/v1/pleroma/emoji/packs/remote?url=".concat(e,"&page=").concat(t,"&page_size=").concat(n)}(t,n,o),{headers:{"Content-Type":"application/json"}})},downloadRemoteEmojiPack:function(e){var t=e.instance,n=e.packName,o=e.as;return Pe("/api/v1/pleroma/emoji/packs/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t,name:n,as:o})})}}},37230:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var o=n(21804),r=n.n(o),i=function(e){return Object.keys(e).reduce((function(t,n){return t[r()(n)]=e[n],t}),{})}},21865:(e,t,n)=>{"use strict";n.d(t,{CO:()=>c,Rx:()=>h,Tj:()=>m,_I:()=>v,a4:()=>g,aj:()=>p,ov:()=>l,pP:()=>w,uu:()=>b,wK:()=>f});var o=n(4942),r=n(29439),i=n(71002),s=n(97332);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t,n){if(null!=e){if("#"===e[0]||"transparent"===e)return e;if("object"===(0,i.Z)(e)){var o=e;e=o.r,t=o.g,n=o.b}var s=[e,t,n].map((function(e){return(e=(e=Math.ceil(e))<0?0:e)>255?255:e})),a=(0,r.Z)(s,3);return e=a[0],t=a[1],n=a[2],"#".concat(((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1))}},l=function(e){var t=function(e){return"rgb".split("").reduce((function(t,n){return t[n]=function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}(e[n]),t}),{})}(e);return.2126*t.r+.7152*t.g+.0722*t.b},d=function(e,t){var n=l(e),o=l(t),i=n>o?[n,o]:[o,n],s=(0,r.Z)(i,2);return(s[0]+.05)/(s[1]+.05)},p=function(e,t,n){return d(h(n,t),e)},m=function(e,t,n){return 1===t||void 0===t?e:"rgb".split("").reduce((function(o,r){return o[r]=e[r]*t+n[r]*(1-t),o}),{})},h=function(e,t){return t.reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return m(o,i,e)}),e)},f=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},g=function(e,t){return"rgb".split("").reduce((function(n,o){return n[o]=(e[o]+t[o])/2,n}),{})},v=function(e){var t;return"rgba(".concat(Math.floor(e.r),", ").concat(Math.floor(e.g),", ").concat(Math.floor(e.b),", ").concat(null!==(t=e.a)&&void 0!==t?t:1,")")},b=function(e,t,n){if(d(e,t)<4.5){var o=void 0!==t.a?{a:t.a}:{},r=Object.assign(o,(0,s.Xp)(t).rgb);return!n&&d(e,r)<4.5?(0,s.wo)(e,t).rgb:r}return t},w=function(e,t){var n={};if("object"===(0,i.Z)(e))n=e;else if("string"==typeof e){if(!e.startsWith("#"))return e;n=f(e)}return v(u(u({},n),{},{a:t}))}},13562:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var o=n(23560),r=n.n(o),i=function(e){return function(e){return r()(e)?e.options:e}(e).props}},27483:(e,t,n)=>{"use strict";n.d(t,{GV:()=>c,_F:()=>l,cC:()=>d,dX:()=>p,x4:()=>i});var o=6e4,r=36e5,i=24*r,s=7*i,a=30*i,u=365.25*i,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"string"==typeof e&&(e=Date.parse(e));var n=Date.now()>e?Math.floor:Math.ceil,c=Math.abs(Date.now()-e),l={num:n(c/u),key:"time.unit.years"};return c<1e3*t?(l.num=0,l.key="time.now"):c<o?(l.num=n(c/1e3),l.key="time.unit.seconds"):c<r?(l.num=n(c/o),l.key="time.unit.minutes"):c<i?(l.num=n(c/r),l.key="time.unit.hours"):c<s?(l.num=n(c/i),l.key="time.unit.days"):c<a?(l.num=n(c/s),l.key="time.unit.weeks"):c<u&&(l.num=n(c/a),l.key="time.unit.months"),l},l=function(e){var t=c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1);return t.key+="_short",t},d=function(e,t){switch(e){case"minutes":return.001*t*o;case"hours":return.001*t*r;case"days":return.001*t*i}},p=function(e,t){switch(e){case"minutes":return 1e3*t/o;case"hours":return 1e3*t/r;case"days":return 1e3*t/i}}},64689:(e,t,n)=>{"use strict";n.d(t,{CI:()=>a,PN:()=>s,w3:()=>i});var o=n(73847),r={failCreateNotif:!1},i=function(e,t){if("Notification"in window&&"granted"===window.Notification.permission&&!e.notifications.desktopNotificationSilence)if((0,o.dU)())(0,o.w3)(t);else if(!r.failCreateNotif)try{var n=new window.Notification(t.title,t);setTimeout(n.close.bind(n),5e3)}catch(e){r.failCreateNotif=!0}},s=function(e,t){var n=t.id;"Notification"in window&&"granted"===window.Notification.permission&&(0,o.dU)()&&(0,o.PN)({id:n})},a=function(e){"Notification"in window&&"granted"===window.Notification.permission&&(0,o.dU)()&&(0,o.PN)({})}},27742:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>b,P7:()=>h,UB:()=>y,Wn:()=>f,_J:()=>w,cO:()=>m,eM:()=>g,nL:()=>p});var o=n(4942),r=n(95573),i=n.n(r),s=n(28490),a=n.n(s),u=n(52230),c=n(35748);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t={},n=Object.prototype.hasOwnProperty.call(e,"acct"),o=n&&!Object.prototype.hasOwnProperty.call(e,"avatar");if(t.inLists=null,t.id=String(e.id),t._original=e,n){if(t.screen_name=e.acct,t.fqn=e.fqn,t.statusnet_profile_url=e.url,o)return t;if(t.emoji=e.emojis,t.name=i()(e.display_name),t.name_html=t.name,t.name_unescaped=e.display_name,t.description=e.note,t.description_html=e.note,t.fields=e.fields,t.fields_html=e.fields.map((function(e){return{name:i()(e.name),value:e.value}})),t.fields_text=e.fields.map((function(e){return{name:unescape(e.name.replace(/<[^>]*>/g,"")),value:unescape(e.value.replace(/<[^>]*>/g,""))}})),t.profile_image_url=e.avatar,t.profile_image_url_original=e.avatar,t.cover_photo=e.header,t.friends_count=e.following_count,t.bot=e.bot,e.pleroma){e.pleroma.settings_store&&(t.storage=e.pleroma.settings_store["pleroma-fe"]);var r=e.pleroma.relationship;t.background_image=e.pleroma.background_image,t.favicon=e.pleroma.favicon,t.token=e.pleroma.chat_token,r&&(t.relationship=r),t.allow_following_move=e.pleroma.allow_following_move,t.hide_favorites=e.pleroma.hide_favorites,t.hide_follows=e.pleroma.hide_follows,t.hide_followers=e.pleroma.hide_followers,t.hide_follows_count=e.pleroma.hide_follows_count,t.hide_followers_count=e.pleroma.hide_followers_count,t.rights={moderator:e.pleroma.is_moderator,admin:e.pleroma.is_admin},t.rights.admin?t.role="admin":t.rights.moderator?t.role="moderator":t.role="member",t.birthday=e.pleroma.birthday,e.pleroma.privileges?t.privileges=e.pleroma.privileges:e.pleroma.is_admin?t.privileges=["users_read","users_manage_invites","users_manage_activation_state","users_manage_tags","users_manage_credentials","users_delete","messages_read","messages_delete","instances_delete","reports_manage_reports","moderation_log_read","announcements_manage_announcements","emoji_manage_emoji","statistics_read"]:e.pleroma.is_moderator?t.privileges=["messages_delete","reports_manage_reports"]:t.privileges=[]}e.source&&(t.description=e.source.note,t.default_scope=e.source.privacy,t.fields=e.source.fields,e.source.pleroma&&(t.no_rich_text=e.source.pleroma.no_rich_text,t.show_role=e.source.pleroma.show_role,t.discoverable=e.source.pleroma.discoverable,t.show_birthday=e.pleroma.show_birthday,t.actor_type=e.source.pleroma.actor_type)),t.is_local=!t.screen_name.includes("@")}else t.screen_name=e.screen_name,t.name=e.name,t.name_html=e.name_html,t.description=e.description,t.description_html=e.description_html,t.profile_image_url=e.profile_image_url,t.profile_image_url_original=e.profile_image_url_original,t.cover_photo=e.cover_photo,t.friends_count=e.friends_count,t.statusnet_profile_url=e.statusnet_profile_url,t.is_local=e.is_local,t.role=e.role,t.show_role=e.show_role,e.rights&&(t.rights={moderator:e.rights.delete_others_notice,admin:e.rights.admin}),t.no_rich_text=e.no_rich_text,t.default_scope=e.default_scope,t.hide_follows=e.hide_follows,t.hide_followers=e.hide_followers,t.hide_follows_count=e.hide_follows_count,t.hide_followers_count=e.hide_followers_count,t.background_image=e.background_image,t.token=e.token,t.relationship={muting:e.muted,blocking:e.statusnet_blocking,followed_by:e.follows_you,following:e.following};if(t.created_at=new Date(e.created_at),t.locked=e.locked,t.followers_count=e.followers_count,t.statuses_count=e.statuses_count,e.pleroma&&(t.follow_request_count=e.pleroma.follow_request_count,t.tags=e.pleroma.tags,t.deactivated=void 0!==e.pleroma.is_active?!e.pleroma.is_active:e.pleroma.deactivated,t.notification_settings=e.pleroma.notification_settings,t.unread_chat_count=e.pleroma.unread_chat_count),t.tags=t.tags||[],t.rights=t.rights||{},t.notification_settings=t.notification_settings||{},t.screen_name_ui=t.screen_name,t.screen_name&&t.screen_name.includes("@")){var s=t.screen_name.split("@"),a=c.ZP.toUnicode(s[1]);a!==s[1]?(t.screen_name_ui_contains_non_ascii=!0,t.screen_name_ui=[s[0],a].join("@")):t.screen_name_ui_contains_non_ascii=!1}return t},m=function(e){var t={};return Object.prototype.hasOwnProperty.call(e,"oembed")?t.mimetype=e.mimetype:(t.mimetype=e.pleroma?e.pleroma.mime_type:e.type,t.meta=e.meta,t.id=e.id),t.url=e.url,t.large_thumb_url=e.preview_url,t.description=e.description,t},h=function(e){var t={};return t.text=e.text,t.spoiler_text=e.spoiler_text,t.content_type=e.content_type,t},f=function e(t){var n={},o=Object.prototype.hasOwnProperty.call(t,"account");if(o){if(n.favorited=t.favourited,n.fave_num=t.favourites_count,n.repeated=t.reblogged,n.repeat_num=t.reblogs_count,n.bookmarked=t.bookmarked,n.type=t.reblog?"retweet":"status",n.nsfw=t.sensitive,n.raw_html=t.content,n.emojis=t.emojis,n.tags=t.tags,n.edited_at=t.edited_at,t.pleroma){var r=t.pleroma;n.text=r.content?t.pleroma.content["text/plain"]:t.content,n.summary=r.spoiler_text?t.pleroma.spoiler_text["text/plain"]:t.spoiler_text,n.statusnet_conversation_id=t.pleroma.conversation_id,n.is_local=r.local,n.in_reply_to_screen_name=t.pleroma.in_reply_to_account_acct,n.thread_muted=r.thread_muted,n.emoji_reactions=r.emoji_reactions,n.parent_visible=void 0===r.parent_visible||r.parent_visible,n.quote=r.quote?e(r.quote):void 0,n.quote_id=r.quote_id?r.quote_id:n.quote?n.quote.id:void 0,n.quote_url=r.quote_url,n.quote_visible=r.quote_visible,n.quotes_count=r.quotes_count}else n.text=t.content,n.summary=t.spoiler_text;n.in_reply_to_status_id=t.in_reply_to_id,n.in_reply_to_user_id=t.in_reply_to_account_id,n.replies_count=t.replies_count,"retweet"===n.type&&(n.retweeted_status=e(t.reblog)),n.summary_raw_html=i()(t.spoiler_text),n.external_url=t.url,n.poll=t.poll,n.poll&&(n.poll.options=(n.poll.options||[]).map((function(e){return d(d({},e),{},{title_html:i()(e.title)})}))),n.pinned=t.pinned,n.muted=t.muted}else n.favorited=t.favorited,n.fave_num=t.fave_num,n.repeated=t.repeated,n.repeat_num=t.repeat_num,n.type=function(e){return e.is_post_verb?"status":e.retweeted_status?"retweet":"string"==typeof e.uri&&e.uri.match(/(fave|objectType=Favourite)/)||"string"==typeof e.text&&e.text.match(/favorited/)?"favorite":e.text.match(/deleted notice {{tag/)||e.qvitter_delete_notice?"deletion":e.text.match(/started following/)||"follow"===e.activity_type?"follow":"unknown"}(t),void 0===t.nsfw?(n.nsfw=v(t),t.retweeted_status&&(n.nsfw=t.retweeted_status.nsfw)):n.nsfw=t.nsfw,n.raw_html=t.statusnet_html,n.text=t.text,n.in_reply_to_status_id=t.in_reply_to_status_id,n.in_reply_to_user_id=t.in_reply_to_user_id,n.in_reply_to_screen_name=t.in_reply_to_screen_name,n.statusnet_conversation_id=t.statusnet_conversation_id,"retweet"===n.type&&(n.retweeted_status=e(t.retweeted_status)),n.summary=t.summary,n.summary_html=t.summary_html,n.external_url=t.external_url,n.is_local=t.is_local;n.id=String(t.id),n.visibility=t.visibility,n.card=t.card,n.created_at=new Date(t.created_at),n.in_reply_to_status_id=n.in_reply_to_status_id?String(n.in_reply_to_status_id):null,n.in_reply_to_user_id=n.in_reply_to_user_id?String(n.in_reply_to_user_id):null,n.user=p(o?t.account:t.user),n.attentions=((o?t.mentions:t.attentions)||[]).map(p),n.attachments=((o?t.media_attachments:t.attachments)||[]).map(m);var s=o?t.reblog:t.retweeted_status;return s&&(n.retweeted_status=e(s)),n.favoritedBy=[],n.rebloggedBy=[],Object.prototype.hasOwnProperty.call(t,"originalStatus")&&Object.assign(n,t.originalStatus),n},g=function(e){var t={};if(Object.prototype.hasOwnProperty.call(e,"ntype")){var n=f(e.notice);t.type=e.ntype,t.seen=Boolean(e.is_seen),t.status="like"===t.type?f(e.notice.favorited_status):n,t.action=n,t.from_profile="pleroma:chat_mention"===t.type?p(e.account):p(e.from_profile)}else t.type={favourite:"like",reblog:"repeat"}[e.type]||e.type,t.seen=e.pleroma.is_seen,t.status=(0,u.Gr)(t.type)?f(e.status):null,t.target="move"!==t.type?null:p(e.target),t.from_profile=p(e.account),t.emoji=e.emoji,t.emoji_url=e.emoji_url,e.report&&(t.report=e.report,t.report.content=e.report.content,t.report.acct=p(e.report.account),t.report.actor=p(e.report.actor),t.report.statuses=e.report.statuses.map(f));return t.created_at=new Date(e.created_at),t.id=parseInt(e.id),t},v=function(e){return(e.tags||[]).includes("nsfw")||!!(e.text||"").match(/#nsfw/i)},b=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).flakeId,n=a()(e);if(n){var o=n.next.max_id,r=n.prev.min_id;return{maxId:t?o:parseInt(o,10),minId:t?r:parseInt(r,10)}}},w=function(e){var t={};return t.id=e.id,t.account=p(e.account),t.unread=e.unread,t.lastMessage=y(e.last_message),t.updated_at=new Date(e.updated_at),t},y=function(e){if(e){if(e.isNormalized)return e;var t=e;return t.id=e.id,t.created_at=new Date(e.created_at),t.chat_id=e.chat_id,t.emojis=e.emojis,t.content=e.content,e.attachment?t.attachments=[m(e.attachment)]:t.attachments=[],t.pending=!!e.pending,t.error=!1,t.idempotency_key=e.idempotency_key,t.isNormalized=!0,t}}},49753:(e,t,n)=>{"use strict";var o,r,i,s,a;n.d(t,{Z:()=>u});const u=(o=[],r=128,i=128,s=function(e){return e.complete&&0!==e.naturalHeight},{initFaviconService:function(){document.querySelectorAll('link[rel="icon"]').forEach((function(e){if(e){var t=document.createElement("canvas");t.width=r,t.height=i;var n=new Image;n.crossOrigin="anonymous",n.src=e.href;var s=t.getContext("2d");o.push({favcanvas:t,favimg:n,favcontext:s,favicon:e})}}))},clearFaviconBadge:a=function(){0!==o.length&&o.forEach((function(e){var t=e.favimg,n=e.favcanvas,o=e.favcontext,a=e.favicon;t&&o&&a&&(o.clearRect(0,0,r,i),s(t)&&o.drawImage(t,0,0,t.width,t.height,0,0,r,i),a.href=n.toDataURL("image/png"))}))},drawFaviconBadge:function(){0!==o.length&&(a(),o.forEach((function(e){var t=e.favimg,n=e.favcanvas,o=e.favcontext,a=e.favicon;if(t&&o&&o){var u=getComputedStyle(document.body),c="".concat(u.getPropertyValue("--badgeNotification")||"rgb(240, 100, 100)");s(t)&&o.drawImage(t,0,0,t.width,t.height,0,0,r,i),o.fillStyle=c,o.beginPath(),o.arc(96,32,32,0,2*Math.PI,!1),o.fill(),a.href=n.toDataURL("image/png")}})))},getOriginalFavicons:function(){return[].concat(o)}})},65079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={fileSizeFormat:function(e){var t=["B","KiB","MiB","GiB","TiB"],n=e;if(n<1)return n+" "+t[0];var o=Math.min(Math.floor(Math.log(n)/Math.log(1024)),t.length-1);return{num:n=1*(n/Math.pow(1024,o)).toFixed(2),unit:t[o]}}}},58394:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>i,iL:()=>r});var o=function(e){return e.match(/flash/)?"flash":e.match(/text\/html/)?"html":e.match(/image/)?"image":e.match(/video/)?"video":e.match(/audio/)?"audio":"unknown"},r=function(e){return e.match(/\.(a?png|jpe?g|gif|webp|avif)$/)?"image":e.match(/\.(ogv|mp4|webm|mov)$/)?"video":e.match(/\.(it|s3m|mod|umx|mp3|aac|m4a|flac|alac|ogg|oga|opus|wav|ape|midi?)$/)?"audio":"unknown"};const i={fileType:o,fileTypeExt:r,fileMatchesSomeType:function(e,t){return e.some((function(e){return o(t.mimetype)===e}))}}},39776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(35161),r=n.n(o),i=n(72617),s=n(2900),a={ja_easy:"ja",zh_Hant:"zh-HANT",zh:"zh-Hans"},u=function(e){return a[e]||e},c=function(e){return u(e).replace("_","-")},l=function(e){var t={ja_easy:"やさしいにほんご","nan-TW":"臺語（閩南語）",zh:"简体中文",zh_Hant:"繁體中文"}[e]||s.Z.getNativeName(e),n=u(e);return t.charAt(0).toLocaleUpperCase(n)+t.slice(1)},d=r()(i.Z.languages,(function(e){return{code:e,name:l(e)}})).sort((function(e,t){return e.name.localeCompare(t.name)}));const p={internalToBrowserLocale:u,internalToBackendLocale:c,internalToBackendLocaleMulti:function(e){return(Array.isArray(e)?e:[e]).map(c).join(",")},languages:d,getLanguageName:l}},52230:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>u,G2:()=>f,Gr:()=>d,Km:()=>g,L2:()=>s,nJ:()=>h,nU:()=>p,wY:()=>b});var o=n(67828),r=n(64689),i=n(49753),s=new Set(["mention","pleroma:report","follow_request"]),a=null,u=function(e){return e.state.notifications.data},c=function(e){var t=(e.rootGetters||e.getters).mergedConfig.notificationVisibility;return[t.likes&&"like",t.mentions&&"mention",t.statuses&&"status",t.repeats&&"repeat",t.follows&&"follow",t.followRequest&&"follow_request",t.moves&&"move",t.emojiReactions&&"pleroma:emoji_reaction",t.reports&&"pleroma:report",t.polls&&"poll"].filter((function(e){return e}))},l=new Set(["like","mention","status","repeat","pleroma:emoji_reaction","poll"]),d=function(e){return l.has(e)},p=function(e){return!(d(e.type)&&!e.status)},m=function(e,t){var n=Number(e.id),o=Number(t.id),r=!Number.isNaN(n),i=!Number.isNaN(o);return r&&i?n>o?-1:1:r&&!i?1:!r&&i||e.id>t.id?-1:1},h=function(e,t){var n=e.rootState||e.state,i=e.rootGetters||e.getters;if(!t.seen&&c(e).includes(t.type)&&("mention"!==t.type||!function(e,t){if(t.status){var n=e.rootGetters||e.getters;return t.status.muted||(0,o.u)(t.status,n.mergedConfig.muteWords).length>0}}(e,t))){var s=v(t,i.i18n);(0,r.w3)(n,s)}},f=function(e,t){return u(e).map((function(e){return e})).sort(m).filter((function(n){return(t||c(e)).includes(n.type)}))},g=function(e){var t=(e.rootGetters||e.getters).mergedConfig.ignoreInactionableSeen;return f(e).filter((function(e){var n=e.seen,o=e.type;return t?!n&&s.has(o):!n}))},v=function(e,t){if(null===a){var n=i.Z.getOriginalFavicons(),o=n[n.length-1];a=o?o.favimg.src:"about:blank"}var r,s={tag:e.id,type:e.type,badge:a},u=e.status,c=e.from_profile.name;switch(s.title=c,s.icon=e.from_profile.profile_image_url,e.type){case"like":r="favorited_you";break;case"status":r="subscribed_status";break;case"repeat":r="repeated_you";break;case"follow":r="followed_you";break;case"move":r="migrated_to";break;case"follow_request":r="follow_request";break;case"pleroma:report":r="submitted_report";break;case"poll":r="poll_ended"}return"pleroma:emoji_reaction"===e.type?s.body=t.t("notifications.reacted_with",[e.emoji]):r?s.body=t.t("notifications."+r):d(e.type)&&(s.body=e.status.text),u&&u.attachments&&u.attachments.length>0&&!u.nsfw&&u.attachments[0].mimetype.startsWith("image/")&&(s.image=u.attachments[0].url),s},b=function(e){var t=e.rootGetters||e.getters,n=t.mergedConfig;return n.showExtraNotifications?[n.showChatsInExtraNotifications?t.unreadChatCount:0,n.showAnnouncementsInExtraNotifications?t.unreadAnnouncementCount:0,n.showFollowRequestsInExtraNotifications?t.followRequestCount:0].reduce((function(e,t){return e+t}),0):0}},15568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(93433),r=n(77776),i=n(22626),s=["mention","status","favourite","reblog","follow","follow_request","move","poll","pleroma:emoji_reaction","pleroma:chat_mention","pleroma:report"],a=function(e){var t=e.store,n=e.credentials,r=e.older,i=void 0!==r&&r,a=e.since,c={credentials:n},l=t.getters,d=(t.rootState||t.state).notifications,p=l.mergedConfig.hideMutedPosts;if(c.includeTypes=s,c.withMuted=!p,c.timeline="notifications",i)return d.minId!==Number.POSITIVE_INFINITY&&(c.until=d.minId),u({store:t,args:c,older:i});void 0===a&&d.maxId!==Number.POSITIVE_INFINITY?c.since=d.maxId:null!==a&&(c.since=a);var m=u({store:t,args:c,older:i}),h=d.data,f=h.filter((function(e){return e.seen})).map((function(e){return e.id})),g=h.filter((function(e){return!e.seen})).map((function(e){return e.id}));if(f.length>0&&f.length>0){var v=Math.min.apply(Math,(0,o.Z)(g));v!==1/0&&(c.since=!1,c.minId=v-1,u({store:t,args:c,older:i}))}return m},u=function(e){var t=e.store,n=e.args,o=e.older;return r.ZP.fetchTimeline(n).then((function(e){if(e.errors)throw new Error("".concat(e.status," ").concat(e.statusText));var n=e.data;return function(e){var t=e.notifications,n=e.older;e.store.dispatch("addNewNotifications",{notifications:t,older:n})}({store:t,notifications:n,older:o}),n})).catch((function(e){t.dispatch("pushGlobalNotice",{level:"error",messageKey:"notifications.error",messageArgs:[e.message],timeout:5e3}),console.error(e)}))};const c={fetchAndUpdate:a,startFetching:function(e){var t=e.credentials,n=e.store;setTimeout((function(){return n.dispatch("setNotificationsSilence",!1)}),1e4);var o=function(){return a({credentials:t,store:n})};return o(),(0,i.F)(o,1e4)}}},67952:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var o=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.top,s=void 0===i?0:i,a=o.left,u=void 0===a?0:a,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l={top:s+t.offsetTop,left:u+t.offsetLeft};if(!c&&t!==window){var d=r(t),p=d.topPadding,m=d.leftPadding;l.top+=c?0:p,l.left+=c?0:m}if(t.offsetParent&&"sticky"!==window.getComputedStyle(t.offsetParent).position&&(n===window||n.contains(t.offsetParent)||n===t.offsetParent))return e(t.offsetParent,n,l,!1);if(n!==window){var h=r(n),f=h.topPadding,g=h.leftPadding;l.top+=f,l.left+=g}return l},r=function(e){var t=window.getComputedStyle(e)["padding-top"],n=Number(t.substring(0,t.length-2)),o=window.getComputedStyle(e)["padding-left"];return{topPadding:n,leftPadding:Number(o.substring(0,o.length-2))}}},22626:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var o=function(e,t){var n=!1,o=null;return o=window.setTimeout((function r(){var i=e();i&&i.finally?i.finally((function(){n||(o=window.setTimeout(r,t))})):console.warn("promiseInterval: promise call did not return a promise, stopping interval.")}),t),{stop:function(){n=!0,window.clearTimeout(o)}}}},53599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=function(){return"".concat(Math.random()).replace(".","-")}},67828:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var o=n(63105),r=n.n(o),i=function(e,t){var n=e.text.toLowerCase(),o=e.summary.toLowerCase();return r()(t,(function(e){return n.includes(e.toLowerCase())||o.includes(e.toLowerCase())}))}},7257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(35161),r=n.n(o),i=n(77776);const s={postStatus:function(e){var t=e.store,n=e.status,o=e.spoilerText,s=e.visibility,a=e.sensitive,u=e.poll,c=e.media,l=void 0===c?[]:c,d=e.inReplyToStatusId,p=void 0===d?void 0:d,m=e.quoteId,h=void 0===m?void 0:m,f=e.contentType,g=void 0===f?"text/plain":f,v=e.preview,b=void 0!==v&&v,w=e.idempotencyKey,y=void 0===w?"":w,D=r()(l,"id");return i.ZP.postStatus({credentials:t.state.users.currentUser.credentials,status:n,spoilerText:o,visibility:s,sensitive:a,mediaIds:D,inReplyToStatusId:p,quoteId:h,contentType:g,poll:u,preview:b,idempotencyKey:y}).then((function(e){return e.error||b||t.dispatch("addNewStatuses",{statuses:[e],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),e})).catch((function(e){return{error:e.message}}))},editStatus:function(e){var t=e.store,n=e.statusId,o=e.status,s=e.spoilerText,a=e.sensitive,u=e.poll,c=e.media,l=void 0===c?[]:c,d=e.contentType,p=void 0===d?"text/plain":d,m=r()(l,"id");return i.ZP.editStatus({id:n,credentials:t.state.users.currentUser.credentials,status:o,spoilerText:s,sensitive:a,poll:u,mediaIds:m,contentType:p}).then((function(e){return e.error||t.dispatch("addNewStatuses",{statuses:[e],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),e})).catch((function(e){return console.error("Error editing status",e),{error:e.message}}))},uploadMedia:function(e){var t=e.store,n=e.formData,o=t.state.users.currentUser.credentials;return i.ZP.uploadMedia({credentials:o,formData:n})},setMediaDescription:function(e){var t=e.store,n=e.id,o=e.description,r=t.state.users.currentUser.credentials;return i.ZP.setMediaDescription({credentials:r,id:n,description:o})}}},77394:(e,t,n)=>{"use strict";n.d(t,{I3:()=>j,RC:()=>S,_v:()=>D,mg:()=>C,sE:()=>y});var o=n(71002),r=n(29439),i=n(15861),s=n(8400),a=n.n(s),u=n(64687),c=n.n(u),l=n(21865),d=n(41152),p=n(6529),m=n(85565),h=!!document.adoptedStyleSheets,f=function(e){if(h)return{el:null,sheet:new CSSStyleSheet,rules:[]};for(var t=document.getElementById(e),n=t.sheet.cssRules.length-1;n>=0;--n)t.sheet.deleteRule(n);return{el:t,sheet:t.sheet,rules:[]}},g="pleroma-eager-styles",v="pleroma-lazy-styles",b=function(e){h&&(document.adoptedStyleSheets=e.map((function(e){return e.sheet})))},w=function(){var e=(0,i.Z)(c().mark((function e(t,n,o){var r,i,s,u,l,m,h,f,g,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.onNewRule,i=void 0===r?function(e,t){}:r,s=n.onLazyFinished,u=void 0===s?function(){}:s,l=n.onEagerFinished,m=void 0===l?function(){}:l,h=(0,d.S)({inputRuleset:t,ultimateBackgroundColor:t[0].directives["--bg"].split("|")[1].trim(),debug:o}),(0,p.qQ)(h.eager,o).forEach((function(e){if(e.match(/::-webkit-scrollbar-button/)){var t=e.split(/[{}]/g),n=[t[0],", ",t[0].replace(/button/,"thumb"),", ",t[0].replace(/scrollbar-button/,"resizer")," {",t[1],"}"].join("");i(n,!1)}else i(e,!1)})),m(),f=0,g=a()(h.lazy,200),v=function e(){var t=g[f];Promise.all(t.map((function(e){return e()}))).then((function(t){(0,p.qQ)(t.filter((function(e){return e})),o).forEach((function(e){if(e.match(/\.modal-view/)){var t=e.split(/[{}]/g),n=[t[0],", ",t[0].replace(/\.modal-view/,"#modal"),", ",t[0].replace(/\.modal-view/,".shout-panel")," {",t[1],"}"].join("");i(n,!0)}else i(e,!0)})),(f+=1)<g.length?setTimeout(e,0):u()}))},e.abrupt("return",{lazyProcessFunc:v});case 8:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),y=function(){var e,t=localStorage.getItem("pleroma-fe-theme-cache");if(!t)return null;try{e=JSON.parse(t)}catch(e){return console.error("Failed to decode theme cache:",e),!1}if(e.engineChecksum===(0,d.b)()){var n=f(g),o=f(v);return e.data[0].forEach((function(e){return n.sheet.insertRule(e,"index-max")})),e.data[1].forEach((function(e){return o.sheet.insertRule(e,"index-max")})),b([n,o]),!0}console.warn("Engine checksum doesn't match, cache not usable, clearing"),localStorage.removeItem("pleroma-fe-theme-cache")},D=function(){var e=(0,i.Z)(c().mark((function e(t){var n,o,r,i,s,a,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:function(e){},o=u.length>2?u[2]:void 0,r=f(g),i=f(v),e.next=6,w(t,{onNewRule:function(e,t){t?(i.sheet.insertRule(e,"index-max"),i.rules.push(e)):(r.sheet.insertRule(e,"index-max"),r.rules.push(e))},onEagerFinished:function(){b([r])},onLazyFinished:function(){b([r,i]);var e={engineChecksum:(0,d.b)(),data:[r.rules,i.rules]};n(e),localStorage.setItem("pleroma-fe-theme-cache",JSON.stringify(e))}},o);case 6:return s=e.sent,a=s.lazyProcessFunc,setTimeout(a,0),e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t={sidebarColumnWidth:e.sidebarColumnWidth,contentColumnWidth:e.contentColumnWidth,notifsColumnWidth:e.notifsColumnWidth,emojiReactionsScale:e.emojiReactionsScale,emojiSize:e.emojiSize,navbarSize:e.navbarSize,panelHeaderSize:e.panelHeaderSize,textSize:e.textSize};switch(e.forcedRoundness){case"disable":break;case"0":t.forcedRoundness="0";break;case"1":t.forcedRoundness="1px";break;case"2":t.forcedRoundness="0.4rem"}return t},k=_(m.W2),C=function(e){var t,n=_(e);if(n!==k){var o=document.head,i=document.body;i.classList.add("hidden");var s=Object.entries(n).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,": ").concat(o)})).join(";");null===(t=document.getElementById("style-config"))||void 0===t||t.remove();var a=document.createElement("style");a.id="style-config",o.appendChild(a);var u=a.sheet;u.toString(),u.insertRule(":root { ".concat(s," }"),"index-max"),Object.prototype.hasOwnProperty.call(n,"forcedRoundness")&&u.insertRule(" * {\n        --roundness: var(--forcedRoundness) !important;\n    }","index-max"),i.classList.remove("hidden")}},S=function(){var e="no-store";return window.fetch("/static/styles.json",{cache:e}).then((function(e){return e.json()})).then((function(t){return Object.entries(t).map((function(t){var n=(0,r.Z)(t,2),i=n[0],s=n[1],a=null;return"object"===(0,o.Z)(s)?a=Promise.resolve(s):"string"==typeof s&&(a=window.fetch(s,{cache:e}).then((function(e){return e.json()})).catch((function(e){return console.error(e),null}))),[i,a]}))})).then((function(e){return e.reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return e[o]=i,e}),{})}))},j=function(e){return S().then((function(t){return t[e]?t[e]:t["pleroma-dark"]})).then((function(e){var t=Array.isArray(e),n=t?{}:e.theme;if(t){var o=(0,l.wK)(e[1]),r=(0,l.wK)(e[2]),i=(0,l.wK)(e[3]),s=(0,l.wK)(e[4]),a=(0,l.wK)(e[5]||"#FF0000"),u=(0,l.wK)(e[6]||"#00FF00"),c=(0,l.wK)(e[7]||"#0000FF"),d=(0,l.wK)(e[8]||"#E3FF00");n.colors={bg:o,fg:r,text:i,link:s,cRed:a,cBlue:c,cGreen:u,cOrange:d}}return{theme:n,source:e.source}}))}},73847:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>_,PN:()=>y,Wx:()=>g,a_:()=>S,dU:()=>p,mA:()=>C,w3:()=>b});var o=n(44925),r=n(29439),i=n(15861),s=n(93433),a=n(64687),u=n.n(a),c=n(56012),l=n.n(c),d=["type"];function p(){return"serviceWorker"in navigator}function m(){return"PushManager"in window}function h(){return l().register().catch((function(e){return console.error("Unable to get or create a service worker.",e)}))}function f(e){return fetch("/api/v1/push/subscription/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){if(!e.ok)throw new Error("Bad status code from server.");return e}))}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h();case 4:navigator.serviceWorker.addEventListener("message",(function(e){var n=t.dispatch,r=e.data,i=r.type,s=(0,o.Z)(r,d);"notificationClicked"===i&&n("notificationClicked",{id:s.id})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(u().mark((function e(t){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.navigator.serviceWorker.getRegistration();case 4:if(n=e.sent,o=n.active){e.next=8;break}return e.abrupt("return",console.error("No serviceworker found!"));case 8:o.postMessage({type:"desktopNotification",content:t});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(u().mark((function e(t){var n,o,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,p){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,window.navigator.serviceWorker.getRegistration();case 5:if(o=e.sent,r=o.active){e.next=9;break}return e.abrupt("return",console.error("No serviceworker found!"));case 9:n>=0?r.postMessage({type:"desktopNotificationClose",content:{id:n}}):r.postMessage({type:"desktopNotificationClose",content:{all:!0}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.navigator.serviceWorker.getRegistration();case 4:if(t=e.sent,n=t.active){e.next=8;break}return e.abrupt("return",console.error("No serviceworker found!"));case 8:n.postMessage({type:"updateFocus"});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,n,o){m()&&h().then((function(n){return function(e,t,n){if(!t)return Promise.reject(new Error("Web Push is disabled in config"));if(!n)return Promise.reject(new Error("VAPID public key is not found"));var o,r,i,a={userVisibleOnly:!1,applicationServerKey:(o=n,r=(o+"=".repeat((4-o.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(r),Uint8Array.from((0,s.Z)(i).map((function(e){return e.charCodeAt(0)}))))};return e.pushManager.subscribe(a)}(n,e,t)})).then((function(e){return function(e,t,n){return window.fetch("/api/v1/push/subscription/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({subscription:e,data:{alerts:{follow:n.follows,favourite:n.likes,mention:n.mentions,reblog:n.repeats,move:n.moves}}})}).then((function(e){if(!e.ok)throw new Error("Bad status code from server.");return e.json()})).then((function(e){if(!e.id)throw new Error("Bad response from server.");return e}))}(e,n,o)})).catch((function(e){return console.warn("Failed to setup Web Push Notifications: ".concat(e.message))}))}function S(e){m()&&Promise.all([f(e),h().then((function(e){return function(e){return e.pushManager.getSubscription().then((function(e){if(null!==e)return e.unsubscribe()}))}(e).then((function(t){return[e,t]}))})).then((function(e){var t=(0,r.Z)(e,2);t[0],t[1]||console.warn("Push subscription cancellation wasn't successful")}))]).catch((function(e){return console.warn("Failed to disable Web Push Notifications: ".concat(e.message))}))}},6529:(e,t,n)=>{"use strict";n.d(t,{JE:()=>c,mo:()=>m,qQ:()=>p});var o=n(4942),r=n(29439),i=n(97332),s=n(21865);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t,n,o=null===(t=/(\d[a-z]*\s?){2,4}/.exec(e))||void 0===t?void 0:t[0],i=null===(n=/inset/.exec(e))||void 0===n?void 0:n[0],s=e.replace(o,"").replace(i,""),a=o.split(/ /).filter((function(e){return e})).map((function(e){return e.trim()})),u=(0,r.Z)(a,4),c=u[0],l=u[1],d=u[2],p=void 0===d?0:d,m=u[3],h=void 0===m?0:m,f="inset"===(null==i?void 0:i.trim()),g=s.split(/ /).filter((function(e){return e})).map((function(e){return e.trim()}))[0];return{x:c,y:l,blur:p,spread:h,inset:f,color:g}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,s._I)(u(u({},(0,i.OQ)(e).rgb),{},{a:t}))},d=function(e,t){return 0===e.length?"none":e.filter((function(e){return t?e.inset:e})).map((function(e){return[e.x,e.y,e.blur,e.spread].map((function(e){return e+"px "})).concat([l(e.color,e.alpha),e.inset?"inset":""]).join(" ")})).join(", ")},p=function(e,t){return e.map((function(e){var n=e.selector;n||(n="html");var o=n+" {",i=Object.entries(e.virtualDirectives||{}).map((function(e){var t=(0,r.Z)(e,2);return"  "+t[0]+": "+t[1]})).join(";\n");return[o,Object.entries(e.directives).map((function(n){var o,i=(0,r.Z)(n,2),a=i[0],u=i[1];switch(a){case"roundness":return"  "+["--roundness: "+u+"px"].join(";\n  ");case"shadow":return"  "+["--shadow: "+d(e.dynamicVars.shadow),"--shadowFilter: "+(o=e.dynamicVars.shadow,0===o.length?"none":o.filter((function(e){return!e.inset&&0===Number(e.spread)})).map((function(e){return[e.x,e.y,e.blur/2].map((function(e){return e+"px"})).concat([l(e.color,e.alpha)]).join(" ")})).map((function(e){return"drop-shadow(".concat(e,")")})).join(" ")),"--shadowInset: "+d(e.dynamicVars.shadow,!0)].join(";\n  ");case"background":if(t)return"\n            --background: ".concat(l(e.dynamicVars.stacked),";\n            background-color: ").concat(l(e.dynamicVars.stacked),";\n          ");if("transparent"===u)return"Root"===e.component?[]:["yes"!==e.directives.backgroundNoCssColor?"background-color: "+u:"","  --background: "+u].filter((function(e){return e})).join(";\n");var c=l(e.dynamicVars.background,e.directives.opacity),p=["--background: "+c];return"yes"!==e.directives.backgroundNoCssColor&&p.push("background-color: "+c),p.filter((function(e){return e})).join(";\n");case"blur":var m=[];return e.directives.opacity<1&&(m.push("--backdrop-filter: blur(".concat(u,") ")),"yes"!==e.directives.backgroundNoCssColor&&m.push("backdrop-filter: blur(".concat(u,") "))),m.join(";\n");case"font":return"font-family: "+u;case"textColor":return"yes"===e.directives.textNoCssColor?"":"color: "+u;default:if(a.startsWith("--")){var h=u.split("|").map((function(e){return e.trim()})),f=(0,r.Z)(h,2),g=f[0],v=f[1];switch(g){case"color":var b=e.dynamicVars[a];return"string"==typeof b?a+": "+(0,s._I)((0,s.wK)(b)):a+": "+(0,s._I)(b);case"generic":return a+": "+v;default:return""}}return""}})).filter((function(e){return e})).map((function(e){return"  "+e})).join(";\n")+";","Text"===e.component&&e.state.indexOf("faint")<0&&"yes"!==e.directives.textNoCssColor?"  color: var(--text);":"","",i,"}"].join("\n")})).filter((function(e){return e}))},m=function(e,t){return e.map((function(e){return e.startsWith("html")?e.replace("html",t):e.startsWith("#content")?e.replace("#content",t):t+" > "+e}))}},44551:(e,t,n)=>{"use strict";n.d(t,{em:()=>a,k0:()=>i,wB:()=>s});var o=n(97332),r=n(21865),i={undelay:null,topBar:null,badge:null,profileTint:null,fg:null,bg:"underlay",highlight:"bg",panel:"bg",popover:"bg",selectedMenu:"popover",btn:"bg",btnPanel:"panel",btnTopBar:"topBar",input:"bg",inputPanel:"panel",inputTopBar:"topBar",alert:"bg",alertPanel:"panel",poll:"bg",chatBg:"underlay",chatMessage:"chatBg"},s={profileTint:.5,alert:.5,input:.5,faint:.5,underlay:.15,alertPopup:.95},a={bg:{depends:[],opacity:"bg",priority:1},wallpaper:{depends:["bg"],color:function(e,t){return(0,o.Xu)(-2*e,t).rgb}},fg:{depends:[],priority:1},text:{depends:[],layer:"bg",opacity:null,priority:1},underlay:{default:"#000000",opacity:"underlay"},link:{depends:["accent"],priority:1},accent:{depends:["link"],priority:1},faint:{depends:["text"],opacity:"faint"},faintLink:{depends:["link"],opacity:"faint"},postFaintLink:{depends:["postLink"],opacity:"faint"},cBlue:"#0000ff",cRed:"#FF0000",cGreen:"#00FF00",cOrange:"#E3FF00",profileBg:{depends:["bg"],color:function(e,t){return{r:Math.floor(.53*t.r),g:Math.floor(.56*t.g),b:Math.floor(.59*t.b)}}},profileTint:{depends:["bg"],layer:"profileTint",opacity:"profileTint"},highlight:{depends:["bg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},highlightLightText:{depends:["lightText"],layer:"highlight",textColor:!0},highlightPostLink:{depends:["postLink"],layer:"highlight",textColor:"preserve"},highlightFaintText:{depends:["faint"],layer:"highlight",textColor:!0},highlightFaintLink:{depends:["faintLink"],layer:"highlight",textColor:"preserve"},highlightPostFaintLink:{depends:["postFaintLink"],layer:"highlight",textColor:"preserve"},highlightText:{depends:["text"],layer:"highlight",textColor:!0},highlightLink:{depends:["link"],layer:"highlight",textColor:"preserve"},highlightIcon:{depends:["highlight","highlightText"],color:function(e,t,n){return(0,r.a4)(t,n)}},popover:{depends:["bg"],opacity:"popover"},popoverLightText:{depends:["lightText"],layer:"popover",textColor:!0},popoverPostLink:{depends:["postLink"],layer:"popover",textColor:"preserve"},popoverFaintText:{depends:["faint"],layer:"popover",textColor:!0},popoverFaintLink:{depends:["faintLink"],layer:"popover",textColor:"preserve"},popoverPostFaintLink:{depends:["postFaintLink"],layer:"popover",textColor:"preserve"},popoverText:{depends:["text"],layer:"popover",textColor:!0},popoverLink:{depends:["link"],layer:"popover",textColor:"preserve"},popoverIcon:{depends:["popover","popoverText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedPost:"--highlight",selectedPostFaintText:{depends:["highlightFaintText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLightText:{depends:["highlightLightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostPostLink:{depends:["highlightPostLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostFaintLink:{depends:["highlightFaintLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostText:{depends:["highlightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLink:{depends:["highlightLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostIcon:{depends:["selectedPost","selectedPostText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedMenu:{depends:["bg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},selectedMenuLightText:{depends:["highlightLightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintText:{depends:["highlightFaintText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintLink:{depends:["highlightFaintLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuText:{depends:["highlightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuLink:{depends:["highlightLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuIcon:{depends:["selectedMenu","selectedMenuText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedMenuPopover:{depends:["popover"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},selectedMenuPopoverLightText:{depends:["selectedMenuLightText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintText:{depends:["selectedMenuFaintText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintLink:{depends:["selectedMenuFaintLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverText:{depends:["selectedMenuText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverLink:{depends:["selectedMenuLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverIcon:{depends:["selectedMenuPopover","selectedMenuText"],color:function(e,t,n){return(0,r.a4)(t,n)}},lightText:{depends:["text"],layer:"bg",textColor:"preserve",color:function(e,t){return(0,o.Xu)(20*e,t).rgb}},postLink:{depends:["link"],layer:"bg",textColor:"preserve"},postGreentext:{depends:["cGreen"],layer:"bg",textColor:"preserve"},postCyantext:{depends:["cBlue"],layer:"bg",textColor:"preserve"},border:{depends:["fg"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}},poll:{depends:["accent","bg"],copacity:"poll",color:function(e,t,n){return(0,r.Tj)(t,.4,n)}},pollText:{depends:["text"],layer:"poll",textColor:!0},icon:{depends:["bg","text"],inheritsOpacity:!1,color:function(e,t,n){return(0,r.a4)(t,n)}},fgText:{depends:["text"],layer:"fg",textColor:!0},fgLink:{depends:["link"],layer:"fg",textColor:"preserve"},panel:{depends:["fg"],opacity:"panel"},panelText:{depends:["text"],layer:"panel",textColor:!0},panelFaint:{depends:["fgText"],layer:"panel",opacity:"faint",textColor:!0},panelLink:{depends:["fgLink"],layer:"panel",textColor:"preserve"},topBar:"--fg",topBarText:{depends:["fgText"],layer:"topBar",textColor:!0},topBarLink:{depends:["fgLink"],layer:"topBar",textColor:"preserve"},tab:{depends:["btn"]},tabText:{depends:["btnText"],layer:"btn",textColor:!0},tabActiveText:{depends:["text"],layer:"bg",textColor:!0},btn:{depends:["fg"],variant:"btn",opacity:"btn"},btnText:{depends:["fgText"],layer:"btn",textColor:!0},btnPanelText:{depends:["btnText"],layer:"btnPanel",variant:"btn",textColor:!0},btnTopBarText:{depends:["btnText"],layer:"btnTopBar",variant:"btn",textColor:!0},btnPressed:{depends:["btn"],layer:"btn"},btnPressedText:{depends:["btnText"],layer:"btn",variant:"btnPressed",textColor:!0},btnPressedPanel:{depends:["btnPressed"],layer:"btn"},btnPressedPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnPressed",textColor:!0},btnPressedTopBar:{depends:["btnPressed"],layer:"btn"},btnPressedTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnPressed",textColor:!0},btnToggled:{depends:["btn"],layer:"btn",color:function(e,t){return(0,o.Xu)(20*e,t).rgb}},btnToggledText:{depends:["btnText"],layer:"btn",variant:"btnToggled",textColor:!0},btnToggledPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnToggled",textColor:!0},btnToggledTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnToggled",textColor:!0},btnDisabled:{depends:["btn","bg"],color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledText:{depends:["btnText","btnDisabled"],layer:"btn",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledPanelText:{depends:["btnPanelText","btnDisabled"],layer:"btnPanel",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledTopBarText:{depends:["btnTopBarText","btnDisabled"],layer:"btnTopBar",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},input:{depends:["fg"],opacity:"input"},inputText:{depends:["text"],layer:"input",textColor:!0},inputPanelText:{depends:["panelText"],layer:"inputPanel",variant:"input",textColor:!0},inputTopbarText:{depends:["topBarText"],layer:"inputTopBar",variant:"input",textColor:!0},alertError:{depends:["cRed"],opacity:"alert"},alertErrorText:{depends:["text"],layer:"alert",variant:"alertError",textColor:!0},alertErrorPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertError",textColor:!0},alertWarning:{depends:["cOrange"],opacity:"alert"},alertWarningText:{depends:["text"],layer:"alert",variant:"alertWarning",textColor:!0},alertWarningPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertWarning",textColor:!0},alertSuccess:{depends:["cGreen"],opacity:"alert"},alertSuccessText:{depends:["text"],layer:"alert",variant:"alertSuccess",textColor:!0},alertSuccessPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertSuccess",textColor:!0},alertNeutral:{depends:["text"],opacity:"alert"},alertNeutralText:{depends:["text"],layer:"alert",variant:"alertNeutral",color:function(e,t){return(0,o.Xp)(t).rgb},textColor:!0},alertNeutralPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertNeutral",textColor:!0},alertPopupError:{depends:["alertError"],opacity:"alertPopup"},alertPopupErrorText:{depends:["alertErrorText"],layer:"popover",variant:"alertPopupError",textColor:!0},alertPopupWarning:{depends:["alertWarning"],opacity:"alertPopup"},alertPopupWarningText:{depends:["alertWarningText"],layer:"popover",variant:"alertPopupWarning",textColor:!0},alertPopupSuccess:{depends:["alertSuccess"],opacity:"alertPopup"},alertPopupSuccessText:{depends:["alertSuccessText"],layer:"popover",variant:"alertPopupSuccess",textColor:!0},alertPopupNeutral:{depends:["alertNeutral"],opacity:"alertPopup"},alertPopupNeutralText:{depends:["alertNeutralText"],layer:"popover",variant:"alertPopupNeutral",textColor:!0},badgeNotification:"--cRed",badgeNotificationText:{depends:["text","badgeNotification"],layer:"badge",variant:"badgeNotification",textColor:"bw"},badgeNeutral:"--cGreen",badgeNeutralText:{depends:["text","badgeNeutral"],layer:"badge",variant:"badgeNeutral",textColor:"bw"},chatBg:{depends:["bg"]},chatMessageIncomingBg:{depends:["chatBg"]},chatMessageIncomingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:!0},chatMessageIncomingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:"preserve"},chatMessageIncomingBorder:{depends:["border"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}},chatMessageOutgoingBg:{depends:["chatMessageIncomingBg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},chatMessageOutgoingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:!0},chatMessageOutgoingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:"preserve"},chatMessageOutgoingBorder:{depends:["chatMessageOutgoingBg"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}}}},2673:(e,t,n)=>{"use strict";n.d(t,{FE:()=>v});var o=n(93433),r=n(29439),i=n(4942),s=n(97332);const a=["bg","wallpaper","fg","text","underlay","link","accent","faint","faintLink","postFaintLink","cBlue","cRed","cGreen","cOrange","profileBg","profileTint","highlight","highlightLightText","highlightPostLink","highlightFaintText","highlightFaintLink","highlightPostFaintLink","highlightText","highlightLink","highlightIcon","popover","popoverLightText","popoverPostLink","popoverFaintText","popoverFaintLink","popoverPostFaintLink","popoverText","popoverLink","popoverIcon","selectedPost","selectedPostFaintText","selectedPostLightText","selectedPostPostLink","selectedPostFaintLink","selectedPostText","selectedPostLink","selectedPostIcon","selectedMenu","selectedMenuLightText","selectedMenuFaintText","selectedMenuFaintLink","selectedMenuText","selectedMenuLink","selectedMenuIcon","selectedMenuPopover","selectedMenuPopoverLightText","selectedMenuPopoverFaintText","selectedMenuPopoverFaintLink","selectedMenuPopoverText","selectedMenuPopoverLink","selectedMenuPopoverIcon","lightText","postLink","postGreentext","postCyantext","border","poll","pollText","icon","fgText","fgLink","panel","panelText","panelFaint","panelLink","topBar","topBarText","topBarLink","tab","tabText","tabActiveText","btn","btnText","btnPanelText","btnTopBarText","btnPressed","btnPressedText","btnPressedPanel","btnPressedPanelText","btnPressedTopBar","btnPressedTopBarText","btnToggled","btnToggledText","btnToggledPanelText","btnToggledTopBarText","btnDisabled","btnDisabledText","btnDisabledPanelText","btnDisabledTopBarText","input","inputText","inputPanelText","inputTopbarText","alertError","alertErrorText","alertErrorPanelText","alertWarning","alertWarningText","alertWarningPanelText","alertSuccess","alertSuccessText","alertSuccessPanelText","alertNeutral","alertNeutralText","alertNeutralPanelText","alertPopupError","alertPopupErrorText","alertPopupWarning","alertPopupWarningText","alertPopupSuccess","alertPopupSuccessText","alertPopupNeutral","alertPopupNeutralText","badgeNeutral","badgeNeutralText","badgeNotification","badgeNotificationText","chatBg","chatMessageIncomingBg","chatMessageIncomingText","chatMessageIncomingLink","chatMessageIncomingBorder","chatMessageOutgoingBg","chatMessageOutgoingText","chatMessageOutgoingLink","chatMessageOutgoingBorder"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=new Set(["bg","fg","text","link","accent","cBlue","cRed","cGreen","cOrange","wallpaper"]),d=new Set(["interface","input","post","postCode"]),p=new Set(["alert","alertPopup","bg","border","btn","faint","input","panel","popover","profileTint","underlay"]),m=new Set(["panel","topBar","popup","avatar","avatarStatus","panelHeader","button","buttonHover","buttonPressed","input"]),h=new Set(["btn","input","checkbox","panel","avatar","avatarAlt","tooltip","attachment","chatMessage"]),f=(new Set(["profileBg","profileTint"]),new Set(["border","icon","highlight","lightText","chatBg"])),g=Object.fromEntries(["border","icon","highlight","lightText","popover","panel","topBar","tab","btn","input","selectedMenu","alert","alertPopup","badge","post","selectedPost","poll","chatBg","chatMessage"].map((function(e){return[e,a.filter((function(t){return"alert"===e?t.startsWith(e)&&!t.startsWith("alertPopup"):t.startsWith(e)}))]}))),v=(new Set(["","highlight"]),function(e){e.colors.accent=e.colors.accent||e.colors.link,e.colors.link=e.colors.link||e.colors.accent;var t,n,i=Object.entries(g).map((function(t){var n=(0,r.Z)(t,2),i=n[0],s=n[1];if(f.has(i))return null;var a={source:"2to3"};return"alertPopup"===i?(a.component="Alert",a.parent={component:"Popover"}):"selectedPost"===i?(a.component="Post",a.state=["selected"]):"selectedMenu"===i?(a.component="MenuItem",a.state=["hover"]):"chatMessageIncoming"===i?a.component="ChatMessage":"chatMessageOutgoing"===i?(a.component="ChatMessage",a.variant="outgoing"):a.component="panel"===i?"PanelHeader":"topBar"===i?"TopBar":"chatMessage"===i?"ChatMessage":"poll"===i?"PollGraph":"btn"===i?"Button":i[0].toUpperCase()+i.slice(1).toLowerCase(),s.map((function(t){if(!e.colors[t])return null;var n=(t.replace(i,"")||"Bg").match(/[A-Z][a-z]*/g),r=n.slice(-1)[0],s={source:"2to3",directives:{}},u=[];switch(r){case"Text":case"Faint":case"Link":case"Icon":case"Greentext":case"Cyantext":case"Border":s.parent=a,s.directives.textColor=e.colors[t],s.directives.textAuto="no-auto",u=n.slice(0,-1);break;default:(s=c(c({},a),{},{directives:{}})).directives.background=e.colors[t],u=n}if("Text"===r||"Link"===r){var l=n.slice(-2)[0];if("Light"===l)return null;"Faint"===l&&(s.state=["faint"],u=n.slice(0,-2))}switch(r){case"Text":case"Link":case"Icon":case"Border":s.component=r;break;case"Greentext":case"Cyantext":s.component="FunText",s.variant=r.toLowerCase();break;case"Faint":s.component="Text",s.state=["faint"]}switch(u=u.filter((function(e){return"Bg"!==e})),"Link"===r&&"selectedPost"===i&&(u=u.filter((function(e){return"Post"!==e}))),"popover"===i&&"Post"===u[0]&&(s.component="Post",s.parent={source:"2to3hack",component:"Popover"},u=u.filter((function(e){return"Post"!==e}))),"selectedMenu"===i&&"Popover"===u[0]&&(s.parent={source:"2to3hack",component:"Popover"},u=u.filter((function(e){return"Popover"!==e}))),i){case"btn":case"input":case"alert":u.find((function(e){return"Panel"===e}))&&(s.parent={source:"2to3hack",component:"PanelHeader",parent:s.parent},u=u.filter((function(e){return"Panel"!==e}))),u.find((function(e){return"Top"===e}))&&(s.parent={source:"2to3hack",component:"TopBar",parent:s.parent},u=u.filter((function(e){return"Top"!==e&&"Bar"!==e})))}if(u.length>0&&("btn"===i?s.state=u.map((function(e){return e.toLowerCase()})):s.variant=u[0].toLowerCase()),"Panel"===s.component)return[s,c(c({},s),{},{component:"MobileDrawer"})];if("Button"===s.component){var d,p,m=[s,c(c({},s),{},{component:"Tab"}),c(c({},s),{},{component:"ScrollbarElement"})];return(null===(d=s.state)||void 0===d?void 0:d.indexOf("toggled"))>=0&&(m.push(c(c({},s),{},{state:[].concat((0,o.Z)(s.state),["focused"])})),m.push(c(c({},s),{},{state:[].concat((0,o.Z)(s.state),["hover"])})),m.push(c(c({},s),{},{state:[].concat((0,o.Z)(s.state),["hover","focused"])}))),(null===(p=s.state)||void 0===p?void 0:p.indexOf("hover"))>=0&&m.push(c(c({},s),{},{state:[].concat((0,o.Z)(s.state),["focused"])})),m}return"Badge"===s.component?"notification"===s.variant?[s,{component:"Root",directives:{"--badgeNotification":"color | "+s.directives.background}}]:"neutral"===s.variant?[c(c({},s),{},{variant:"normal"})]:[s]:"TopBar"===s.component?[s,c(c({},s),{},{parent:{component:"MobileDrawer"},component:"PanelHeader"})]:[s]}))})).filter((function(e){return e})).reduce((function(e,t){return[].concat((0,o.Z)(e),(0,o.Z)(t))}),[]).filter((function(e){return e})).reduce((function(e,t){return[].concat((0,o.Z)(e),(0,o.Z)(t))}),[]);return[(n={},l.forEach((function(t){n["--"+t]="color | "+(0,s.OQ)(e.colors[t]).hex})),{component:"Root",directives:n})].concat((0,o.Z)((t=[],Object.keys(e.shadows||{}).forEach((function(n){if(m.has(n)){var o=e.shadows[n],r={source:"2to3"};switch(n){case"panel":r.component="Panel";break;case"topBar":r.component="TopBar";break;case"popup":r.component="Popover";break;case"avatar":r.component="Avatar";break;case"avatarStatus":r.component="Avatar",r.parent={component:"Post"};break;case"panelHeader":r.component="PanelHeader";break;case"button":r.component="Button";break;case"buttonHover":r.component="Button",r.state=["hover"];break;case"buttonPressed":r.component="Button",r.state=["pressed"];break;case"input":r.component="Input"}r.directives={shadow:o},t.push(r),"topBar"===n&&t.push(c(c({},r),{},{component:"PanelHeader",parent:{component:"MobileDrawer"}})),"avatarStatus"===n&&t.push(c(c({},r),{},{parent:{component:"Notification"}})),"buttonPressed"===n&&(t.push(c(c({},r),{},{state:["toggled"]})),t.push(c(c({},r),{},{state:["toggled","focus"]})),t.push(c(c({},r),{},{state:["pressed","focus"]}))),"buttonHover"===n&&(t.push(c(c({},r),{},{state:["toggled","hover"]})),t.push(c(c({},r),{},{state:["pressed","hover"]})),t.push(c(c({},r),{},{state:["toggled","focus","hover"]})),t.push(c(c({},r),{},{state:["pressed","focus","hover"]}))),"Button"===r.component&&(t.push(c(c({},r),{},{component:"ScrollbarElement"})),t.push(c(c({},r),{},{component:"Tab"})))}})),t)),(0,o.Z)(function(){var t=[];return Object.keys(e.radii||{}).forEach((function(n){if(!h.has(n)||void 0===e.radii[n])return null;var o=e.radii[n],r={source:"2to3"};switch(n){case"btn":case"ChatMessage":r.component="Button";break;case"tab":r.component="Tab";break;case"input":r.component="Input";break;case"checkbox":r.component="Input",r.variant="checkbox";break;case"panel":r.component="Panel";break;case"avatar":r.component="Avatar";break;case"avatarAlt":r.component="Avatar",r.variant="compact";break;case"tooltip":r.component="Popover";break;case"attachment":r.component="Attachment"}r.directives={roundness:o},t.push(r),"Button"===r.component&&(t.push(c(c({},r),{},{component:"ScrollbarElement"})),t.push(c(c({},r),{},{component:"Tab"})))})),t}()),(0,o.Z)(function(){var t=[];return Object.keys(e.opacity||{}).forEach((function(n){if(!p.has(n)||void 0===e.opacity[n])return null;var o=e.opacity[n],r={source:"2to3"};switch(n){case"alert":r.component="Alert";break;case"alertPopup":r.component="Alert",r.parent={component:"Popover"};break;case"bg":r.component="Panel";break;case"border":r.component="Border";break;case"btn":r.component="Button";break;case"faint":r.component="Text",r.state=["faint"];break;case"input":r.component="Input";break;case"panel":r.component="PanelHeader";break;case"popover":r.component="Popover";break;case"profileTint":return null;case"underlay":r.component="Underlay"}switch(n){case"alert":case"alertPopup":case"bg":case"btn":case"input":case"panel":case"popover":case"underlay":r.directives={opacity:o};break;case"faint":case"border":r.directives={textOpacity:o}}t.push(r),"Button"===r.component&&(t.push(c(c({},r),{},{component:"ScrollbarElement"})),t.push(c(c({},r),{},{component:"Tab"})),t.push(c(c({},r),{},{component:"Tab",state:["active"],directives:{opacity:0}}))),"Panel"===r.component&&t.push(c(c({},r),{},{component:"Post"}))})),t}()),(0,o.Z)(function(){var t=[];return Object.keys(e.fonts||{}).forEach((function(n){if(d.has(n)&&e.fonts[n]){var o=e.fonts[n].family,r={source:"2to3"};switch(n){case"interface":case"postCode":r.component="Root";break;case"input":r.component="Input";break;case"post":r.component="RichContent"}switch(n){case"interface":case"input":case"post":r.directives={"--font":"generic | "+o};break;case"postCode":r.directives={"--monoFont":"generic | "+o},t.push(c(c({},r),{},{component:"RichContent"}))}t.push(r)}})),t}()),(0,o.Z)(i))})},40454:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>y,AV:()=>v,H2:()=>P,LP:()=>S,Ot:()=>k,XV:()=>_,dE:()=>T,l9:()=>I,lD:()=>j,m:()=>F,vp:()=>x,we:()=>p,xb:()=>h});var o=n(4942),r=n(29439),i=n(71002),s=n(93433),a=n(97332),u=n(21865),c=n(44551);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=3,m=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.k0,n=[e],o=t[e];o;)n.unshift(o),o=t[o];return n},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return m(e).map((function(i){return[i===e?o[t]:o[i],i===e?r[n]||1:r[i]]}))},f=function(e,t){var n=t[e];if("string"==typeof n&&n.startsWith("--"))return[n.substring(2)];if(null===n)return[];var o=n.depends,r=n.layer,i=n.variant,a=r?m(r).map((function(e){return e===r?i||r:e})):[];return Array.isArray(o)?[].concat((0,s.Z)(o),(0,s.Z)(a)):(0,s.Z)(a)},g=function(e){return"object"===(0,i.Z)(e)?e:{depends:e.startsWith("--")?[e.substring(2)]:[],default:e.startsWith("#")?e:void 0}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.em,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,o=g(t[e]);if(null!==o.opacity)return o.opacity?o.opacity:o.depends?function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],a=n(r,t)[0];if(void 0!==a){var u=t[a];if(void 0!==u)return u.opacity||null===u?u.opacity:u.depends&&i.includes(a)?o(a,[].concat((0,s.Z)(i),[a])):null}}(e):void 0},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.em,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,o=g(t[e]);return c.k0[e]?e:null!==o.layer?o.layer?o.layer:o.depends?function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],a=n(r,t)[0];if(void 0!==a){var u=t[a];if(void 0!==u)return u.layer||null===u?u.layer:u.depends?o(u,[].concat((0,s.Z)(i),[a])):null}}(e):void 0:void 0},w=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.em,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=Object.keys(e),o=new Set(n),r=new Set,i=new Set,s=[].concat(n),a=[],u=function n(s){if(o.has(s))o.delete(s),r.add(s),t(s,e).forEach(n),r.delete(s),i.add(s),a.push(s);else if(r.has(s))a.push(s);else if(!i.has(s))throw new Error("Unintended condition in topoSort!")};s.length>0;)u(s.pop());return a.map((function(e,t){return{data:e,index:t}})).sort((function(n,o){var r=n.data,i=n.index,s=o.data,a=o.index,u=t(r,e).length,c=t(s,e).length;return u===c||0!==c&&0!==u?i-a:0===u&&0!==c?-1:0===c&&0!==u?1:0})).map((function(e){return e.data}))}(Object.entries(c.em).sort((function(e,t){var n=(0,r.Z)(e,2),o=(n[0],n[1]),i=(0,r.Z)(t,2),s=(i[0],i[1]);return(o&&o.priority||0)-(s&&s.priority||0)})).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],s=n[1];return d(d({},e),{},(0,o.Z)({},i,s))}),{})),y=Object.entries(c.em).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=(n[1],v(i,c.em,f));return a?d(d({},e),{},(0,o.Z)({},a,{defaultValue:c.wB[a]||1,affectedSlots:[].concat((0,s.Z)(e[a]&&e[a].affectedSlots||[]),[i])})):e}),{}),D=function(e,t,n){if("string"!=typeof e||!e.startsWith("--"))return e;var o=null,i=e.split(/,/g).map((function(e){return e.trim()})),s=(0,r.Z)(i,2),u=s[0],c=s[1];return o=t(u.substring(2)),c&&(o=(0,a.Xu)(Number.parseFloat(c)*n,o).rgb),o},_=function(e){var t=S(e);return function(e,t,n,o){return{rules:d(d(d(d({},n.rules),e.rules),t.rules),o.rules),theme:d(d(d(d({},n.theme),e.theme),t.theme),o.theme)}}(t,j(e),P(e,t.theme.colors,t.mod),F(e))},k=function(e,t){return 0===e.length?"none":e.filter((function(e){return t?e.inset:e})).map((function(e){return[e.x,e.y,e.blur,e.spread].map((function(e){return e+"px"})).concat([(0,u.pP)(e.color,e.alpha),e.inset?"inset":""]).join(" ")})).join(", ")},C=function(e){return 0===e.length?"none":e.filter((function(e){return!e.inset&&0===Number(e.spread)})).map((function(e){return[e.x,e.y,e.blur/2].map((function(e){return e+"px"})).concat([(0,u.pP)(e.color,e.alpha)]).join(" ")})).map((function(e){return"drop-shadow(".concat(e,")")})).join(" ")},S=function(e){var t,n,i=(t=e.themeEngineVersion?e.colors||e:T(e.colors||e),n=e.opacity||{},w.reduce((function(e,r){var i,l=e.colors,p=e.opacity,m=t[r],w=g(c.em[r]),_=f(r,c.em),k=!!w.textColor,C=w.variant||w.layer;i=k?(0,u.Rx)(d({},l[_[0]]||(0,a.OQ)(t[r]||"#FF00FF").rgb),h(b(r)||"bg",C||"bg",v(C),l,p)):C&&C!==r?l[C]||(0,a.OQ)(t[C]).rgb:l.bg||(0,a.OQ)(t.bg);var S=(0,u.ov)(i)<.5?1:-1,j=null;if(m){var F=m;if("transparent"===F){var A=h(b(r),r,v(r)||r,l,p).slice(0,-1);F=d(d({},(0,u.Rx)((0,a.OQ)("#FF00FF").rgb,A)),{},{a:0})}else"string"==typeof m&&m.startsWith("--")?F=D(m,(function(e){return l[e]||t[e]}),S):"string"==typeof m&&m.startsWith("#")&&(F=(0,a.OQ)(F).rgb);j=d({},F)}else if(w.default)j=(0,a.OQ)(w.default).rgb;else{var O=w.color||function(e,t){return d({},t)};if(w.textColor)if("bw"===w.textColor)j=(0,a.wo)(i).rgb;else{var E=d({},l[_[0]]);w.color&&(E=O.apply(void 0,[S].concat((0,s.Z)(_.map((function(e){return d({},l[e])})))))),j=(0,u.uu)(i,d({},E),"preserve"===w.textColor)}else j=O.apply(void 0,[S].concat((0,s.Z)(_.map((function(e){return d({},l[e])})))))}if(!j)throw new Error("Couldn't generate color for "+r);var z=w.opacity||v(r),x=w.opacity;if(null===x)j.a=1;else if("transparent"===m)j.a=0;else{var P=x&&void 0!==n[z],I=_[0],T=I&&l[I];x||!T||w.textColor||null===x?T||z?T&&0===T.a?j.a=0:j.a=Number(P?n[z]:(y[z]||{}).defaultValue):delete j.a:j.a=T.a}return(Number.isNaN(j.a)||void 0===j.a)&&(j.a=1),z?{colors:d(d({},l),{},(0,o.Z)({},r,j)),opacity:d(d({},p),{},(0,o.Z)({},z,j.a))}:{colors:d(d({},l),{},(0,o.Z)({},r,j)),opacity:p}}),{colors:{},opacity:{}})),l=i.colors,p=i.opacity,m=Object.entries(l).reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return i?(e.solid[o]=(0,u.CO)(i),e.complete[o]=void 0===i.a?(0,u.CO)(i):(0,u._I)(i),e):e}),{complete:{},solid:{}});return{rules:{colors:Object.entries(m.complete).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,": ").concat(o)})).join(";")},theme:{colors:m.solid,opacity:p}}},j=function(e){var t=e.radii||{};void 0!==e.btnRadius&&(t=Object.entries(e).filter((function(e){var t=(0,r.Z)(e,2),n=t[0];return t[1],n.endsWith("Radius")})).reduce((function(e,t){return e[t[0].split("Radius")[0]]=t[1],e}),{}));var n=Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return e[o]=i,e}),{btn:4,input:4,checkbox:2,panel:10,avatar:5,avatarAlt:50,tooltip:2,attachment:5,chatMessage:t.panel});return{rules:{radii:Object.entries(n).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,"Radius: ").concat(o,"px")})).join(";")},theme:{radii:n}}},F=function(e){var t=Object.entries(e.fonts||{}).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return e[o]=Object.entries(i).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return e[o]=i,e}),e[o]),e}),{interface:{family:"sans-serif"},input:{family:"inherit"},post:{family:"inherit"},postCode:{family:"monospace"}});return{rules:{fonts:Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,"Font: ").concat(o.family)})).join(";")},theme:{fonts:t}}},A=function(e,t){return{x:0,y:e?1:-1,blur:0,spread:0,color:t?"#000000":"#FFFFFF",alpha:.2,inset:!0}},O=[A(!0,!1),A(!1,!0)],E=[A(!0,!0),A(!1,!1)],z={x:0,y:0,blur:4,spread:0,color:"--faint",alpha:1},x={panel:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],topBar:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}],popup:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}],avatar:[{x:0,y:1,blur:8,spread:0,color:"#000000",alpha:.7}],avatarStatus:[],panelHeader:[],button:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1}].concat(O),buttonHover:[z].concat(O),buttonPressed:[z].concat(E),input:[].concat(E,[{x:0,y:0,blur:2,inset:!0,spread:0,color:"#000000",alpha:1}])},P=function(e,t){var n={button:"btn",panel:"bg",top:"topBar",popup:"popover",avatar:"bg",panelHeader:"panel",input:"input"},i=Object.fromEntries(Object.entries(e.shadows||{}).map((function(e){var t=(0,r.Z)(e,2);return[t[0],t[1].map((function(e){return d({color:"#000000"},e)}))]}))),c=i&&!e.themeEngineVersion?I(i,e.opacity):i||{},l=Object.entries(d(d({},x),c)).reduce((function(e,i){var c=(0,r.Z)(i,2),l=c[0],p=c[1],m=l.replace(/[A-Z].*$/,""),h=n[m],f=(0,u.ov)((0,a.OQ)(t[h]).rgb)<.5?1:-1,g=p.reduce((function(e,n){return[].concat((0,s.Z)(e),[d(d({},n),{},{color:(0,u.CO)(D(n.color,(function(e){return(0,a.OQ)(t[e]).rgb}),f))})])}),[]);return d(d({},e),{},(0,o.Z)({},l,g))}),{});return{rules:{shadows:Object.entries(l).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return["--".concat(n,"Shadow: ").concat(k(o)),"--".concat(n,"ShadowFilter: ").concat(C(o)),"--".concat(n,"ShadowInset: ").concat(k(o,!0))].join(";")})).join(";")},theme:{shadows:l}}},I=function(e,t){return Object.entries(e).reduce((function(e,n){var i=(0,r.Z)(n,2),a=i[0],u=i[1].reduce((function(e,n){return[].concat((0,s.Z)(e),[d(d({},n),{},{alpha:(i=n,a=i.color,(void 0===a?"#000000":a).startsWith("--")?(o=n,r=o.color,t[v(r.substring(2).split(",")[0])]||1):n.alpha)})]);var o,r,i,a}),[]);return d(d({},e),{},(0,o.Z)({},a,u))}),{})},T=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],s=n[1];switch(i){case"lightBg":return d(d({},e),{},{highlight:s});case"btnText":return d(d({},e),["","Panel","TopBar"].reduce((function(e,t){return d(d({},e),{},(0,o.Z)({},"btn"+t+"Text",s))}),{}));default:return d(d({},e),{},(0,o.Z)({},i,s))}}),{})}},41152:(e,t,n)=>{"use strict";n.d(t,{b:()=>R,S:()=>q});var o=n(15861),r=n(84506),i=n(93433),s=n(4942),a=n(29439),u=n(89734),c=n.n(u),l=n(42348),d=n.n(l),p=n(64687),m=n.n(p),h=n(97332),f=n(80504),g=n.n(f),v=n(21865),b=n(71002),w=n(60136),y=n(89611);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(){k=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,o,r){var i=RegExp(e,o);return t.set(i,r||t.get(e)),(0,y.Z)(i,n.prototype)}function o(e,n){var o=t.get(n);return Object.keys(o).reduce((function(t,n){var r=o[n];if("number"==typeof r)t[n]=e[r];else{for(var i=0;void 0===e[r[i]]&&i+1<r.length;)i++;t[n]=e[r[i]]}return t}),Object.create(null))}return(0,w.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=o(n,this);var r=n.indices;r&&(r.groups=o(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var i=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=i[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,b.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},k.apply(this,arguments)}var C=function(e,t,n,o){var r=n.findColor,i=n.findShadow,s=o.dynamicVars,a=o.staticVars,u=k(/\$(\w+)\(([#a-zA-Z0-9-,.'"\s]*)\)/,{funcName:1,argsString:2}).exec(e).groups,c=u.funcName,l=u.argsString.split(/,/g).map((function(e){return e.trim()})),d=t[c];if(l.length<d.argsNeeded)throw new Error("$".concat(c," requires at least ").concat(d.argsNeeded," arguments, but ").concat(l.length," were provided"));return d.exec(l,{findColor:r,findShadow:i},{dynamicVars:s,staticVars:a})},S={alpha:{argsNeeded:2,exec:function(e,t,n){var o=t.findColor,r=n.dynamicVars,i=n.staticVars,s=(0,a.Z)(e,2),u=s[0],c=s[1],l=(0,h.OQ)(o(u,{dynamicVars:r,staticVars:i})).rgb,d=Number(c);return _(_({},l),{},{a:d})}},textColor:{argsNeeded:2,exec:function(e,t,n){var o=t.findColor,r=n.dynamicVars,i=n.staticVars,s=(0,a.Z)(e,3),u=s[0],c=s[1],l=s[2],d=void 0===l?"preserve":l,p=(0,h.OQ)(o(u,{dynamicVars:r,staticVars:i})).rgb,m=(0,h.OQ)(o(c,{dynamicVars:r,staticVars:i})).rgb;return(0,v.uu)(p,m,"preserve"===d)}},blend:{argsNeeded:3,exec:function(e,t,n){var o=t.findColor,r=n.dynamicVars,i=n.staticVars,s=(0,a.Z)(e,3),u=s[0],c=s[1],l=s[2],d=(0,h.OQ)(o(u,{dynamicVars:r,staticVars:i})).rgb,p=(0,h.OQ)(o(l,{dynamicVars:r,staticVars:i})).rgb,m=Number(c);return(0,v.Tj)(d,m,p)}},mod:{argsNeeded:2,exec:function(e,t,n){var o=t.findColor,r=n.dynamicVars,i=n.staticVars,s=(0,a.Z)(e,2),u=s[0],c=s[1],l=(0,h.OQ)(o(u,{dynamicVars:r,staticVars:i})).rgb,d=Number(c),p=r.lowerLevelBackground,m=(0,v.ov)((0,h.OQ)(p).rgb)<.5?1:-1;return(0,h.Xu)(d*m,l).rgb}}},j={borderSide:{argsNeeded:3,exec:function(e,t){t.findColor;var n=(0,a.Z)(e,5),o=n[0],r=n[1],i=n[2],s=void 0===i?"1":i,u=n[3],c=void 0===u?"1":u,l=n[4],d=void 0===l?"inset":l,p=Number(c),m="inset"===d,h={x:0,y:0,blur:0,spread:0,color:o,alpha:Number(s),inset:m};return r.split("-").forEach((function(e){switch(e){case"left":h.x=p*(d?1:-1);break;case"right":h.x=-1*p*(d?1:-1);break;case"top":h.y=p*(d?1:-1);break;case"bottom":h.y=-1*p*(d?1:-1)}})),[h]}}},F=function(e){for(var t=[],n=e;n;)t.push(n),n=n.parent;return t},A=function(e,t,n){if(e.component!==t.component)return!1;if(("normal"!==t.variant||n)&&e.variant!==t.variant)return!1;if(t.state.length>1||n){var o=new Set(t.state),r=new Set(e.state);if(!(0,i.Z)(r).every((function(e){return o.has(e)}))||!(0,i.Z)(o).every((function(e){return r.has(e)})))return!1}return!0},O=function(e,t){return function(n){if(null===e.parent&&n.parent)return!1;if(!A(e,n,t))return!1;if(void 0!==e.parent&&null!==e.parent){if(!n.parent&&!t)return!0;var o=F(e),r=F(n);if(o.length<r.length)return!1;for(var i=0;i<o.length;i++){var s=o[i],a=r[i];if(!a)return!0;if(!A(s,a,t))return!1}}return!0}},E=function(e){var t;e.variant=null!==(t=e.variant)&&void 0!==t?t:"normal",e.state=(0,i.Z)(new Set(["normal"].concat((0,i.Z)(e.state||[]))))},z=n(6529);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={Root:null,Text:null,FunText:null,Link:null,Icon:null,Border:null,Panel:null,Chat:null,ChatMessage:null},T=function e(t,n){var o=n.dynamicVars,r=n.staticVars;return(t||[]).map((function(t){var n;if("string"==typeof t)if(t.startsWith("$"))n=C(t,j,{findColor:B,findShadow:e},{dynamicVars:o,staticVars:r});else{if(t.startsWith("--")){var i=t.split(/,/g).map((function(e){return e.trim()})),s=(0,a.Z)(i,1)[0].substring(2);return e(r[s],{dynamicVars:o,staticVars:r})}n=(0,z.JE)(t)}else n=t;return(Array.isArray(n)?n:[n]).map((function(e){return P(P({},e),{},{color:B(e.color,{dynamicVars:o,staticVars:r})})}))}))},B=function e(t,n){var o=n.dynamicVars,r=n.staticVars;if("string"!=typeof t||!t.startsWith("--")&&!t.startsWith("$"))return t;var i=null;if(t.startsWith("--")){var s=t.split(/,/g).map((function(e){return e.trim()})),u=(0,a.Z)(s,2),c=u[0],l=u[1],d=c.substring(2);if("stack"===d){var p=o.stacked;i={r:p.r,g:p.g,b:p.b}}else if(d.startsWith("parent"))if("parent"===d){var m=o.lowerLevelBackground;i={r:m.r,g:m.g,b:m.b}}else{var f=d.replace(/^parent/,"");i=(0,h.OQ)(o.lowerLevelVirtualDirectivesRaw[f]).rgb}else switch(d){case"inheritedBackground":i=(0,h.OQ)(o.inheritedBackground).rgb;break;case"background":i=(0,h.OQ)(o.background).rgb;break;default:i=(0,h.OQ)(r[d]).rgb}if(l){var g,b=null!==(g=o.lowerLevelBackground)&&void 0!==g?g:i,w=(0,v.ov)((0,h.OQ)(b).rgb)<.5?1:-1;i=(0,h.Xu)(Number.parseFloat(l)*w,i).rgb}}if(t.startsWith("$"))try{i=C(t,S,{findColor:e},{dynamicVars:o,staticVars:r})}catch(e){console.error("Failure executing color function",e),i="#FF00FF"}return i},$=function(e,t,n,o){var r=e.textOpacity,i=(0,h.OQ)(n.lowerLevelBackground).rgb,s=(0,h.OQ)(B(t,{dynamicVars:n,staticVars:o})).rgb;if(null==r||r>=1)return(0,h.OQ)(s).hex;if(0===r)return(0,h.OQ)(i).hex;switch(e.textOpacityMode){case"fake":return(0,h.OQ)((0,v.Tj)(s,r,i)).hex;case"mixrgb":return(0,h.OQ)((0,v.a4)(i,s)).hex;default:return(0,v._I)(P({a:r},s))}},U=n(72);U.keys().forEach((function(e){var t=U(e).default;null!=I[t.name]&&console.warn("Component in file ".concat(e," is trying to override existing component ").concat(t.name,"! You have collisions/duplicates!")),I[t.name]=t}));var M=g()(I),L=function e(t){return function(n,o,r){if(!n&&!r)return null;var s,a=t[n.component],u=a.states,c=void 0===u?{}:u,l=a.variants,d=void 0===l?{}:l,p=a.selector,m=a.outOfTreeSelector,h=(n.state||[]).filter((function(e){return"normal"!==e})).map((function(e){return c[e]})),f=n.variant||"normal",g=[":root"===p?"":r?p:m&&!o?m:p,"normal"!==f?d[f]:null!==(s=null==d?void 0:d.normal)&&void 0!==s?s:""].concat((0,i.Z)(h)).sort((function(e,t){return e.startsWith(":")?1:/^[a-z]/.exec(e)?-1:0})).join("");return n.parent?(e(t)(n.parent,o,!0)+" "+g).trim():g.trim()}}(I),R=function(){return M},q=function(e){var t,n=e.inputRuleset,u=e.ultimateBackgroundColor,l=e.debug,p=void 0!==l&&l,f=e.liteMode,g=void 0!==f&&f,b=e.onlyNormalState,w=void 0!==b&&b,y=e.rootComponentName,D=void 0===y?"Root":y;if(!n)throw new Error("Ruleset is null or undefined!");var _={},k={},C={},S=[].concat((0,i.Z)(Object.values(I).map((function(e){return(e.defaultRules||[]).map((function(t){return P(P({component:e.name},t),{},{source:"Built-in"})}))})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))}),[])),(0,i.Z)(n)).map((function(e){E(e);for(var t=e.parent;t;)E(t),t=t.parent;return e})).map((function(e,t){return{data:e,index:t}})).sort((function(e,t){var n=e.data,o=e.index,r=t.data,i=t.index,s=F(n).length,a=F(r).length;return s===a?"Text"===n.component?-1:"Text"===r.component?1:o-i:0===s&&0!==a?-1:0===a&&0!==s?1:s-a})).map((function(e){return e.data})),j=new Set(Object.values(I).filter((function(e){return e.virtual})).map((function(e){return e.name}))),A=function(e){var t,n,o,l=L(e,!0),p=L(e),m=l.split(/ /g).slice(0,-1).join(" "),f=l.split(/ /g).slice(-1)[0],g=m,b=null===(t=C[g])||void 0===t?void 0:t.background,w=null===(n=C[g])||void 0===n?void 0:n.virtualDirectives,y=null===(o=C[g])||void 0===o?void 0:o.virtualDirectivesRaw,D=C[l]||{lowerLevelBackground:b,lowerLevelVirtualDirectives:w,lowerLevelVirtualDirectivesRaw:y},F=S.filter(O(e)).map((function(e){return e.directives})).reduce((function(e,t){return P(P({},e),t)}),{}),A=P(P({},e),{},{directives:F});if(C[l]=C[l]||{},C[l].computedRule=A,C[l].dynamicVars=D,j.has(e.component)){var E,z,x,I,U,M=["--",e.component.toLowerCase(),"normal"===e.variant?"":e.variant[0].toUpperCase()+e.variant.slice(1).toLowerCase()].concat((0,i.Z)(c()(e.state.filter((function(e){return"normal"!==e}))).map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})))).join(""),R=F.textColor,q=F.textAuto,N=F.textOpacity,Z=F.textOpacityMode,W=[].concat((0,i.Z)(l.split(/ /g).slice(0,-1)),[f]).join(" "),H=C[W];null!=R&&null!=N&&null!=Z||(R=null!==(z=F.textColor)&&void 0!==z?z:H.textColor,q=null!==(x=F.textAuto)&&void 0!==x?x:H.textAuto,N=null!==(I=F.textOpacity)&&void 0!==I?I:H.textOpacity,Z=null!==(U=F.textOpacityMode)&&void 0!==U?U:H.textOpacityMode);var V=P(P({},A),{},{directives:P(P({},A.directives),{},{textColor:R,textAuto:null!==(E=q)&&void 0!==E?E:"preserve",textOpacity:N,textOpacityMode:Z})});D.inheritedBackground=b,D.stacked=(0,h.OQ)(k[g]).rgb;var G=(0,h.OQ)(B(R,{dynamicVars:D,staticVars:_})).rgb,K="no-auto"===V.directives.textAuto?G:(0,v.uu)((0,h.OQ)(k[g]).rgb,G,"preserve"===V.directives.textAuto),Y=C[g].virtualDirectives||{},Q=C[g].virtualDirectivesRaw||{};return Y[M]=$(V.directives,K,D),Q[M]=K,C[g].virtualDirectives=Y,C[g].virtualDirectivesRaw=Q,P(P({dynamicVars:D,selector:p.split(/ /g).slice(0,-1).join(" ")},e),{},{directives:{},virtualDirectives:(0,s.Z)({},M,$(V.directives,K,D)),virtualDirectivesRaw:(0,s.Z)({},M,K)})}C[l]=C[l]||{};var J=k[g]||(0,h.OQ)(u).rgb;if(F.background){var X=null,ee=S.filter(O({component:e.component,variant:e.variant,parent:e.parent})),te=ee[ee.length-1];if(te)X=te;else{var ne=S.filter(O({component:e.component,parent:e.parent}));X=ne[ne.length-1]}var oe=L(P(P({},X),{},{parent:e.parent}),!0),re=C[oe].background;D.inheritedBackground=re;var ie=(0,h.OQ)(B(F.background,{dynamicVars:D,staticVars:_})).rgb;if(!k[l]){var se,ae,ue,ce=null!==(se=F.opacity)&&void 0!==se?se:1;ue=ce>=1?ie:ce<=0?J:(0,v.Tj)(ie,F.opacity,J),k[l]=ue,C[l].background=P(P({},ie),{},{a:null!==(ae=F.opacity)&&void 0!==ae?ae:1})}}return F.shadow&&(D.shadow=d()(T(d()(F.shadow),{dynamicVars:D,staticVars:_}))),k[l]||(F.background="transparent",F.opacity=0,k[l]=J,C[l].background=P(P({},J),{},{a:0})),D.stacked=k[l],D.background=C[l].background,Object.entries(F).filter((function(e){var t=(0,a.Z)(e,2),n=t[0];return t[1],n.startsWith("--")})).forEach((function(t){var n=(0,a.Z)(t,2),o=n[0],i=n[1].split("|").map((function(e){return e.trim()})),s=(0,r.Z)(i),u=s[0],c=s.slice(1);switch(u){case"color":var l=B(c[0],{dynamicVars:D,staticVars:_});D[o]=l,"Root"===e.component&&(_[o.substring(2)]=l);break;case"shadow":var d=c;D[o]=d,"Root"===e.component&&(_[o.substring(2)]=d);break;case"generic":D[o]=c,"Root"===e.component&&(_[o.substring(2)]=c)}})),P(P({dynamicVars:D,selector:p},e),{},{directives:F})},z=performance.now(),x=function e(t,n){var o=[],r=t.states,s=void 0===r?{}:r,a=t.variants,u=void 0===a?{}:a,l=g&&t.validInnerComponentsLite||t.validInnerComponents||[],d=P({normal:""},s),p=P({normal:""},u),m=l.map((function(e){var n=I[e];return void 0===n&&console.error("Component ".concat(t.name," references a component ").concat(e," which does not exist!")),n})),h=Object.keys(d).filter((function(e){return"normal"!==e})),f=w?[["normal"]]:[["normal"]].concat((0,i.Z)(function(e){for(var t=[e.map((function(e){return[e]}))],n=function(){var n=t[t.length-1].map((function(t){var n=new Set;return t.forEach((function(e){return n.add(e)})),e.filter((function(e){return!n.has(e)})).map((function(e){return[].concat((0,i.Z)(t),[e])}))})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))}),[]),o=new Set,r=n.map(c()).filter((function(e){return!o.has(e.join())&&(o.add(e.join()),!0)}));t.push(r)},o=2;o<=e.length;o++)n();return t.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))}),[])}(h).map((function(e){return["normal"].concat((0,i.Z)(e))})).filter((function(e){return!(e.indexOf("disabled")>=0&&(e.indexOf("hover")>=0||e.indexOf("focused")>=0||e.indexOf("pressed")>=0))}))));return Object.keys(p).map((function(e){return f.map((function(t){return{variant:e,state:t}}))})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))}),[]).forEach((function(r){r.component=t.name,r.lazy=t.lazy||(null==n?void 0:n.lazy),r.parent=n,r.state.indexOf("hover")>=0&&(r.lazy=!0),o.push(r),m.forEach((function(t){o.push.apply(o,(0,i.Z)(e(t,r)))}))})),o}(null!==(t=I[D])&&void 0!==t?t:I.Root),U=performance.now();p&&console.debug("Tree traveral took "+(U-z)+" ms");var R=x.map((function(e){return e.lazy?(0,o.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",A(e));case 1:case"end":return t.stop()}}),t)}))):A(e)})).filter((function(e){return e})),q=performance.now();return p&&console.debug("Eager processing took "+(q-U)+" ms"),{lazy:R.filter((function(e){return"function"==typeof e})),eager:R.filter((function(e){return"function"!=typeof e})),staticVars:_,engineChecksum:M}}},95052:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,q:()=>a});var o=n(4942),r=n(21865);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){if(void 0!==e){var t=e.color,n=e.type;if("string"==typeof t){var o=(0,r.wK)(t);if(null!=o){var i="rgb(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),")"),a="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .1)"),u="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .2)"),c={"--____highlight-solidColor":i,"--____highlight-tintColor":a,"--____highlight-tintColor2":u};return"striped"===n?s({backgroundImage:["repeating-linear-gradient(135deg,","".concat(a," ,"),"".concat(a," 20px,"),"".concat(u," 20px,"),"".concat(u," 40px")].join(" "),backgroundPosition:"0 0"},c):"solid"===n?s({backgroundColor:u},c):"side"===n?s({backgroundImage:["linear-gradient(to right,","".concat(i," ,"),"".concat(i," 2px,"),"transparent 6px"].join(" "),backgroundPosition:"0 0"},c):void 0}}}},u=function(e){return"USER____"+e.screen_name.replace(/\./g,"_").replace(/@/g,"_AT_")}},4493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(64721),r=n.n(o);const i=function(e,t,n){var o=!t||function(e){return e&&e.includes("@")}(t)||r()(n,t);return{name:o?"external-user-profile":"user-profile",params:o?{id:e}:{name:t}}}},88230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var o=n(66252),r=n(3577),i=n(49963),s=["href","alt","title"],a={key:1,class:"attachment-buttons"},u=["placeholder"],c={key:1},l={class:"attachment-wrapper"},d=["href","alt","title"],p=["src"],m={key:1,class:"attachment-buttons"},h=["title"],f=["title"],g=["title"],v=["title"],b=["title"],w=["title"],y=["title"],D=["href"],_=["href"],k={key:0},C=["href"],S=["src","alt","title"],j={key:0,class:"image"},F=["src"],A={class:"text"},O=["href"],E=["innerHTML"],z=["href"],x=["placeholder"],P={key:1},I=n(4942),T=n(60466),B=n(53560),$=n(1297);const U=n.p+"static/img/nsfw.2958239.png";var M=n(58394),L=n(989),R=n(9382),q=n(84131);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}R.vI.add(q.gMD,q.Xig,q.VmB,q.IyC,q.aQp,q.NBC,q.Bg$,q.N7g,q.I7k,q.UJf,q.S3c);const Z={props:["attachment","compact","description","hideDescription","nsfw","size","setMedia","remove","shiftUp","shiftDn","edit"],data:function(){return{localDescription:this.description||this.attachment.description,nsfwImage:this.$store.state.instance.nsfwCensorImage||U,hideNsfwLocal:this.$store.getters.mergedConfig.hideNsfw,preloadImage:this.$store.getters.mergedConfig.preloadImage,loading:!1,img:"image"===M.ZP.fileType(this.attachment.mimetype)&&document.createElement("img"),modalOpen:!1,showHidden:!1,flashLoaded:!1,showDescription:!1}},components:{Flash:B.Z,StillImage:T.Z,VideoAttachment:$.Z},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({classNames:function(){return[{"-loading":this.loading,"-nsfw-placeholder":this.hidden,"-editable":void 0!==this.edit,"-compact":this.compact},"-type-"+this.type,this.size&&"-size-"+this.size,"-".concat(this.useContainFit?"contain":"cover","-fit")]},usePlaceholder:function(){return"hide"===this.size},useContainFit:function(){return this.$store.getters.mergedConfig.useContainFit},placeholderName:function(){return""!==this.attachment.description&&this.attachment.description?this.attachment.description:this.type.toUpperCase()},placeholderIconClass:function(){return"image"===this.type?"image":"video"===this.type?"video":"audio"===this.type?"music":"file"},referrerpolicy:function(){return this.$store.state.instance.mediaProxyAvailable?"":"no-referrer"},type:function(){return M.ZP.fileType(this.attachment.mimetype)},hidden:function(){return this.nsfw&&this.hideNsfwLocal&&!this.showHidden},isEmpty:function(){return"html"===this.type&&!this.attachment.oembed},useModal:function(){var e=[];switch(this.size){case"hide":case"small":e=["image","video","audio","flash"];break;default:e=this.mergedConfig.playVideosInModal?["image","video","flash"]:["image"]}return e.includes(this.type)},videoTag:function(){return this.useModal?"button":"span"}},(0,L.Se)(["mergedConfig"])),watch:{"attachment.description":function(e){this.localDescription=e},localDescription:function(e){this.onEdit(e)}},methods:{linkClicked:function(e){var t=e.target;"A"===t.tagName&&window.open(t.href,"_blank")},openModal:function(e){this.useModal?(this.$emit("setMedia"),this.$store.dispatch("setCurrentMedia",this.attachment)):"unknown"===this.type&&window.open(this.attachment.url)},openModalForce:function(e){this.$emit("setMedia"),this.$store.dispatch("setCurrentMedia",this.attachment)},onEdit:function(e){this.edit&&this.edit(this.attachment,e)},onRemove:function(){this.remove&&this.remove(this.attachment)},onShiftUp:function(){this.shiftUp&&this.shiftUp(this.attachment)},onShiftDn:function(){this.shiftDn&&this.shiftDn(this.attachment)},stopFlash:function(){this.$refs.flash.closePlayer()},setFlashLoaded:function(e){this.flashLoaded=e},toggleDescription:function(){this.showDescription=!this.showDescription},toggleHidden:function(e){var t=this;!this.mergedConfig.useOneClickNsfw||this.showHidden||"video"===this.type&&!this.mergedConfig.playVideosInModal?this.img&&!this.preloadImage?this.img.onload?this.img.onload():(this.loading=!0,this.img.src=this.attachment.url,this.img.onload=function(){t.loading=!1,t.showHidden=!t.showHidden}):this.showHidden=!this.showHidden:this.openModal(e)},onImageLoad:function(e){var t=e.naturalWidth,n=e.naturalHeight;this.$emit("naturalSizeLoad",{id:this.attachment.id,width:t,height:n})}}},W=(0,n(83744).Z)(Z,[["render",function(e,t,n,I,T,B){var $=(0,o.up)("FAIcon"),U=(0,o.up)("StillImage"),M=(0,o.up)("VideoAttachment"),L=(0,o.up)("Flash");return e.usePlaceholder?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["Attachment -placeholder button-unstyled",e.classNames]),onClick:t[4]||(t[4]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},["html"!==e.type?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"placeholder",target:"_blank",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[0]||(t[0]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)($,{icon:e.placeholderIconClass},null,8,["icon"]),(0,o._)("b",null,(0,r.zw)(e.nsfw?"NSFW / ":""),1),(0,o.Uk)((0,r.zw)(e.edit?"":e.placeholderName),1)],8,s)):(0,o.kq)("",!0),e.edit||e.remove?((0,o.wg)(),(0,o.iD)("div",a,[e.remove?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled attachment-button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.onRemove&&e.onRemove.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"trash-alt"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),"hide"!==e.size&&!e.hideDescription&&(e.edit||e.localDescription||e.showDescription)?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,r.C_)(["description-container",{"-static":!e.edit}])},[e.edit?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.localDescription=t}),type:"text",class:"input description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[3]||(t[3]=(0,i.D2)((0,i.iM)((function(){}),["prevent"]),["enter"]))},null,40,u)),[[i.nr,e.localDescription]]):((0,o.wg)(),(0,o.iD)("p",c,(0,r.zw)(e.localDescription),1))],2)):(0,o.kq)("",!0)],2)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["Attachment",e.classNames])},[(0,o.wy)((0,o._)("div",l,[e.hidden?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"image-container",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[5]||(t[5]=(0,i.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[((0,o.wg)(),(0,o.iD)("img",{key:e.nsfwImage,class:"nsfw",src:e.nsfwImage},null,8,p)),"video"===e.type?((0,o.wg)(),(0,o.j4)($,{key:0,class:"play-icon",icon:"play-circle"})):(0,o.kq)("",!0)],8,d)):(0,o.kq)("",!0),e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",m,["flash"===e.type&&e.flashLoaded?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled attachment-button",title:e.$t("status.attachment_stop_flash"),onClick:t[6]||(t[6]=(0,i.iM)((function(){return e.stopFlash&&e.stopFlash.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"stop"})],8,h)):(0,o.kq)("",!0),e.attachment.description&&"small"!==e.size&&!e.edit&&"unknown"!==e.type?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled attachment-button",title:e.$t("status.show_attachment_description"),onClick:t[7]||(t[7]=(0,i.iM)((function(){return e.toggleDescription&&e.toggleDescription.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"align-right"})],8,f)):(0,o.kq)("",!0),e.useModal||"unknown"===e.type?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled attachment-button",title:e.$t("status.show_attachment_in_modal"),onClick:t[8]||(t[8]=(0,i.iM)((function(){return e.openModalForce&&e.openModalForce.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"search-plus"})],8,g)),e.nsfw&&e.hideNsfwLocal?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"button-unstyled attachment-button",title:e.$t("status.hide_attachment"),onClick:t[9]||(t[9]=(0,i.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"times"})],8,v)):(0,o.kq)("",!0),e.shiftUp?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled attachment-button",title:e.$t("status.move_up"),onClick:t[10]||(t[10]=(0,i.iM)((function(){return e.onShiftUp&&e.onShiftUp.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"chevron-left"})],8,b)):(0,o.kq)("",!0),e.shiftDn?((0,o.wg)(),(0,o.iD)("button",{key:5,class:"button-unstyled attachment-button",title:e.$t("status.move_down"),onClick:t[11]||(t[11]=(0,i.iM)((function(){return e.onShiftDn&&e.onShiftDn.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"chevron-right"})],8,w)):(0,o.kq)("",!0),e.remove?((0,o.wg)(),(0,o.iD)("button",{key:6,class:"button-unstyled attachment-button",title:e.$t("status.remove_attachment"),onClick:t[12]||(t[12]=(0,i.iM)((function(){return e.onRemove&&e.onRemove.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)($,{icon:"trash-alt"})],8,y)):(0,o.kq)("",!0)])),"image"!==e.type||e.hidden&&!e.preloadImage?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:2,class:(0,r.C_)(["image-container",{"-hidden":e.hidden&&e.preloadImage}]),href:e.attachment.url,target:"_blank",onClick:t[13]||(t[13]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Wm)(U,{class:"image",referrerpolicy:e.referrerpolicy,mimetype:e.attachment.mimetype,src:e.attachment.large_thumb_url||e.attachment.url,"image-load-handler":e.onImageLoad,alt:e.attachment.description},null,8,["referrerpolicy","mimetype","src","image-load-handler","alt"])],10,D)),"unknown"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:3,class:"placeholder-container",href:e.attachment.url,target:"_blank"},[(0,o.Wm)($,{size:e.compact?"2x":"5x",icon:e.placeholderIconClass,title:e.localDescription},null,8,["size","icon","title"]),e.compact?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",k,(0,r.zw)(e.localDescription),1))],8,_)),"video"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,o.LL)(e.videoTag),{key:4,class:"video-container",href:e.attachment.url,onClick:(0,i.iM)(e.openModal,["stop","prevent"])},{default:(0,o.w5)((function(){return[(0,o.Wm)(M,{class:"video",attachment:e.attachment,controls:!e.useModal,onPlay:t[14]||(t[14]=function(t){return e.$emit("play")}),onPause:t[15]||(t[15]=function(t){return e.$emit("pause")})},null,8,["attachment","controls"]),e.useModal?((0,o.wg)(),(0,o.j4)($,{key:0,class:"play-icon",icon:"play-circle"})):(0,o.kq)("",!0)]})),_:1},8,["href","onClick"])),"audio"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:5,class:"audio-container",href:e.attachment.url,onClick:t[18]||(t[18]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},["audio"===e.type?((0,o.wg)(),(0,o.iD)("audio",{key:0,src:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,controls:"",onPlay:t[16]||(t[16]=function(t){return e.$emit("play")}),onPause:t[17]||(t[17]=function(t){return e.$emit("pause")})},null,40,S)):(0,o.kq)("",!0)],8,C)),"html"===e.type&&e.attachment.oembed?((0,o.wg)(),(0,o.iD)("div",{key:6,class:"oembed-container",onClick:t[19]||(t[19]=(0,i.iM)((function(){return e.linkClicked&&e.linkClicked.apply(e,arguments)}),["prevent"]))},[e.attachment.thumb_url?((0,o.wg)(),(0,o.iD)("div",j,[(0,o._)("img",{src:e.attachment.thumb_url},null,8,F)])):(0,o.kq)("",!0),(0,o._)("div",A,[(0,o._)("h1",null,[(0,o._)("a",{href:e.attachment.url},(0,r.zw)(e.attachment.oembed.title),9,O)]),(0,o._)("div",{innerHTML:e.attachment.oembed.oembedHTML},null,8,E)])])):(0,o.kq)("",!0),"flash"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:7,class:"flash-container",href:e.attachment.url,onClick:t[22]||(t[22]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Wm)(L,{ref:"flash",class:"flash",src:e.attachment.large_thumb_url||e.attachment.url,onPlayerOpened:t[20]||(t[20]=function(t){return e.setFlashLoaded(!0)}),onPlayerClosed:t[21]||(t[21]=function(t){return e.setFlashLoaded(!1)})},null,8,["src"])],8,z))],512),[[i.F8,!e.isEmpty]]),"hide"!==e.size&&!e.hideDescription&&(e.edit||e.localDescription&&e.showDescription)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["description-container",{"-static":!e.edit}])},[e.edit?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.localDescription=t}),type:"text",class:"input description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[24]||(t[24]=(0,i.D2)((0,i.iM)((function(){}),["prevent"]),["enter"]))},null,40,x)),[[i.nr,e.localDescription]]):((0,o.wg)(),(0,o.iD)("p",P,(0,r.zw)(e.localDescription),1))],2)):(0,o.kq)("",!0)],2))}]])},93960:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r={class:"avatars"},i=n(98654),s=n(4493);const a={props:["users"],computed:{slicedUsers:function(){return this.users?this.users.slice(0,15):[]}},components:{UserAvatar:i.default},methods:{userProfileLink:function(e){return(0,s.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},u=(0,n(83744).Z)(a,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("UserAvatar"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.slicedUsers,(function(t){return(0,o.wg)(),(0,o.j4)(c,{key:t.id,to:e.userProfileLink(t),class:"avatars-item"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{user:t,class:"avatar-small"},null,8,["user"])]})),_:2},1032,["to"])})),128))])}]])},32609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(66252),r=n(49963),i={class:"basic-user-card"},s={class:"basic-user-card-collapsed-content"},a=["title"],u=n(70670),c=n(98654),l=n(12061),d=n(92820),p=n(4493);const m={props:["user"],components:{UserPopover:u.default,UserAvatar:c.default,RichContent:d.Z,UserLink:l.Z},methods:{userProfileLink:function(e){return(0,p.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,u,c,l){var d=(0,o.up)("UserAvatar"),p=(0,o.up)("UserPopover"),m=(0,o.up)("router-link"),h=(0,o.up)("RichContent"),f=(0,o.up)("user-link");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(m,{to:e.userProfileLink(e.user),onClick:t[1]||(t[1]=(0,r.iM)((function(){}),["prevent"]))},{default:(0,o.w5)((function(){return[(0,o.Wm)(p,{"user-id":e.user.id,"overlay-centers":!0,"overlay-centers-selector":".avatar"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{class:"user-avatar avatar",user:e.user,onClick:t[0]||(t[0]=(0,r.iM)((function(){}),["prevent"]))},null,8,["user"])]})),_:1},8,["user-id"])]})),_:1},8,["to"]),(0,o._)("div",s,[(0,o._)("div",{title:e.user.name,class:"basic-user-card-user-name"},[(0,o.Wm)(h,{class:"basic-user-card-user-name-value",html:e.user.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,a),(0,o._)("div",null,[(0,o.Wm)(f,{class:"basic-user-card-screen-name",user:e.user},null,8,["user"])]),(0,o.WI)(e.$slots,"default")])])}]])},65365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i=["disabled","checked","indeterminate"],s={key:0,class:"label"};const a={props:["modelValue","indeterminate","disabled"],emits:["update:modelValue"],data:function(e){return{indeterminateTransitionFix:e.indeterminate}},watch:{indeterminate:function(e){e&&(this.indeterminateTransitionFix=!0)}},methods:{onTransitionEnd:function(e){this.indeterminate||(this.indeterminateTransitionFix=!1)}}},u=(0,n(83744).Z)(a,[["render",function(e,t,n,a,u,c){return(0,o.wg)(),(0,o.iD)("label",{class:(0,r.C_)(["checkbox",{disabled:n.disabled,indeterminate:n.indeterminate,"indeterminate-fix":e.indeterminateTransitionFix}])},[(0,o._)("input",{type:"checkbox",class:"visible-for-screenreader-only",disabled:n.disabled,checked:n.modelValue,indeterminate:n.indeterminate,onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.checked)})},null,40,i),(0,o._)("i",{class:"input -checkbox checkbox-indicator","aria-hidden":!0,onTransitionendCapture:t[1]||(t[1]=function(){return c.onTransitionEnd&&c.onTransitionEnd.apply(c,arguments)})},null,32),e.$slots.default?((0,o.wg)(),(0,o.iD)("span",s,[(0,o.WI)(e.$slots,"default")])):(0,o.kq)("",!0)],2)}]])},1447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(3577),i=n(49963),s=["textContent"],a=["textContent"],u=["textContent"];const c={components:{DialogModal:n(85241).Z},props:{title:{type:String},cancelText:{type:String},confirmText:{type:String}},computed:{},methods:{onCancel:function(){this.$emit("cancelled")},onAccept:function(){this.$emit("accepted")}}},l=(0,n(83744).Z)(c,[["render",function(e,t,n,c,l,d){var p=(0,o.up)("dialog-modal"),m=(0,o.Q2)("body-scroll-lock");return(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{class:"confirm-modal","on-cancel":e.onCancel},{header:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.title)},null,8,s)]})),footer:(0,o.w5)((function(){return[(0,o._)("button",{class:"btn button-default",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.onAccept&&e.onAccept.apply(e,arguments)}),["prevent"])),textContent:(0,r.zw)(e.confirmText)},null,8,a),(0,o._)("button",{class:"btn button-default",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.onCancel&&e.onCancel.apply(e,arguments)}),["prevent"])),textContent:(0,r.zw)(e.cancelText)},null,8,u)]})),default:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),_:3},8,["on-cancel"])),[[m,!0]])}]])},85241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(66252),r=n(3577),i=n(49963),s={class:"panel-heading dialog-modal-heading"},a={class:"title"},u={class:"panel-body dialog-modal-content"},c={class:"dialog-modal-footer user-interactions panel-footer"};const l={props:{darkOverlay:{default:!0,type:Boolean},onCancel:{default:function(){},type:Function}}},d=(0,n(83744).Z)(l,[["render",function(e,t,n,l,d,p){return(0,o.wg)(),(0,o.iD)("span",{class:(0,r.C_)({"dark-overlay":e.darkOverlay}),onClick:t[1]||(t[1]=(0,i.iM)((function(t){return e.onCancel()}),["self","stop"]))},[(0,o._)("div",{class:"dialog-modal panel panel-default",onClick:t[0]||(t[0]=(0,i.iM)((function(){}),["stop"]))},[(0,o._)("div",s,[(0,o._)("div",a,[(0,o.WI)(e.$slots,"header")])]),(0,o._)("div",u,[(0,o.WI)(e.$slots,"default")]),(0,o._)("div",c,[(0,o.WI)(e.$slots,"footer")])])],2)}]])},85295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var o=n(66252),r=n(3577),i=n(49963),s={ref:"hiddenOverlayCaret",class:"caret"},a=["title"],u=["id"],c=["id","aria-label","aria-selected","onClick"],l={class:"image"},d=["src"],p={key:1},m={class:"label"},h={key:0,class:"displayText"},f={key:1,class:"displayText"},g={class:"detailText"},v=n(4942),b=n(44925),w=n(15861),y=n(93433),D=n(69572),_=n.n(D),k=n(64687),C=n.n(k),S=n(13311),j=n.n(S),F=n(54061),A=n.n(F),O=function(e){return A()(e,(function(e,t){var n={word:t,start:0,end:t.length};if(e.length>0){var o=e.pop();n.start+=o.end,n.end+=o.end,e.push(o)}return e.push(n),e}),[])},E=function(e){for(var t=[],n="",o=0;o<e.length;o++){var r=e[o];n?!!r.trim()==!!n.trim()?n+=r:(t.push(n),n=r):n=r}return n&&t.push(n),t};const z=function(e,t){var n=E(e),o=O(n);return j()(o,(function(e){var n=e.start,o=e.end;return n<=t&&o>t}))},x=function(e,t,n){return e.slice(0,t.start)+n+e.slice(t.end)};var P=n(53599),I=n(50296),T=n(67943),B=["aria-live"];const $={props:{ariaLive:{type:String,default:"assertive"}},data:function(){return{currentText:""}},methods:{announce:function(e){var t=this;this.currentText=e,setTimeout((function(){t.currentText=""}),1e3)}}};var U=n(83744);const M=(0,U.Z)($,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",{class:"visible-for-screenreader-only","aria-live":e.ariaLive},(0,r.zw)(e.currentText),9,B)}]]);var L,R=n(42262),q=n(67952),N=n(8312),Z=n(9382),W=n(5737),H=["imageUrl"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}Z.vI.add(W.RKn);const Y={emits:["update:modelValue","shown"],props:{suggest:{required:!0,type:Function},modelValue:{required:!0,type:String},enableEmojiPicker:{required:!1,type:Boolean,default:!1},hideEmojiButton:{required:!1,type:Boolean,default:!1},enableStickerPicker:{required:!1,type:Boolean,default:!1},placement:{required:!1,type:String,default:"auto"},newlineOnCtrlEnter:{required:!1,type:Boolean,default:!1}},data:function(){return{randomSeed:(0,P.Z)(),input:void 0,caretEl:void 0,highlighted:-1,caret:0,focused:!1,blurTimeout:null,temporarilyHideSuggestions:!1,disableClickOutside:!1,suggestions:[],overlayStyle:{},pickerShown:!1}},components:{Popover:T.default,EmojiPicker:I.Z,UnicodeDomainIndicator:R.Z,ScreenReaderNotice:M},computed:{padEmoji:function(){return this.$store.getters.mergedConfig.padEmoji},defaultCandidateIndex:function(){return this.$store.getters.mergedConfig.autocompleteSelect?0:-1},preText:function(){return this.modelValue.slice(0,this.caret)},postText:function(){return this.modelValue.slice(this.caret)},showSuggestions:function(){return this.focused&&this.suggestions&&this.suggestions.length>0&&!this.pickerShown&&!this.temporarilyHideSuggestions},textAtCaret:function(){var e;return null===(e=this.wordAtCaret)||void 0===e?void 0:e.word},wordAtCaret:function(){if(this.modelValue&&this.caret)return z(this.modelValue,this.caret-1)||{}},languages:function(){return(0,N.ensureFinalFallback)(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiNamesAndKeywords:function(){var e=this;return function(t){var n=[t.displayText],o=[];return t.displayTextI18n&&n.push(e.$t(t.displayTextI18n.key,t.displayTextI18n.args)),t.annotations&&e.languages.forEach((function(e){var r,i;n.push(null===(r=t.annotations[e])||void 0===r?void 0:r.name),o.push.apply(o,(0,y.Z)((null===(i=t.annotations[e])||void 0===i?void 0:i.keywords)||[]))})),{names:n.filter((function(e){return e})),keywords:o.filter((function(e){return e}))}}},maybeLocalizedEmojiName:function(){var e=this;return function(t){if(!t.annotations)return t.displayText;if(t.displayTextI18n)return e.$t(t.displayTextI18n.key,t.displayTextI18n.args);var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e.languages);try{for(o.s();!(n=o.n()).done;){var r,i=n.value;if(null!==(r=t.annotations[i])&&void 0!==r&&r.name)return t.annotations[i].name}}catch(e){o.e(e)}finally{o.f()}return t.displayText}},onInputScroll:function(){this.$refs.hiddenOverlay.scrollTo({top:this.input.scrollTop,left:this.input.scrollLeft})},suggestionListId:function(){return"suggestions-".concat(this.randomSeed)},suggestionItemId:function(){var e=this;return function(t){return"suggestion-item-".concat(t,"-").concat(e.randomSeed)}}},mounted:function(){var e=this.$refs,t=e.root,n=e.hiddenOverlayCaret,o=e.suggestorPopover,r=t.querySelector(".emoji-input > input")||t.querySelector(".emoji-input > textarea");if(r){this.input=r,this.caretEl=n,o.setAnchorEl?(o.setAnchorEl(this.caretEl),this.$refs.picker.setAnchorEl(this.caretEl)):console.warn("setAnchorEl not found, are we in a unit test?");var i=getComputedStyle(this.input);this.overlayStyle.padding=i.padding,this.overlayStyle.border=i.border,this.overlayStyle.margin=i.margin,this.overlayStyle.lineHeight=i.lineHeight,this.overlayStyle.fontFamily=i.fontFamily,this.overlayStyle.fontSize=i.fontSize,this.overlayStyle.wordWrap=i.wordWrap,this.overlayStyle.whiteSpace=i.whiteSpace,this.resize(),r.addEventListener("blur",this.onBlur),r.addEventListener("focus",this.onFocus),r.addEventListener("paste",this.onPaste),r.addEventListener("keyup",this.onKeyUp),r.addEventListener("keydown",this.onKeyDown),r.addEventListener("click",this.onClickInput),r.addEventListener("transitionend",this.onTransition),r.addEventListener("input",this.onInput),r.addEventListener("scroll",this.onInputScroll)}},unmounted:function(){var e=this.input;e&&(e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.removeEventListener("paste",this.onPaste),e.removeEventListener("keyup",this.onKeyUp),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("click",this.onClickInput),e.removeEventListener("transitionend",this.onTransition),e.removeEventListener("input",this.onInput),e.removeEventListener("scroll",this.onInputScroll))},watch:{showSuggestions:function(e,t){this.$emit("shown",e),e?this.$refs.suggestorPopover.showPopover():this.$refs.suggestorPopover.hidePopover()},textAtCaret:(L=(0,w.Z)(C().mark((function e(t){var n,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.charAt(0),t!==n){e.next=6;break}return this.suggestions=[],e.abrupt("return");case 6:return e.next=8,this.suggest(t,this.maybeLocalizedEmojiNamesAndKeywords);case 8:if(o=e.sent,!(this.textAtCaret!==t||o.length<=0)){e.next=12;break}return this.suggestions=[],e.abrupt("return");case 12:this.suggestions=_()(o,5).map((function(e){var t=e.imageUrl;return G(G({},(0,b.Z)(e,H)),{},{img:t||""})})),this.highlighted=this.defaultCandidateIndex,this.$refs.screenReaderNotice.announce(this.$tc("tool_tip.autocomplete_available",this.suggestions.length,{number:this.suggestions.length}));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return L.apply(this,arguments)})},methods:{triggerShowPicker:function(){var e=this;this.$nextTick((function(){e.$refs.picker.showPicker(),e.scrollIntoView()})),this.disableClickOutside=!0,setTimeout((function(){e.disableClickOutside=!1}),0)},togglePicker:function(){this.input.focus(),this.pickerShown?this.$refs.picker.hidePicker():(this.scrollIntoView(),this.$refs.picker.showPicker(),this.$refs.picker.startEmojiLoad())},replace:function(e){var t=x(this.modelValue,this.wordAtCaret,e);this.$emit("update:modelValue",t),this.caret=0},insert:function(e){var t=e.insertion,n=e.keepOpen,o=e.surroundingSpace,r=void 0===o||o,i=this.modelValue.substring(0,this.caret)||"",s=this.modelValue.substring(this.caret)||"",a=/\s/,u=r&&!a.exec(i.slice(-1))&&i.length&&this.padEmoji>0?" ":"",c=r&&!a.exec(s[0])&&this.padEmoji?" ":"",l=[i,u,t,c,s].join("");this.$emit("update:modelValue",l);var d=this.caret+(t+c+u).length;n||this.input.focus(),this.$nextTick((function(){this.input.setSelectionRange(d,d),this.caret=d}))},replaceText:function(e,t){var n=this.suggestions.length||0;if(1!==this.textAtCaret.length&&(n>0||t)){var o=(t||this.suggestions[this.highlighted]).replacement,r=x(this.modelValue,this.wordAtCaret,o);this.$emit("update:modelValue",r),this.highlighted=0;var i=this.wordAtCaret.start+o.length;this.$nextTick((function(){this.input.focus(),this.input.setSelectionRange(i,i),this.caret=i})),e.preventDefault()}},cycleBackward:function(e){var t=this.suggestions.length||0;this.highlighted-=1,-1===this.highlighted?this.input.focus():this.highlighted<-1&&(this.highlighted=t-1),t>0&&e.preventDefault()},cycleForward:function(e){var t=this.suggestions.length||0;this.highlighted+=1,this.highlighted>=t&&(this.highlighted=-1,this.input.focus()),t>0&&e.preventDefault()},scrollIntoView:function(){var e=this,t=this.$refs.picker.$el,n=this.$el.closest(".sidebar-scroller")||this.$el.closest(".post-form-modal-view")||window,o=n===window?n.scrollY:n.scrollTop,r=o+(n===window?n.innerHeight:n.offsetHeight),i=t.offsetHeight+(0,q.y)(t,n).top,s=o+Math.max(0,i-r);n===window?n.scroll(0,s):n.scrollTop=s,this.$nextTick((function(){var t=e.input.offsetHeight,n=e.$refs.picker;n.$el.getBoundingClientRect().bottom>window.innerHeight&&(n.$el.style.top="auto",n.$el.style.bottom=t+"px")}))},onPickerShown:function(){this.pickerShown=!0},onPickerClosed:function(){this.pickerShown=!1},onBlur:function(e){var t=this;this.blurTimeout=setTimeout((function(){t.focused=!1,t.setCaret(e)}),200)},onClick:function(e,t){this.replaceText(e,t)},onFocus:function(e){this.blurTimeout&&(clearTimeout(this.blurTimeout),this.blurTimeout=null),this.focused=!0,this.setCaret(e),this.temporarilyHideSuggestions=!1},onKeyUp:function(e){var t=e.key;this.setCaret(e),this.temporarilyHideSuggestions="Escape"===t},onPaste:function(e){this.setCaret(e)},onKeyDown:function(e){var t=this,n=e.ctrlKey,o=e.shiftKey,r=e.key;this.newlineOnCtrlEnter&&n&&"Enter"===r&&(this.insert({insertion:"\n",surroundingSpace:!1}),e.stopPropagation(),e.preventDefault(),this.$nextTick((function(){t.input.blur(),t.input.focus()}))),this.temporarilyHideSuggestions||("Tab"===r&&(o?this.cycleBackward(e):this.cycleForward(e)),"ArrowUp"===r?this.cycleBackward(e):"ArrowDown"===r&&this.cycleForward(e),"Enter"===r&&(n||this.replaceText(e))),"Escape"===r&&(this.temporarilyHideSuggestions||this.input.focus())},onInput:function(e){this.setCaret(e),this.$emit("update:modelValue",e.target.value)},onStickerUploaded:function(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed:function(e){this.$emit("sticker-upload-Failed",e)},setCaret:function(e){var t=this,n=e.target.selectionStart;this.caret=n,this.$nextTick((function(){t.$refs.suggestorPopover.updateStyles()}))},resize:function(){},autoCompleteItemLabel:function(e){return e.user?e.displayText+" "+e.detailText:this.maybeLocalizedEmojiName(e)}}},Q=(0,U.Z)(Y,[["render",function(e,t,n,v,b,w){var y=(0,o.up)("screen-reader-notice"),D=(0,o.up)("FAIcon"),_=(0,o.up)("EmojiPicker"),k=(0,o.up)("UnicodeDomainIndicator"),C=(0,o.up)("Popover");return(0,o.wg)(),(0,o.iD)("div",{ref:"root",class:(0,r.C_)(["input emoji-input",{"with-picker":!e.hideEmojiButton}])},[(0,o.WI)(e.$slots,"default",{id:"textbox-"+e.randomSeed,ariaOwns:e.suggestionListId,ariaAutocomplete:"both",ariaExpanded:e.showSuggestions,ariaActivedescendant:e.showSuggestions&&-1!==e.highlighted?e.suggestionItemId(e.highlighted):""}),(0,o._)("div",{ref:"hiddenOverlay",class:"hidden-overlay",style:(0,r.j5)(e.overlayStyle),"aria-hidden":!0},[(0,o._)("span",null,(0,r.zw)(e.preText),1),(0,o._)("span",s,"x",512),(0,o._)("span",null,(0,r.zw)(e.postText),1)],4),(0,o.Wm)(y,{ref:"screenReaderNotice","aria-live":"assertive"},null,512),e.enableEmojiPicker?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.hideEmojiButton?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled emoji-picker-icon",type:"button",title:e.$t("emoji.add_emoji"),onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.togglePicker&&e.togglePicker.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(D,{icon:["far","smile-beam"]})],8,a)),e.enableEmojiPicker?((0,o.wg)(),(0,o.j4)(_,{key:1,ref:"picker","enable-sticker-picker":e.enableStickerPicker,class:"emoji-picker-panel",onEmoji:e.insert,onStickerUploaded:e.onStickerUploaded,onStickerUploadFailed:e.onStickerUploadFailed,onShow:e.onPickerShown,onClose:e.onPickerClosed},null,8,["enable-sticker-picker","onEmoji","onStickerUploaded","onStickerUploadFailed","onShow","onClose"])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),(0,o.Wm)(C,{ref:"suggestorPopover",class:"autocomplete-panel",placement:"bottom","trigger-attrs":{"aria-hidden":!0}},{content:(0,o.w5)((function(){return[(0,o._)("div",{id:e.suggestionListId,ref:"panel-body",class:"autocomplete-panel-body",role:"listbox"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.suggestions,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{id:e.suggestionItemId(n),key:n,class:(0,r.C_)(["menu-item autocomplete-item",{"-active":n===e.highlighted}]),role:"option","aria-label":e.autoCompleteItemLabel(t),"aria-selected":n===e.highlighted,onClick:(0,i.iM)((function(n){return e.onClick(n,t)}),["stop","prevent"])},[(0,o._)("span",l,[t.img?((0,o.wg)(),(0,o.iD)("img",{key:0,src:t.img},null,8,d)):((0,o.wg)(),(0,o.iD)("span",p,(0,r.zw)(t.replacement),1))]),(0,o._)("div",m,[t.user?((0,o.wg)(),(0,o.iD)("span",h,[(0,o.Uk)((0,r.zw)(t.displayText),1),(0,o.Wm)(k,{user:t.user,at:!1},null,8,["user"])])):(0,o.kq)("",!0),t.user?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",f,(0,r.zw)(e.maybeLocalizedEmojiName(t)),1)),(0,o._)("span",g,(0,r.zw)(t.detailText),1)])],10,c)})),128))],8,u)]})),_:1},512)],2)}]])},50296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var o=n(66252),r=n(3577),i=n(49963),s={class:"heading"},a={ref:"header",class:"emoji-tabs"},u=["title","onClick"],c={key:0,class:"emoji-picker-header-image"},l={key:0,class:"additional-tabs"},d=["title"],p={key:0,class:"content"},m={class:"emoji-search"},h=["placeholder"],f={class:"emoji-group"},g={key:0,class:"emoji-group-title"},v=["title","onClick"],b={key:0,class:"emoji-picker-emoji -unicode"},w={class:"keep-open"},y={key:0,class:"hide-custom-emoji"},D={key:0,class:"stickers-content"},_=n(29439),k=n(4942),C=n(93433),S=n(8400),j=n.n(S),F=n(92742),A=n.n(F),O=n(23279),E=n.n(O),z=n(65365),x=n(67943),P=n(60466),I=n(8312),T=n(9382),B=n(84131);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}T.vI.add(B.IA$,B.L4e,B.RKn,B.ctA,B.ILF,B.kQp,B.E1P,B.k0d,B.Elv,B.X8G,B.dT$,B.RrC);var R={"smileys-and-emotion":"smile","people-and-body":"user","animals-and-nature":"paw","food-and-drink":"ice-cream","travel-and-places":"bus",activities:"basketball-ball",objects:"lightbulb",symbols:"code",flags:"flag"},q=function(e,t,n){var o=[e.displayText,n(e)];return e.annotations&&t.forEach((function(t){var n,r,i=(null===(n=e.annotations[t])||void 0===n?void 0:n.keywords)||[],s=null===(r=e.annotations[t])||void 0===r?void 0:r.name;o.push.apply(o,(0,C.Z)(i.concat([s]).filter((function(e){return e}))))})),o};const N={props:{enableStickerPicker:{required:!1,type:Boolean,default:!1},hideCustomEmoji:{required:!1,type:Boolean,default:!1}},inject:["popoversZLayer"],data:function(){return{keyword:"",activeGroup:"custom",showingStickers:!1,groupsScrolledClass:"scrolled-top",keepOpen:!1,customEmojiTimeout:null,hideCustomEmojiInPicker:!1,contentLoaded:!1,groupRefs:{},emojiRefs:{},filteredEmojiGroups:[],emojiSize:0,width:0}},components:{StickerPicker:(0,o.RC)((function(){return n.e(1597).then(n.bind(n,21597))})),Checkbox:z.Z,StillImage:P.Z,Popover:x.default},methods:{updateEmojiSize:function(){var e=window.getComputedStyle(this.$refs.popover.$el),t=e.getPropertyValue("--emojiSize"),n=t.replace(/[0-9,.]+/,""),o=Number(t.replace(/[^0-9,.]+/,"")),r=e.getPropertyValue("font-size").replace(/[^0-9,.]+/,""),i=(n.endsWith("em")?o*r:o)+.4*r;this.emojiSize=i},showPicker:function(){this.$refs.popover.showPopover(),this.onShowing()},hidePicker:function(){this.$refs.popover.hidePopover()},setAnchorEl:function(e){this.$refs.popover.setAnchorEl(e)},setGroupRef:function(e){var t=this;return function(n){t.groupRefs[e]=n}},onPopoverShown:function(){this.$emit("show")},onPopoverClosed:function(){this.$emit("close")},onStickerUploaded:function(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed:function(e){this.$emit("sticker-upload-failed",e)},onEmoji:function(e){var t=e.imageUrl?":".concat(e.displayText,":"):e.replacement;this.keepOpen||this.$refs.popover.hidePopover(),this.$emit("emoji",{insertion:t,keepOpen:this.keepOpen})},onScroll:function(e,t,n,o){var r=this.$refs["emoji-groups"].$el;this.scrolledGroup(r,n,o)},scrolledGroup:function(e,t,n){var o=this,r=e.scrollTop+5;this.$nextTick((function(){o.emojiItems.slice(t,n+1).forEach((function(e){var t=e.id.replace(/^row-\d+-/,""),n=o.groupRefs["group-"+e.id];if(n){var i=n.$el.parentElement;i&&i&&function(e){var t=e.style.transform,n=/translateY\((\d+)px\)/.exec(t);return n?n[1]:0}(i)<=r&&(o.activeGroup=t)}})),o.scrollHeader()}))},scrollHeader:function(){var e=this.groupRefs["group-header-"+this.activeGroup],t=e.offsetLeft,n=t+e.offsetWidth,o=this.$refs.header,r=o.scrollLeft,i=r+o.clientWidth,s=function(e){o.scrollLeft=e};t-7<r?s(t-7):n+7>i&&s(n+7-o.clientWidth)},highlight:function(e){this.setShowStickers(!1);var t=this.emojiItems.findIndex((function(t){return t.id===e}));this.$refs["emoji-groups"].scrollToItem(t)},updateScrolledClass:function(e){e.scrollTop<=5?this.groupsScrolledClass="scrolled-top":e.scrollTop>=e.scrollTopMax-5?this.groupsScrolledClass="scrolled-bottom":this.groupsScrolledClass="scrolled-middle"},toggleStickers:function(){this.showingStickers=!this.showingStickers},setShowStickers:function(e){this.showingStickers=e},filterByKeyword:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(""===t)return e;var r,i=t.toLowerCase(),s=[],a=M(e);try{for(a.s();!(r=a.n()).done;){var u=r.value,c=q(u,n,o).map((function(e){return e.toLowerCase().indexOf(i)})).filter((function(e){return e>-1})),l=c.length?Math.min.apply(Math,(0,C.Z)(c)):-1;l>-1&&(Array.isArray(s[l])||(s[l]=[]),s[l].push(u))}}catch(e){a.e(e)}finally{a.f()}return s.flat()}(e,t,this.languages,this.maybeLocalizedEmojiName)},onShowing:function(){var e=this,t=this.contentLoaded;this.updateEmojiSize(),this.recalculateItemPerRow(),this.$nextTick((function(){e.$refs.search.focus()})),this.contentLoaded=!0,this.filteredEmojiGroups=this.getFilteredEmojiGroups(),t||this.$nextTick((function(){e.defaultGroup&&e.highlight(e.defaultGroup)}))},getFilteredEmojiGroups:function(){var e=this;return this.allEmojiGroups.map((function(t){return U(U({},t),{},{emojis:e.filterByKeyword(t.emojis,A()(e.keyword))})})).filter((function(e){return e.emojis.length>0}))},recalculateItemPerRow:function(){var e=this;this.$nextTick((function(){e.$refs["emoji-groups"]&&(e.width=e.$refs["emoji-groups"].$el.clientWidth)}))}},watch:{keyword:function(){this.onScroll(),this.debouncedHandleKeywordChange()},allCustomGroups:function(){this.filteredEmojiGroups=this.getFilteredEmojiGroups()}},computed:{minItemSize:function(){return this.emojiSize},fontSize:function(){var e=this;return this.$nextTick((function(){e.updateEmojiSize()})),this.$store.getters.mergedConfig.fontSize},emojiHeight:function(){return this.emojiSize},itemPerRow:function(){return this.width?Math.floor(this.width/this.emojiSize):6},activeGroupView:function(){return this.showingStickers?"":this.activeGroup},stickersAvailable:function(){return this.$store.state.instance.stickers?this.$store.state.instance.stickers.length>0:0},allCustomGroups:function(){if(this.hideCustomEmoji||this.hideCustomEmojiInPicker)return{};var e=this.$store.getters.groupedCustomEmojis;return e.unpacked&&(e.unpacked.text=this.$t("emoji.unpacked")),e},defaultGroup:function(){return Object.keys(this.allCustomGroups)[0]},unicodeEmojiGroups:function(){var e=this;return this.$store.getters.standardEmojiGroupList.map((function(t){return{id:"standard-".concat(t.id),text:e.$t("emoji.unicode_groups.".concat(t.id)),icon:R[t.id],emojis:t.emojis}}))},allEmojiGroups:function(){return Object.entries(this.allCustomGroups).map((function(e){var t=(0,_.Z)(e,2);return t[0],t[1]})).concat(this.unicodeEmojiGroups)},stickerPickerEnabled:function(){return 0!==(this.$store.state.instance.stickers||[]).length},debouncedHandleKeywordChange:function(){var e=this;return E()((function(){e.filteredEmojiGroups=e.getFilteredEmojiGroups()}),500)},emojiItems:function(){var e=this;return this.filteredEmojiGroups.map((function(t){return j()(t.emojis,e.itemPerRow).map((function(e,n){return U(U({},t),{},{id:0===n?t.id:"row-".concat(n,"-").concat(t.id),emojis:e,isFirstRow:0===n})}))})).reduce((function(e,t){return e.concat(t)}),[])},languages:function(){return(0,I.ensureFinalFallback)(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiName:function(){var e=this;return function(t){if(!t.annotations)return t.displayText;if(t.displayTextI18n)return e.$t(t.displayTextI18n.key,t.displayTextI18n.args);var n,o=M(e.languages);try{for(o.s();!(n=o.n()).done;){var r,i=n.value;if(null!==(r=t.annotations[i])&&void 0!==r&&r.name)return t.annotations[i].name}}catch(e){o.e(e)}finally{o.f()}return t.displayText}},isInModal:function(){return"modals"===this.popoversZLayer}}},Z=(0,n(83744).Z)(N,[["render",function(e,t,n,_,k,C){var S=(0,o.up)("still-image"),j=(0,o.up)("FAIcon"),F=(0,o.up)("DynamicScrollerItem"),A=(0,o.up)("DynamicScroller"),O=(0,o.up)("Checkbox"),E=(0,o.up)("sticker-picker"),z=(0,o.up)("Popover"),x=(0,o.Q2)("body-scroll-lock");return(0,o.wg)(),(0,o.j4)(z,{ref:"popover",trigger:"click","popover-class":"emoji-picker popover-default","trigger-attrs":{"aria-hidden":!0,tabindex:-1},onShow:e.onPopoverShown,onClose:e.onPopoverClosed},{content:(0,o.w5)((function(){return[(0,o._)("div",s,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",a,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filteredEmojiGroups,(function(t){return(0,o.wg)(),(0,o.iD)("span",{ref_for:!0,ref:e.setGroupRef("group-header-"+t.id),key:t.id,class:(0,r.C_)(["button-unstyled emoji-tabs-item",{toggled:e.activeGroupView===t.id}]),title:t.text,role:"button",onClick:(0,i.iM)((function(n){return e.highlight(t.id)}),["prevent"])},[t.image?((0,o.wg)(),(0,o.iD)("span",c,[(0,o.Wm)(S,{alt:t.text,src:t.image},null,8,["alt","src"])])):((0,o.wg)(),(0,o.j4)(j,{key:1,icon:t.icon,"fixed-width":""},null,8,["icon"]))],10,u)})),128))])),[[x,e.isInModal]]),e.stickerPickerEnabled?((0,o.wg)(),(0,o.iD)("span",l,[(0,o._)("span",{class:(0,r.C_)(["button-unstyled stickers-tab-icon additional-tabs-item",{toggled:e.showingStickers}]),title:e.$t("emoji.stickers"),onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.toggleStickers&&e.toggleStickers.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(j,{icon:"sticky-note","fixed-width":""})],10,d)])):(0,o.kq)("",!0)]),e.contentLoaded?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",{class:(0,r.C_)(["emoji-content",{hidden:e.showingStickers}])},[(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{ref:"search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.keyword=t}),type:"text",class:"input form-control",placeholder:e.$t("emoji.search_emoji"),onInput:t[2]||(t[2]=function(e){return e.target.composing=!1})},null,40,h),[[i.nr,e.keyword]])]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(A,{ref:"emoji-groups",class:(0,r.C_)(["emoji-groups",e.groupsScrolledClass]),"min-item-size":e.minItemSize,items:e.emojiItems,"emit-update":!0,onUpdate:e.onScroll,onVisible:e.recalculateItemPerRow,onResize:e.recalculateItemPerRow},{default:(0,o.w5)((function(t){var n=t.item,s=t.index,a=t.active;return[(0,o.Wm)(F,{ref:e.setGroupRef("group-"+n.id),item:n,active:a,"data-index":s,"size-dependencies":[n.emojis.length]},{default:(0,o.w5)((function(){return[(0,o._)("div",f,[n.isFirstRow?((0,o.wg)(),(0,o.iD)("h6",g,(0,r.zw)(n.text),1)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.emojis,(function(t){return(0,o.wg)(),(0,o.iD)("span",{key:n.id+t.displayText,title:e.maybeLocalizedEmojiName(t),class:"emoji-item",role:"button",onClick:(0,i.iM)((function(n){return e.onEmoji(t)}),["stop","prevent"])},[t.imageUrl?((0,o.wg)(),(0,o.j4)(S,{key:1,class:"emoji-picker-emoji -custom",loading:"lazy",alt:e.maybeLocalizedEmojiName(t),src:t.imageUrl,"data-emoji-name":n.id+t.displayText},null,8,["alt","src","data-emoji-name"])):((0,o.wg)(),(0,o.iD)("span",b,(0,r.zw)(t.replacement),1))],8,v)})),128))])]})),_:2},1032,["item","active","data-index","size-dependencies"])]})),_:1},8,["class","min-item-size","items","onUpdate","onVisible","onResize"])),[[x,e.isInModal]]),(0,o._)("div",w,[(0,o.Wm)(O,{modelValue:e.keepOpen,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.keepOpen=t})},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("emoji.keep_open")),1)]})),_:1},8,["modelValue"])]),e.hideCustomEmoji?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(O,{modelValue:e.hideCustomEmojiInPicker,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.hideCustomEmojiInPicker=t}),onChange:e.onShowing},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("emoji.hide_custom_emoji")),1)]})),_:1},8,["modelValue","onChange"])]))],2),e.showingStickers?((0,o.wg)(),(0,o.iD)("div",D,[(0,o.Wm)(E,{onUploaded:e.onStickerUploaded,onUploadFailed:e.onStickerUploadFailed},null,8,["onUploaded","onUploadFailed"])])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)]})),_:1},8,["onShow","onClose"])}]])},53560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o,r=n(66252),i=n(3577),s={class:"Flash"},a={key:0,class:"label"},u={key:1,class:"label"},c={key:2,class:"label"};const l=(o=null,{getRuffle:function(){return new Promise((function(e,t){if(o)e(o);else{window.RufflePlayer={},window.RufflePlayer.config={polyfills:!1,publicPath:"/static/ruffle"};var n=document.createElement("script");n.src="/static/ruffle/ruffle.js",n.type="text/javascript",n.onerror=function(e){t(e)},n.onabort=function(e){t(e)},n.oncancel=function(e){t(e)},n.onload=function(){o=window.RufflePlayer,e(o)},document.body.appendChild(n)}}))}});var d=n(9382),p=n(84131);d.vI.add(p.Bg$,p.eHv);const m={props:["src"],data:function(){return{player:!1,loaded:!1,ruffleInstance:null}},methods:{openPlayer:function(){var e=this;this.player||(this.player="hidden",l.getRuffle().then((function(t){var n=t.newest().createPlayer();n.config={letterbox:"on"},e.$refs.container.appendChild(n),n.style.width="100%",n.style.height="100%",n.load(e.src).then((function(){e.player=!0})).catch((function(t){console.error("Error loading ruffle",t),e.player="error"})),e.ruffleInstance=n,e.$emit("playerOpened")})))},closePlayer:function(){this.ruffleInstance&&this.ruffleInstance.remove(),this.player=!1,this.$emit("playerClosed")}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,o,l,d){var p=(0,r.up)("FAIcon");return(0,r.wg)(),(0,r.iD)("div",s,[!0===e.player||"hidden"===e.player?((0,r.wg)(),(0,r.iD)("div",{key:0,ref:"container",class:(0,i.C_)(["player",{hidden:"hidden"===e.player}])},null,2)):(0,r.kq)("",!0),!0!==e.player?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"button-unstyled placeholder",onClick:t[0]||(t[0]=function(){return e.openPlayer&&e.openPlayer.apply(e,arguments)})},["hidden"===e.player?((0,r.wg)(),(0,r.iD)("span",a,(0,i.zw)(e.$t("general.loading")),1)):(0,r.kq)("",!0),"error"===e.player?((0,r.wg)(),(0,r.iD)("span",u,(0,i.zw)(e.$t("general.flash_fail")),1)):((0,r.wg)(),(0,r.iD)("span",c,[(0,r._)("p",null,(0,i.zw)(e.$t("general.flash_content")),1),(0,r._)("p",null,[(0,r.Wm)(p,{icon:"exclamation-triangle"}),(0,r.Uk)(" "+(0,i.zw)(e.$t("general.flash_security")),1)])]))])):(0,r.kq)("",!0)])}]])},34837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(66252),r=n(3577),i=["disabled","title"],s=["textContent"],a=n(1447),u=n(29439),c=function e(t,n,o){return new Promise((function(e,r){setTimeout((function(){o.state.api.backendInteractor.fetchUserRelationship({id:n}).then((function(e){return o.commit("updateUserRelationship",[e]),e})).then((function(n){return e([n.following,n.requested,n.locked,t])})).catch((function(e){return r(e)}))}),500)})).then((function(t){var r=(0,u.Z)(t,4),i=r[0],s=r[1],a=r[2],c=r[3];i||a&&s||!(c<=3)||e(++c,n,o)}))},l=function(e,t){return new Promise((function(n,o){t.state.api.backendInteractor.followUser({id:e}).then((function(e){if(t.commit("updateUserRelationship",[e]),!(e.following||e.locked&&e.requested))return c(1,e,t).then((function(){n()}));n()}))}))};const d={props:["relationship","user","labelFollowing","buttonClass"],components:{ConfirmModal:a.Z},data:function(){return{inProgress:!1,showingConfirmUnfollow:!1}},computed:{shouldConfirmUnfollow:function(){return this.$store.getters.mergedConfig.modalOnUnfollow},isPressed:function(){return this.inProgress||this.relationship.following},title:function(){return this.inProgress||this.relationship.following?this.$t("user_card.follow_unfollow"):this.relationship.requested?this.$t("user_card.follow_cancel"):this.$t("user_card.follow")},label:function(){return this.inProgress?this.$t("user_card.follow_progress"):this.relationship.following?this.labelFollowing||this.$t("user_card.following"):this.relationship.requested?this.$t("user_card.follow_sent"):this.$t("user_card.follow")},disabled:function(){return this.inProgress||this.user.deactivated}},methods:{showConfirmUnfollow:function(){this.showingConfirmUnfollow=!0},hideConfirmUnfollow:function(){this.showingConfirmUnfollow=!1},onClick:function(){this.relationship.following||this.relationship.requested?this.unfollow():this.follow()},follow:function(){var e=this;this.inProgress=!0,l(this.relationship.id,this.$store).then((function(){e.inProgress=!1}))},unfollow:function(){this.shouldConfirmUnfollow?this.showConfirmUnfollow():this.doUnfollow()},doUnfollow:function(){var e=this,t=this.$store;this.inProgress=!0,function(e,t){return new Promise((function(n,o){t.state.api.backendInteractor.unfollowUser({id:e}).then((function(e){t.commit("updateUserRelationship",[e]),n({updated:e})}))}))}(this.relationship.id,t).then((function(){e.inProgress=!1,t.commit("removeStatus",{timeline:"friends",userId:e.relationship.id})})),this.hideConfirmUnfollow()}}},p=(0,n(83744).Z)(d,[["render",function(e,t,n,a,u,c){var l=(0,o.up)("i18n-t"),d=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("button",{class:(0,r.C_)(["btn button-default follow-button",{toggled:e.isPressed}]),disabled:e.disabled,title:e.title,onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[(0,o.Uk)((0,r.zw)(e.label)+" ",1),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmUnfollow?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("user_card.unfollow_confirm_title"),"confirm-text":e.$t("user_card.unfollow_confirm_accept_button"),"cancel-text":e.$t("user_card.unfollow_confirm_cancel_button"),onAccepted:e.doUnfollow,onCancelled:e.hideConfirmUnfollow},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{keypath:"user_card.unfollow_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,s)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))],10,i)}]])},16127:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n(66252),r=n(3577),i={class:"gallery-rows"},s={key:0,class:"many-attachments"},a={class:"many-attachments-text"},u={class:"many-attachments-buttons"},c={key:0,class:"many-attachments-button"},l={key:1,class:"many-attachments-button"},d={key:2,class:"many-attachments-button"},p=n(93433),m=n(36968),h=n.n(m),f=n(73303),g=n.n(f);const v={props:["attachments","compact","limitRows","descriptions","limit","nsfw","setMedia","size","editable","removeAttachment","shiftUpAttachment","shiftDnAttachment","editAttachment","grid"],data:function(){return{sizes:{},hidingLong:!0}},components:{Attachment:n(88230).Z},computed:{rows:function(){var e=this;if(!this.attachments)return[];var t=this.limit>0?this.attachments.slice(0,this.limit):this.attachments;return"hide"===this.size?t.map((function(e){return{minimal:!0,items:[e]}})):this.grid?[{grid:!0,items:t}]:t.reduce((function(t,n,o){if(n.mimetype.includes("audio"))return[].concat((0,p.Z)(t),[{audio:!0,items:[n]},{items:[]}]);if(!(n.mimetype.includes("image")||n.mimetype.includes("video")||n.mimetype.includes("flash")))return[].concat((0,p.Z)(t),[{minimal:!0,items:[n]},{items:[]}]);var r=e.attachments.length-o+1,i=t[t.length-1].items;return i.push(n),i.length>=3&&r>3?[].concat((0,p.Z)(t),[{items:[]}]):t}),[{items:[]}]).filter((function(e){return e.items.length>0}))},attachmentsDimensionalScore:function(){return this.rows.reduce((function(e,t){var n=0;return t.minimal?n+=1/8:t.audio?n+=1/4:n+=1/(t.items.length+.6),e+n}),0)},tooManyAttachments:function(){return!this.editable&&"small"!==this.size&&("hide"===this.size?this.attachments.length>8:this.attachmentsDimensionalScore>1)}},methods:{onNaturalSizeLoad:function(e){var t=e.id,n=e.width,o=e.height;h()(this.sizes,t,{width:n,height:o})},rowStyle:function(e){return e.audio?{"padding-bottom":"25%"}:e.minimal||e.grid?void 0:{"padding-bottom":"".concat(100/(e.items.length+.6),"%")}},itemStyle:function(e,t){var n=this,o=g()(t,(function(e){return n.getAspectRatio(e.id)}));return{flex:"".concat(this.getAspectRatio(e)/o," 1 0%")}},getAspectRatio:function(e){var t=this.sizes[e];return t?t.width/t.height:1},toggleHidingLong:function(e){this.hidingLong=e},openGallery:function(){this.$store.dispatch("setMedia",this.attachments),this.$store.dispatch("setCurrentMedia",this.attachments[0])},onMedia:function(){this.$store.dispatch("setMedia",this.attachments)}}},b=(0,n(83744).Z)(v,[["render",function(e,t,n,p,m,h){var f=(0,o.up)("Attachment");return(0,o.wg)(),(0,o.iD)("div",{ref:"galleryContainer",class:(0,r.C_)(["Gallery",{"-long":e.tooManyAttachments&&e.hidingLong}])},[(0,o._)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.rows,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{key:n,class:(0,r.C_)(["gallery-row",{"-audio":t.audio,"-minimal":t.minimal,"-grid":e.grid}]),style:(0,r.j5)(e.rowStyle(t))},[(0,o._)("div",{class:(0,r.C_)(["gallery-row-inner",{"-grid":e.grid}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.items,(function(i,s){return(0,o.wg)(),(0,o.j4)(f,{key:i.id,class:"gallery-item",compact:e.compact,nsfw:e.nsfw,attachment:i,size:e.size,editable:e.editable,remove:e.removeAttachment,"shift-up":!(0===s&&0===n)&&e.shiftUpAttachment,"shift-dn":!(s===t.items.length-1&&n===e.rows.length-1)&&e.shiftDnAttachment,edit:e.editAttachment,description:e.descriptions&&e.descriptions[i.id],"hide-description":"small"===e.size||e.tooManyAttachments&&e.hidingLong,style:(0,r.j5)(e.itemStyle(i.id,t.items)),onSetMedia:e.onMedia,onNaturalSizeLoad:e.onNaturalSizeLoad},null,8,["compact","nsfw","attachment","size","editable","remove","shift-up","shift-dn","edit","description","hide-description","style","onSetMedia","onNaturalSizeLoad"])})),128))],2)],6)})),128))]),e.tooManyAttachments?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,(0,r.zw)(e.$t("status.many_attachments",{number:e.attachments.length})),1),(0,o._)("div",u,[e.hidingLong?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",c,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=function(t){return e.toggleHidingLong(!0)})},(0,r.zw)(e.$t("status.collapse_attachments")),1)])),e.hidingLong?((0,o.wg)(),(0,o.iD)("span",l,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[1]||(t[1]=function(t){return e.toggleHidingLong(!1)})},(0,r.zw)(e.$t("status.show_all_attachments")),1)])):(0,o.kq)("",!0),e.hidingLong?((0,o.wg)(),(0,o.iD)("span",d,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[2]||(t[2]=function(){return e.openGallery&&e.openGallery.apply(e,arguments)})},(0,r.zw)(e.$t("status.open_gallery")),1)])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)],2)}]])},95479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(66252),r=n(3577),i={class:"interface-language-switcher"},s={class:"setting-list"},a=["value"],u=["onClick"],c=n(93433),l=n(39776);const d={components:{Select:n(32826).Z},props:{promptText:{type:String,required:!0},language:{type:[Array,String],required:!0},setLanguage:{type:Function,required:!0}},computed:{languages:function(){return l.Z.languages},controlledLanguage:{get:function(){return Array.isArray(this.language)?this.language:[this.language]},set:function(e){this.setLanguage(e)}}},methods:{getLanguageName:function(e){return l.Z.getLanguageName(e)},addLanguage:function(){this.controlledLanguage=[].concat((0,c.Z)(this.controlledLanguage),[""])},setLanguageAt:function(e,t){var n=(0,c.Z)(this.controlledLanguage);n[e]=t,this.controlledLanguage=n},removeLanguageAt:function(e){var t=(0,c.Z)(this.controlledLanguage);t.splice(e,1),this.controlledLanguage=t}}},p=(0,n(83744).Z)(d,[["render",function(e,t,n,c,l,d){var p=(0,o.up)("Select");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("label",null,(0,r.zw)(n.promptText),1),(0,o._)("ul",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.controlledLanguage.keys(),(function(t){return(0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("label",null,[(0,o.Uk)((0,r.zw)(0===t?e.$t("settings.primary_language"):e.$tc("settings.fallback_language",t,{index:t}))+" ",1),(0,o.Wm)(p,{class:"language-select","model-value":d.controlledLanguage[t],"onUpdate:modelValue":function(e){return d.setLanguageAt(t,e)}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.languages,(function(e){return(0,o.wg)(),(0,o.iD)("option",{key:e.code,value:e.code},(0,r.zw)(e.name),9,a)})),128))]})),_:2},1032,["model-value","onUpdate:modelValue"])]),d.controlledLanguage.length>1&&0!==t?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-default btn",onClick:function(){return d.removeLanguageAt(t)}},(0,r.zw)(e.$t("settings.remove_language")),9,u)):(0,o.kq)("",!0)])})),128)),(0,o._)("li",null,[(0,o._)("button",{class:"button-default btn",onClick:t[0]||(t[0]=function(){return d.addLanguage&&d.addLanguage.apply(d,arguments)})},(0,r.zw)(e.$t("settings.add_language")),1)])])])}]])},83758:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n(66252),r=n(3577),i=["href"],s={key:0,class:"card-image"},a=["src"],u={class:"card-content"},c={class:"card-host faint"},l={key:0,class:"nsfw-alert alert warning"},d={class:"card-title"},p={key:0,class:"card-description"},m=n(4942);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const f={name:"LinkPreview",props:["card","size","nsfw"],data:function(){return{imageLoaded:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({useImage:function(){return this.card.image&&!this.censored&&"hide"!==this.size},censored:function(){return this.nsfw&&this.hideNsfwConfig},useDescription:function(){return this.card.description&&/\S/.test(this.card.description)},hideNsfwConfig:function(){return this.mergedConfig.hideNsfw}},(0,n(989).Se)(["mergedConfig"])),created:function(){var e=this;if(this.useImage){var t=new Image;t.onload=function(){e.imageLoaded=!0},t.src=this.card.image}}},g=(0,n(83744).Z)(f,[["render",function(e,t,n,m,h,f){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("a",{class:"link-preview-card",href:e.card.url,target:"_blank",rel:"noopener"},[e.useImage&&e.imageLoaded?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("img",{src:e.card.image},null,8,a)])):(0,o.kq)("",!0),(0,o._)("div",u,[(0,o._)("span",c,[e.censored?((0,o.wg)(),(0,o.iD)("span",l,(0,r.zw)(e.$t("status.nsfw")),1)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(e.card.provider_name),1)]),(0,o._)("h4",d,(0,r.zw)(e.card.title),1),e.useDescription?((0,o.wg)(),(0,o.iD)("p",p,(0,r.zw)(e.card.description),1)):(0,o.kq)("",!0)])],8,i)])}]])},41550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i={class:"list",role:"list"},s={key:0,class:"list-empty-content faint"};const a={props:{items:{type:Array,default:function(){return[]}},getKey:{type:Function,default:function(e){return e.id}},getClass:{type:Function,default:function(e){return""}},nonInteractive:{type:Boolean,default:!1}}},u=(0,n(83744).Z)(a,[["render",function(e,t,n,a,u,c){return(0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,(function(t){return(0,o.wg)(),(0,o.iD)("div",{key:n.getKey(t),class:(0,r.C_)(["list-item",[n.getClass(t),n.nonInteractive?"-non-interactive":""]]),role:"listitem"},[(0,o.WI)(e.$slots,"item",{item:t})],2)})),128)),0===n.items.length&&e.$slots.empty?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.WI)(e.$slots,"empty")])):(0,o.kq)("",!0)])}]])},89261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(66252),r=n(3577),i=["title"],s=["disabled","accept"],a=n(7257),u=n(65079),c=n(9382),l=n(84131);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}c.vI.add(l.cf$,l.IJ7);const p={data:function(){return{uploadCount:0,uploadReady:!0}},computed:{uploading:function(){return this.uploadCount>0}},methods:{onClick:function(){this.uploadReady&&this.$refs.input.click()},uploadFile:function(e){var t=this,n=this.$store;if(e.size>n.state.instance.uploadlimit){var o=u.Z.fileSizeFormat(e.size),r=u.Z.fileSizeFormat(n.state.instance.uploadlimit);t.$emit("upload-failed","file_too_big",{filesize:o.num,filesizeunit:o.unit,allowedsize:r.num,allowedsizeunit:r.unit})}else{var i=new FormData;i.append("file",e),t.$emit("uploading"),t.uploadCount++,a.Z.uploadMedia({store:n,formData:i}).then((function(e){t.$emit("uploaded",e),t.decreaseUploadCount()}),(function(e){console.error("Error uploading file",e),t.$emit("upload-failed","default"),t.decreaseUploadCount()}))}},decreaseUploadCount:function(){this.uploadCount--,0===this.uploadCount&&this.$emit("all-uploaded")},clearFile:function(){var e=this;this.uploadReady=!1,this.$nextTick((function(){e.uploadReady=!0}))},multiUpload:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.uploadFile(o)}}catch(e){n.e(e)}finally{n.f()}},change:function(e){var t=e.target;this.multiUpload(t.files)}},props:{dropFiles:Object,disabled:Boolean,normalButton:Boolean,acceptTypes:{type:String,default:"*/*"}},watch:{dropFiles:function(e){this.uploading||this.multiUpload(e)}}},m=(0,n(83744).Z)(p,[["render",function(e,t,n,a,u,c){var l=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("button",{class:(0,r.C_)(["media-upload",[e.normalButton?"button-default btn":"button-unstyled",{disabled:e.disabled}]]),title:e.$t("tool_tip.media_upload"),onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.uploading?((0,o.wg)(),(0,o.j4)(l,{key:0,class:"progress-icon",icon:"circle-notch",spin:""})):(0,o.kq)("",!0),e.uploading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(l,{key:1,class:"new-icon",icon:"upload"})),e.normalButton?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.uploading?e.$t("general.loading"):e.$t("tool_tip.media_upload")),1)],64)):(0,o.kq)("",!0),e.uploadReady?((0,o.wg)(),(0,o.iD)("input",{key:3,ref:"input",class:"hidden-input-file",disabled:e.disabled,type:"file",multiple:"true",accept:e.acceptTypes,onChange:t[0]||(t[0]=function(){return e.change&&e.change.apply(e,arguments)})},null,40,s)):(0,o.kq)("",!0)],10,i)}]])},46091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var o=n(66252),r=n(3577),i=n(49963),s={class:"MentionLink"},a=["href","innerHTML"],u=["href"],c={class:"shortName"},l=["innerHTML"],d=["innerHTML"],p={ref:"full",class:"full"},m=["innerHTML"],h=["innerHTML"],f=n(44925),g=n(4942),v=n(4493),b=n(989),w=n(95052),y=n(98654),D=n(42262),_=n(9382),k=n(84131),C=["backgroundColor","backgroundPosition","backgroundImage"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_.vI.add(k.IBq);const F={name:"MentionLink",components:{UserAvatar:y.default,UnicodeDomainIndicator:D.Z,UserPopover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,70670))}))},props:{url:{required:!0,type:String},content:{required:!0,type:String},userId:{required:!1,type:String},userScreenName:{required:!1,type:String}},data:function(){return{hasSelection:!1}},methods:{onClick:function(){if(!this.shouldShowTooltip){var e=(0,v.Z)(this.userId||this.user.id,this.userScreenName||this.user.screen_name);this.$router.push(e)}},handleSelection:function(){this.hasSelection=document.getSelection().containsNode(this.$refs.full,!0)}},mounted:function(){document.addEventListener("selectionchange",this.handleSelection)},unmounted:function(){document.removeEventListener("selectionchange",this.handleSelection)},computed:j(j({user:function(){return this.url&&this.$store&&this.$store.getters.findUserByUrl(this.url)},isYou:function(){return this.user&&this.user.id===this.currentUser.id},userName:function(){return this.user&&this.userNameFullUi.split("@")[0]},serverName:function(){return this.user&&(this.userNameFullUi.split("@")[1]||this.$store.getters.instanceDomain)},userNameFull:function(){return this.user&&this.user.screen_name},userNameFullUi:function(){return this.user&&this.user.screen_name_ui},highlight:function(){return this.user&&this.mergedConfig.highlight[this.user.screen_name]},highlightType:function(){return this.highlight&&"-"+this.highlight.type},highlightClass:function(){if(this.highlight)return(0,w.M)(this.user)},style:function(){if(this.highlight){var e=(0,w.q)(this.highlight);return e.backgroundColor,e.backgroundPosition,e.backgroundImage,(0,f.Z)(e,C)}},classnames:function(){return[{"-you":this.isYou&&this.shouldBoldenYou,"-highlighted":this.highlight,"-has-selection":this.hasSelection},this.highlightType]},useAtIcon:function(){return this.mergedConfig.useAtIcon},isRemote:function(){return this.userName!==this.userNameFull},shouldShowFullUserName:function(){var e=this.mergedConfig.mentionLinkDisplay;return"short"!==e&&("full"===e||this.isRemote)},shouldShowTooltip:function(){return this.mergedConfig.mentionLinkShowTooltip},shouldShowAvatar:function(){return this.mergedConfig.mentionLinkShowAvatar},shouldShowYous:function(){return this.mergedConfig.mentionLinkShowYous},shouldBoldenYou:function(){return this.mergedConfig.mentionLinkBoldenYou},shouldFadeDomain:function(){return this.mergedConfig.mentionLinkFadeDomain}},(0,b.Se)(["mergedConfig"])),(0,b.rn)({currentUser:function(e){return e.users.currentUser}}))},A=(0,n(83744).Z)(F,[["render",function(e,t,n,f,g,v){var b=(0,o.up)("UserAvatar"),w=(0,o.up)("FAIcon"),y=(0,o.up)("UnicodeDomainIndicator"),D=(0,o.up)("UserPopover");return(0,o.wg)(),(0,o.iD)("span",s,[e.user?((0,o.wg)(),(0,o.j4)(D,{key:1,"user-id":e.user.id,disabled:!e.shouldShowTooltip},{default:(0,o.w5)((function(){return[e.user?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,r.C_)(["new",e.classnames]),style:(0,r.j5)(e.style)},[(0,o._)("a",{class:(0,r.C_)(["short",{"-with-tooltip":e.shouldShowTooltip}]),href:e.url,onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.onClick&&e.onClick.apply(e,arguments)}),["prevent"]))},[e.shouldShowAvatar?((0,o.wg)(),(0,o.j4)(b,{key:0,class:"mention-avatar",user:e.user},null,8,["user"])):(0,o.kq)("",!0),(0,o._)("span",c,[e.useAtIcon?((0,o.wg)(),(0,o.j4)(w,{key:0,size:"sm",icon:"at",class:"at"})):(0,o.kq)("",!0),(0,o.Uk)((0,r.zw)(e.useAtIcon?"":"@"),1),(0,o._)("span",{class:"userName",innerHTML:e.userName},null,8,l),e.shouldShowFullUserName?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,r.C_)(["serverName",{"-faded":e.shouldFadeDomain}]),innerHTML:"@"+e.serverName},null,10,d)):(0,o.kq)("",!0),e.shouldShowFullUserName?((0,o.wg)(),(0,o.j4)(y,{key:2,user:e.user},null,8,["user"])):(0,o.kq)("",!0)]),e.isYou&&e.shouldShowYous?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,r.C_)({"-you":e.shouldBoldenYou})},(0,r.zw)(" "+e.$t("status.you")),3)):(0,o.kq)("",!0)],10,u),(0,o._)("span",p,[(0,o.Uk)(" @"),(0,o._)("span",{innerHTML:e.userName},null,8,m),(0,o._)("span",{innerHTML:"@"+e.serverName},null,8,h)],512)],6)):(0,o.kq)("",!0)]})),_:1},8,["user-id","disabled"])):((0,o.wg)(),(0,o.iD)("a",{key:0,href:e.url,class:"original",target:"_blank",innerHTML:e.content},null,8,a))])}]])},45760:(e,t,n)=>{"use strict";n.d(t,{d:()=>p,Z:()=>h});var o=n(66252),r=n(3577),i={class:"MentionsLine"},s={key:0,class:"extraMentions"},a={key:0,class:"fullExtraMentions"},u=n(4942),c=n(46091),l=n(989);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var p=5;const m={name:"MentionsLine",props:{mentions:{required:!0,type:Array}},data:function(){return{expanded:!1}},components:{MentionLink:c.Z},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mentionsComputed:function(){return this.mentions.slice(0,p)},extraMentions:function(){return this.mentions.slice(p)},manyMentions:function(){return this.extraMentions.length>0}},(0,l.Se)(["mergedConfig"])),methods:{toggleShowMore:function(){this.expanded=!this.expanded}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,u,c,l){var d=(0,o.up)("MentionLink");return(0,o.wg)(),(0,o.iD)("span",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.mentionsComputed,(function(e){return(0,o.wg)(),(0,o.j4)(d,{key:e.index,class:"mention-link",content:e.content,url:e.url},null,8,["content","url"])})),128)),e.manyMentions?((0,o.wg)(),(0,o.iD)("span",s,[e.expanded?((0,o.wg)(),(0,o.iD)("span",a,[(0,o.Uk)((0,r.zw)(" ")),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.extraMentions,(function(e){return(0,o.wg)(),(0,o.j4)(d,{key:e.index,class:"mention-link",content:e.content,url:e.url},null,8,["content","url"])})),128))])):(0,o.kq)("",!0),e.expanded?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled -link showMoreLess",onClick:t[0]||(t[0]=function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)})},(0,r.zw)(e.$t("status.plus_more",{number:e.extraMentions.length})),1)),e.expanded?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled -link showMoreLess",onClick:t[1]||(t[1]=function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)})},(0,r.zw)(e.$t("general.show_less")),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}]])},48328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(3577),i=n(49963);const s={provide:{popoversZLayer:"modals"},props:{isOpen:{type:Boolean,default:!0},noBackground:{type:Boolean,default:!1}},computed:{classes:function(){return{"modal-background":!this.noBackground,open:this.isOpen}}}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,s,a,u){var c=(0,o.Q2)("body-scroll-lock");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["modal-view",u.classes]),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.$emit("backdropClicked")}),["self"]))},[(0,o.WI)(e.$slots,"default")],2)),[[i.F8,n.isOpen],[c,n.isOpen&&!n.noBackground]])}]])},40297:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Qe});var o=n(66252),r=n(3577),i=n(49963),s={key:0,class:"notifications-heading panel-heading -sticky"},a={class:"title"},u={key:0,class:"badge -notification unseen-count"},c={key:0,class:"rightside-button"},l=["title"],d={class:"panel-body",role:"feed"},p={key:0,role:"listitem",class:"notification"},m=["onClick"],h=(0,o._)("div",{class:"notification-overlay"},null,-1),f={class:"panel-footer"},g={key:0,class:"new-status-notification text-center faint"},v={class:"new-status-notification text-center"},b={key:2,class:"new-status-notification text-center"},w=n(93433),y=n(4942),D=n(989),_={key:0},k={key:1},C={key:0,class:"Notification container -muted"},S=["href"],j={class:"notification-right"},F={class:"notification-details"},A={class:"name-and-action"},O={key:0},E=["title"],z={key:2},x={key:3},P={key:4},I={key:5},T={key:6},B={key:7},$=["src","alt","title"],U={key:1,class:"emoji-reaction-emoji"},M={key:8},L={key:9},R={key:0,class:"timeago"},q=["title","aria-expanded"],N={key:1,class:"timeago"},Z={class:"faint"},W=["title","aria-expanded"],H={key:0,class:"follow-text"},V={key:0,style:{"white-space":"nowrap"}},G=["title"],K=["title"],Y={key:1,class:"move-text"},Q=n(97415),J=n(17521),X=n(98654),ee=n(87607),te=n(1840),ne={class:"Report"},oe={class:"reported-user"},re={class:"reporter"},ie={class:"report-state"},se=["value"],ae={key:0},ue={class:"reported-status-heading"},ce={class:"reported-status-name"},le={key:1},de=n(32826),pe=n(92820),me=n(4493);const he={props:["reportId"],components:{Select:de.Z,StatusContent:Q.Z,Timeago:te.Z,RichContent:pe.Z},computed:{report:function(){return this.$store.state.reports.reports[this.reportId]||{}},state:{get:function(){return this.report.state},set:function(e){this.setReportState(e)}}},methods:{generateUserProfileLink:function(e){return(0,me.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},setReportState:function(e){return this.$store.dispatch("setReportState",{id:this.report.id,state:e})}}};var fe=n(83744);const ge=(0,fe.Z)(he,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("router-link"),c=(0,o.up)("Select"),l=(0,o.up)("RichContent"),d=(0,o.up)("Timeago"),p=(0,o.up)("status-content");return(0,o.wg)(),(0,o.iD)("div",ne,[(0,o._)("div",oe,[(0,o._)("span",null,(0,r.zw)(e.$t("report.reported_user")),1),(0,o.Wm)(u,{to:e.generateUserProfileLink(e.report.acct)},{default:(0,o.w5)((function(){return[(0,o.Uk)(" @"+(0,r.zw)(e.report.acct.screen_name),1)]})),_:1},8,["to"])]),(0,o._)("div",re,[(0,o._)("span",null,(0,r.zw)(e.$t("report.reporter")),1),(0,o.Wm)(u,{to:e.generateUserProfileLink(e.report.actor)},{default:(0,o.w5)((function(){return[(0,o.Uk)(" @"+(0,r.zw)(e.report.actor.screen_name),1)]})),_:1},8,["to"])]),(0,o._)("div",ie,[(0,o._)("span",null,(0,r.zw)(e.$t("report.state")),1),(0,o.Wm)(c,{id:e.report-e.state,modelValue:e.state,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state=t}),class:"input form-control"},{default:(0,o.w5)((function(){return[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["open","closed","resolved"],(function(t){return(0,o._)("option",{key:t,value:t},(0,r.zw)(e.$t("report.state_"+t)),9,se)})),64))]})),_:1},8,["id","modelValue"])]),(0,o.Wm)(l,{class:"report-content",html:e.report.content,emoji:[]},null,8,["html"]),e.report.statuses.length?((0,o.wg)(),(0,o.iD)("div",ae,[(0,o._)("small",null,(0,r.zw)(e.$t("report.reported_statuses")),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.report.statuses,(function(e){return(0,o.wg)(),(0,o.j4)(u,{key:e.id,to:{name:"conversation",params:{id:e.id}},class:"reported-status"},{default:(0,o.w5)((function(){return[(0,o._)("div",ue,[(0,o._)("span",ce,(0,r.zw)(e.user.name),1),(0,o.Wm)(d,{time:e.created_at,"auto-update":240,class:"faint"},null,8,["time"])]),(0,o.Wm)(p,{status:e},null,8,["status"])]})),_:2},1032,["to"])})),128))])):(0,o.kq)("",!0),e.report.notes.length?((0,o.wg)(),(0,o.iD)("div",le,[(0,o._)("small",null,(0,r.zw)(e.$t("report.notes")),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.report.notes,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"note"},[(0,o._)("span",null,(0,r.zw)(e.content),1),(0,o.Wm)(d,{time:e.created_at,"auto-update":240,class:"faint"},null,8,["time"])])})),128))])):(0,o.kq)("",!0)])}]]);var ve=n(12061),be=n(70670),we=n(1447),ye=n(52230),De=n(95052),_e=n(9382),ke=n(84131);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}_e.vI.add(ke.LEp,ke.NBC,ke.Tab,ke.x5v,ke.FKd,ke.ILF,ke.Aq,ke.gmr,ke.TTL,ke.V9$);var Se={data:function(){return{statusExpanded:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter,unmuted:!1,showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},props:["notification"],emits:["interacted"],components:{StatusContent:Q.Z,UserAvatar:X.default,UserCard:ee.Z,Timeago:te.Z,Status:J.default,Report:ge,RichContent:pe.Z,UserPopover:be.default,UserLink:ve.Z,ConfirmModal:we.Z},methods:{toggleStatusExpanded:function(){this.statusExpanded=!this.statusExpanded},generateUserProfileLink:function(e){return(0,me.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},getUser:function(e){return this.$store.state.users.usersObject[e.from_profile.id]},interacted:function(){this.$emit("interacted")},toggleMute:function(){this.unmuted=!this.unmuted},showApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!1},approveUser:function(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove:function(){this.$emit("interacted"),this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user),this.$store.dispatch("markSingleNotificationAsSeen",{id:this.notification.id}),this.$store.dispatch("updateNotification",{id:this.notification.id,updater:function(e){e.type="follow"}}),this.hideApproveConfirmDialog()},denyUser:function(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny:function(){var e=this;this.$emit("interacted"),this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){e.$store.dispatch("dismissNotificationLocal",{id:e.notification.id}),e.$store.dispatch("removeFollowRequest",e.user)})),this.hideDenyConfirmDialog()}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userClass:function(){return(0,De.M)(this.notification.from_profile)},userStyle:function(){var e=this.$store.getters.mergedConfig.highlight,t=this.notification.from_profile;return(0,De.q)(e[t.screen_name])},user:function(){return this.$store.getters.findUser(this.notification.from_profile.id)},userProfileLink:function(){return this.generateUserProfileLink(this.user)},targetUser:function(){return this.$store.getters.findUser(this.notification.target.id)},targetUserProfileLink:function(){return this.generateUserProfileLink(this.targetUser)},needMute:function(){return this.$store.getters.relationship(this.user.id).muting},isStatusNotification:function(){return(0,ye.Gr)(this.notification.type)},mergedConfig:function(){return this.$store.getters.mergedConfig},shouldConfirmApprove:function(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny:function(){return this.mergedConfig.modalOnDenyFollow}},(0,D.rn)({currentUser:function(e){return e.users.currentUser}}))};const je=Se,Fe=(0,fe.Z)(je,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("Status"),l=(0,o.up)("user-link"),d=(0,o.up)("FAIcon"),p=(0,o.up)("UserAvatar"),m=(0,o.up)("UserPopover"),h=(0,o.up)("RichContent"),f=(0,o.up)("i18n-t"),g=(0,o.up)("Timeago"),v=(0,o.up)("router-link"),b=(0,o.up)("Report"),w=(0,o.up)("StatusContent"),y=(0,o.up)("confirm-modal");return"mention"===e.notification.type||"status"===e.notification.type?((0,o.wg)(),(0,o.iD)("article",_,[(0,o.Wm)(c,{class:"Notification",compact:!0,statusoid:e.notification.status,onInteracted:e.interacted},null,8,["statusoid","onInteracted"])])):((0,o.wg)(),(0,o.iD)("article",k,[e.needMute&&!e.unmuted?((0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("small",null,[(0,o.Wm)(l,{user:e.notification.from_profile,at:!1},null,8,["user"])]),(0,o._)("button",{class:"button-unstyled unmute",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(d,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})])])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["Notification non-mention",[e.userClass,{highlighted:e.userStyle},"-type--"+e.notification.type]]),style:(0,r.j5)([e.userStyle])},[(0,o._)("a",{class:"avatar-container",href:e.$router.resolve(e.userProfileLink).href,onClick:t[1]||(t[1]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)(m,{"user-id":e.notification.from_profile.id,"overlay-centers":!0},{default:(0,o.w5)((function(){return[(0,o.Wm)(p,{class:"post-avatar",bot:e.botIndicator,compact:!0,"better-shadow":e.betterShadow,user:e.notification.from_profile},null,8,["bot","better-shadow","user"])]})),_:1},8,["user-id"])],8,S),(0,o._)("div",j,[(0,o._)("span",F,[(0,o._)("div",A,[e.notification.from_profile.name_html?((0,o.wg)(),(0,o.iD)("bdi",O,[(0,o.Wm)(h,{class:"username",title:"@"+e.notification.from_profile.screen_name_ui,html:e.notification.from_profile.name_html,emoji:e.notification.from_profile.emoji},null,8,["title","html","emoji"])])):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"username",title:"@"+e.notification.from_profile.screen_name_ui},(0,r.zw)(e.notification.from_profile.name),9,E)),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),"like"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",z,[(0,o.Wm)(d,{class:"type-icon",icon:"star"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.favorited_you")),1)])):(0,o.kq)("",!0),"repeat"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",x,[(0,o.Wm)(d,{class:"type-icon",icon:"retweet",title:e.$t("tool_tip.repeat")},null,8,["title"]),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.repeated_you")),1)])):(0,o.kq)("",!0),"follow"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",P,[(0,o.Wm)(d,{class:"type-icon",icon:"user-plus"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.followed_you")),1)])):(0,o.kq)("",!0),"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",I,[(0,o.Wm)(d,{class:"type-icon",icon:"user"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.follow_request")),1)])):(0,o.kq)("",!0),"move"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",T,[(0,o.Wm)(d,{class:"type-icon",icon:"suitcase-rolling"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.migrated_to")),1)])):(0,o.kq)("",!0),"pleroma:emoji_reaction"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",B,[(0,o._)("small",null,[(0,o.Wm)(f,{scope:"global",keypath:"notifications.reacted_with"},{default:(0,o.w5)((function(){return[e.notification.emoji_url?((0,o.wg)(),(0,o.iD)("img",{key:0,class:"emoji-reaction-emoji emoji-reaction-emoji-image",src:e.notification.emoji_url,alt:e.notification.emoji,title:e.notification.emoji},null,8,$)):((0,o.wg)(),(0,o.iD)("span",U,(0,r.zw)(e.notification.emoji),1))]})),_:1})])])):(0,o.kq)("",!0),"pleroma:report"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",M,[(0,o._)("small",null,(0,r.zw)(e.$t("notifications.submitted_report")),1)])):(0,o.kq)("",!0),"poll"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",L,[(0,o.Wm)(d,{class:"type-icon",icon:"poll-h"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.poll_ended")),1)])):(0,o.kq)("",!0)]),e.isStatusNotification?((0,o.wg)(),(0,o.iD)("div",R,[e.notification.status?((0,o.wg)(),(0,o.j4)(v,{key:0,to:{name:"conversation",params:{id:e.notification.status.id}},class:"timeago-link faint"},{default:(0,o.w5)((function(){return[(0,o.Wm)(g,{time:e.notification.created_at,"auto-update":240},null,8,["time"])]})),_:1},8,["to"])):(0,o.kq)("",!0),(0,o._)("button",{class:"button-unstyled expand-icon",title:e.$t("tool_tip.toggle_expand"),"aria-expanded":e.statusExpanded,onClick:t[2]||(t[2]=(0,i.iM)((function(){return e.toggleStatusExpanded&&e.toggleStatusExpanded.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(d,{class:"fa-scale-110","fixed-width":"",icon:e.statusExpanded?"compress-alt":"expand-alt"},null,8,["icon"])],8,q)])):((0,o.wg)(),(0,o.iD)("div",N,[(0,o._)("span",Z,[(0,o.Wm)(g,{time:e.notification.created_at,"auto-update":240},null,8,["time"])])])),e.needMute?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled",title:e.$t("tool_tip.toggle_mute"),"aria-expanded":!e.unmuted,onClick:t[3]||(t[3]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(d,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})],8,W)):(0,o.kq)("",!0)]),"follow"===e.notification.type||"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",H,[(0,o.Wm)(l,{class:"follow-name",user:e.notification.from_profile},null,8,["user"]),"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",V,[(0,o._)("button",{class:"button-unstyled",title:e.$t("tool_tip.accept_follow_request"),onClick:t[4]||(t[4]=function(t){return e.approveUser()})},[(0,o.Wm)(d,{icon:"check",class:"fa-scale-110 fa-old-padding follow-request-accept"})],8,G),(0,o._)("button",{class:"button-unstyled",title:e.$t("tool_tip.reject_follow_request"),onClick:t[5]||(t[5]=function(t){return e.denyUser()})},[(0,o.Wm)(d,{icon:"times",class:"fa-scale-110 fa-old-padding follow-request-reject"})],8,K)])):(0,o.kq)("",!0)])):"move"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",Y,[(0,o.Wm)(l,{user:e.notification.target},null,8,["user"])])):"pleroma:report"===e.notification.type?((0,o.wg)(),(0,o.j4)(b,{key:2,"report-id":e.notification.report.id},null,8,["report-id"])):((0,o.wg)(),(0,o.j4)(w,{key:3,compact:!e.statusExpanded,status:e.notification.status},null,8,["compact","status"]))])],6)),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingApproveConfirmDialog?((0,o.wg)(),(0,o.j4)(y,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0),e.showingDenyConfirmDialog?((0,o.wg)(),(0,o.j4)(y,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))]))}]]);var Ae={class:"ExtraNotifications"},Oe={key:0,class:"notification unseen"},Ee=(0,o._)("div",{class:"notification-overlay"},null,-1),ze={key:1,class:"notification unseen"},xe=(0,o._)("div",{class:"notification-overlay"},null,-1),Pe={key:2,class:"notification unseen"},Ie=(0,o._)("div",{class:"notification-overlay"},null,-1);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}_e.vI.add(ke.FKd,ke.lXL,ke.Acd);const Be={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({shouldShowChats:function(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showChatsInExtraNotifications&&this.unreadChatCount},shouldShowAnnouncements:function(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showAnnouncementsInExtraNotifications&&this.unreadAnnouncementCount},shouldShowFollowRequests:function(){return this.mergedConfig.showExtraNotifications&&this.mergedConfig.showFollowRequestsInExtraNotifications&&this.followRequestCount},hasAnythingToShow:function(){return this.shouldShowChats||this.shouldShowAnnouncements||this.shouldShowFollowRequests},shouldShowCustomizationTip:function(){return this.mergedConfig.showExtraNotificationsTip&&this.hasAnythingToShow},currentUser:function(){return this.$store.state.users.currentUser}},(0,D.Se)(["unreadChatCount","unreadAnnouncementCount","followRequestCount","mergedConfig"])),methods:{openNotificationSettings:function(){return this.$store.dispatch("openSettingsModalTab","notifications")},dismissConfigurationTip:function(){return this.$store.dispatch("setOption",{name:"showExtraNotificationsTip",value:!1})}}},$e=(0,fe.Z)(Be,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("FAIcon"),c=(0,o.up)("router-link"),l=(0,o.up)("i18n-t");return(0,o.wg)(),(0,o.iD)("div",Ae,[e.shouldShowChats?((0,o.wg)(),(0,o.iD)("div",Oe,[Ee,(0,o.Wm)(c,{class:"button-unstyled -link extra-notification",to:{name:"chats",params:{username:e.currentUser.screen_name}}},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{"fixed-width":"",class:"fa-scale-110 icon",icon:"comments"}),(0,o.Uk)(" "+(0,r.zw)(e.$tc("notifications.unread_chats",e.unreadChatCount,{num:e.unreadChatCount})),1)]})),_:1},8,["to"])])):(0,o.kq)("",!0),e.shouldShowAnnouncements?((0,o.wg)(),(0,o.iD)("div",ze,[xe,(0,o.Wm)(c,{class:"button-unstyled -link extra-notification",to:{name:"announcements"}},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{"fixed-width":"",class:"fa-scale-110 icon",icon:"bullhorn"}),(0,o.Uk)(" "+(0,r.zw)(e.$tc("notifications.unread_announcements",e.unreadAnnouncementCount,{num:e.unreadAnnouncementCount})),1)]})),_:1})])):(0,o.kq)("",!0),e.shouldShowFollowRequests?((0,o.wg)(),(0,o.iD)("div",Pe,[Ie,(0,o.Wm)(c,{class:"button-unstyled -link extra-notification",to:{name:"friend-requests"}},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{"fixed-width":"",class:"fa-scale-110 icon",icon:"user-plus"}),(0,o.Uk)(" "+(0,r.zw)(e.$tc("notifications.unread_follow_requests",e.followRequestCount,{num:e.followRequestCount})),1)]})),_:1})])):(0,o.kq)("",!0),e.shouldShowCustomizationTip?((0,o.wg)(),(0,o.j4)(l,{key:3,tag:"span",class:"notification tip extra-notification",keypath:"notifications.configuration_tip"},{theSettings:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=function(){return e.openNotificationSettings&&e.openNotificationSettings.apply(e,arguments)})},(0,r.zw)(e.$t("notifications.configuration_tip_settings")),1)]})),dismiss:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link",onClick:t[1]||(t[1]=function(){return e.dismissConfigurationTip&&e.dismissConfigurationTip.apply(e,arguments)})},(0,r.zw)(e.$t("notifications.configuration_tip_dismiss")),1)]})),_:1})):(0,o.kq)("",!0)])}]]);var Ue={class:"dropdown-menu"},Me={class:"filter-trigger-button button-unstyled"},Le=n(67943);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_e.vI.add(ke.G_j);const Ne={components:{Popover:Le.default},computed:{filters:function(){return this.$store.getters.mergedConfig.notificationVisibility}},methods:{toggleNotificationFilter:function(e){this.$store.dispatch("setOption",{name:"notificationVisibility",value:qe(qe({},this.filters),{},(0,y.Z)({},e,!this.filters[e]))})}}},Ze=(0,fe.Z)(Ne,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("FAIcon"),c=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(c,{trigger:"click",class:"NotificationFilters",placement:"bottom","bound-to":{x:"container"}},{content:(0,o.w5)((function(){return[(0,o._)("div",Ue,[(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[0]||(t[0]=function(e){return a.toggleNotificationFilter("likes")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.likes}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_likes")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[1]||(t[1]=function(e){return a.toggleNotificationFilter("repeats")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.repeats}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_repeats")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[2]||(t[2]=function(e){return a.toggleNotificationFilter("follows")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.follows}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_follows")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[3]||(t[3]=function(e){return a.toggleNotificationFilter("mentions")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.mentions}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_mentions")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[4]||(t[4]=function(e){return a.toggleNotificationFilter("statuses")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.statuses}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_statuses")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[5]||(t[5]=function(e){return a.toggleNotificationFilter("emojiReactions")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.emojiReactions}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_emoji_reactions")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[6]||(t[6]=function(e){return a.toggleNotificationFilter("moves")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.moves}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_moves")),1)]),(0,o._)("button",{class:"menu-item dropdown-item",onClick:t[7]||(t[7]=function(e){return a.toggleNotificationFilter("polls")})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":a.filters.polls}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_polls")),1)])])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",Me,[(0,o.Wm)(u,{icon:"filter"})])]})),_:1})}]]);var We=n(15568),He=n(49753);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}_e.vI.add(ke.IJ7,ke.FPD,ke.Kl4);var Ge={components:{Notification:Fe,NotificationFilters:Ze,ExtraNotifications:$e},props:{minimalMode:Boolean,filterMode:Array,noExtra:{type:Boolean,default:!1},disableTeleport:Boolean},data:function(){return{showScrollTop:!1,bottomedOut:!1,seenToDisplayCount:30}},provide:function(){var e=this;return{popoversZLayer:(0,o.Fl)((function(){return e.popoversZLayer}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mainClass:function(){return this.minimalMode?"":"panel panel-default"},notifications:function(){return(0,ye.Bt)(this.$store)},error:function(){return this.$store.state.notifications.error},unseenNotifications:function(){return(0,ye.Km)(this.$store)},filteredNotifications:function(){var e=this;return this.unseenAtTop?[].concat((0,w.Z)((0,ye.G2)(this.$store).filter((function(t){return e.shouldShowUnseen(t)}))),(0,w.Z)((0,ye.G2)(this.$store).filter((function(t){return!e.shouldShowUnseen(t)})))):(0,ye.G2)(this.$store,this.filterMode)},unseenCountBadgeText:function(){return"".concat(this.unseenCount?this.unseenCount:"").concat(this.extraNotificationsCount?"*":"")},unseenCount:function(){return this.unseenNotifications.length},ignoreInactionableSeen:function(){return this.$store.getters.mergedConfig.ignoreInactionableSeen},extraNotificationsCount:function(){return(0,ye.wY)(this.$store)},unseenCountTitle:function(){return this.unseenNotifications.length+this.unreadChatCount+this.unreadAnnouncementCount},loading:function(){return this.$store.state.notifications.loading},noHeading:function(){var e=this.$store.state.interface.layoutType;return this.minimalMode||"mobile"===e},teleportTarget:function(){return{wide:"#notifs-column",mobile:"#mobile-notifications"}[this.$store.state.interface.layoutType]||"#notifs-sidebar"},popoversZLayer:function(){return"mobile"===this.$store.state.interface.layoutType?"navbar":null},notificationsToDisplay:function(){return this.filteredNotifications.slice(0,this.unseenCount+this.seenToDisplayCount)},noSticky:function(){return this.$store.getters.mergedConfig.disableStickyHeaders},unseenAtTop:function(){return this.$store.getters.mergedConfig.unseenAtTop},showExtraNotifications:function(){return!this.noExtra}},(0,D.Se)(["unreadChatCount","unreadAnnouncementCount"])),mounted:function(){this.scrollerRef=this.$refs.root.closest(".column.-scrollable"),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".mobile-notifications")),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".column.main")),this.scrollerRef.addEventListener("scroll",this.updateScrollPosition)},unmounted:function(){this.scrollerRef&&this.scrollerRef.removeEventListener("scroll",this.updateScrollPosition)},watch:{unseenCountTitle:function(e){e>0?(He.Z.drawFaviconBadge(),this.$store.dispatch("setPageTitle","(".concat(e,")"))):(He.Z.clearFaviconBadge(),this.$store.dispatch("setPageTitle",""))},teleportTarget:function(){var e=this;this.$nextTick((function(){e.scrollerRef.removeEventListener("scroll",e.updateScrollPosition),e.scrollerRef=e.$refs.root.closest(".column.-scrollable"),e.scrollerRef||(e.scrollerRef=e.$refs.root.closest(".mobile-notifications")),e.scrollerRef.addEventListener("scroll",e.updateScrollPosition),e.updateScrollPosition()}))}},methods:{scrollToTop:function(){this.scrollerRef.scrollTo({top:this.$refs.root.offsetTop})},updateScrollPosition:function(){this.showScrollTop=this.$refs.root.offsetTop<this.scrollerRef.scrollTop},shouldShowUnseen:function(e){if(e.seen)return!1;var t=ye.L2.has(e.type);return!this.ignoreInactionableSeen||t},notificationClicked:function(e){var t=e.id;this.$store.dispatch("notificationClicked",{id:t})},notificationInteracted:function(e){var t=e.id;this.$store.dispatch("markSingleNotificationAsSeen",{id:t})},markAsSeen:function(){this.$store.dispatch("markNotificationsAsSeen"),this.seenToDisplayCount=30},fetchOlderNotifications:function(){var e=this;if(!this.loading){var t=this.filteredNotifications.length-this.unseenCount;if(this.seenToDisplayCount<t)this.seenToDisplayCount=Math.min(this.seenToDisplayCount+20,t);else{this.seenToDisplayCount>t&&(this.seenToDisplayCount=t);var n=this.$store,o=n.state.users.currentUser.credentials;n.commit("setNotificationsLoading",{value:!0}),We.Z.fetchAndUpdate({store:n,credentials:o,older:!0}).then((function(t){n.commit("setNotificationsLoading",{value:!1}),0===t.length&&(e.bottomedOut=!0),e.seenToDisplayCount+=t.length}))}}}}};const Ke=Ge,Ye=(0,fe.Z)(Ke,[["render",function(e,t,n,w,y,D){var _=(0,o.up)("FAIcon"),k=(0,o.up)("FALayers"),C=(0,o.up)("NotificationFilters"),S=(0,o.up)("extra-notifications"),j=(0,o.up)("notification");return(0,o.wg)(),(0,o.j4)(o.lR,{disabled:e.minimalMode||e.disableTeleport,to:e.teleportTarget},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.noHeading?"div":"aside"),{ref:"root",class:(0,r.C_)([{minimal:e.minimalMode},"Notifications"])},{default:(0,o.w5)((function(){return[(0,o._)("div",{class:(0,r.C_)(e.mainClass)},[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[(0,o.Uk)((0,r.zw)(e.$t("notifications.notifications"))+" ",1),e.unseenCountBadgeText?((0,o.wg)(),(0,o.iD)("span",u,(0,r.zw)(e.unseenCountBadgeText),1)):(0,o.kq)("",!0)]),e.showScrollTop?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=function(){return e.scrollToTop&&e.scrollToTop.apply(e,arguments)})},[(0,o.Wm)(k,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(_,{icon:"arrow-up"}),(0,o.Wm)(_,{icon:"minus",transform:"up-7"})]})),_:1})],8,l)])):(0,o.kq)("",!0),e.unseenCount?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default read-button",type:"button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.markAsSeen&&e.markAsSeen.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("notifications.read")),1)):(0,o.kq)("",!0),(0,o.Wm)(C,{class:"rightside-button"})])),(0,o._)("div",d,[e.showExtraNotifications?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(S)])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.notificationsToDisplay,(function(t){return(0,o.wg)(),(0,o.iD)("div",{key:t.id,role:"listitem",class:(0,r.C_)(["notification",{unseen:!e.minimalMode&&e.shouldShowUnseen(t)}]),onClick:function(n){return e.notificationClicked(t)}},[h,(0,o.Wm)(j,{notification:t,onInteracted:function(n){return e.notificationInteracted(t)}},null,8,["notification","onInteracted"])],10,m)})),128))]),(0,o._)("div",f,[e.bottomedOut?((0,o.wg)(),(0,o.iD)("div",g,(0,r.zw)(e.$t("notifications.no_more_notifications")),1)):e.loading?((0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(_,{icon:"circle-notch",spin:"",size:"lg"})])):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled -link text-center",onClick:t[2]||(t[2]=(0,i.iM)((function(t){return e.fetchOlderNotifications()}),["prevent"]))},[(0,o._)("div",v,(0,r.zw)(e.minimalMode?e.$t("interactions.load_older"):e.$t("notifications.load_older")),1)]))])],2)]})),_:1},8,["class"]))],8,["disabled","to"])}]]),Qe=Ye},30727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(3577),i={class:"panel-loading"},s={class:"loading-text"},a=n(9382),u=n(84131);a.vI.add(u.IJ7);const c={},l=(0,n(83744).Z)(c,[["render",function(e,t,n,a,u,c){var l=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("span",s,[(0,o.Wm)(l,{icon:"circle-notch",spin:"",size:"3x"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("general.loading")),1)])])}]])},67943:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(66252),r=n(49963),i=n(3577);const s={name:"Popover",props:{trigger:String,placement:String,boundTo:Object,boundToSelector:String,margin:Object,offset:Object,popoverClass:String,removePadding:Boolean,disabled:Boolean,overlayCenters:Boolean,overlayCentersSelector:String,stayOnClick:Boolean,normalButton:Boolean,triggerAttrs:{type:Object,default:{}}},inject:["popoversZLayer"],data:function(){return{anchorEl:null,teleport:!1,lockReEntry:!1,hidden:!0,styles:{},oldSize:{width:0,height:0},scrollable:null,graceTimeout:null,parentPopover:null,disableClickOutside:!1,childrenShown:new Set}},methods:{setAnchorEl:function(e){this.anchorEl=e,this.updateStyles()},containerBoundingClientRect:function(){return(this.boundToSelector?this.$el.closest(this.boundToSelector):this.$el.offsetParent).getBoundingClientRect()},updateStyles:function(){if(this.hidden)this.styles={};else{var e=this.anchorEl||this.$refs.trigger&&this.$refs.trigger.children[0]||this.$el,t=e.offsetHeight||e.clientHeight,n=e.offsetWidth||e.clientWidth,o=e.getBoundingClientRect(),r=getComputedStyle(e),i=parseFloat(r.paddingTop),s=parseFloat(r.paddingBottom),a=parseFloat(r.paddingRight),u=parseFloat(r.paddingLeft),c=o.left+.5*n,l=o.top+.5*t,d=this.$refs.content,p=this.overlayCenters?this.$refs.content.querySelector(this.overlayCentersSelector):null,m=this.boundTo&&("container"===this.boundTo.x||"container"===this.boundTo.y)&&this.containerBoundingClientRect(),h=this.margin||{},f=this.boundTo&&"container"===this.boundTo.x?{min:m.left+(h.left||0),max:m.right-(h.right||0)}:{min:0+(h.left||10),max:window.innerWidth-(h.right||10)},g=this.boundTo&&"container"===this.boundTo.y?{min:m.top+(h.top||0),max:m.bottom-(h.bottom||0)}:{min:0+(h.top||50),max:window.innerHeight-(h.bottom||5)},v=0,b=0;if(p){var w=d.getBoundingClientRect(),y=p.getBoundingClientRect(),D=y.left-w.left,_=y.top-w.top;v=-D-.5*p.offsetWidth,b=-_-.5*p.offsetHeight}else v=-.5*d.offsetWidth,b=-.5*d.offsetHeight;var k=c+v,C=k+d.offsetWidth,S=l+b,j=S+d.offsetHeight;k<f.min&&(v+=f.min-k),C>f.max&&(v-=C-f.max),S<g.min&&(b+=g.min-S),j>g.max&&(b-=j-g.max);var F=0,A=0;if(p)F=c+v,A=l+b;else if("right"!==this.placement&&"left"!==this.placement){var O="bottom"!==this.placement,E=l-.5*t+(this.removePadding?i:0),z=l+.5*t-(this.removePadding?s:0);z+d.offsetHeight>g.max&&(O=!0),E-d.offsetHeight<g.min&&(O=!1);var x=this.offset&&this.offset.y||0;A=O?E-x-d.offsetHeight:z+x,F=c+v+(this.offset&&this.offset.x||0)}else{var P="left"!==this.placement,I=c-.5*n+(this.removePadding?a:0),T=c+.5*n-(this.removePadding?u:0);T+d.offsetWidth>f.max&&(P=!0),I-d.offsetWidth<f.min&&(P=!1);var B=this.offset&&this.offset.x||0;F=P?I-B-d.offsetWidth:T+B,A=l+b+(this.offset&&this.offset.y||0)}this.styles={left:"".concat(Math.round(F),"px"),top:"".concat(Math.round(A),"px")},this.popoversZLayer&&(this.styles["--ZI_popover_override"]="var(--ZI_".concat(this.popoversZLayer,"_popovers)")),m&&(this.styles.maxWidth="".concat(Math.round(m.width),"px"))}},showPopover:function(){var e=this;if(!this.disabled){this.disableClickOutside=!0,setTimeout((function(){e.disableClickOutside=!1}),0);var t=this.hidden;this.hidden=!1,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!0),("click"===this.trigger||this.stayOnClick)&&document.addEventListener("click",this.onClickOutside),this.scrollable.addEventListener("scroll",this.onScroll),this.scrollable.addEventListener("resize",this.onResize),this.$nextTick((function(){t&&e.$emit("show"),e.updateStyles()}))}},hidePopover:function(){this.disabled||(this.hidden||this.$emit("close"),this.hidden=!0,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!1),"click"===this.trigger&&document.removeEventListener("click",this.onClickOutside),this.scrollable.removeEventListener("scroll",this.onScroll),this.scrollable.removeEventListener("resize",this.onResize))},onMouseenter:function(e){"hover"===this.trigger&&(this.lockReEntry=!1,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleave:function(e){var t=this;"hover"===this.trigger&&0===this.childrenShown.size&&(this.graceTimeout=setTimeout((function(){return t.hidePopover()}),1))},onMouseenterContent:function(e){"hover"!==this.trigger||this.lockReEntry||(this.lockReEntry=!0,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleaveContent:function(e){var t=this;"hover"===this.trigger&&0===this.childrenShown.size&&(this.graceTimeout=setTimeout((function(){return t.hidePopover()}),1))},onClick:function(e){"click"===this.trigger&&(this.hidden?this.showPopover():this.hidePopover())},onClickOutside:function(e){this.disableClickOutside||this.hidden||this.$refs.content&&this.$refs.content.contains(e.target)||this.$el.contains(e.target)||this.childrenShown.size>0||(this.hidePopover(),this.parentPopover&&this.parentPopover.onClickOutside(e))},onScroll:function(e){this.updateStyles()},onResize:function(e){this.updateStyles()},onChildPopoverState:function(e,t){t?this.childrenShown.add(e):this.childrenShown.delete(e)}},updated:function(){var e=this.$refs.content;e&&(this.oldSize.width===e.offsetWidth&&this.oldSize.height===e.offsetHeight||(this.updateStyles(),this.oldSize={width:e.offsetWidth,height:e.offsetHeight}))},mounted:function(){this.teleport=!0;var e=this.$refs.trigger.closest(".column.-scrollable")||this.$refs.trigger.closest(".mobile-notifications");e||(e=window),this.scrollable=e;for(var t=this.$parent;t&&"Popover"!==t.$.type.name;)t=t.$parent;this.parentPopover=t},beforeUnmount:function(){this.hidePopover()}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,s,a,u){return(0,o.wg)(),(0,o.iD)("span",{onMouseenter:t[4]||(t[4]=function(){return e.onMouseenter&&e.onMouseenter.apply(e,arguments)}),onMouseleave:t[5]||(t[5]=function(){return e.onMouseleave&&e.onMouseleave.apply(e,arguments)})},[(0,o._)("button",(0,o.dG)({ref:"trigger",class:["popover-trigger-button",e.normalButton?"button-default btn":"button-unstyled"],type:"button"},e.triggerAttrs,{onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[(0,o.WI)(e.$slots,"trigger")],16),((0,o.wg)(),(0,o.j4)(o.lR,{disabled:!e.teleport,to:"#popovers"},[(0,o.Wm)(r.uT,{name:"fade"},{default:(0,o.w5)((function(){return[e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,ref:"content",style:(0,i.j5)(e.styles),class:(0,i.C_)(["popover",e.popoverClass||"popover-default"]),onMouseenter:t[1]||(t[1]=function(){return e.onMouseenterContent&&e.onMouseenterContent.apply(e,arguments)}),onMouseleave:t[2]||(t[2]=function(){return e.onMouseleaveContent&&e.onMouseleaveContent.apply(e,arguments)}),onClick:t[3]||(t[3]=function(){return e.onClickContent&&e.onClickContent.apply(e,arguments)})},[(0,o.WI)(e.$slots,"content",{class:"popover-inner",close:e.hidePopover})],38))]})),_:3})],8,["disabled"]))],32)}]])},76791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Me});var o=n(66252),r=n(49963),i=n(3577),s={ref:"form",class:"post-status-form"},a={class:"form-group"},u={key:1,class:"visibility-notice notice-dismissible"},c=["title"],l={key:2,class:"visibility-notice notice-dismissible"},d=["title"],p={key:3,class:"visibility-notice notice-dismissible"},m=["title"],h={key:4,class:"visibility-notice"},f={key:0},g={key:1},v={key:5,class:"visibility-notice edit-warning"},b={key:6,class:"preview-heading faint"},w={class:"preview-spinner"},y={key:7,class:"preview-container"},D={key:0,class:"preview-status"},_={key:1,class:"preview-status preview-error"},k={key:8,role:"radiogroup",class:"btn-group reply-or-quote-selector"},C=["id","aria-labelledby","aria-checked"],S=["id","aria-labelledby","aria-checked"],j=["placeholder","disabled"],F=["placeholder","disabled"],A={key:10,class:"visibility-tray"},O={key:1,class:"text-format"},E=["value"],z={key:2,class:"text-format"},x={class:"only-format"},P={ref:"bottom",class:"form-bottom"},I={class:"form-bottom-left"},T=["title"],B=["title"],$={key:0,disabled:"",class:"btn button-default"},U={key:1,disabled:"",class:"btn button-default"},M=["disabled"],L={key:1,class:"alert error"},R={key:3,class:"upload_settings"},q=n(15861),N=n(4942),Z=n(93433),W=n(23279),H=n.n(W),V=n(45578),G=n.n(V),K=n(35161),Y=n.n(K),Q=n(43063),J=n.n(Q),X=n(64687),ee=n.n(X),te=n(7257),ne=n(53599),oe=n(89261),re=n(9616),ie=n(85295),se={key:0,class:"poll-form"},ae={class:"input-container"},ue=["id","onUpdate:modelValue","placeholder","maxlength","onKeydown"],ce=["onClick"],le={class:"poll-type-expiry"},de=["title"],pe={value:"single"},me={value:"multiple"},he=["title"],fe=["min","max"],ge=["value"],ve=n(44908),be=n.n(ve),we=n(27483),ye=n(9382),De=n(32826),_e=n(84131);ye.vI.add(_e.NBC,_e.r8p);const ke={components:{Select:De.Z},name:"PollForm",props:["visible"],data:function(){return{pollType:"single",options:["",""],expiryAmount:10,expiryUnit:"minutes"}},computed:{pollLimits:function(){return this.$store.state.instance.pollLimits},maxOptions:function(){return this.pollLimits.max_options},maxLength:function(){return this.pollLimits.max_option_chars},expiryUnits:function(){var e=this,t=this.convertExpiryFromUnit;return["minutes","hours","days"].filter((function(n){return e.pollLimits.max_expiration>=t(n,1)}))},minExpirationInCurrentUnit:function(){return Math.ceil(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.min_expiration))},maxExpirationInCurrentUnit:function(){return Math.floor(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.max_expiration))}},methods:{clear:function(){this.pollType="single",this.options=["",""],this.expiryAmount=10,this.expiryUnit="minutes"},nextOption:function(e){var t=this.$el.querySelector("#poll-".concat(e+1));t?t.focus():this.addOption()&&this.$nextTick((function(){this.nextOption(e)}))},addOption:function(){return this.options.length<this.maxOptions&&(this.options.push(""),!0)},deleteOption:function(e,t){this.options.length>2&&(this.options.splice(e,1),this.updatePollToParent())},convertExpiryToUnit:function(e,t){return we.dX(e,t)},convertExpiryFromUnit:function(e,t){return we.cC(e,t)},expiryAmountChange:function(){this.expiryAmount=Math.max(this.minExpirationInCurrentUnit,this.expiryAmount),this.expiryAmount=Math.min(this.maxExpirationInCurrentUnit,this.expiryAmount),this.updatePollToParent()},updatePollToParent:function(){var e=this.convertExpiryFromUnit(this.expiryUnit,this.expiryAmount),t=be()(this.options.filter((function(e){return""!==e})));t.length<2?this.$emit("update-poll",{error:this.$t("polls.not_enough_options")}):this.$emit("update-poll",{options:t,multiple:"multiple"===this.pollType,expiresIn:e})}}};var Ce=n(83744);const Se=(0,Ce.Z)(ke,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon"),l=(0,o.up)("Select");return e.visible?((0,o.wg)(),(0,o.iD)("div",se,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(function(n,i){return(0,o.wg)(),(0,o.iD)("div",{key:i,class:"poll-option"},[(0,o._)("div",ae,[(0,o.wy)((0,o._)("input",{id:"poll-".concat(i),"onUpdate:modelValue":function(t){return e.options[i]=t},size:"1",class:"input poll-option-input",type:"text",placeholder:e.$t("polls.option"),maxlength:e.maxLength,onChange:t[0]||(t[0]=function(){return e.updatePollToParent&&e.updatePollToParent.apply(e,arguments)}),onKeydown:(0,r.D2)((0,r.iM)((function(t){return e.nextOption(i)}),["stop","prevent"]),["enter"])},null,40,ue),[[r.nr,e.options[i]]])]),e.options.length>2?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"delete-option button-unstyled -hover-highlight",onClick:function(t){return e.deleteOption(i)}},[(0,o.Wm)(c,{icon:"times"})],8,ce)):(0,o.kq)("",!0)])})),128)),e.options.length<e.maxOptions?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"add-option faint button-unstyled -hover-highlight",onClick:t[1]||(t[1]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},[(0,o.Wm)(c,{icon:"plus",size:"sm"}),(0,o.Uk)(" "+(0,i.zw)(e.$t("polls.add_option")),1)])):(0,o.kq)("",!0),(0,o._)("div",le,[(0,o._)("div",{class:"poll-type",title:e.$t("polls.type")},[(0,o.Wm)(l,{modelValue:e.pollType,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pollType=t}),class:"poll-type-select",unstyled:"true",onChange:e.updatePollToParent},{default:(0,o.w5)((function(){return[(0,o._)("option",pe,(0,i.zw)(e.$t("polls.single_choice")),1),(0,o._)("option",me,(0,i.zw)(e.$t("polls.multiple_choices")),1)]})),_:1},8,["modelValue","onChange"])],8,de),(0,o._)("div",{class:"poll-expiry",title:e.$t("polls.expiry")},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.expiryAmount=t}),type:"number",class:"input expiry-amount hide-number-spinner",min:e.minExpirationInCurrentUnit,max:e.maxExpirationInCurrentUnit,onChange:t[4]||(t[4]=function(){return e.expiryAmountChange&&e.expiryAmountChange.apply(e,arguments)})},null,40,fe),[[r.nr,e.expiryAmount]]),(0,o.Uk)(" "+(0,i.zw)(" ")+" "),(0,o.Wm)(l,{modelValue:e.expiryUnit,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.expiryUnit=t}),unstyled:"true",class:"expiry-unit",onChange:e.expiryAmountChange},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.expiryUnits,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,i.zw)(e.$tc("time.unit.".concat(t,"_short"),e.expiryAmount,[""])),9,ge)})),128))]})),_:1},8,["modelValue","onChange"])],8,he)])])):(0,o.kq)("",!0)}]]);var je=n(88230),Fe=n(16127),Ae=n(97415),Oe=n(58394),Ee=n(67952),ze=n(37230),xe=n(19003),Pe=n(989),Ie=n(65365);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ye.vI.add(_e.RKn,_e.Mm7,_e.cf$,_e.gPx,_e.NBC,_e.IJ7);var $e=function(e){return Number(e.substring(0,e.length-2))};const Ue={props:["statusId","statusText","statusIsSensitive","statusPoll","statusFiles","statusMediaDescriptions","statusScope","statusContentType","replyTo","repliedUser","attentions","copyMessageScope","subject","disableSubject","disableScopeSelector","disableVisibilitySelector","disableNotice","disableLockWarning","disablePolls","disableSensitivityCheckbox","disableSubmit","disablePreview","placeholder","maxHeight","postHandler","preserveFocus","autoFocus","fileLimit","submitOnEnter","emojiPickerPlacement","optimisticPosting","profileMention"],emits:["posted","resize","mediaplay","mediapause"],components:{MediaUpload:oe.Z,EmojiInput:ie.Z,PollForm:Se,ScopeSelector:re.Z,Checkbox:Ie.Z,Select:De.Z,Attachment:je.Z,StatusContent:Ae.Z,Gallery:Fe.Z},mounted:function(){if(this.updateIdempotencyKey(),this.resize(this.$refs.textarea),this.replyTo){var e=this.$refs.textarea.value.length;this.$refs.textarea.setSelectionRange(e,e)}(this.replyTo||this.autoFocus)&&this.$refs.textarea.focus()},data:function(){var e=this.$route.query.message||"",t=this.$store.getters.mergedConfig.scopeCopy;if(this.replyTo||this.profileMention){var n=this.$store.state.users.currentUser;e=function(e,t){var n=e.user,o=e.attentions,r=void 0===o?[]:o,i=(0,Z.Z)(r);i.unshift(n),i=G()(i,"id"),i=J()(i,{id:t.id});var s=Y()(i,(function(e){return"@".concat(e.screen_name)}));return s.length>0?s.join(" ")+" ":""}({user:this.repliedUser,attentions:this.attentions},n)}var o=this.copyMessageScope&&t||"direct"===this.copyMessageScope?this.copyMessageScope:this.$store.state.users.currentUser.default_scope,r=this.$store.getters.mergedConfig,i=r.postContentType,s=r.sensitiveByDefault,a={spoilerText:this.subject||"",status:e,nsfw:!!s,files:[],poll:{},mediaDescriptions:{},visibility:o,contentType:i};if(this.statusId){var u=this.statusContentType||i;a={spoilerText:this.subject||"",status:this.statusText||"",nsfw:this.statusIsSensitive||!!s,files:this.statusFiles||[],poll:this.statusPoll||{},mediaDescriptions:this.statusMediaDescriptions||{},visibility:this.statusScope||o,contentType:u,quoting:!1}}return{randomSeed:(0,ne.Z)(),dropFiles:[],uploadingFiles:!1,error:null,posting:!1,highlighted:0,newStatus:a,caret:0,pollFormVisible:!1,showDropIcon:"hide",dropStopTimeout:null,preview:null,previewLoading:!1,emojiInputShown:!1,idempotencyKey:""}},computed:Be(Be({users:function(){return this.$store.state.users.users},userDefaultScope:function(){return this.$store.state.users.currentUser.default_scope},showAllScopes:function(){return!this.mergedConfig.minimalScopesMode},emojiUserSuggestor:function(){return(0,xe.ZP)({emoji:[].concat((0,Z.Z)(this.$store.getters.standardEmojiList),(0,Z.Z)(this.$store.state.instance.customEmoji)),store:this.$store})},emojiSuggestor:function(){return(0,xe.ZP)({emoji:[].concat((0,Z.Z)(this.$store.getters.standardEmojiList),(0,Z.Z)(this.$store.state.instance.customEmoji))})},emoji:function(){return this.$store.getters.standardEmojiList||[]},customEmoji:function(){return this.$store.state.instance.customEmoji||[]},statusLength:function(){return this.newStatus.status.length},spoilerTextLength:function(){return this.newStatus.spoilerText.length},statusLengthLimit:function(){return this.$store.state.instance.textlimit},hasStatusLengthLimit:function(){return this.statusLengthLimit>0},charactersLeft:function(){return this.statusLengthLimit-(this.statusLength+this.spoilerTextLength)},isOverLengthLimit:function(){return this.hasStatusLengthLimit&&this.charactersLeft<0},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},alwaysShowSubject:function(){return this.mergedConfig.alwaysShowSubjectInput},postFormats:function(){return this.$store.state.instance.postFormats||[]},safeDMEnabled:function(){return this.$store.state.instance.safeDM},pollsAvailable:function(){return this.$store.state.instance.pollsAvailable&&this.$store.state.instance.pollLimits.max_options>=2&&!0!==this.disablePolls},hideScopeNotice:function(){return this.disableNotice||this.$store.getters.mergedConfig.hideScopeNotice},pollContentError:function(){return this.pollFormVisible&&this.newStatus.poll&&this.newStatus.poll.error},showPreview:function(){return!this.disablePreview&&(!!this.preview||this.previewLoading)},emptyStatus:function(){return""===this.newStatus.status.trim()&&0===this.newStatus.files.length},uploadFileLimitReached:function(){return this.newStatus.files.length>=this.fileLimit},isEdit:function(){return void 0!==this.statusId&&""!==this.statusId.trim()},quotable:function(){if(!this.$store.state.instance.quotingAvailable)return!1;if(!this.replyTo)return!1;var e=this.$store.state.statuses.allStatusesObject[this.replyTo];return!!e&&("public"===e.visibility||"unlisted"===e.visibility||"local"===e.visibility||"private"===e.visibility&&e.user.id===this.$store.state.users.currentUser.id)}},(0,Pe.Se)(["mergedConfig"])),(0,Pe.rn)({mobileLayout:function(e){return e.interface.mobileLayout}})),watch:{newStatus:{deep:!0,handler:function(){this.statusChanged()}}},methods:{statusChanged:function(){this.autoPreview(),this.updateIdempotencyKey()},clearStatus:function(){var e=this,t=this.newStatus;this.newStatus={status:"",spoilerText:"",files:[],visibility:t.visibility,contentType:t.contentType,poll:{},mediaDescriptions:{},quoting:!1},this.pollFormVisible=!1,this.$refs.mediaUpload&&this.$refs.mediaUpload.clearFile(),this.clearPollForm(),this.preserveFocus&&this.$nextTick((function(){e.$refs.textarea.focus()}));var n=this.$el.querySelector("textarea");n.style.height="auto",n.style.height=void 0,this.error=null,this.preview&&this.previewStatus()},postStatus:function(e,t){var n=this;return(0,q.Z)(ee().mark((function o(){var r,i,s;return ee().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!n.posting||n.optimisticPosting){o.next=3;break}return o.abrupt("return");case 3:if(!n.disableSubmit){o.next=5;break}return o.abrupt("return");case 5:if(!n.emojiInputShown){o.next=7;break}return o.abrupt("return");case 7:if(n.submitOnEnter&&(e.stopPropagation(),e.preventDefault()),!n.optimisticPosting||!n.emptyStatus&&!n.isOverLengthLimit){o.next=10;break}return o.abrupt("return");case 10:if(!n.emptyStatus){o.next=13;break}return n.error=n.$t("post_status.empty_status_error"),o.abrupt("return");case 13:if(r=n.pollFormVisible?n.newStatus.poll:{},!n.pollContentError){o.next=17;break}return n.error=n.pollContentError,o.abrupt("return");case 17:return n.posting=!0,o.prev=18,o.next=21,n.setAllMediaDescriptions();case 21:o.next=28;break;case 23:return o.prev=23,o.t0=o.catch(18),n.error=n.$t("post_status.media_description_error"),n.posting=!1,o.abrupt("return");case 28:i=t.quoting?"quoteId":"inReplyToStatusId",s=(0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)({status:t.status,spoilerText:t.spoilerText||null,visibility:t.visibility,sensitive:t.nsfw,media:t.files,store:n.$store},i,n.replyTo),"contentType",t.contentType),"poll",r),"idempotencyKey",n.idempotencyKey),(n.postHandler?n.postHandler:te.Z.postStatus)(s).then((function(e){e.error?n.error=e.error:(n.clearStatus(),n.$emit("posted",e)),n.posting=!1}));case 32:case"end":return o.stop()}}),o,null,[[18,23]])})))()},previewStatus:function(){var e=this;if(this.emptyStatus&&""===this.newStatus.spoilerText.trim())return this.preview={error:this.$t("post_status.preview_empty")},void(this.previewLoading=!1);var t=this.newStatus;this.previewLoading=!0;var n=t.quoting?"quoteId":"inReplyToStatusId";te.Z.postStatus((0,N.Z)((0,N.Z)((0,N.Z)((0,N.Z)({status:t.status,spoilerText:t.spoilerText||null,visibility:t.visibility,sensitive:t.nsfw,media:[],store:this.$store},n,this.replyTo),"contentType",t.contentType),"poll",{}),"preview",!0)).then((function(t){e.previewLoading&&(t.error?e.preview={error:t.error}:e.preview=t)})).catch((function(t){e.preview={error:t}})).finally((function(){e.previewLoading=!1}))},debouncePreviewStatus:H()((function(){this.previewStatus()}),500),autoPreview:function(){this.preview&&(this.previewLoading=!0,this.debouncePreviewStatus())},closePreview:function(){this.preview=null,this.previewLoading=!1},togglePreview:function(){this.showPreview?this.closePreview():this.previewStatus()},addMediaFile:function(e){this.newStatus.files.push(e),this.$emit("resize",{delayed:!0})},removeMediaFile:function(e){var t=this.newStatus.files.indexOf(e);this.newStatus.files.splice(t,1),this.$emit("resize")},editAttachment:function(e,t){this.newStatus.mediaDescriptions[e.id]=t},shiftUpMediaFile:function(e){var t=this.newStatus.files,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n-1,0,e)},shiftDnMediaFile:function(e){var t=this.newStatus.files,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n+1,0,e)},uploadFailed:function(e,t){t=t||{},this.error=this.$t("upload.error.base")+" "+this.$t("upload.error."+e,t)},startedUploadingFiles:function(){this.uploadingFiles=!0},finishedUploadingFiles:function(){this.$emit("resize"),this.uploadingFiles=!1},type:function(e){return Oe.ZP.fileType(e.mimetype)},paste:function(e){this.autoPreview(),this.resize(e),e.clipboardData.files.length>0&&(e.preventDefault(),this.dropFiles=[e.clipboardData.files[0]])},fileDrop:function(e){e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),this.dropFiles=e.dataTransfer.files,clearTimeout(this.dropStopTimeout),this.showDropIcon="hide")},fileDragStop:function(e){var t=this;clearTimeout(this.dropStopTimeout),this.showDropIcon="fade",this.dropStopTimeout=setTimeout((function(){return t.showDropIcon="hide"}),500)},fileDrag:function(e){e.dataTransfer.dropEffect=this.uploadFileLimitReached?"none":"copy",e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(clearTimeout(this.dropStopTimeout),this.showDropIcon="show")},onEmojiInputInput:function(e){var t=this;this.$nextTick((function(){t.resize(t.$refs.textarea)}))},resize:function(e){var t=e.target||e;if(t instanceof window.Element){if(""===t.value)return t.style.height=null,void this.$emit("resize");var n=this.$refs.form,o=this.$refs.bottom,r=window.getComputedStyle(o)["padding-bottom"],i=$e(r),s=this.$el.closest(".column.-scrollable")||this.$el.closest(".post-form-modal-view")||window,a=window.getComputedStyle(t)["padding-top"],u=window.getComputedStyle(t)["padding-bottom"],c=$e(a)+$e(u),l=$e(t.style.height),d=s===window?s.scrollY:s.scrollTop,p=s===window?s.innerHeight:s.offsetHeight,m=d+p;t.style.height="auto";var h=Math.floor(t.scrollHeight-c),f=this.maxHeight?Math.min(h,this.maxHeight):h;Math.abs(f-l)<=1&&(f=l),t.style.height="".concat(f,"px"),this.$emit("resize",f);var g=o.offsetHeight+(0,Ee.y)(o,s).top+i,v=m<g,b=p<n.offsetHeight,w=g-m,y=!v||b&&this.$refs.textarea.selectionStart!==this.$refs.textarea.value.length?0:w,D=Math.round(d+y);s===window?s.scroll(0,D):s.scrollTop=D}},showEmojiPicker:function(){this.$refs.textarea.focus(),this.$refs["emoji-input"].triggerShowPicker()},clearError:function(){this.error=null},changeVis:function(e){this.newStatus.visibility=e},togglePollForm:function(){this.pollFormVisible=!this.pollFormVisible},setPoll:function(e){this.newStatus.poll=e},clearPollForm:function(){this.$refs.pollForm&&this.$refs.pollForm.clear()},dismissScopeNotice:function(){this.$store.dispatch("setOption",{name:"hideScopeNotice",value:!0})},setMediaDescription:function(e){var t=this.newStatus.mediaDescriptions[e];if(t&&""!==t.trim())return te.Z.setMediaDescription({store:this.$store,id:e,description:t})},setAllMediaDescriptions:function(){var e=this,t=this.newStatus.files.map((function(e){return e.id}));return Promise.all(t.map((function(t){return e.setMediaDescription(t)})))},handleEmojiInputShow:function(e){this.emojiInputShown=e},updateIdempotencyKey:function(){this.idempotencyKey=Date.now().toString()},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")},propsToNative:function(e){return(0,ze.X)(e)}}},Me=(0,Ce.Z)(Ue,[["render",function(e,t,n,q,N,Z){var W=(0,o.up)("i18n-t"),H=(0,o.up)("FAIcon"),V=(0,o.up)("StatusContent"),G=(0,o.up)("EmojiInput"),K=(0,o.up)("scope-selector"),Y=(0,o.up)("Select"),Q=(0,o.up)("poll-form"),J=(0,o.up)("media-upload"),X=(0,o.up)("gallery"),ee=(0,o.up)("Checkbox");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("form",{autocomplete:"off",onSubmit:t[27]||(t[27]=(0,r.iM)((function(){}),["prevent"])),onDragover:t[28]||(t[28]=(0,r.iM)((function(){return e.fileDrag&&e.fileDrag.apply(e,arguments)}),["prevent"]))},[(0,o._)("div",a,[e.$store.state.users.currentUser.locked||"private"!=e.newStatus.visibility||e.disableLockWarning?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(W,{key:0,keypath:"post_status.account_not_locked_warning",tag:"p",class:"visibility-notice",scope:"global"},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=function(){return e.openProfileTab&&e.openProfileTab.apply(e,arguments)})},(0,i.zw)(e.$t("post_status.account_not_locked_warning_link")),1)]})),_:1})),e.hideScopeNotice||"public"!==e.newStatus.visibility?e.hideScopeNotice||"unlisted"!==e.newStatus.visibility?!e.hideScopeNotice&&"private"===e.newStatus.visibility&&e.$store.state.users.currentUser.locked?((0,o.wg)(),(0,o.iD)("p",p,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.private")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[3]||(t[3]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(H,{icon:"times"})],8,m)])):"direct"===e.newStatus.visibility?((0,o.wg)(),(0,o.iD)("p",h,[e.safeDMEnabled?((0,o.wg)(),(0,o.iD)("span",f,(0,i.zw)(e.$t("post_status.direct_warning_to_first_only")),1)):((0,o.wg)(),(0,o.iD)("span",g,(0,i.zw)(e.$t("post_status.direct_warning_to_all")),1))])):(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",l,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.unlisted")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[2]||(t[2]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(H,{icon:"times"})],8,d)])):((0,o.wg)(),(0,o.iD)("p",u,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.public")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[1]||(t[1]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(H,{icon:"times"})],8,c)])),e.isEdit?((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("p",null,(0,i.zw)(e.$t("post_status.edit_remote_warning")),1),(0,o._)("p",null,(0,i.zw)(e.$t("post_status.edit_unsupported_warning")),1)])):(0,o.kq)("",!0),e.disablePreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("a",{class:"preview-toggle faint",onClick:t[4]||(t[4]=(0,r.iM)((function(){return e.togglePreview&&e.togglePreview.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Uk)((0,i.zw)(e.$t("post_status.preview"))+" ",1),(0,o.Wm)(H,{icon:e.showPreview?"chevron-left":"chevron-right"},null,8,["icon"])]),(0,o.wy)((0,o._)("div",w,[(0,o.Wm)(H,{class:"fa-old-padding",spin:"",icon:"circle-notch"})],512),[[r.F8,e.previewLoading]])])),e.showPreview?((0,o.wg)(),(0,o.iD)("div",y,[e.preview?e.preview.error?((0,o.wg)(),(0,o.iD)("div",_,(0,i.zw)(e.preview.error),1)):((0,o.wg)(),(0,o.j4)(V,{key:2,status:e.preview,class:"preview-status"},null,8,["status"])):((0,o.wg)(),(0,o.iD)("div",D,(0,i.zw)(e.$t("general.loading")),1))])):(0,o.kq)("",!0),e.quotable?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("button",{id:"reply-or-quote-option-".concat(e.randomSeed,"-reply"),class:(0,i.C_)(["btn button-default reply-or-quote-option",{toggled:!e.newStatus.quoting}]),tabindex:"0",role:"radio","aria-labelledby":"reply-or-quote-option-".concat(e.randomSeed,"-reply"),"aria-checked":!e.newStatus.quoting,onClick:t[5]||(t[5]=function(t){return e.newStatus.quoting=!1})},(0,i.zw)(e.$t("post_status.reply_option")),11,C),(0,o._)("button",{id:"reply-or-quote-option-".concat(e.randomSeed,"-quote"),class:(0,i.C_)(["btn button-default reply-or-quote-option",{toggled:e.newStatus.quoting}]),tabindex:"0",role:"radio","aria-labelledby":"reply-or-quote-option-".concat(e.randomSeed,"-quote"),"aria-checked":e.newStatus.quoting,onClick:t[6]||(t[6]=function(t){return e.newStatus.quoting=!0})},(0,i.zw)(e.$t("post_status.quote_option")),11,S)])):(0,o.kq)("",!0),e.disableSubject||!e.newStatus.spoilerText&&!e.alwaysShowSubject?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(G,{key:9,modelValue:e.newStatus.spoilerText,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.newStatus.spoilerText=t}),"enable-emoji-picker":"",suggest:e.emojiSuggestor,class:"input form-control"},{default:(0,o.w5)((function(n){return[(0,o.wy)((0,o._)("input",(0,o.dG)({"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.newStatus.spoilerText=t}),type:"text",placeholder:e.$t("post_status.content_warning"),disabled:e.posting&&!e.optimisticPosting},e.propsToNative(n),{size:"1",class:"input form-post-subject"}),null,16,j),[[r.nr,e.newStatus.spoilerText]])]})),_:1},8,["modelValue","suggest"])),(0,o.Wm)(G,{ref:"emoji-input",modelValue:e.newStatus.status,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.newStatus.status=t}),suggest:e.emojiUserSuggestor,placement:e.emojiPickerPlacement,class:"input form-control main-input","enable-emoji-picker":"","hide-emoji-button":"","newline-on-ctrl-enter":e.submitOnEnter,"enable-sticker-picker":"",onInput:e.onEmojiInputInput,onStickerUploaded:e.addMediaFile,onStickerUploadFailed:e.uploadFailed,onShown:e.handleEmojiInputShow},{default:(0,o.w5)((function(n){return[(0,o.wy)((0,o._)("textarea",(0,o.dG)({ref:"textarea","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.newStatus.status=t}),placeholder:e.placeholder||e.$t("post_status.default"),rows:"1",cols:"1",disabled:e.posting&&!e.optimisticPosting,class:["input form-post-body",{"scrollable-form":!!e.maxHeight}]},e.propsToNative(n),{onKeydown:[t[10]||(t[10]=(0,r.D2)((0,r.iM)((function(t){return e.submitOnEnter&&e.postStatus(t,e.newStatus)}),["exact"]),["enter"])),t[11]||(t[11]=(0,r.D2)((0,r.iM)((function(t){return e.postStatus(t,e.newStatus)}),["meta"]),["enter"])),t[12]||(t[12]=(0,r.D2)((0,r.iM)((function(t){return!e.submitOnEnter&&e.postStatus(t,e.newStatus)}),["ctrl"]),["enter"]))],onInput:t[13]||(t[13]=function(){return e.resize&&e.resize.apply(e,arguments)}),onCompositionupdate:t[14]||(t[14]=function(){return e.resize&&e.resize.apply(e,arguments)}),onPaste:t[15]||(t[15]=function(){return e.paste&&e.paste.apply(e,arguments)})}),null,16,F),[[r.nr,e.newStatus.status]]),e.hasStatusLengthLimit?((0,o.wg)(),(0,o.iD)("p",{key:0,class:(0,i.C_)(["character-counter faint",{error:e.isOverLengthLimit}])},(0,i.zw)(e.charactersLeft),3)):(0,o.kq)("",!0)]})),_:1},8,["modelValue","suggest","placement","newline-on-ctrl-enter","onInput","onStickerUploaded","onStickerUploadFailed","onShown"]),e.disableScopeSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",A,[e.disableVisibilitySelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(K,{key:0,"show-all":e.showAllScopes,"user-default":e.userDefaultScope,"original-scope":e.copyMessageScope,"initial-scope":e.newStatus.visibility,"on-scope-change":e.changeVis},null,8,["show-all","user-default","original-scope","initial-scope","on-scope-change"])),e.postFormats.length>1?((0,o.wg)(),(0,o.iD)("div",O,[(0,o.Wm)(Y,{id:"post-content-type",modelValue:e.newStatus.contentType,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.newStatus.contentType=t}),class:"input form-control",attrs:{"aria-label":e.$t("post_status.content_type_selection")}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.postFormats,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,i.zw)(e.$t('post_status.content_type["'.concat(t,'"]'))),9,E)})),128))]})),_:1},8,["modelValue","attrs"])])):(0,o.kq)("",!0),1===e.postFormats.length&&"text/plain"!==e.postFormats[0]?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("span",x,(0,i.zw)(e.$t('post_status.content_type["'.concat(e.postFormats[0],'"]'))),1)])):(0,o.kq)("",!0)]))]),e.pollsAvailable?((0,o.wg)(),(0,o.j4)(Q,{key:0,ref:"pollForm",visible:e.pollFormVisible,onUpdatePoll:e.setPoll},null,8,["visible","onUpdatePoll"])):(0,o.kq)("",!0),(0,o._)("div",P,[(0,o._)("div",I,[(0,o.Wm)(J,{ref:"mediaUpload",class:"media-upload-icon","drop-files":e.dropFiles,disabled:e.uploadFileLimitReached,onUploading:e.startedUploadingFiles,onUploaded:e.addMediaFile,onUploadFailed:e.uploadFailed,onAllUploaded:e.finishedUploadingFiles},null,8,["drop-files","disabled","onUploading","onUploaded","onUploadFailed","onAllUploaded"]),(0,o._)("button",{class:"emoji-icon button-unstyled",title:e.$t("emoji.add_emoji"),onClick:t[18]||(t[18]=function(){return e.showEmojiPicker&&e.showEmojiPicker.apply(e,arguments)})},[(0,o.Wm)(H,{icon:"smile-beam"})],8,T),e.pollsAvailable?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,i.C_)(["poll-icon button-unstyled",{selected:e.pollFormVisible}]),title:e.$t("polls.add_poll"),onClick:t[19]||(t[19]=function(){return e.togglePollForm&&e.togglePollForm.apply(e,arguments)})},[(0,o.Wm)(H,{icon:"poll-h"})],10,B)):(0,o.kq)("",!0)]),e.posting?((0,o.wg)(),(0,o.iD)("button",$,(0,i.zw)(e.$t("post_status.posting")),1)):e.isOverLengthLimit?((0,o.wg)(),(0,o.iD)("button",U,(0,i.zw)(e.$t("post_status.post")),1)):((0,o.wg)(),(0,o.iD)("button",{key:2,disabled:e.uploadingFiles||e.disableSubmit,class:"btn button-default",onClick:t[20]||(t[20]=(0,r.iM)((function(t){return e.postStatus(t,e.newStatus)}),["stop","prevent"]))},(0,i.zw)(e.$t("post_status.post")),9,M))],512),(0,o.wy)((0,o._)("div",{style:(0,i.j5)({animation:"show"===e.showDropIcon?"fade-in 0.25s":"fade-out 0.5s"}),class:"drop-indicator",onDragleave:t[21]||(t[21]=function(){return e.fileDragStop&&e.fileDragStop.apply(e,arguments)}),onDrop:t[22]||(t[22]=(0,r.iM)((function(){return e.fileDrop&&e.fileDrop.apply(e,arguments)}),["stop"]))},[(0,o.Wm)(H,{icon:e.uploadFileLimitReached?"ban":"upload"},null,8,["icon"])],36),[[r.F8,"hide"!==e.showDropIcon]]),e.error?((0,o.wg)(),(0,o.iD)("div",L,[(0,o.Uk)(" Error: "+(0,i.zw)(e.error)+" ",1),(0,o._)("button",{class:"button-unstyled",onClick:t[23]||(t[23]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,o.Wm)(H,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])):(0,o.kq)("",!0),e.newStatus.files&&e.newStatus.files.length>0?((0,o.wg)(),(0,o.j4)(X,{key:2,class:"attachments",grid:!0,nsfw:!1,attachments:e.newStatus.files,descriptions:e.newStatus.mediaDescriptions,"set-media":function(){return e.$store.dispatch("setMedia",e.newStatus.files)},editable:!0,"edit-attachment":e.editAttachment,"remove-attachment":e.removeMediaFile,"shift-up-attachment":e.newStatus.files.length>1&&e.shiftUpMediaFile,"shift-dn-attachment":e.newStatus.files.length>1&&e.shiftDnMediaFile,onPlay:t[24]||(t[24]=function(t){return e.$emit("mediaplay",e.attachment.id)}),onPause:t[25]||(t[25]=function(t){return e.$emit("mediapause",e.attachment.id)})},null,8,["attachments","descriptions","set-media","edit-attachment","remove-attachment","shift-up-attachment","shift-dn-attachment"])):(0,o.kq)("",!0),e.newStatus.files.length>0&&!e.disableSensitivityCheckbox?((0,o.wg)(),(0,o.iD)("div",R,[(0,o.Wm)(ee,{modelValue:e.newStatus.nsfw,"onUpdate:modelValue":t[26]||(t[26]=function(t){return e.newStatus.nsfw=t})},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,i.zw)(e.$t("post_status.attachments_sensitive")),1)]})),_:1},8,["modelValue"])])):(0,o.kq)("",!0)],32)],512)}]])},99507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=["disabled"];const i={props:{disabled:{type:Boolean},click:{type:Function,default:function(){return Promise.resolve()}}},data:function(){return{progress:!1}},methods:{onClick:function(){var e=this;this.progress=!0,this.click().then((function(){e.progress=!1}))}}},s=(0,n(83744).Z)(i,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("button",{disabled:s.progress||n.disabled,onClick:t[0]||(t[0]=function(){return a.onClick&&a.onClick.apply(a,arguments)})},[s.progress&&e.$slots.progress?(0,o.WI)(e.$slots,"progress",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})],8,r)}]])},72895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(66252),r=n(3577),i={class:"remote-follow"},s=["action"],a=["value"],u=(0,o._)("input",{type:"hidden",name:"profile",value:""},null,-1),c={click:"submit",class:"button-default remote-button"};const l={props:["user"],computed:{subscribeUrl:function(){var e=new URL(this.user.statusnet_profile_url);return"".concat(e.protocol,"//").concat(e.host,"/main/ostatus")}}},d=(0,n(83744).Z)(l,[["render",function(e,t,n,l,d,p){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("form",{method:"POST",action:e.subscribeUrl},[(0,o._)("input",{type:"hidden",name:"nickname",value:e.user.screen_name},null,8,a),u,(0,o._)("button",c,(0,r.zw)(e.$t("user_card.remote_follow")),1)],8,s)])}]])},9616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(66252),r=n(3577),i={key:0,class:"ScopeSelector"},s=["title"],a=["title"],u=["title"],c=["title"],l=n(9382),d=n(84131);l.vI.add(d.FU$,d.g4A,d.byT,d._1N);const p={props:["showAll","userDefault","originalScope","initialScope","onScopeChange"],data:function(){return{currentScope:this.initialScope}},computed:{showNothing:function(){return!(this.showPublic||this.showUnlisted||this.showPrivate||this.showDirect)},showPublic:function(){return"direct"!==this.originalScope&&this.shouldShow("public")},showUnlisted:function(){return"direct"!==this.originalScope&&this.shouldShow("unlisted")},showPrivate:function(){return"direct"!==this.originalScope&&this.shouldShow("private")},showDirect:function(){return this.shouldShow("direct")},css:function(){return{public:{toggled:"public"===this.currentScope},unlisted:{toggled:"unlisted"===this.currentScope},private:{toggled:"private"===this.currentScope},direct:{toggled:"direct"===this.currentScope}}}},methods:{shouldShow:function(e){return this.showAll||this.currentScope===e||this.originalScope===e||this.userDefault===e||"direct"===e},changeVis:function(e){this.currentScope=e,this.onScopeChange&&this.onScopeChange(e)}}},m=(0,n(83744).Z)(p,[["render",function(e,t,n,l,d,p){var m=(0,o.up)("FAIcon");return e.showNothing?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",i,[e.showDirect?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled scope",e.css.direct]),title:e.$t("post_status.scope.direct"),type:"button",onClick:t[0]||(t[0]=function(t){return e.changeVis("direct")})},[(0,o.Wm)(m,{icon:"envelope",class:"fa-scale-110 fa-old-padding"})],10,s)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showPrivate?((0,o.wg)(),(0,o.iD)("button",{key:1,class:(0,r.C_)(["button-unstyled scope",e.css.private]),title:e.$t("post_status.scope.private"),type:"button",onClick:t[1]||(t[1]=function(t){return e.changeVis("private")})},[(0,o.Wm)(m,{icon:"lock",class:"fa-scale-110 fa-old-padding"})],10,a)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showUnlisted?((0,o.wg)(),(0,o.iD)("button",{key:2,class:(0,r.C_)(["button-unstyled scope",e.css.unlisted]),title:e.$t("post_status.scope.unlisted"),type:"button",onClick:t[2]||(t[2]=function(t){return e.changeVis("unlisted")})},[(0,o.Wm)(m,{icon:"lock-open",class:"fa-scale-110 fa-old-padding"})],10,u)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showPublic?((0,o.wg)(),(0,o.iD)("button",{key:3,class:(0,r.C_)(["button-unstyled scope",e.css.public]),title:e.$t("post_status.scope.public"),type:"button",onClick:t[3]||(t[3]=function(t){return e.changeVis("public")})},[(0,o.Wm)(m,{icon:"globe",class:"fa-scale-110 fa-old-padding"})],10,c)):(0,o.kq)("",!0)]))}]])},32826:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(3577),i=["disabled","value"],s=n(9382),a=n(84131);s.vI.add(a.ptq);const u={emits:["update:modelValue"],props:["modelValue","disabled","unstyled","kind","attrs"]},c=(0,n(83744).Z)(u,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("label",{class:(0,r.C_)(["Select input",{disabled:e.disabled,unstyled:e.unstyled}])},[(0,o._)("select",(0,o.dG)({disabled:e.disabled,value:e.modelValue},e.attrs,{onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})}),[(0,o.WI)(e.$slots,"default")],16,i),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(c,{class:"select-down-icon",icon:"chevron-down"})],2)}]])},17521:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>un});var o=n(66252),r=n(3577),i=n(49963),s={key:0,class:"alert error"},a={key:1,class:"status-container muted"},u={class:"status-username"},c={key:0,class:"mute-thread"},l={key:1,class:"mute-thread"},d={key:2,class:"mute-thread"},p=["title"],m={key:0,class:"pin"},h={class:"faint"},f={class:"right-side faint"},g=["title"],v=["data-tags"],b={key:0,class:"left-side"},w=["href"],y={class:"right-side"},D={key:0,class:"status-heading"},_={class:"heading-name-row"},k={class:"heading-left"},C=["title"],S=["title"],j=["src"],F={class:"heading-right"},A=["title"],O=["title"],E=["title","aria-expanded"],z=["title"],x={key:0,class:"status-rich-presence"},P=["href"],I={class:"status-rich-presence-time"},T={key:1},B={class:"status-rich-presence-time"},$={key:1,class:"heading-reply-row"},U={key:0,class:"glued-label reply-glued-label"},M=["aria-label"],L={class:"reply-to-text"},R={key:1,class:"reply-to-no-popover"},q={class:"reply-to-text"},N={key:1,class:"glued-label"},Z=["aria-label"],W={class:"mentions-text"},H={key:2,class:"heading-edited-row"},V={key:1,class:"quoted-status"},G=["aria-expanded"],K={key:2,class:"quoted-status -unavailable-prompt"},Y=["href"],Q={key:3,class:"replies"},J=["title"],X={key:1,class:"faint"},ee=["onClick"],te={key:0,class:"favs-repeated-users"},ne={class:"stats"},oe={class:"stat-count"},re={class:"stat-title"},ie={class:"stat-number"},se={class:"stat-count"},ae={class:"stat-title"},ue={class:"stat-number"},ce={class:"stat-count"},le={class:"stat-title"},de={class:"stat-number"},pe={class:"avatar-row"},me={key:5,class:"status-actions"},he={key:3,class:"gravestone"},fe={class:"left-side"},ge={class:"right-side"},ve={class:"deleted-text"},be={key:4,class:"status-container reply-form"},we=n(4942),ye=n(45578),De=n.n(ye),_e=n(27955),ke=n.n(_e),Ce={class:"ReplyButton"},Se=["title"],je=["href","title"],Fe={key:2,class:"action-counter"},Ae=n(9382),Oe=n(84131);Ae.vI.add(Oe.Lh7,Oe.r8p,Oe.NBC);const Ee={name:"ReplyButton",props:["status","replying"],computed:{loggedIn:function(){return!!this.$store.state.users.currentUser},remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}}};var ze=n(83744);const xe=(0,ze.Z)(Ee,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon"),l=(0,o.up)("FALayers");return(0,o.wg)(),(0,o.iD)("div",Ce,[e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",{"-active":e.replying}]),title:e.$t("tool_tip.reply"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.$emit("toggle")}),["prevent"]))},[(0,o.Wm)(l,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:"reply"}),e.replying?((0,o.wg)(),(0,o.j4)(c,{key:1,class:"focus-marker",transform:"shrink-6 up-8 right-11",icon:"times"})):((0,o.wg)(),(0,o.j4)(c,{key:0,class:"focus-marker",transform:"shrink-6 up-8 right-11",icon:"plus"}))]})),_:1})],10,Se)):((0,o.wg)(),(0,o.iD)("a",{key:1,class:"button-unstyled interactive",target:"_blank",role:"button",href:e.remoteInteractionLink,title:e.$t("tool_tip.reply")},[(0,o.Wm)(l,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:"reply"}),e.replying?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"plus"}))]})),_:1})],8,je)),e.status.replies_count>0?((0,o.wg)(),(0,o.iD)("span",Fe,(0,r.zw)(e.status.replies_count),1)):(0,o.kq)("",!0)])}]]);var Pe={class:"FavoriteButton"},Ie=["title"],Te=["title","href"],Be={key:2,class:"action-counter"},$e=n(989),Ue=n(5737);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ae.vI.add(Oe.Tab,Ue.Tab,Oe.r8p,Oe.Kl4,Oe.LEp);const Re={props:["status","loggedIn"],data:function(){return{animated:!1}},methods:{favorite:function(){var e=this;this.status.favorited?this.$store.dispatch("unfavorite",{id:this.status.id}):this.$store.dispatch("favorite",{id:this.status.id}),this.animated=!0,setTimeout((function(){e.animated=!1}),500)}},computed:Le(Le({},(0,$e.Se)(["mergedConfig"])),{},{remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}})},qe=(0,ze.Z)(Re,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon"),l=(0,o.up)("FALayers");return(0,o.wg)(),(0,o.iD)("div",Pe,[e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",e.status.favorited&&"-favorited"]),title:e.$t("tool_tip.favorite"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.favorite()}),["prevent"]))},[(0,o.Wm)(l,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:[e.status.favorited?"fas":"far","star"],spin:e.animated},null,8,["icon","spin"]),e.status.favorited?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"active-marker",transform:"shrink-6 up-9 right-12",icon:"check"})):(0,o.kq)("",!0),e.status.favorited?((0,o.wg)(),(0,o.j4)(c,{key:2,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"minus"})):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"}))]})),_:1})],10,Ie)):((0,o.wg)(),(0,o.iD)("a",{key:1,class:"button-unstyled interactive",target:"_blank",role:"button",title:e.$t("tool_tip.favorite"),href:e.remoteInteractionLink},[(0,o.Wm)(l,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:["far","star"]}),(0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"})]})),_:1})],8,Te)),!e.mergedConfig.hidePostStats&&e.status.fave_num>0?((0,o.wg)(),(0,o.iD)("span",Be,(0,r.zw)(e.status.fave_num),1)):(0,o.kq)("",!0)])}]]);var Ne={class:"ReactButton"},Ze=["title"],We=n(67943),He=n(50296);Ae.vI.add(Oe.r8p,Oe.NBC,Ue.RKn);const Ve={props:["status"],data:function(){return{filterWord:"",expanded:!1}},components:{Popover:We.default,EmojiPicker:He.Z},methods:{addReaction:function(e){var t=e.insertion,n=this.status.emoji_reactions.find((function(e){return e.name===t}));n&&n.me?this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:t}):this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:t})},show:function(){this.expanded||this.$refs.picker.showPicker()},onShow:function(){this.expanded=!0},onClose:function(){this.expanded=!1}},computed:{hideCustomEmoji:function(){return!this.$store.state.instance.pleromaCustomEmojiReactionsAvailable}}},Ge=(0,ze.Z)(Ve,[["render",function(e,t,n,r,s,a){var u=(0,o.up)("EmojiPicker"),c=(0,o.up)("FAIcon"),l=(0,o.up)("FALayers");return(0,o.wg)(),(0,o.iD)("span",Ne,[(0,o.Wm)(u,{ref:"picker","enable-sticker-picker":e.enableStickerPicker,"hide-custom-emoji":e.hideCustomEmoji,class:"emoji-picker-panel",onEmoji:e.addReaction,onShow:e.onShow,onClose:e.onClose},null,8,["enable-sticker-picker","hide-custom-emoji","onEmoji","onShow","onClose"]),(0,o._)("span",{class:"button-unstyled popover-trigger",role:"button",tabindex:0,title:e.$t("tool_tip.add_reaction"),onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.show&&e.show.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Wm)(l,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110 fa-old-padding",icon:["far","smile-beam"]}),(0,o.wy)((0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-9 right-17",icon:"plus"},null,512),[[i.F8,!e.expanded]]),(0,o.wy)((0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-9 right-17",icon:"times"},null,512),[[i.F8,e.expanded]])]})),_:1})],8,Ze)])}]]);var Ke={class:"RetweetButton"},Ye=["title"],Qe={key:1},Je=["title","href"],Xe={key:3,class:"no-event"},et=n(1447);Ae.vI.add(Oe.x5v,Oe.r8p,Oe.Kl4,Oe.LEp);const tt={props:["status","loggedIn","visibility"],components:{ConfirmModal:et.Z},data:function(){return{animated:!1,showingConfirmDialog:!1}},methods:{retweet:function(){!this.status.repeated&&this.shouldConfirmRepeat?this.showConfirmDialog():this.doRetweet()},doRetweet:function(){var e=this;this.status.repeated?this.$store.dispatch("unretweet",{id:this.status.id}):this.$store.dispatch("retweet",{id:this.status.id}),this.animated=!0,setTimeout((function(){e.animated=!1}),500),this.hideConfirmDialog()},showConfirmDialog:function(){this.showingConfirmDialog=!0},hideConfirmDialog:function(){this.showingConfirmDialog=!1}},computed:{mergedConfig:function(){return this.$store.getters.mergedConfig},remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})},shouldConfirmRepeat:function(){return this.mergedConfig.modalOnRepeat}}},nt=(0,ze.Z)(tt,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon"),l=(0,o.up)("FALayers"),d=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",Ke,["private"!==e.visibility&&"direct"!==e.visibility&&e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",e.status.repeated&&"-repeated"]),title:e.$t("tool_tip.repeat"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.retweet()}),["prevent"]))},[(0,o.Wm)(l,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:"retweet",spin:e.animated},null,8,["spin"]),e.status.repeated?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"active-marker",transform:"shrink-6 up-9 right-12",icon:"check"})):(0,o.kq)("",!0),e.status.repeated?((0,o.wg)(),(0,o.j4)(c,{key:2,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"minus"})):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"}))]})),_:1})],10,Ye)):e.loggedIn?((0,o.wg)(),(0,o.iD)("span",Qe,[(0,o.Wm)(c,{class:"fa-scale-110 fa-old-padding",icon:"lock",title:e.$t("timeline.no_retweet_hint")},null,8,["title"])])):((0,o.wg)(),(0,o.iD)("a",{key:2,class:"button-unstyled interactive",target:"_blank",role:"button",title:e.$t("tool_tip.repeat"),href:e.remoteInteractionLink},[(0,o.Wm)(l,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:"retweet"}),(0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"})]})),_:1})],8,Je)),!e.mergedConfig.hidePostStats&&e.status.repeat_num>0?((0,o.wg)(),(0,o.iD)("span",Xe,(0,r.zw)(e.status.repeat_num),1)):(0,o.kq)("",!0),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmDialog?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("status.repeat_confirm_title"),"confirm-text":e.$t("status.repeat_confirm_accept_button"),"cancel-text":e.$t("status.repeat_confirm_cancel_button"),onAccepted:e.doRetweet,onCancelled:e.hideConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("status.repeat_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))])}]]);var ot=["id"],rt=["onClick"],it=["onClick"],st=["onClick"],at=["onClick"],ut=["onClick"],ct=["onClick"],lt=["onClick"],dt=["onClick"],pt=["href"],mt=["onClick"],ht={class:"button-unstyled popover-trigger"},ft=n(93433),gt=n(53599);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}Ae.vI.add(Oe.cNd,Oe.xVw,Ue.xVw,Oe.Aq,Oe.RP7,Oe.EfQ,Oe.Xjp,Ue.RrC,Oe.qO$,Oe.r8p,Oe.NBC);const bt={props:["status"],components:{Popover:We.default,ConfirmModal:et.Z},data:function(){return{expanded:!1,showingDeleteDialog:!1,randomSeed:(0,gt.Z)()}},methods:{onShow:function(){this.expanded=!0},onClose:function(){this.expanded=!1},deleteStatus:function(){this.shouldConfirmDelete?this.showDeleteStatusConfirmDialog():this.doDeleteStatus()},doDeleteStatus:function(){this.$store.dispatch("deleteStatus",{id:this.status.id}),this.hideDeleteStatusConfirmDialog()},showDeleteStatusConfirmDialog:function(){this.showingDeleteDialog=!0},hideDeleteStatusConfirmDialog:function(){this.showingDeleteDialog=!1},pinStatus:function(){var e=this;this.$store.dispatch("pinStatus",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unpinStatus:function(){var e=this;this.$store.dispatch("unpinStatus",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},muteConversation:function(){var e=this;this.$store.dispatch("muteConversation",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unmuteConversation:function(){var e=this;this.$store.dispatch("unmuteConversation",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},copyLink:function(){var e=this;navigator.clipboard.writeText(this.statusLink).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},bookmarkStatus:function(){var e=this;this.$store.dispatch("bookmark",{id:this.status.id}).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unbookmarkStatus:function(){var e=this;this.$store.dispatch("unbookmark",{id:this.status.id}).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},reportStatus:function(){this.$store.dispatch("openUserReportingModal",{userId:this.status.user.id,statusIds:[this.status.id]})},editStatus:function(){var e=this;this.$store.dispatch("fetchStatusSource",{id:this.status.id}).then((function(t){return e.$store.dispatch("openEditStatusModal",{statusId:e.status.id,subject:t.spoiler_text,statusText:t.text,statusIsSensitive:e.status.nsfw,statusPoll:e.status.poll,statusFiles:(0,ft.Z)(e.status.attachments),visibility:e.status.visibility,statusContentType:t.content_type})}))},showStatusHistory:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.status);["attachments","created_at","emojis","text","raw_html","nsfw","poll","summary","summary_raw_html"].forEach((function(t){return delete e[t]})),this.$store.dispatch("openStatusHistoryModal",e)}},computed:{currentUser:function(){return this.$store.state.users.currentUser},canDelete:function(){if(this.currentUser)return this.currentUser.privileges.includes("messages_delete")||this.status.user.id===this.currentUser.id},ownStatus:function(){return this.status.user.id===this.currentUser.id},canPin:function(){return this.ownStatus&&("public"===this.status.visibility||"unlisted"===this.status.visibility)},canMute:function(){return!!this.currentUser},canBookmark:function(){return!!this.currentUser},statusLink:function(){return"".concat(this.$store.state.instance.server).concat(this.$router.resolve({name:"conversation",params:{id:this.status.id}}).href)},isEdited:function(){return null!==this.status.edited_at},editingAvailable:function(){return this.$store.state.instance.editingAvailable},shouldConfirmDelete:function(){return this.$store.getters.mergedConfig.modalOnDelete},triggerAttrs:function(){return{title:this.$t("status.more_actions"),id:"popup-trigger-".concat(this.randomSeed),"aria-controls":"popup-menu-".concat(this.randomSeed),"aria-expanded":this.expanded,"aria-haspopup":"menu"}}}},wt=(0,ze.Z)(bt,[["render",function(e,t,n,s,a,u){var c=(0,o.up)("FAIcon"),l=(0,o.up)("FALayers"),d=(0,o.up)("ConfirmModal"),p=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(p,{class:"ExtraButtons",trigger:"click","trigger-attrs":e.triggerAttrs,placement:"top",offset:{y:5},"bound-to":{x:"container"},"remove-padding":"",onShow:e.onShow,onClose:e.onClose},{content:(0,o.w5)((function(n){var s=n.close;return[(0,o._)("div",{id:"popup-menu-".concat(e.randomSeed),class:"dropdown-menu",role:"menu"},[e.canMute&&!e.status.thread_muted?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.muteConversation&&e.muteConversation.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(c,{"fixed-width":"",icon:"eye-slash"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.mute_conversation")),1)])):(0,o.kq)("",!0),e.canMute&&e.status.thread_muted?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.unmuteConversation&&e.unmuteConversation.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(c,{"fixed-width":"",icon:"eye-slash"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unmute_conversation")),1)])):(0,o.kq)("",!0),!e.status.pinned&&e.canPin?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[2]||(t[2]=(0,i.iM)((function(){return e.pinStatus&&e.pinStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"thumbtack"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.pin")),1)],8,rt)):(0,o.kq)("",!0),e.status.pinned&&e.canPin?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[3]||(t[3]=(0,i.iM)((function(){return e.unpinStatus&&e.unpinStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"thumbtack"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unpin")),1)],8,it)):(0,o.kq)("",!0),e.canBookmark?((0,o.wg)(),(0,o.iD)(o.HY,{key:4},[e.status.bookmarked?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[4]||(t[4]=(0,i.iM)((function(){return e.bookmarkStatus&&e.bookmarkStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:["far","bookmark"]}),(0,o._)("span",null,(0,r.zw)(e.$t("status.bookmark")),1)],8,st)),e.status.bookmarked?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[5]||(t[5]=(0,i.iM)((function(){return e.unbookmarkStatus&&e.unbookmarkStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"bookmark"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unbookmark")),1)],8,at)):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),e.ownStatus&&e.editingAvailable?((0,o.wg)(),(0,o.iD)("button",{key:5,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[6]||(t[6]=(0,i.iM)((function(){return e.editStatus&&e.editStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"pen"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.edit")),1)],8,ut)):(0,o.kq)("",!0),e.isEdited&&e.editingAvailable?((0,o.wg)(),(0,o.iD)("button",{key:6,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[7]||(t[7]=(0,i.iM)((function(){return e.showStatusHistory&&e.showStatusHistory.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"history"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.status_history")),1)],8,ct)):(0,o.kq)("",!0),e.canDelete?((0,o.wg)(),(0,o.iD)("button",{key:7,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[8]||(t[8]=(0,i.iM)((function(){return e.deleteStatus&&e.deleteStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"times"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.delete")),1)],8,lt)):(0,o.kq)("",!0),(0,o._)("button",{class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[9]||(t[9]=(0,i.iM)((function(){return e.copyLink&&e.copyLink.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:"share-alt"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.copy_link")),1)],8,dt),e.status.is_local?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:8,class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",title:"Source",href:e.status.external_url,target:"_blank"},[(0,o.Wm)(c,{"fixed-width":"",icon:"external-link-alt"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.external_source")),1)],8,pt)),(0,o._)("button",{class:"menu-item dropdown-item dropdown-item-icon",role:"menuitem",onClick:[t[10]||(t[10]=(0,i.iM)((function(){return e.reportStatus&&e.reportStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(c,{"fixed-width":"",icon:["far","flag"]}),(0,o._)("span",null,(0,r.zw)(e.$t("user_card.report")),1)],8,mt)],8,ot)]})),trigger:(0,o.w5)((function(){return[(0,o._)("span",ht,[(0,o.Wm)(l,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{class:"fa-scale-110",icon:"ellipsis-h"}),(0,o.wy)((0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"plus"},null,512),[[i.F8,!e.expanded]]),(0,o.wy)((0,o.Wm)(c,{class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"times"},null,512),[[i.F8,e.expanded]])]})),_:1})]),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingDeleteDialog?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("status.delete_confirm_title"),"cancel-text":e.$t("status.delete_confirm_cancel_button"),"confirm-text":e.$t("status.delete_confirm_accept_button"),onCancelled:e.hideDeleteStatusConfirmDialog,onAccepted:e.doDeleteStatus},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("status.delete_confirm")),1)]})),_:1},8,["title","cancel-text","confirm-text","onCancelled","onAccepted"])):(0,o.kq)("",!0)]))]})),_:1},8,["trigger-attrs","onShow","onClose"])}]]);var yt=n(76791),Dt=n(98654),_t=n(93960),kt=n(1840),Ct=n(97415),St=n(92820),jt={key:1,class:"status-preview-no-content faint"},Ft={key:2,class:"status-preview-no-content"},At=n(13311),Ot=n.n(At);Ae.vI.add(Oe.IJ7);const Et={name:"StatusPopover",props:["statusId"],data:function(){return{error:!1}},computed:{status:function(){return Ot()(this.$store.state.statuses.allStatuses,{id:this.statusId})}},components:{Status:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,17521))})),Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,67943))}))},methods:{enter:function(){var e=this;if(!this.status){if(!this.statusId)return void(this.error=!0);this.$store.dispatch("fetchStatus",this.statusId).then((function(t){return e.error=!1})).catch((function(t){return e.error=!0}))}}},watch:{status:function(e,t){var n=this;e!==t&&this.$nextTick((function(){return n.$refs.popover.updateStyles()}))}}},zt=(0,ze.Z)(Et,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("Status"),c=(0,o.up)("FAIcon"),l=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(l,{ref:"popover",trigger:"hover","stay-on-click":!0,"popover-class":"popover-default status-popover","bound-to":{x:"container"},onShow:e.enter},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(){return[e.status?((0,o.wg)(),(0,o.j4)(u,{key:0,"is-preview":!0,statusoid:e.status,compact:!0},null,8,["statusoid"])):e.error?((0,o.wg)(),(0,o.iD)("div",jt,(0,r.zw)(e.$t("status.status_unavailable")),1)):((0,o.wg)(),(0,o.iD)("div",Ft,[(0,o.Wm)(c,{icon:"circle-notch",spin:"",size:"2x"})]))]})),_:3},8,["onShow"])}]]);var xt=n(70670),Pt={class:"user-list-popover"},It={class:"user-list-names"},Tt={class:"user-list-screen-name"},Bt=n(42262);Ae.vI.add(Oe.IJ7);const $t={name:"UserListPopover",props:["users"],components:{RichContent:St.Z,UnicodeDomainIndicator:Bt.Z,Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,67943))})),UserAvatar:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,98654))}))},computed:{usersCapped:function(){return this.users.slice(0,16)}}},Ut=(0,ze.Z)($t,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("UserAvatar"),c=(0,o.up)("RichContent"),l=(0,o.up)("UnicodeDomainIndicator"),d=(0,o.up)("FAIcon"),p=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(p,{trigger:"hover",placement:"top",offset:{y:5}},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(){return[(0,o._)("div",Pt,[e.users.length?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.usersCapped,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"user-list-row"},[(0,o.Wm)(u,{user:e,class:"avatar-small",compact:!0},null,8,["user"]),(0,o._)("div",It,[(0,o.Wm)(c,{class:"username",title:"@"+e.screen_name_ui,html:e.name_html,emoji:e.emoji},null,8,["title","html","emoji"]),(0,o._)("span",Tt,(0,r.zw)(e.screen_name_ui),1),(0,o.Wm)(l,{user:e},null,8,["user"])])])})),128)):((0,o.wg)(),(0,o.j4)(d,{key:1,icon:"circle-notch",spin:"",size:"3x"}))])]})),_:3})}]]);var Mt={class:"EmojiReactions"},Lt={class:"reaction-emoji"},Rt=["src"],qt={key:1,class:"reaction-emoji reaction-emoji-content"},Nt={class:"emoji-reaction-counts"},Zt=n(15861),Wt=n(64687),Ht=n.n(Wt);Ae.vI.add(Oe.r8p,Oe.Kl4,Oe.LEp);const Vt={name:"EmojiReactions",components:{UserAvatar:Dt.default,UserListPopover:Ut},props:["status"],data:function(){return{showAll:!1}},computed:{tooManyReactions:function(){return this.status.emoji_reactions.length>12},emojiReactions:function(){return this.showAll?this.status.emoji_reactions:this.status.emoji_reactions.slice(0,12)},showMoreString:function(){return"+".concat(this.status.emoji_reactions.length-12)},accountsForEmoji:function(){return this.status.emoji_reactions.reduce((function(e,t){return e[t.name]=t.accounts||[],e}),{})},loggedIn:function(){return!!this.$store.state.users.currentUser},remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}},methods:{toggleShowAll:function(){this.showAll=!this.showAll},reactedWith:function(e){return this.status.emoji_reactions.find((function(t){return t.name===e})).me},fetchEmojiReactionsByIfMissing:function(){var e=this;return(0,Zt.Z)(Ht().mark((function t(){return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.status.emoji_reactions.find((function(e){return!e.accounts}))){t.next=5;break}return t.next=4,e.$store.dispatch("fetchEmojiReactionsBy",e.status.id);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()},reactWith:function(e){this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:e})},unreact:function(e){this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:e})},emojiOnClick:function(e,t){var n=this;return(0,Zt.Z)(Ht().mark((function t(){return Ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.loggedIn){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.fetchEmojiReactionsByIfMissing();case 4:n.reactedWith(e)?n.unreact(e):n.reactWith(e);case 5:case"end":return t.stop()}}),t)})))()},counterTriggerAttrs:function(e){return{class:["btn","button-default","emoji-reaction-count-button",{"-picked-reaction":this.reactedWith(e.name)}],"aria-label":this.$tc("status.reaction_count_label",e.count,{num:e.count})}}}},Gt=(0,ze.Z)(Vt,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("FAIcon"),c=(0,o.up)("FALayers"),l=(0,o.up)("UserListPopover");return(0,o.wg)(),(0,o.iD)("div",Mt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.emojiReactions,(function(n){return(0,o.wg)(),(0,o.iD)("span",{key:n.url||n.name,class:"emoji-reaction-container btn-group"},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.loggedIn?"button":"a"),(0,o.dG)(e.loggedIn?{}:{href:e.remoteInteractionLink},{role:"button",class:["emoji-reaction btn button-default",{"-picked-reaction":e.reactedWith(n.name)}],title:n.url?n.name:void 0,"aria-pressed":e.reactedWith(n.name),onClick:function(t){return e.emojiOnClick(n.name,t)}}),{default:(0,o.w5)((function(){return[(0,o._)("span",Lt,[n.url?((0,o.wg)(),(0,o.iD)("img",{key:0,src:n.url,class:"reaction-emoji-content",width:"1em"},null,8,Rt)):((0,o.wg)(),(0,o.iD)("span",qt,(0,r.zw)(n.name),1))]),(0,o.Wm)(c,null,{default:(0,o.w5)((function(){return[e.reactedWith(n.name)?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"active-marker",transform:"shrink-6 up-9",icon:"check"})):(0,o.kq)("",!0),e.reactedWith(n.name)?((0,o.wg)(),(0,o.j4)(u,{key:2,class:"focus-marker",transform:"shrink-6 up-9",icon:"minus"})):((0,o.wg)(),(0,o.j4)(u,{key:1,class:"focus-marker",transform:"shrink-6 up-9",icon:"plus"}))]})),_:2},1024)]})),_:2},1040,["class","title","aria-pressed","onClick"])),(0,o.Wm)(l,{users:e.accountsForEmoji[n.name],class:"emoji-reaction-popover","trigger-attrs":e.counterTriggerAttrs(n),onShow:t[0]||(t[0]=function(t){return e.fetchEmojiReactionsByIfMissing()})},{default:(0,o.w5)((function(){return[(0,o._)("span",Nt,(0,r.zw)(n.count),1)]})),_:2},1032,["users","trigger-attrs"])])})),128)),e.tooManyReactions?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"emoji-reaction-expand faint",href:"javascript:void(0)",onClick:t[1]||(t[1]=function(){return e.toggleShowAll&&e.toggleShowAll.apply(e,arguments)})},(0,r.zw)(e.showAll?e.$t("general.show_less"):e.showMoreString),1)):(0,o.kq)("",!0)])}]]);var Kt=n(12061),Yt=n(45760),Qt=n(46091),Jt=n(4493),Xt=n(95052),en=n(67828);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ae.vI.add(Oe.FU$,Oe.g4A,Oe.byT,Oe._1N,Oe.NBC,Oe.x5v,Oe.Lh7,Oe.CPW,Oe.Tab,Oe.RKn,Oe.cNd,Oe.Aq,Oe.Mdf,Oe.RP7,Oe.mTx,Oe.ptq,Oe.cLY,Oe.zc);var on,rn=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sn=function(e,t,n){var o=rn(t),r="controlledSet".concat(o),i="uncontrolled".concat(o);e[r]?e[r](n):e[i]=n};const an={name:"Status",components:{ReplyButton:xe,FavoriteButton:qe,ReactButton:Ge,RetweetButton:nt,ExtraButtons:wt,PostStatusForm:yt.Z,UserAvatar:Dt.default,AvatarList:_t.Z,Timeago:kt.Z,StatusPopover:zt,UserListPopover:Ut,EmojiReactions:Gt,StatusContent:Ct.Z,RichContent:St.Z,MentionLink:Qt.Z,MentionsLine:Yt.Z,UserPopover:xt.default,UserLink:Kt.Z},props:["statusoid","expandable","inConversation","focused","highlight","compact","replies","isPreview","noHeading","inlineExpanded","showPinned","inProfile","profileUserId","inQuote","simpleTree","controlledThreadDisplayStatus","controlledToggleThreadDisplay","showOtherRepliesAsButton","controlledShowingTall","controlledToggleShowingTall","controlledExpandingSubject","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject","controlledReplying","controlledToggleReplying","controlledMediaPlaying","controlledSetMediaPlaying","dive"],emits:["interacted"],data:function(){return{uncontrolledReplying:!1,unmuted:!1,userExpanded:!1,uncontrolledMediaPlaying:[],suspendable:!0,error:null,headTailLinks:null,displayQuote:!this.inQuote}},computed:nn(nn({},(on=["replying","mediaPlaying"],on.reduce((function(e,t){var n=rn(t),o="controlledToggle".concat(n),r="controlled".concat(n),i="uncontrolled".concat(n);return e[t]=function(){return void 0===this.$data[o]&&void 0===this.$props[o]||!this[o]?this[i]:this[r]},e}),{}))),{},{muteWords:function(){return this.mergedConfig.muteWords},showReasonMutedThread:function(){return(this.status.thread_muted||this.status.reblog&&this.status.reblog.thread_muted)&&!this.inConversation},repeaterClass:function(){var e=this.statusoid.user;return(0,Xt.M)(e)},userClass:function(){var e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user;return(0,Xt.M)(e)},deleted:function(){return this.statusoid.deleted},repeaterStyle:function(){var e=this.statusoid.user,t=this.mergedConfig.highlight;return(0,Xt.q)(t[e.screen_name])},userStyle:function(){if(!this.noHeading){var e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user,t=this.mergedConfig.highlight;return(0,Xt.q)(t[e.screen_name])}},userProfileLink:function(){return this.generateUserProfileLink(this.status.user.id,this.status.user.screen_name)},replyProfileLink:function(){if(this.isReply){var e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e?e.statusnet_profile_url:"NOT_FOUND"}},retweet:function(){return!!this.statusoid.retweeted_status},retweeterUser:function(){return this.statusoid.user},retweeter:function(){return this.statusoid.user.name||this.statusoid.user.screen_name_ui},retweeterHtml:function(){return this.statusoid.user.name},retweeterProfileLink:function(){return this.generateUserProfileLink(this.statusoid.user.id,this.statusoid.user.screen_name)},status:function(){return this.retweet?this.statusoid.retweeted_status:this.statusoid},statusFromGlobalRepository:function(){return this.$store.state.statuses.allStatusesObject[this.status.id]},loggedIn:function(){return!!this.currentUser},muteWordHits:function(){return(0,en.u)(this.status,this.muteWords)},botStatus:function(){return"Service"===this.status.user.actor_type},showActorTypeIndicator:function(){return!this.hideBotIndication},sensitiveStatus:function(){return this.status.nsfw},mentionsLine:function(){var e=this;if(!this.headTailLinks)return[];var t=new Set(this.headTailLinks.writtenMentions.map((function(e){return e.url})));return this.status.attentions.filter((function(n){return n.id!==e.status.in_reply_to_user_id&&n.statusnet_profile_url!==e.status.user.statusnet_profile_url&&!t.has(n.statusnet_profile_url)})).map((function(e){return{url:e.statusnet_profile_url,content:e.screen_name,userId:e.id}}))},hasMentionsLine:function(){return this.mentionsLine.length>0},muted:function(){if(this.statusoid.user.id===this.currentUser.id)return!1;var e=this.userIsMuted||status.thread_muted||this.muteWordHits.length>0||this.muteBotStatuses&&this.botStatus&&!this.compact||this.muteSensitiveStatuses&&this.sensitiveStatus&&!this.compact;return!this.unmuted&&!this.shouldNotMute&&e},userIsMuted:function(){if(this.statusoid.user.id===this.currentUser.id)return!1;var e=this.status,t=e.reblog,n=this.$store.getters.relationship(e.user.id),o=t&&this.$store.getters.relationship(t.user.id);return e.muted||t&&t.muted||n.muting||o&&o.muting},shouldNotMute:function(){var e=this.status,t=e.reblog;return(this.inProfile&&(!t&&e.user.id===this.profileUserId||t&&t.user.id===this.profileUserId)||this.inConversation&&e.thread_muted)&&!this.muteWordHits.length>0},hideMutedUsers:function(){return this.mergedConfig.hideMutedPosts},hideMutedThreads:function(){return this.mergedConfig.hideMutedThreads},hideFilteredStatuses:function(){return this.mergedConfig.hideFilteredStatuses},hideWordFilteredPosts:function(){return this.mergedConfig.hideWordFilteredPosts},hideStatus:function(){return!this.shouldNotMute&&(this.muted&&this.hideFilteredStatuses||this.userIsMuted&&this.hideMutedUsers||this.status.thread_muted&&this.hideMutedThreads||this.muteWordHits.length>0&&this.hideWordFilteredPosts)},isFocused:function(){return!!this.focused||!!this.inConversation&&this.status.id===this.highlight},isReply:function(){return!(!this.status.in_reply_to_status_id||!this.status.in_reply_to_user_id)},replyToName:function(){if(this.status.in_reply_to_screen_name)return this.status.in_reply_to_screen_name;var e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e&&e.screen_name_ui},replySubject:function(){if(!this.status.summary)return"";var e=ke()(this.status.summary),t=this.mergedConfig.subjectLineBehavior,n=e.match(/^re[: ]/i);return"noop"!==t&&n||"masto"===t?e:"email"===t?"re: ".concat(e):"noop"===t?"":void 0},combinedFavsAndRepeatsUsers:function(){var e=[].concat(this.statusFromGlobalRepository.favoritedBy,this.statusFromGlobalRepository.rebloggedBy);return De()(e,"id")},tags:function(){return this.status.tags.filter((function(e){return e.hasOwnProperty("name")})).map((function(e){return e.name})).join(" ")},hidePostStats:function(){return this.mergedConfig.hidePostStats},shouldDisplayFavsAndRepeats:function(){return!this.hidePostStats&&this.isFocused&&(this.combinedFavsAndRepeatsUsers.length>0||this.statusFromGlobalRepository.quotes_count)},muteBotStatuses:function(){return this.mergedConfig.muteBotStatuses},muteSensitiveStatuses:function(){return this.mergedConfig.muteSensitiveStatuses},hideBotIndication:function(){return this.mergedConfig.hideBotIndication},currentUser:function(){return this.$store.state.users.currentUser},betterShadow:function(){return this.$store.state.interface.browserSupport.cssFilter},mergedConfig:function(){return this.$store.getters.mergedConfig},isSuspendable:function(){return!this.replying&&0===this.mediaPlaying.length},inThreadForest:function(){return!!this.controlledThreadDisplayStatus},threadShowing:function(){return"showing"===this.controlledThreadDisplayStatus},visibilityLocalized:function(){return this.$i18n.t("general.scope_in_timeline."+this.status.visibility)},isEdited:function(){return null!==this.status.edited_at},editingAvailable:function(){return this.$store.state.instance.editingAvailable},hasVisibleQuote:function(){return this.status.quote_url&&this.status.quote_visible},hasInvisibleQuote:function(){return this.status.quote_url&&!this.status.quote_visible},quotedStatus:function(){return this.status.quote_id?this.$store.state.statuses.allStatusesObject[this.status.quote_id]:void 0},shouldDisplayQuote:function(){return this.quotedStatus&&this.displayQuote},scrobblePresent:function(){if(this.mergedConfig.hideScrobbles)return!1;if(!this.status.user.latestScrobble)return!1;var e=this.mergedConfig.hideScrobblesAfter.match(/\d+/g)[0],t=6e4;switch(this.mergedConfig.hideScrobblesAfter.match(/\D+/g)[0]){case"m":break;case"h":t*=60;break;case"d":t*=60,t*=24}var n=Number(e)*t,o=Date.parse(this.status.user.latestScrobble.created_at);return!(Date.now()-o>n)&&this.status.user.latestScrobble.artist},scrobble:function(){return this.status.user.latestScrobble}}),methods:{visibilityIcon:function(e){switch(e){case"private":return"lock";case"unlisted":return"lock-open";case"direct":return"envelope";default:return"globe"}},showError:function(e){this.error=e},clearError:function(){this.$emit("interacted"),this.error=void 0},toggleReplying:function(){var e,t,n,o;this.$emit("interacted"),e=this,t=rn("replying"),n="controlledToggle".concat(t),o="uncontrolled".concat(t),e[n]?e[n]():e[o]=!e[o]},gotoOriginal:function(e){this.inConversation&&this.$emit("goto",e)},toggleExpanded:function(){this.$emit("toggleExpanded")},toggleMute:function(){this.unmuted=!this.unmuted},toggleUserExpanded:function(){this.userExpanded=!this.userExpanded},generateUserProfileLink:function(e,t){return(0,Jt.Z)(e,t,this.$store.state.instance.restrictedNicknames)},addMediaPlaying:function(e){sn(this,"mediaPlaying",this.mediaPlaying.concat(e))},removeMediaPlaying:function(e){sn(this,"mediaPlaying",this.mediaPlaying.filter((function(t){return t!==e})))},setHeadTailLinks:function(e){this.headTailLinks=e},toggleThreadDisplay:function(){this.controlledToggleThreadDisplay()},scrollIfHighlighted:function(e){var t=e;if(this.status.id===t){var n=this.$el.getBoundingClientRect();n.top<100||n.height>=window.innerHeight-50?window.scrollBy(0,n.top-100):n.bottom>window.innerHeight-50&&window.scrollBy(0,n.bottom-window.innerHeight+50)}},toggleDisplayQuote:function(){var e=this;this.shouldDisplayQuote?this.displayQuote=!1:this.quotedStatus?this.displayQuote=!0:this.$store.dispatch("fetchStatus",this.status.quote_id).then((function(){e.displayQuote=!0}))}},watch:{highlight:function(e){this.scrollIfHighlighted(e)},"status.repeat_num":function(e){this.isFocused&&this.statusFromGlobalRepository.rebloggedBy&&this.statusFromGlobalRepository.rebloggedBy.length!==e&&this.$store.dispatch("fetchRepeats",this.status.id)},"status.fave_num":function(e){this.isFocused&&this.statusFromGlobalRepository.favoritedBy&&this.statusFromGlobalRepository.favoritedBy.length!==e&&this.$store.dispatch("fetchFavs",this.status.id)},isSuspendable:function(e){this.suspendable=e}}},un=(0,ze.Z)(an,[["render",function(e,t,n,we,ye,De){var _e=(0,o.up)("FAIcon"),ke=(0,o.up)("user-link"),Ce=(0,o.up)("UserAvatar"),Se=(0,o.up)("RichContent"),je=(0,o.up)("router-link"),Fe=(0,o.up)("UserPopover"),Ae=(0,o.up)("Timeago"),Oe=(0,o.up)("StatusPopover"),Ee=(0,o.up)("MentionLink"),ze=(0,o.up)("MentionsLine"),xe=(0,o.up)("i18n-t"),Pe=(0,o.up)("StatusContent"),Ie=(0,o.up)("Status",!0),Te=(0,o.up)("UserListPopover"),Be=(0,o.up)("AvatarList"),$e=(0,o.up)("EmojiReactions"),Ue=(0,o.up)("reply-button"),Me=(0,o.up)("retweet-button"),Le=(0,o.up)("favorite-button"),Re=(0,o.up)("ReactButton"),qe=(0,o.up)("extra-buttons"),Ne=(0,o.up)("PostStatusForm");return e.hideStatus?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,ref:"root",class:(0,r.C_)(["Status",[{"-focused":e.isFocused},{"-conversation":e.inlineExpanded}]])},[e.error?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Uk)((0,r.zw)(e.error)+" ",1),(0,o._)("span",{class:"fa-scale-110 fa-old-padding",onClick:t[0]||(t[0]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,o.Wm)(_e,{icon:"times"})])])):(0,o.kq)("",!0),e.muted&&!e.isPreview?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("small",u,[e.muted&&e.retweet?((0,o.wg)(),(0,o.j4)(_e,{key:0,class:"fa-scale-110 fa-old-padding repeat-icon",icon:"retweet"})):(0,o.kq)("",!0),(0,o.Wm)(ke,{user:e.status.user,at:!1},null,8,["user"])]),e.muteSensitiveStatuses&&e.status.nsfw?((0,o.wg)(),(0,o.iD)("small",c,(0,r.zw)(e.$t("status.sensitive_muted")),1)):(0,o.kq)("",!0),e.showReasonMutedThread?((0,o.wg)(),(0,o.iD)("small",l,(0,r.zw)(e.$t("status.thread_muted")),1)):(0,o.kq)("",!0),e.showReasonMutedThread&&e.muteWordHits.length>0?((0,o.wg)(),(0,o.iD)("small",d,(0,r.zw)(e.$t("status.thread_muted_and_words")),1)):(0,o.kq)("",!0),(0,o._)("small",{class:"mute-words",title:e.muteWordHits.join(", ")},(0,r.zw)(e.muteWordHits.join(", ")),9,p),(0,o._)("button",{class:"unmute button-unstyled",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_e,{icon:"eye-slash",class:"fa-scale-110 fa-old-padding"})])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[e.showPinned?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(_e,{icon:"thumbtack",class:"faint"}),(0,o._)("span",h,(0,r.zw)(e.$t("status.pinned")),1)])):(0,o.kq)("",!0),!e.retweet||e.noHeading||e.inConversation?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)([[e.repeaterClass,{highlighted:e.repeaterStyle}],"status-container repeat-info"]),style:(0,r.j5)([e.repeaterStyle])},[e.retweet?((0,o.wg)(),(0,o.j4)(Ce,{key:0,class:"left-side repeater-avatar","show-actor-type-indicator":e.showActorTypeIndicator,"better-shadow":e.betterShadow,user:e.statusoid.user},null,8,["show-actor-type-indicator","better-shadow","user"])):(0,o.kq)("",!0),(0,o._)("div",f,[(0,o._)("bdi",{class:"status-username repeater-name",title:e.retweeter},[e.retweeterHtml?((0,o.wg)(),(0,o.j4)(je,{key:0,to:e.retweeterProfileLink},{default:(0,o.w5)((function(){return[(0,o.Wm)(Se,{html:e.retweeterHtml,emoji:e.retweeterUser.emoji},null,8,["html","emoji"])]})),_:1},8,["to"])):((0,o.wg)(),(0,o.j4)(je,{key:1,to:e.retweeterProfileLink},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.retweeter),1)]})),_:1},8,["to"]))],8,g),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(_e,{icon:"retweet",class:"repeat-icon",title:e.$t("tool_tip.repeat")},null,8,["title"]),(0,o.Uk)(" "+(0,r.zw)(e.$t("timeline.repeated")),1)])],6)),e.deleted?((0,o.wg)(),(0,o.iD)("div",he,[(0,o._)("div",fe,[(0,o.Wm)(Ce,{class:"post-avatar",compact:e.compact,"show-actor-type-indicator":e.showActorTypeIndicator},null,8,["compact","show-actor-type-indicator"])]),(0,o._)("div",ge,[(0,o._)("div",ve,(0,r.zw)(e.$t("status.status_deleted")),1),e.replying?((0,o.wg)(),(0,o.j4)(Ue,{key:0,replying:e.replying,status:e.status,onToggle:e.toggleReplying},null,8,["replying","status","onToggle"])):(0,o.kq)("",!0)])])):((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,r.C_)([[e.userClass,{highlighted:e.userStyle,"-repeat":e.retweet&&!e.inConversation}],"status-container"]),style:(0,r.j5)([e.userStyle]),"data-tags":e.tags},[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("a",{href:e.$router.resolve(e.userProfileLink).href,onClick:t[2]||(t[2]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)(Fe,{"user-id":e.status.user.id,"overlay-centers":!0},{default:(0,o.w5)((function(){return[(0,o.Wm)(Ce,{class:"post-avatar","show-actor-type-indicator":e.showActorTypeIndicator,compact:e.compact,"better-shadow":e.betterShadow,user:e.status.user},null,8,["show-actor-type-indicator","compact","better-shadow","user"])]})),_:1},8,["user-id"])],8,w)])),(0,o._)("div",y,[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("div",_,[(0,o._)("div",k,[e.status.user.name_html?((0,o.wg)(),(0,o.iD)("h4",{key:0,class:"status-username",title:e.status.user.name},[(0,o.Wm)(Se,{html:e.status.user.name,emoji:e.status.user.emoji},null,8,["html","emoji"])],8,C)):((0,o.wg)(),(0,o.iD)("h4",{key:1,class:"status-username",title:e.status.user.name},(0,r.zw)(e.status.user.name),9,S)),(0,o.Wm)(ke,{class:"account-name",title:e.status.user.screen_name_ui,user:e.status.user,at:!1},null,8,["title","user"]),e.status.user&&e.status.user.favicon?((0,o.wg)(),(0,o.iD)("img",{key:2,class:"status-favicon",src:e.status.user.favicon},null,8,j)):(0,o.kq)("",!0)]),(0,o._)("span",F,[(0,o.Wm)(je,{class:"timeago faint",to:{name:"conversation",params:{id:e.status.id}}},{default:(0,o.w5)((function(){return[(0,o.Wm)(Ae,{time:e.status.created_at,"auto-update":60},null,8,["time"])]})),_:1},8,["to"]),e.status.visibility?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"visibility-icon",title:e.visibilityLocalized},[(0,o.Wm)(_e,{"fixed-width":"",class:"fa-scale-110",icon:e.visibilityIcon(e.status.visibility)},null,8,["icon"])],8,A)):(0,o.kq)("",!0),e.expandable&&!e.isPreview?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled",title:e.$t("status.expand"),onClick:t[3]||(t[3]=(0,i.iM)((function(){return e.toggleExpanded&&e.toggleExpanded.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_e,{"fixed-width":"",class:"fa-scale-110",icon:"plus-square"})],8,O)):(0,o.kq)("",!0),e.unmuted?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled",onClick:t[4]||(t[4]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_e,{"fixed-width":"",icon:"eye-slash",class:"fa-scale-110"})])):(0,o.kq)("",!0),e.inThreadForest&&e.replies&&e.replies.length&&!e.simpleTree?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"button-unstyled",title:e.threadShowing?e.$t("status.thread_hide"):e.$t("status.thread_show"),"aria-expanded":e.threadShowing?"true":"false",onClick:t[5]||(t[5]=(0,i.iM)((function(){return e.toggleThreadDisplay&&e.toggleThreadDisplay.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_e,{"fixed-width":"",class:"fa-scale-110",icon:e.threadShowing?"chevron-up":"chevron-down"},null,8,["icon"])],8,E)):(0,o.kq)("",!0),e.dive&&!e.simpleTree?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled",title:e.$t("status.show_only_conversation_under_this"),onClick:t[6]||(t[6]=(0,i.iM)((function(){return e.dive&&e.dive.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_e,{"fixed-width":"",class:"fa-scale-110",icon:"angle-double-right"})],8,z)):(0,o.kq)("",!0)])]),e.scrobblePresent?((0,o.wg)(),(0,o.iD)("div",x,[e.scrobble.externalLink?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e.scrobble.externalLink,target:"_blank"},[(0,o.Uk)((0,r.zw)(e.scrobble.artist)+" — "+(0,r.zw)(e.scrobble.title)+" ",1),(0,o.Wm)(_e,{class:"fa-scale-110 fa-old-padding",icon:"play"}),(0,o._)("span",I,[(0,o.Wm)(Ae,{"template-key":"time.in_past",time:e.scrobble.created_at,"auto-update":60},null,8,["time"])])],8,P)):(0,o.kq)("",!0),e.scrobble.externalLink?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",T,[(0,o.Wm)(_e,{class:"fa-scale-110 fa-old-padding",icon:"music"}),(0,o.Uk)(" "+(0,r.zw)(e.scrobble.artist)+" — "+(0,r.zw)(e.scrobble.title)+" ",1),(0,o.Wm)(_e,{class:"fa-scale-110 fa-old-padding",icon:"play"}),(0,o._)("span",B,[(0,o.Wm)(Ae,{"template-key":"time.in_past",time:e.scrobble.created_at,"auto-update":60},null,8,["time"])])]))])):(0,o.kq)("",!0),e.isReply||e.hasMentionsLine?((0,o.wg)(),(0,o.iD)("div",$,[e.isReply?((0,o.wg)(),(0,o.iD)("span",U,[e.isPreview?((0,o.wg)(),(0,o.iD)("span",R,[(0,o._)("span",q,(0,r.zw)(e.$t("status.reply_to")),1)])):((0,o.wg)(),(0,o.j4)(Oe,{key:0,"status-id":e.status.parent_visible&&e.status.in_reply_to_status_id,class:(0,r.C_)(["reply-to-popover",{"-strikethrough":!e.status.parent_visible}]),style:{"min-width":"0"}},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled reply-to","aria-label":e.$t("tool_tip.reply"),onClick:t[7]||(t[7]=(0,i.iM)((function(t){return e.gotoOriginal(e.status.in_reply_to_status_id)}),["prevent"]))},[(0,o.Wm)(_e,{class:"fa-scale-110 fa-old-padding",icon:"reply",flip:"horizontal"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("span",L,(0,r.zw)(e.$t("status.reply_to")),1)],8,M)]})),_:1},8,["status-id","class"])),(0,o.Wm)(Ee,{content:e.replyToName,url:e.replyProfileLink,"user-id":e.status.in_reply_to_user_id,"user-screen-name":e.status.in_reply_to_screen_name},null,8,["content","url","user-id","user-screen-name"])])):(0,o.kq)("",!0),e.hasMentionsLine?((0,o.wg)(),(0,o.iD)("span",N,[(0,o._)("span",{class:"mentions","aria-label":e.$t("tool_tip.mentions"),onClick:t[8]||(t[8]=(0,i.iM)((function(t){return e.gotoOriginal(e.status.in_reply_to_status_id)}),["prevent"]))},[(0,o._)("span",W,(0,r.zw)(e.$t("status.mentions")),1)],8,Z),e.hasMentionsLine?((0,o.wg)(),(0,o.j4)(ze,{key:0,mentions:e.mentionsLine.slice(0,1),class:"mentions-line-first"},null,8,["mentions"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.hasMentionsLine?((0,o.wg)(),(0,o.j4)(ze,{key:2,mentions:e.mentionsLine.slice(1),class:"mentions-line"},null,8,["mentions"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.isEdited&&e.editingAvailable&&!e.isPreview?((0,o.wg)(),(0,o.iD)("div",H,[(0,o.Wm)(xe,{keypath:"status.edited_at",tag:"span"},{time:(0,o.w5)((function(){return[(0,o.Wm)(Ae,{"template-key":"time.in_past",time:e.status.edited_at,"auto-update":60,"long-format":!0},null,8,["time"])]})),_:1})])):(0,o.kq)("",!0)])),(0,o.Wm)(Pe,{ref:"content",status:e.status,"no-heading":e.noHeading,highlight:e.highlight,focused:e.isFocused,"controlled-showing-tall":e.controlledShowingTall,"controlled-expanding-subject":e.controlledExpandingSubject,"controlled-showing-long-subject":e.controlledShowingLongSubject,"controlled-toggle-showing-tall":e.controlledToggleShowingTall,"controlled-toggle-expanding-subject":e.controlledToggleExpandingSubject,"controlled-toggle-showing-long-subject":e.controlledToggleShowingLongSubject,onMediaplay:t[9]||(t[9]=function(t){return e.addMediaPlaying(t)}),onMediapause:t[10]||(t[10]=function(t){return e.removeMediaPlaying(t)}),onParseReady:e.setHeadTailLinks},null,8,["status","no-heading","highlight","focused","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","onParseReady"]),e.hasVisibleQuote?((0,o.wg)(),(0,o.iD)("article",V,[(0,o._)("button",{class:"button-unstyled -link display-quoted-status-button","aria-expanded":e.shouldDisplayQuote,onClick:t[11]||(t[11]=function(){return e.toggleDisplayQuote&&e.toggleDisplayQuote.apply(e,arguments)})},[(0,o.Uk)((0,r.zw)(e.shouldDisplayQuote?e.$t("status.hide_quote"):e.$t("status.display_quote"))+" ",1),(0,o.Wm)(_e,{class:"display-quoted-status-button-icon",icon:e.shouldDisplayQuote?"chevron-up":"chevron-down"},null,8,["icon"])],8,G),e.shouldDisplayQuote?((0,o.wg)(),(0,o.j4)(Ie,{key:0,statusoid:e.quotedStatus,"in-quote":!0},null,8,["statusoid"])):(0,o.kq)("",!0)])):e.hasInvisibleQuote?((0,o.wg)(),(0,o.iD)("p",K,[(0,o.Wm)(xe,{keypath:"status.invisible_quote"},{link:(0,o.w5)((function(){return[(0,o._)("bdi",null,[(0,o._)("a",{href:e.status.quote_url,target:"_blank"},(0,r.zw)(e.status.quote_url),9,Y)])]})),_:1})])):(0,o.kq)("",!0),e.inConversation&&!e.isPreview&&e.replies&&e.replies.length?((0,o.wg)(),(0,o.iD)("div",Q,[e.showOtherRepliesAsButton&&e.replies.length>1?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled -link",title:e.$tc("status.ancestor_follow",e.replies.length-1,{numReplies:e.replies.length-1}),onClick:t[12]||(t[12]=(0,i.iM)((function(){return e.dive&&e.dive.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$tc("status.replies_list_with_others",e.replies.length-1,{numReplies:e.replies.length-1})),9,J)):((0,o.wg)(),(0,o.iD)("span",X,(0,r.zw)(e.$t("status.replies_list")),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.replies,(function(t){return(0,o.wg)(),(0,o.j4)(Oe,{key:t.id,"status-id":t.id},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link reply-link",onClick:(0,i.iM)((function(n){return e.gotoOriginal(t.id)}),["prevent"])},(0,r.zw)(t.name),9,ee)]})),_:2},1032,["status-id"])})),128))])):(0,o.kq)("",!0),(0,o.Wm)(i.uT,{name:"fade"},{default:(0,o.w5)((function(){return[e.shouldDisplayFavsAndRepeats?((0,o.wg)(),(0,o.iD)("div",te,[(0,o._)("div",ne,[e.statusFromGlobalRepository.rebloggedBy&&e.statusFromGlobalRepository.rebloggedBy.length>0?((0,o.wg)(),(0,o.j4)(Te,{key:0,users:e.statusFromGlobalRepository.rebloggedBy},{default:(0,o.w5)((function(){return[(0,o._)("div",oe,[(0,o._)("a",re,(0,r.zw)(e.$t("status.repeats")),1),(0,o._)("div",ie,(0,r.zw)(e.statusFromGlobalRepository.rebloggedBy.length),1)])]})),_:1},8,["users"])):(0,o.kq)("",!0),e.statusFromGlobalRepository.favoritedBy&&e.statusFromGlobalRepository.favoritedBy.length>0?((0,o.wg)(),(0,o.j4)(Te,{key:1,users:e.statusFromGlobalRepository.favoritedBy},{default:(0,o.w5)((function(){return[(0,o._)("div",se,[(0,o._)("a",ae,(0,r.zw)(e.$t("status.favorites")),1),(0,o._)("div",ue,(0,r.zw)(e.statusFromGlobalRepository.favoritedBy.length),1)])]})),_:1},8,["users"])):(0,o.kq)("",!0),e.statusFromGlobalRepository.quotes_count>0?((0,o.wg)(),(0,o.j4)(je,{key:2,to:{name:"quotes",params:{id:e.status.id}}},{default:(0,o.w5)((function(){return[(0,o._)("div",ce,[(0,o._)("a",le,(0,r.zw)(e.$t("status.quotes")),1),(0,o._)("div",de,(0,r.zw)(e.statusFromGlobalRepository.quotes_count),1)])]})),_:1},8,["to"])):(0,o.kq)("",!0),(0,o._)("div",pe,[(0,o.Wm)(Be,{users:e.combinedFavsAndRepeatsUsers},null,8,["users"])])])])):(0,o.kq)("",!0)]})),_:1}),!e.mergedConfig.emojiReactionsOnTimeline&&!e.isFocused||e.noHeading||e.isPreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)($e,{key:4,status:e.status},null,8,["status"])),e.noHeading||e.isPreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",me,[(0,o.Wm)(Ue,{replying:e.replying,status:e.status,onToggle:e.toggleReplying},null,8,["replying","status","onToggle"]),(0,o.Wm)(Me,{visibility:e.status.visibility,"logged-in":e.loggedIn,status:e.status,onClick:t[13]||(t[13]=function(t){return e.$emit("interacted")})},null,8,["visibility","logged-in","status"]),(0,o.Wm)(Le,{"logged-in":e.loggedIn,status:e.status,onClick:t[14]||(t[14]=function(t){return e.$emit("interacted")})},null,8,["logged-in","status"]),e.loggedIn?((0,o.wg)(),(0,o.j4)(Re,{key:0,status:e.status,onClick:t[15]||(t[15]=function(t){return e.$emit("interacted")})},null,8,["status"])):(0,o.kq)("",!0),(0,o.Wm)(qe,{status:e.status,onOnError:e.showError,onOnSuccess:e.clearError},null,8,["status","onOnError","onOnSuccess"])]))])],14,v)),e.replying?((0,o.wg)(),(0,o.iD)("div",be,[(0,o.Wm)(Ne,{class:"reply-body","reply-to":e.status.id,attentions:e.status.attentions,"replied-user":e.status.user,"copy-message-scope":e.status.visibility,subject:e.replySubject,onPosted:e.toggleReplying},null,8,["reply-to","attentions","replied-user","copy-message-scope","subject","onPosted"])])):(0,o.kq)("",!0)],64))],2))}]])},97415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var o=n(66252),r=n(3577),i={key:0},s={key:1},a={key:3,class:"link-preview media-body"},u=n(4942),c=n(88230),l=["role"],d=["title"],p={class:"option-result-label"},m={class:"result-percentage"},h=["role","aria-labelledby","aria-checked","onClick"],f=["disabled","value"],g=["disabled","value"],v={class:"option-vote"},b={class:"footer faint"},w=["disabled"],y={class:"total"},D={key:2},_={key:1},k=n(35161),C=n.n(k),S=n(84486),j=n.n(S),F=n(1840),A=n(53599),O=n(92820);const E={name:"Poll",props:["basePoll","emoji"],components:{Timeago:F.Z,RichContent:O.Z},data:function(){return{loading:!1,choices:[],randomSeed:(0,A.Z)()}},created:function(){this.$store.state.polls.pollsObject[this.pollId]||this.$store.dispatch("mergeOrAddPoll",this.basePoll),this.$store.dispatch("trackPoll",this.pollId)},unmounted:function(){this.$store.dispatch("untrackPoll",this.pollId)},computed:{pollId:function(){return this.basePoll.id},poll:function(){return this.$store.state.polls.pollsObject[this.pollId]||{}},options:function(){return this.poll&&this.poll.options||[]},expiresAt:function(){return this.poll&&this.poll.expires_at||null},expired:function(){return this.poll&&this.poll.expired||!1},loggedIn:function(){return this.$store.state.users.currentUser},showResults:function(){return this.poll.voted||this.expired||!this.loggedIn},totalVotesCount:function(){return this.poll.votes_count},containerClass:function(){return{loading:this.loading}},choiceIndices:function(){return this.choices.map((function(e,t){return e&&t})).filter((function(e){return"number"==typeof e}))},isDisabled:function(){var e=0===this.choiceIndices.length;return this.loading||e}},methods:{percentageForOption:function(e){return 0===this.totalVotesCount?0:Math.round(e/this.totalVotesCount*100)},resultTitle:function(e){return"".concat(e.votes_count,"/").concat(this.totalVotesCount," ").concat(this.$t("polls.votes"))},fetchPoll:function(){this.$store.dispatch("refreshPoll",{id:this.statusId,pollId:this.poll.id})},activateOption:function(e){var t=this.$el.querySelectorAll("input"),n=this.$el.querySelector('input[value="'.concat(e,'"]'));this.poll.multiple?n.checked=!n.checked:(j()(t,(function(e){e.checked=!1})),n.checked=!0),this.choices=C()(t,(function(e){return e.checked}))},optionId:function(e){return"poll".concat(this.poll.id,"-").concat(e)},vote:function(){var e=this;0!==this.choiceIndices.length&&(this.loading=!0,this.$store.dispatch("votePoll",{id:this.statusId,pollId:this.poll.id,choices:this.choiceIndices}).then((function(t){e.loading=!1})))}}};var z=n(83744);const x=(0,z.Z)(E,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("RichContent"),c=(0,o.up)("Timeago"),k=(0,o.up)("i18n-t");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["poll",e.containerClass])},[(0,o._)("div",{role:e.showResults?"section":e.poll.multiple?"group":"radiogroup"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{key:n,class:"poll-option"},[e.showResults?((0,o.wg)(),(0,o.iD)("div",{key:0,title:e.resultTitle(t),class:"option-result"},[(0,o._)("div",p,[(0,o._)("span",m,(0,r.zw)(e.percentageForOption(t.votes_count))+"% ",1),(0,o.Wm)(u,{html:t.title_html,"handle-links":!1,emoji:e.emoji},null,8,["html","emoji"])]),(0,o._)("div",{class:"result-fill",style:(0,r.j5)({width:"".concat(e.percentageForOption(t.votes_count),"%")})},null,4)],8,d)):((0,o.wg)(),(0,o.iD)("div",{key:1,tabindex:"0",role:e.poll.multiple?"checkbox":"radio","aria-labelledby":"option-vote-".concat(e.randomSeed,"-").concat(n),"aria-checked":e.choices[n],class:"input unstyled",onClick:function(t){return e.activateOption(n)}},[e.poll.multiple?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"checkbox",class:"input -checkbox poll-checkbox",disabled:e.loading,value:n},null,8,f)):((0,o.wg)(),(0,o.iD)("input",{key:1,type:"radio",disabled:e.loading,value:n,class:"input -radio"},null,8,g)),(0,o._)("label",v,[(0,o.Wm)(u,{id:"option-vote-".concat(e.randomSeed,"-").concat(n),html:t.title_html,"handle-links":!1,emoji:e.emoji},null,8,["id","html","emoji"])])],8,h))])})),128))],8,l),(0,o._)("div",b,[e.showResults?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn button-default poll-vote-button",type:"button",disabled:e.isDisabled,onClick:t[0]||(t[0]=function(){return e.vote&&e.vote.apply(e,arguments)})},(0,r.zw)(e.$t("polls.vote")),9,w)),(0,o._)("div",y,["number"==typeof e.poll.voters_count?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,r.zw)(e.$tc("polls.people_voted_count",e.poll.voters_count,{count:e.poll.voters_count})),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,r.zw)(e.$tc("polls.votes_count",e.poll.votes_count,{count:e.poll.votes_count})),1)],64)),null!==e.expiresAt?((0,o.wg)(),(0,o.iD)("span",D,"  ·  ")):(0,o.kq)("",!0)]),null!==e.expiresAt?((0,o.wg)(),(0,o.iD)("span",_,[(0,o.Wm)(k,{scope:"global",keypath:e.expired?"polls.expired":"polls.expires_in"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{time:e.expiresAt,"auto-update":60,"now-threshold":0},null,8,["time"])]})),_:1},8,["keypath"])])):(0,o.kq)("",!0)])],2)}]]);var P=n(16127),I=n(49963),T={class:"body"},B=n(58394),$=n(989),U=n(9382),M=n(84131);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}U.vI.add(M.gMD,M.Xig,M.VmB,M.nNP,M.Mm7);const R={name:"StatusContent",props:["compact","status","focused","noHeading","fullContent","singleLine","showingTall","expandingSubject","showingLongSubject","toggleShowingTall","toggleExpandingSubject","toggleShowingLongSubject"],data:function(){return{postLength:this.status.text.length,parseReadyDone:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({localCollapseSubjectDefault:function(){return this.mergedConfig.collapseMessageWithSubject},tallStatus:function(){return!this.singleLine&&!this.compact&&this.status.raw_html.split(/<p|<br/).length+this.postLength/80>20},longSubject:function(){return this.status.summary.length>240},mightHideBecauseSubject:function(){return!!this.status.summary&&this.localCollapseSubjectDefault},mightHideBecauseTall:function(){return this.tallStatus&&!(this.status.summary&&this.localCollapseSubjectDefault)},hideSubjectStatus:function(){return this.mightHideBecauseSubject&&!this.expandingSubject},hideTallStatus:function(){return this.mightHideBecauseTall&&!this.showingTall},showingMore:function(){return this.mightHideBecauseTall&&this.showingTall||this.mightHideBecauseSubject&&this.expandingSubject},attachmentTypes:function(){return this.status.attachments.map((function(e){return B.ZP.fileType(e.mimetype)}))}},(0,$.Se)(["mergedConfig"])),components:{RichContent:O.Z},mounted:function(){var e=this;this.status.attentions&&this.status.attentions.forEach((function(t){var n=t.id;e.$store.dispatch("fetchUserIfMissing",n)}))},methods:{onParseReady:function(e){var t=this;if(!this.parseReadyDone){this.parseReadyDone=!0,this.$emit("parseReady",e);var n=e.writtenMentions,o=e.invisibleMentions;n.filter((function(e){return!e.notifying})).forEach((function(e){var n=e.content,o=e.url,r=n.replace(/<[^>]+?>/gi,"");if(r.startsWith("@")){var i=r.slice(1),s=o.replace(/^https?:\/\//,"").replace(/\/.+?$/,"");t.$store.dispatch("fetchUserIfMissing","".concat(i,"@").concat(s))}})),this.postLength=o.reduce((function(e,t){return e-t.textContent.length-1}),this.postLength)}},toggleShowMore:function(){this.mightHideBecauseTall?this.toggleShowingTall():this.mightHideBecauseSubject&&this.toggleExpandingSubject()},generateTagLink:function(e){return"/tag/".concat(e)}}},q=(0,z.Z)(R,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("RichContent"),c=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["StatusBody",{"-compact":e.compact}])},[(0,o._)("div",T,[e.status.summary_raw_html?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["summary-wrapper",{"-tall":e.longSubject&&!e.showingLongSubject}])},[(0,o.Wm)(u,{class:"media-body summary",faint:e.compact,html:e.status.summary_raw_html,emoji:e.status.emojis},null,8,["faint","html","emoji"]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[0]||(t[0]=(0,I.iM)((function(){return e.toggleShowingLongSubject&&e.toggleShowingLongSubject.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("status.hide_full_subject")),513),[[I.F8,e.longSubject&&e.showingLongSubject]]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[1]||(t[1]=(0,I.iM)((function(){return e.toggleShowingLongSubject&&e.toggleShowingLongSubject.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("status.show_full_subject")),513),[[I.F8,e.longSubject&&!e.showingLongSubject]])],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,r.C_)([{"-tall-status":e.hideTallStatus},"text-wrapper"])},[(0,o.wy)((0,o._)("button",{class:(0,r.C_)(["button-unstyled -link tall-status-hider",{"-focused":e.focused}]),onClick:t[2]||(t[2]=(0,I.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("general.show_more")),3),[[I.F8,e.hideTallStatus]]),e.hideSubjectStatus||e.singleLine&&e.status.summary_raw_html?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:0,class:(0,r.C_)([{"-single-line":e.singleLine},"text media-body"]),html:e.status.raw_html,emoji:e.status.emojis,"handle-links":!0,faint:e.compact,greentext:e.mergedConfig.greentext,attentions:e.status.attentions,onParseReady:e.onParseReady},null,8,["class","html","emoji","faint","greentext","attentions","onParseReady"])),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link cw-status-hider",onClick:t[3]||(t[3]=(0,I.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},[(0,o.Uk)((0,r.zw)(e.$t("status.show_content"))+" ",1),e.attachmentTypes.includes("image")?((0,o.wg)(),(0,o.j4)(c,{key:0,icon:"image"})):(0,o.kq)("",!0),e.attachmentTypes.includes("video")?((0,o.wg)(),(0,o.j4)(c,{key:1,icon:"video"})):(0,o.kq)("",!0),e.attachmentTypes.includes("audio")?((0,o.wg)(),(0,o.j4)(c,{key:2,icon:"music"})):(0,o.kq)("",!0),e.attachmentTypes.includes("unknown")?((0,o.wg)(),(0,o.j4)(c,{key:3,icon:"file"})):(0,o.kq)("",!0),e.status.poll&&e.status.poll.options?((0,o.wg)(),(0,o.j4)(c,{key:4,icon:"poll-h"})):(0,o.kq)("",!0),e.status.card?((0,o.wg)(),(0,o.j4)(c,{key:5,icon:"link"})):(0,o.kq)("",!0)],512),[[I.F8,e.hideSubjectStatus]]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link status-unhider",onClick:t[4]||(t[4]=(0,I.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.tallStatus?e.$t("general.show_less"):e.$t("status.hide_content")),513),[[I.F8,e.showingMore&&!e.fullContent]])],2)]),e.hideSubjectStatus?(0,o.kq)("",!0):(0,o.WI)(e.$slots,"default",{key:0})],2)}]]);var N=n(83758);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}U.vI.add(M.IJ7,M.gMD,M.Xig,M.VmB,M.nNP,M.Mm7);var H,V=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},G=function(e,t){var n=V(t),o="controlledToggle".concat(n),r="uncontrolled".concat(n);e[o]?e[o]():e[r]=!e[r]};const K={name:"StatusContent",props:["status","compact","focused","noHeading","fullContent","singleLine","controlledShowingTall","controlledExpandingSubject","controlledToggleShowingTall","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject"],data:function(){return{uncontrolledShowingTall:this.fullContent||this.inConversation&&this.focused,uncontrolledShowingLongSubject:!1,uncontrolledExpandingSubject:!this.$store.getters.mergedConfig.collapseMessageWithSubject}},computed:W(W(W({},(H=["showingTall","expandingSubject","showingLongSubject"],H.reduce((function(e,t){var n=V(t),o="controlledToggle".concat(n),r="controlled".concat(n),i="uncontrolled".concat(n);return e[t]=function(){return void 0===this.$data[o]&&void 0===this.$props[o]||!this[o]?this[i]:this[r]},e}),{}))),{},{statusCard:function(){return this.status.card?this.status.card.url===this.status.quote_url?null:this.status.card:null},hideAttachments:function(){return this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation},nsfwClickthrough:function(){return!(!this.status.nsfw||this.status.summary&&this.localCollapseSubjectDefault)},attachmentSize:function(){return this.compact?"small":this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation||this.status.attachments.length>this.maxThumbnails?"hide":"normal"},maxThumbnails:function(){return this.mergedConfig.maxThumbnails}},(0,$.Se)(["mergedConfig"])),(0,$.rn)({currentUser:function(e){return e.users.currentUser}})),components:{Attachment:c.Z,Poll:x,Gallery:P.Z,LinkPreview:N.Z,StatusBody:q},methods:{toggleShowingTall:function(){G(this,"showingTall")},toggleExpandingSubject:function(){G(this,"expandingSubject")},toggleShowingLongSubject:function(){G(this,"showingLongSubject")},setMedia:function(){var e=this,t="hide"===this.attachmentSize?this.status.attachments:this.galleryAttachments;return function(){return e.$store.dispatch("setMedia",t)}}}},Y=(0,z.Z)(K,[["render",function(e,t,n,u,c,l){var d=(0,o.up)("Poll"),p=(0,o.up)("FAIcon"),m=(0,o.up)("gallery"),h=(0,o.up)("link-preview"),f=(0,o.up)("StatusBody");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["StatusContent",{"-compact":e.compact}])},[(0,o.WI)(e.$slots,"header"),(0,o.Wm)(f,{status:e.status,compact:e.compact,"single-line":e.singleLine,"showing-tall":e.showingTall,"expanding-subject":e.expandingSubject,"showing-long-subject":e.showingLongSubject,"toggle-showing-tall":e.toggleShowingTall,"toggle-expanding-subject":e.toggleExpandingSubject,"toggle-showing-long-subject":e.toggleShowingLongSubject,onParseReady:t[2]||(t[2]=function(t){return e.$emit("parseReady",t)})},{default:(0,o.w5)((function(){return[e.status.poll&&e.status.poll.options&&!e.compact?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(d,{"base-poll":e.status.poll,emoji:e.status.emojis},null,8,["base-poll","emoji"])])):e.status.poll&&e.status.poll.options&&e.compact?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(p,{icon:"poll-h",size:"2x"})])):(0,o.kq)("",!0),0!==e.status.attachments.length?((0,o.wg)(),(0,o.j4)(m,{key:2,class:"attachments media-body",compact:e.compact,nsfw:e.nsfwClickthrough,attachments:e.status.attachments,limit:e.compact?1:0,size:e.attachmentSize,onPlay:t[0]||(t[0]=function(t){return e.$emit("mediaplay",e.attachment.id)}),onPause:t[1]||(t[1]=function(t){return e.$emit("mediapause",e.attachment.id)})},null,8,["compact","nsfw","attachments","limit","size"])):(0,o.kq)("",!0),!e.statusCard||e.noHeading||e.compact?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(h,{card:e.status.card,size:e.attachmentSize,nsfw:e.nsfwClickthrough},null,8,["card","size","nsfw"])]))]})),_:1},8,["status","compact","single-line","showing-tall","expanding-subject","showing-long-subject","toggle-showing-tall","toggle-expanding-subject","toggle-showing-long-subject"]),(0,o.WI)(e.$slots,"footer")],2)}]])},60466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i={key:0,ref:"canvas"},s=["alt","title","data-src","src","referrerpolicy","loading"];const a={props:["src","referrerpolicy","mimetype","imageLoadError","imageLoadHandler","alt","height","width","dataSrc","loading"],data:function(){return{realSrc:this.src,stopGifs:this.$store.getters.mergedConfig.stopGifs}},computed:{animated:function(){return!!this.realSrc&&this.stopGifs&&("image/gif"===this.mimetype||this.realSrc.endsWith(".gif"))},style:function(){var e=function(e){return/\d$/.test(e)?e+"px":e};return{height:this.height?e(this.height):null,width:this.width?e(this.width):null}}},methods:{loadLazy:function(){this.dataSrc&&(this.realSrc=this.dataSrc)},onLoad:function(){if(this.realSrc){var e=this.$refs.src;if(e){this.imageLoadHandler&&this.imageLoadHandler(e);var t=this.$refs.canvas;if(t){var n=e.naturalWidth,o=e.naturalHeight;t.width=n,t.height=o,t.getContext("2d").drawImage(e,0,0,n,o)}}}},onError:function(){this.imageLoadError&&this.imageLoadError()}},watch:{src:function(){this.realSrc=this.src},dataSrc:function(){this.$el.removeAttribute("data-loaded")}}},u=(0,n(83744).Z)(a,[["render",function(e,t,n,a,u,c){return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["still-image",{animated:e.animated}]),style:(0,r.j5)(e.style)},[e.animated?((0,o.wg)(),(0,o.iD)("canvas",i,null,512)):(0,o.kq)("",!0),((0,o.wg)(),(0,o.iD)("img",{ref:"src",key:e.realSrc,alt:e.alt,title:e.alt,"data-src":e.dataSrc,src:e.realSrc,referrerpolicy:e.referrerpolicy,loading:e.loading,onLoad:t[0]||(t[0]=function(){return e.onLoad&&e.onLoad.apply(e,arguments)}),onError:t[1]||(t[1]=function(){return e.onError&&e.onError.apply(e,arguments)})},null,40,s)),(0,o.WI)(e.$slots,"default")],6)}]])},1840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(3577),i=["datetime","title"],s=n(27483),a=n(39776);const u={name:"Timeago",props:["time","autoUpdate","longFormat","nowThreshold","templateKey"],data:function(){return{relativeTime:{key:"time.now",num:0},interval:null}},computed:{localeDateString:function(){var e=a.Z.internalToBrowserLocale(this.$i18n.locale);return"string"==typeof this.time?new Date(Date.parse(this.time)).toLocaleString(e):this.time.toLocaleString(e)},relativeTimeString:function(){var e=this.$i18n.tc(this.relativeTime.key,this.relativeTime.num,[this.relativeTime.num]);return"string"==typeof this.templateKey&&"time.now"!==this.relativeTime.key?this.$i18n.t(this.templateKey,[e]):e}},watch:{time:function(e,t){t!==e&&(clearTimeout(this.interval),this.refreshRelativeTimeObject())}},created:function(){this.refreshRelativeTimeObject()},unmounted:function(){clearTimeout(this.interval)},methods:{refreshRelativeTimeObject:function(){var e="number"==typeof this.nowThreshold?this.nowThreshold:1;this.relativeTime=this.longFormat?s.GV(this.time,e):s._F(this.time,e),this.autoUpdate&&(this.interval=setTimeout(this.refreshRelativeTimeObject,1e3*this.autoUpdate))}}},c=(0,n(83744).Z)(u,[["render",function(e,t,n,s,a,u){return(0,o.wg)(),(0,o.iD)("time",{datetime:n.time,title:u.localeDateString},(0,r.zw)(u.relativeTimeString),9,i)}]])},42262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(9382),i=n(84131);r.vI.add(i.dT$);const s={props:{user:Object}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,r,i,s){var a=(0,o.up)("FAIcon");return e.user&&e.user.screen_name_ui_contains_non_ascii?((0,o.wg)(),(0,o.j4)(a,{key:0,icon:"code",title:e.$t("unicode_domain_indicator.tooltip")},null,8,["title"])):(0,o.kq)("",!0)}]])},98654:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(66252),r=n(3577),i=n(60466),s=n(9382),a=n(84131);s.vI.add(a.VE0,a.iOm);const u={props:["user","betterShadow","compact","showActorTypeIndicator"],data:function(){return{showPlaceholder:!1,defaultAvatar:"".concat(this.$store.state.instance.server+this.$store.state.instance.defaultAvatar)}},components:{StillImage:i.Z},methods:{imgSrc:function(e){return!e||this.showPlaceholder?this.defaultAvatar:e},imageLoadError:function(){this.showPlaceholder=!0}}},c=(0,n(83744).Z)(u,[["render",function(e,t,n,i,s,a){var u,c,l=(0,o.up)("StillImage"),d=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("span",{class:(0,r.C_)(["Avatar",{"-compact":e.compact}])},[e.user?((0,o.wg)(),(0,o.j4)(l,{key:0,class:(0,r.C_)(["avatar",{"-compact":e.compact,"-better-shadow":e.betterShadow}]),alt:e.user.screen_name_ui,title:e.user.screen_name_ui,src:e.imgSrc(e.user.profile_image_url_original),"image-load-error":e.imageLoadError},null,8,["alt","title","src","image-load-error","class"])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["avatar -placeholder",{"-compact":e.compact}])},null,2)),e.showActorTypeIndicator&&"Service"===(null===(u=e.user)||void 0===u?void 0:u.actor_type)?((0,o.wg)(),(0,o.j4)(d,{key:2,icon:"robot",class:"actor-type-indicator"})):(0,o.kq)("",!0),e.showActorTypeIndicator&&"Group"===(null===(c=e.user)||void 0===c?void 0:c.actor_type)?((0,o.wg)(),(0,o.j4)(d,{key:3,icon:"people-group",class:"actor-type-indicator"})):(0,o.kq)("",!0)],2)}]])},87607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$e});var o=n(66252),r=n(3577),i=n(49963),s={class:"user-info"},a={class:"container"},u={class:"user-info-avatar -link -overlay"},c={class:"user-summary"},l={class:"top-line"},d=["href"],p={class:"bottom-line"},m={key:0,class:"alert neutral user-role"},h={key:1,class:"alert neutral user-role"},f={key:2,class:"alert neutral user-role"},g={key:3,class:"alert user-role"},v={key:1},b={key:2,class:"dailyAvg"},w={class:"user-meta"},y={key:0,class:"following"},D={key:1,class:"highlighter"},_=["id"],k=["id"],C={value:"disabled"},S={value:"solid"},j={value:"striped"},F={value:"side"},A={key:0,class:"user-interactions"},O={class:"btn-group"},E=["disabled"],z=["disabled"],x=["disabled"],P={key:1,class:"user-interactions"},I={key:0},T={key:0,class:"user-counts"},B=(0,o._)("br",null,null,-1),$=["textContent"],U={class:"mute-expiry"},M=["value"],L=n(4942),R=n(27483),q=n(98654),N=n(72895),Z=n(99507),W=n(34837),H={class:"dropdown-menu"},V={key:0},G={key:0,role:"separator",class:"dropdown-divider"},K={key:3,role:"separator",class:"dropdown-divider"},Y={key:4},Q=n(9382),J=n(84131),X=n(85241),ee=n(67943);Q.vI.add(J.ptq);const te={props:["user"],data:function(){return{tags:{FORCE_NSFW:"mrf_tag:media-force-nsfw",STRIP_MEDIA:"mrf_tag:media-strip",FORCE_UNLISTED:"mrf_tag:force-unlisted",DISABLE_REMOTE_SUBSCRIPTION:"mrf_tag:disable-remote-subscription",DISABLE_ANY_SUBSCRIPTION:"mrf_tag:disable-any-subscription",SANDBOX:"mrf_tag:sandbox",QUARANTINE:"mrf_tag:quarantine"},showDeleteUserDialog:!1,toggled:!1}},components:{DialogModal:X.Z,Popover:ee.default},computed:{tagsSet:function(){return new Set(this.user.tags)},canGrantRole:function(){return this.user.is_local&&!this.user.deactivated&&"admin"===this.$store.state.users.currentUser.role},canChangeActivationState:function(){return this.privileged("users_manage_activation_state")},canDeleteAccount:function(){return this.privileged("users_delete")},canUseTagPolicy:function(){return this.$store.state.instance.tagPolicyAvailable&&this.privileged("users_manage_tags")}},methods:{hasTag:function(e){return this.tagsSet.has(e)},privileged:function(e){return this.$store.state.users.currentUser.privileges.includes(e)},toggleTag:function(e){var t=this,n=this.$store;this.tagsSet.has(e)?n.state.api.backendInteractor.untagUser({user:this.user,tag:e}).then((function(o){o.ok&&n.commit("untagUser",{user:t.user,tag:e})})):n.state.api.backendInteractor.tagUser({user:this.user,tag:e}).then((function(o){o.ok&&n.commit("tagUser",{user:t.user,tag:e})}))},toggleRight:function(e){var t=this,n=this.$store;this.user.rights[e]?n.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!1})})):n.state.api.backendInteractor.addRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!0})}))},toggleActivationStatus:function(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog:function(e){this.showDeleteUserDialog=e},deleteUser:function(){var e=this,t=this.$store,n=this.user,o=n.id,r=n.name;t.state.api.backendInteractor.deleteUser({user:n}).then((function(t){e.$store.dispatch("markStatusesAsDeleted",(function(e){return n.id===e.user.id}));var i="external-user-profile"===e.$route.name||"user-profile"===e.$route.name,s=e.$route.params.name===r||e.$route.params.id===o;i&&s&&window.history.back()}))},setToggled:function(e){this.toggled=e}}};var ne=n(83744);const oe=(0,ne.Z)(te,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("FAIcon"),c=(0,o.up)("Popover"),l=(0,o.up)("DialogModal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{trigger:"click",class:"moderation-tools-popover",placement:"bottom",offset:{y:5},onShow:t[11]||(t[11]=function(t){return e.setToggled(!0)}),onClose:t[12]||(t[12]=function(t){return e.setToggled(!1)})},{content:(0,o.w5)((function(){return[(0,o._)("div",H,[e.canGrantRole?((0,o.wg)(),(0,o.iD)("span",V,[(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[0]||(t[0]=function(t){return e.toggleRight("admin")})},(0,r.zw)(e.$t(e.user.rights.admin?"user_card.admin_menu.revoke_admin":"user_card.admin_menu.grant_admin")),1),(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[1]||(t[1]=function(t){return e.toggleRight("moderator")})},(0,r.zw)(e.$t(e.user.rights.moderator?"user_card.admin_menu.revoke_moderator":"user_card.admin_menu.grant_moderator")),1),e.canChangeActivationState||e.canDeleteAccount?((0,o.wg)(),(0,o.iD)("div",G)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.canChangeActivationState?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"menu-item dropdown-item menu-item",onClick:t[2]||(t[2]=function(t){return e.toggleActivationStatus()})},(0,r.zw)(e.$t(e.user.deactivated?"user_card.admin_menu.activate_account":"user_card.admin_menu.deactivate_account")),1)):(0,o.kq)("",!0),e.canDeleteAccount?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"menu-item dropdown-item menu-item",onClick:t[3]||(t[3]=function(t){return e.deleteUserDialog(!0)})},(0,r.zw)(e.$t("user_card.admin_menu.delete_account")),1)):(0,o.kq)("",!0),e.canUseTagPolicy?((0,o.wg)(),(0,o.iD)("div",K)):(0,o.kq)("",!0),e.canUseTagPolicy?((0,o.wg)(),(0,o.iD)("span",Y,[(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[4]||(t[4]=function(t){return e.toggleTag(e.tags.FORCE_NSFW)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_NSFW)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.force_nsfw")),1)]),(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[5]||(t[5]=function(t){return e.toggleTag(e.tags.STRIP_MEDIA)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.STRIP_MEDIA)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.strip_media")),1)]),(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[6]||(t[6]=function(t){return e.toggleTag(e.tags.FORCE_UNLISTED)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_UNLISTED)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.force_unlisted")),1)]),(0,o._)("button",{class:"menu-item dropdown-item menu-item",onClick:t[7]||(t[7]=function(t){return e.toggleTag(e.tags.SANDBOX)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.SANDBOX)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.sandbox")),1)]),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"menu-item dropdown-item menu-item",onClick:t[8]||(t[8]=function(t){return e.toggleTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.disable_remote_subscription")),1)])):(0,o.kq)("",!0),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"menu-item dropdown-item menu-item",onClick:t[9]||(t[9]=function(t){return e.toggleTag(e.tags.DISABLE_ANY_SUBSCRIPTION)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_ANY_SUBSCRIPTION)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.disable_any_subscription")),1)])):(0,o.kq)("",!0),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"menu-item dropdown-item menu-item",onClick:t[10]||(t[10]=function(t){return e.toggleTag(e.tags.QUARANTINE)})},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.QUARANTINE)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.quarantine")),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",{class:(0,r.C_)(["btn button-default btn-block moderation-tools-button",{toggled:e.toggled}])},[(0,o.Uk)((0,r.zw)(e.$t("user_card.admin_menu.moderation"))+" ",1),(0,o.Wm)(u,{icon:"chevron-down"})],2)]})),_:1}),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showDeleteUserDialog?((0,o.wg)(),(0,o.j4)(l,{key:0,"on-cancel":e.deleteUserDialog.bind(this,!1)},{header:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.admin_menu.delete_user")),1)]})),footer:(0,o.w5)((function(){return[(0,o._)("button",{class:"btn button-default",onClick:t[13]||(t[13]=function(t){return e.deleteUserDialog(!1)})},(0,r.zw)(e.$t("general.cancel")),1),(0,o._)("button",{class:"btn button-default danger",onClick:t[14]||(t[14]=function(t){return e.deleteUser()})},(0,r.zw)(e.$t("user_card.admin_menu.delete_user")),1)]})),default:(0,o.w5)((function(){return[(0,o._)("p",null,(0,r.zw)(e.$t("user_card.admin_menu.delete_user_confirmation")),1)]})),_:1},8,["on-cancel"])):(0,o.kq)("",!0)]))])}]]);var re={class:"AccountActions"},ie={class:"dropdown-menu"},se=(0,o._)("div",{role:"separator",class:"dropdown-divider"},null,-1),ae={class:"button-unstyled ellipsis-button"},ue=["textContent"],ce=["textContent"],le=n(989),de={class:"UserListMenu"},pe={class:"dropdown-menu"},me=["onClick"],he={class:"menu-item dropdown-item -has-submenu"};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Q.vI.add(J._tD);const ve={props:["user"],data:function(){return{}},components:{DialogModal:X.Z,Popover:ee.default},created:function(){this.$store.dispatch("fetchUserInLists",this.user.id)},computed:ge(ge({},(0,le.rn)({allLists:function(e){return e.lists.allLists}})),{},{inListsSet:function(){return new Set(this.user.inLists.map((function(e){return e.id})))},lists:function(){var e=this;return this.user.inLists?this.allLists.map((function(t){return ge(ge({},t),{},{inList:e.inListsSet.has(t.id)})})):[]}}),methods:{toggleList:function(e){var t=this;this.inListsSet.has(e)?this.$store.dispatch("removeListAccount",{accountId:this.user.id,listId:e}).then((function(e){e.ok&&t.$store.dispatch("fetchUserInLists",t.user.id)})):this.$store.dispatch("addListAccount",{accountId:this.user.id,listId:e}).then((function(e){e.ok&&t.$store.dispatch("fetchUserInLists",t.user.id)}))},toggleRight:function(e){var t=this,n=this.$store;this.user.rights[e]?n.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!1})})):n.state.api.backendInteractor.addRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!0})}))},toggleActivationStatus:function(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog:function(e){this.showDeleteUserDialog=e},deleteUser:function(){var e=this,t=this.$store,n=this.user,o=n.id,r=n.name;t.state.api.backendInteractor.deleteUser({user:n}).then((function(t){e.$store.dispatch("markStatusesAsDeleted",(function(e){return n.id===e.user.id}));var i="external-user-profile"===e.$route.name||"user-profile"===e.$route.name,s=e.$route.params.name===r||e.$route.params.id===o;i&&s&&window.history.back()}))},setToggled:function(e){this.toggled=e}}},be=(0,ne.Z)(ve,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("FAIcon"),c=(0,o.up)("Popover");return(0,o.wg)(),(0,o.iD)("div",de,[(0,o.Wm)(c,{trigger:"hover",placement:"left","remove-padding":""},{content:(0,o.w5)((function(){return[(0,o._)("div",pe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.lists,(function(t){return(0,o.wg)(),(0,o.iD)("button",{key:t.id,class:"menu-item dropdown-item",onClick:function(n){return e.toggleList(t.id)}},[(0,o._)("span",{class:(0,r.C_)(["input menu-checkbox",{"menu-checkbox-checked":t.inList}])},null,2),(0,o.Uk)(" "+(0,r.zw)(t.title),1)],8,me)})),128))])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",he,[(0,o.Uk)((0,r.zw)(e.$t("lists.manage_lists"))+" ",1),(0,o.Wm)(u,{class:"chevron-icon",size:"lg",icon:"chevron-right"})])]})),_:1})])}]]);var we=n(1447);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}Q.vI.add(J.iV1);const De={props:["user","relationship"],data:function(){return{showingConfirmBlock:!1,showingConfirmRemoveFollower:!1}},components:{ProgressButton:Z.Z,Popover:ee.default,UserListMenu:be,ConfirmModal:we.Z},methods:{showConfirmBlock:function(){this.showingConfirmBlock=!0},hideConfirmBlock:function(){this.showingConfirmBlock=!1},showConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!1},showRepeats:function(){this.$store.dispatch("showReblogs",this.user.id)},hideRepeats:function(){this.$store.dispatch("hideReblogs",this.user.id)},blockUser:function(){this.shouldConfirmBlock?this.showConfirmBlock():this.doBlockUser()},doBlockUser:function(){this.$store.dispatch("blockUser",this.user.id),this.hideConfirmBlock()},unblockUser:function(){this.$store.dispatch("unblockUser",this.user.id)},removeUserFromFollowers:function(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers:function(){this.$store.dispatch("removeUserFromFollowers",this.user.id),this.hideConfirmRemoveUserFromFollowers()},reportUser:function(){this.$store.dispatch("openUserReportingModal",{userId:this.user.id})},openChat:function(){this.$router.push({name:"chat",params:{username:this.$store.state.users.currentUser.screen_name,recipient_id:this.user.id}})}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({shouldConfirmBlock:function(){return this.$store.getters.mergedConfig.modalOnBlock},shouldConfirmRemoveUserFromFollowers:function(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers}},(0,le.rn)({pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable}}))},_e=(0,ne.Z)(De,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("UserListMenu"),c=(0,o.up)("FAIcon"),l=(0,o.up)("Popover"),d=(0,o.up)("i18n-t"),p=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",re,[(0,o.Wm)(l,{trigger:"click",placement:"bottom","bound-to":{x:"container"},"remove-padding":""},{content:(0,o.w5)((function(){return[(0,o._)("div",ie,[e.relationship.following?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.relationship.showing_reblogs?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"dropdown-item menu-item",onClick:t[0]||(t[0]=function(){return e.hideRepeats&&e.hideRepeats.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.hide_repeats")),1)):(0,o.kq)("",!0),e.relationship.showing_reblogs?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"dropdown-item menu-item",onClick:t[1]||(t[1]=function(){return e.showRepeats&&e.showRepeats.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.show_repeats")),1)),se],64)):(0,o.kq)("",!0),(0,o.Wm)(u,{user:e.user},null,8,["user"]),e.relationship.followed_by?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"dropdown-item menu-item",onClick:t[2]||(t[2]=function(){return e.removeUserFromFollowers&&e.removeUserFromFollowers.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.remove_follower")),1)):(0,o.kq)("",!0),e.relationship.blocking?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"dropdown-item menu-item",onClick:t[3]||(t[3]=function(){return e.unblockUser&&e.unblockUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.unblock")),1)):((0,o.wg)(),(0,o.iD)("button",{key:3,class:"dropdown-item menu-item",onClick:t[4]||(t[4]=function(){return e.blockUser&&e.blockUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.block")),1)),(0,o._)("button",{class:"dropdown-item menu-item",onClick:t[5]||(t[5]=function(){return e.reportUser&&e.reportUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.report")),1),e.pleromaChatMessagesAvailable?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"dropdown-item menu-item",onClick:t[6]||(t[6]=function(){return e.openChat&&e.openChat.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.message")),1)):(0,o.kq)("",!0)])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",ae,[(0,o.Wm)(c,{class:"icon",icon:"ellipsis-v"})])]})),_:1}),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmBlock?((0,o.wg)(),(0,o.j4)(p,{key:0,title:e.$t("user_card.block_confirm_title"),"confirm-text":e.$t("user_card.block_confirm_accept_button"),"cancel-text":e.$t("user_card.block_confirm_cancel_button"),onAccepted:e.doBlockUser,onCancelled:e.hideConfirmBlock},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{keypath:"user_card.block_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,ue)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)])),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmRemoveFollower?((0,o.wg)(),(0,o.j4)(p,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{keypath:"user_card.remove_follower_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,ce)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))])}]]);var ke={class:"user-note"},Ce={class:"heading"},Se={class:"buttons"},je=["disabled"],Fe=["disabled"];const Ae={props:{user:Object,relationship:Object,editable:Boolean},data:function(){return{localNote:"",editing:!1,frozen:!1}},computed:{shouldShow:function(){return this.relationship.note||this.editing}},methods:{startEditing:function(){this.localNote=this.relationship.note,this.editing=!0},cancelEditing:function(){this.editing=!1},finalizeEditing:function(){var e=this;this.frozen=!0,this.$store.dispatch("editUserNote",{id:this.user.id,comment:this.localNote}).then((function(){e.frozen=!1,e.editing=!1})).catch((function(){e.frozen=!1}))}}},Oe=(0,ne.Z)(Ae,[["render",function(e,t,n,s,a,u){return(0,o.wg)(),(0,o.iD)("div",ke,[(0,o._)("div",Ce,[(0,o._)("span",null,(0,r.zw)(e.$t("user_card.note")),1),(0,o._)("div",Se,[(0,o.wy)((0,o._)("button",{class:"button-default btn",onClick:t[0]||(t[0]=function(){return e.startEditing&&e.startEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note")),513),[[i.F8,!e.editing&&e.editable]]),(0,o.wy)((0,o._)("button",{class:"button-default btn",disabled:e.frozen,onClick:t[1]||(t[1]=function(){return e.finalizeEditing&&e.finalizeEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note_apply")),9,je),[[i.F8,e.editing]]),(0,o.wy)((0,o._)("button",{class:"button-default btn",disabled:e.frozen,onClick:t[2]||(t[2]=function(){return e.cancelEditing&&e.cancelEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note_cancel")),9,Fe),[[i.F8,e.editing]])])]),(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.localNote=t}),class:"input note-text"},null,512),[[i.F8,e.editing],[i.nr,e.localNote]]),(0,o.wy)((0,o._)("span",{class:(0,r.C_)(["note-text",{"-blank":!e.relationship.note}])},(0,r.zw)(e.relationship.note||e.$t("user_card.note_blank")),3),[[i.F8,!e.editing]])])}]]);var Ee=n(32826),ze=n(12061),xe=n(92820),Pe=n(4493);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Q.vI.add(J.Fwd,J.qmU,J.N7g,J.Xjp,J.Xcf,J.NBC,J.TTL);const Be={props:["userId","switcher","selected","hideBio","rounded","bordered","avatarAction","onClose","hasNoteEditor"],data:function(){return{followRequestInProgress:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter,showingConfirmMute:!1,muteExpiryAmount:0,muteExpiryUnit:"minutes"}},created:function(){this.$store.dispatch("fetchUserRelationship",this.user.id)},computed:Te({user:function(){return this.$store.getters.findUser(this.userId)},relationship:function(){return this.$store.getters.relationship(this.userId)},classes:function(){return[{"-rounded-t":"top"===this.rounded,"-rounded":!0===this.rounded,"-bordered":!0===this.bordered,"-popover":!!this.onClose}]},style:function(){return{backgroundImage:["linear-gradient(to bottom, var(--profileTint), var(--profileTint))","url(".concat(this.user.cover_photo,")")].join(", ")}},isOtherUser:function(){return this.user.id!==this.$store.state.users.currentUser.id},subscribeUrl:function(){var e=new URL(this.user.statusnet_profile_url);return"".concat(e.protocol,"//").concat(e.host,"/main/ostatus")},loggedIn:function(){return this.$store.state.users.currentUser},dailyAvg:function(){var e=Math.ceil((new Date-new Date(this.user.created_at))/864e5);return Math.round(this.user.statuses_count/e)},userHighlightType:Te({get:function(){var e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.type||"disabled"},set:function(e){var t=this.$store.getters.mergedConfig.highlight[this.user.screen_name];"disabled"!==e?this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:t&&t.color||"#FFFFFF",type:e}):this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:void 0})}},(0,le.Se)(["mergedConfig"])),userHighlightColor:{get:function(){var e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.color},set:function(e){this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:e})}},visibleRole:function(){var e=this.user.rights;if(e){var t=e.admin||e.moderator,n=e.admin?"admin":"moderator";return t&&n}},hideFollowsCount:function(){return this.isOtherUser&&this.user.hide_follows_count},hideFollowersCount:function(){return this.isOtherUser&&this.user.hide_followers_count},showModerationMenu:function(){var e=this.loggedIn.privileges;return"admin"===this.loggedIn.role||e.includes("users_manage_activation_state")||e.includes("users_delete")||e.includes("users_manage_tags")},hasNote:function(){return this.relationship.note},supportsNote:function(){return"note"in this.relationship},shouldConfirmMute:function(){return this.mergedConfig.modalOnMute},muteExpiryUnits:function(){return["minutes","hours","days"]}},(0,le.Se)(["mergedConfig"])),components:{UserAvatar:q.default,RemoteFollow:N.Z,ModerationTools:oe,AccountActions:_e,ProgressButton:Z.Z,FollowButton:W.Z,Select:Ee.Z,RichContent:xe.Z,UserLink:ze.Z,UserNote:Oe,ConfirmModal:we.Z},methods:{showConfirmMute:function(){this.showingConfirmMute=!0},hideConfirmMute:function(){this.showingConfirmMute=!1},muteUser:function(){this.shouldConfirmMute?this.showConfirmMute():this.doMuteUser()},doMuteUser:function(){this.$store.dispatch("muteUser",{id:this.user.id,expiresIn:this.shouldConfirmMute?(0,R.cC)(this.muteExpiryUnit,this.muteExpiryAmount):0}),this.hideConfirmMute()},unmuteUser:function(){this.$store.dispatch("unmuteUser",this.user.id)},subscribeUser:function(){return this.$store.dispatch("subscribeUser",this.user.id)},unsubscribeUser:function(){return this.$store.dispatch("unsubscribeUser",this.user.id)},setProfileView:function(e){this.switcher&&this.$store.commit("setProfileView",{v:e})},linkClicked:function(e){var t=e.target;"SPAN"===t.tagName&&(t=t.parentNode),"A"===t.tagName&&window.open(t.href,"_blank")},userProfileLink:function(e){return(0,Pe.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")},zoomAvatar:function(){var e={url:this.user.profile_image_url_original,mimetype:"image"};this.$store.dispatch("setMedia",[e]),this.$store.dispatch("setCurrentMedia",e)},mentionUser:function(){this.$store.dispatch("openPostStatusModal",{profileMention:!0,repliedUser:this.user})},onAvatarClickHandler:function(e){this.onAvatarClick&&(e.preventDefault(),this.onAvatarClick())}}},$e=(0,ne.Z)(Be,[["render",function(e,t,n,L,R,q){var N=(0,o.up)("UserAvatar"),Z=(0,o.up)("FAIcon"),W=(0,o.up)("router-link"),H=(0,o.up)("RichContent"),V=(0,o.up)("AccountActions"),G=(0,o.up)("user-link"),K=(0,o.up)("Select"),Y=(0,o.up)("FollowButton"),Q=(0,o.up)("ProgressButton"),J=(0,o.up)("FALayers"),X=(0,o.up)("ModerationTools"),ee=(0,o.up)("RemoteFollow"),te=(0,o.up)("UserNote"),ne=(0,o.up)("i18n-t"),oe=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["user-card",e.classes])},[(0,o._)("div",{class:(0,r.C_)([{"hide-bio":e.hideBio},"background-image"]),style:(0,r.j5)(e.style)},null,6),(0,o._)("div",{class:(0,r.C_)(e.onClose?"":e.panel-e.heading-e.flexible-e.height)},[(0,o._)("div",s,[(0,o._)("div",a,["zoom"===e.avatarAction?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"user-info-avatar -link",onClick:t[0]||(t[0]=function(){return e.zoomAvatar&&e.zoomAvatar.apply(e,arguments)})},[(0,o.Wm)(N,{"better-shadow":e.betterShadow,user:e.user},null,8,["better-shadow","user"]),(0,o._)("div",u,[(0,o.Wm)(Z,{class:"fa-scale-110 fa-old-padding",icon:"search-plus"})])])):"function"==typeof e.avatarAction?((0,o.wg)(),(0,o.j4)(N,{key:1,class:"user-info-avatar","better-shadow":e.betterShadow,user:e.user,onClick:e.avatarAction},null,8,["better-shadow","user","onClick"])):((0,o.wg)(),(0,o.j4)(W,{key:2,to:e.userProfileLink(e.user)},{default:(0,o.w5)((function(){return[(0,o.Wm)(N,{"better-shadow":e.betterShadow,user:e.user},null,8,["better-shadow","user"])]})),_:1},8,["to"])),(0,o._)("div",c,[(0,o._)("div",l,[(0,o.Wm)(W,{to:e.userProfileLink(e.user),class:"user-name"},{default:(0,o.w5)((function(){return[(0,o.Wm)(H,{title:e.user.name,html:e.user.name,emoji:e.user.emoji},null,8,["title","html","emoji"])]})),_:1},8,["to"]),!e.isOtherUser&&e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled edit-profile-button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.openProfileTab&&e.openProfileTab.apply(e,arguments)}),["stop"]))},[(0,o.Wm)(Z,{"fixed-width":"",class:"icon",icon:"edit",title:e.$t("user_card.edit_profile")},null,8,["title"])])):(0,o.kq)("",!0),e.isOtherUser&&!e.user.is_local?((0,o.wg)(),(0,o.iD)("a",{key:1,href:e.user.statusnet_profile_url,target:"_blank",class:"button-unstyled external-link-button"},[(0,o.Wm)(Z,{class:"icon",icon:"external-link-alt"})],8,d)):(0,o.kq)("",!0),e.isOtherUser&&e.loggedIn?((0,o.wg)(),(0,o.j4)(V,{key:2,user:e.user,relationship:e.relationship},null,8,["user","relationship"])):(0,o.kq)("",!0),e.onClose?((0,o.wg)(),(0,o.j4)(W,{key:3,to:e.userProfileLink(e.user),class:"button-unstyled external-link-button",onClick:e.onClose},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{class:"icon",icon:"expand-alt"})]})),_:1},8,["to","onClick"])):(0,o.kq)("",!0),e.onClose?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled external-link-button",onClick:t[2]||(t[2]=function(){return e.onClose&&e.onClose.apply(e,arguments)})},[(0,o.Wm)(Z,{class:"icon",icon:"times"})])):(0,o.kq)("",!0)]),(0,o._)("div",p,[(0,o.Wm)(G,{class:"user-screen-name",user:e.user},null,8,["user"]),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.user.deactivated?((0,o.wg)(),(0,o.iD)("span",m,(0,r.zw)(e.$t("user_card.deactivated")),1)):(0,o.kq)("",!0),e.visibleRole?((0,o.wg)(),(0,o.iD)("span",h,(0,r.zw)(e.$t("general.role.".concat(e.visibleRole))),1)):(0,o.kq)("",!0),"Service"===e.user.actor_type?((0,o.wg)(),(0,o.iD)("span",f,(0,r.zw)(e.$t("user_card.bot")),1)):(0,o.kq)("",!0),"Group"===e.user.actor_type?((0,o.wg)(),(0,o.iD)("span",g,(0,r.zw)(e.$t("user_card.group")),1)):(0,o.kq)("",!0)],64)),e.user.locked?((0,o.wg)(),(0,o.iD)("span",v,[(0,o.Wm)(Z,{class:"lock-icon",icon:"lock",size:"sm"})])):(0,o.kq)("",!0),e.mergedConfig.hideUserStats||e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",b,(0,r.zw)(e.dailyAvg)+" "+(0,r.zw)(e.$t("user_card.per_day")),1))])])]),(0,o._)("div",w,[e.relationship.followed_by&&e.loggedIn&&e.isOtherUser?((0,o.wg)(),(0,o.iD)("div",y,(0,r.zw)(e.$t("user_card.follows_you")),1)):(0,o.kq)("",!0),!e.isOtherUser||!e.loggedIn&&e.switcher?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",D,["disabled"!==e.userHighlightType?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,id:"userHighlightColorTx"+e.user.id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.userHighlightColor=t}),class:"input userHighlightText",type:"text"},null,8,_)),[[i.nr,e.userHighlightColor]]):(0,o.kq)("",!0),"disabled"!==e.userHighlightType?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,id:"userHighlightColor"+e.user.id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.userHighlightColor=t}),class:"input userHighlightCl",type:"color"},null,8,k)),[[i.nr,e.userHighlightColor]]):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(K,{id:"userHighlightSel"+e.user.id,modelValue:e.userHighlightType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.userHighlightType=t}),class:"userHighlightSel"},{default:(0,o.w5)((function(){return[(0,o._)("option",C,(0,r.zw)(e.$t("user_card.highlight.disabled")),1),(0,o._)("option",S,(0,r.zw)(e.$t("user_card.highlight.solid")),1),(0,o._)("option",j,(0,r.zw)(e.$t("user_card.highlight.striped")),1),(0,o._)("option",F,(0,r.zw)(e.$t("user_card.highlight.side")),1)]})),_:1},8,["id","modelValue"])]))]),e.loggedIn&&e.isOtherUser?((0,o.wg)(),(0,o.iD)("div",A,[(0,o._)("div",O,[(0,o.Wm)(Y,{relationship:e.relationship,user:e.user},null,8,["relationship","user"]),e.relationship.following?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.relationship.subscribing?((0,o.wg)(),(0,o.j4)(Q,{key:1,class:"btn button-default toggled",click:e.unsubscribeUser,title:e.$t("user_card.unsubscribe")},{default:(0,o.w5)((function(){return[(0,o.Wm)(J,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{icon:"rss",transform:"left-5 shrink-6 up-3 rotate-20",flip:"horizontal"}),(0,o.Wm)(Z,{icon:"rss",transform:"right-5 shrink-6 up-3 rotate-20"}),(0,o.Wm)(Z,{icon:"bell"})]})),_:1})]})),_:1},8,["click","title"])):((0,o.wg)(),(0,o.j4)(Q,{key:0,class:"btn button-default",click:e.subscribeUser,title:e.$t("user_card.subscribe")},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{icon:"bell"})]})),_:1},8,["click","title"]))],64)):(0,o.kq)("",!0)]),(0,o._)("div",null,[e.relationship.muting?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn button-default btn-block toggled",disabled:e.user.deactivated,onClick:t[6]||(t[6]=function(){return e.unmuteUser&&e.unmuteUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.muted")),9,E)):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[7]||(t[7]=function(){return e.muteUser&&e.muteUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.mute")),9,z))]),(0,o._)("div",null,[(0,o._)("button",{class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[8]||(t[8]=function(){return e.mentionUser&&e.mentionUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.mention")),9,x)]),e.showModerationMenu?((0,o.wg)(),(0,o.j4)(X,{key:0,user:e.user},null,8,["user"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),!e.loggedIn&&e.user.is_local?((0,o.wg)(),(0,o.iD)("div",P,[(0,o.Wm)(ee,{user:e.user},null,8,["user"])])):(0,o.kq)("",!0),e.loggedIn&&e.isOtherUser&&(e.hasNote||e.hasNoteEditor&&e.supportsNote)?((0,o.wg)(),(0,o.j4)(te,{key:2,user:e.user,relationship:e.relationship,editable:e.hasNoteEditor},null,8,["user","relationship","editable"])):(0,o.kq)("",!0)])],2),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",I,[!e.mergedConfig.hideUserStats&&e.switcher?((0,o.wg)(),(0,o.iD)("div",T,[(0,o._)("div",{class:"user-count",onClick:t[9]||(t[9]=(0,i.iM)((function(t){return e.setProfileView("statuses")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.statuses")),1),(0,o._)("span",null,[(0,o.Uk)((0,r.zw)(e.user.statuses_count)+" ",1),B])]),(0,o._)("div",{class:"user-count",onClick:t[10]||(t[10]=(0,i.iM)((function(t){return e.setProfileView("friends")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.followees")),1),(0,o._)("span",null,(0,r.zw)(e.hideFollowsCount?e.$t("user_card.hidden"):e.user.friends_count),1)]),(0,o._)("div",{class:"user-count",onClick:t[11]||(t[11]=(0,i.iM)((function(t){return e.setProfileView("followers")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.followers")),1),(0,o._)("span",null,(0,r.zw)(e.hideFollowersCount?e.$t("user_card.hidden"):e.user.followers_count),1)])])):(0,o.kq)("",!0),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(H,{key:1,class:"user-card-bio",html:e.user.description_html,emoji:e.user.emoji,"handle-links":!0},null,8,["html","emoji"]))])),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmMute?((0,o.wg)(),(0,o.j4)(oe,{key:0,title:e.$t("user_card.mute_confirm_title"),"confirm-text":e.$t("user_card.mute_confirm_accept_button"),"cancel-text":e.$t("user_card.mute_confirm_cancel_button"),onAccepted:e.doMuteUser,onCancelled:e.hideConfirmMute},{default:(0,o.w5)((function(){return[(0,o.Wm)(ne,{keypath:"user_card.mute_confirm",tag:"div"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,$)]})),_:1}),(0,o._)("div",U,[(0,o._)("label",null,(0,r.zw)(e.$t("user_card.mute_duration_prompt")),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.muteExpiryAmount=t}),type:"number",class:"expiry-amount hide-number-spinner",min:0},null,512),[[i.nr,e.muteExpiryAmount]]),(0,o.Wm)(K,{modelValue:e.muteExpiryUnit,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.muteExpiryUnit=t}),unstyled:"true",class:"expiry-unit"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.muteExpiryUnits,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,r.zw)(e.$t("time.".concat(t,"_short"),[""])),9,M)})),128))]})),_:1},8,["modelValue"])])]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))],2)}]])},12061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i=n(42262),s=n(4493);const a={props:{user:Object,at:{type:Boolean,default:!0}},components:{UnicodeDomainIndicator:i.Z},methods:{userProfileLink:function(e){return(0,s.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},u=(0,n(83744).Z)(a,[["render",function(e,t,n,i,s,a){var u=(0,o.up)("UnicodeDomainIndicator"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(c,{title:e.user.screen_name_ui,to:e.userProfileLink(e.user)},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.at?"@":"")+(0,r.zw)(e.user.screen_name_ui),1),(0,o.Wm)(u,{user:e.user},null,8,["user"])]})),_:1},8,["title","to"])}]])},70670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(66252);const r={name:"UserPopover",props:["userId","overlayCenters","disabled","overlayCentersSelector"],components:{UserCard:n(87607).Z,Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,67943))}))},computed:{userPopoverAvatarAction:function(){return this.$store.getters.mergedConfig.userPopoverAvatarAction},userPopoverOverlay:function(){return this.$store.getters.mergedConfig.userPopoverOverlay}}},i=(0,n(83744).Z)(r,[["render",function(e,t,n,r,i,s){var a=(0,o.up)("UserCard"),u=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(u,{trigger:"click","popover-class":"popover-default user-popover","overlay-centers-selector":e.overlayCentersSelector||".user-info .Avatar","overlay-centers":e.overlayCenters&&e.userPopoverOverlay,disabled:e.disabled},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(t){var n=t.close;return[(0,o.Wm)(a,{class:"user-popover","user-id":e.userId,"hide-bio":!0,"avatar-action":"close"==e.userPopoverAvatarAction?n:e.userPopoverAvatarAction,"on-close":n},null,8,["user-id","avatar-action","on-close"])]})),_:3},8,["overlay-centers-selector","overlay-centers","disabled"])}]])},1297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=["src","loop","controls","alt","title"];const i={props:["attachment","controls"],data:function(){return{blocksSuspend:!1,hasAudio:!0}},computed:{loopVideo:function(){return this.$store.getters.mergedConfig.loopVideoSilentOnly?!this.hasAudio:this.$store.getters.mergedConfig.loopVideo}},methods:{onPlaying:function(e){this.setHasAudio(e),this.loopVideo?this.$emit("play",{looping:!0}):this.$emit("play")},onPaused:function(e){this.$emit("pause")},setHasAudio:function(e){var t=e.srcElement||e.target;this.hasAudio&&(void 0!==t.webkitAudioDecodedByteCount&&t.webkitAudioDecodedByteCount>0||void 0!==t.mozHasAudio&&t.mozHasAudio||void 0!==t.audioTracks&&t.audioTracks.length>0||(this.hasAudio=!1))}}},s=(0,n(83744).Z)(i,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("video",{class:"video",preload:"metadata",src:e.attachment.url+"#t=0.00000000000001",loop:e.loopVideo,controls:e.controls,alt:e.attachment.description,title:e.attachment.description,playsinline:"",onPlaying:t[0]||(t[0]=function(){return e.onPlaying&&e.onPlaying.apply(e,arguments)}),onPause:t[1]||(t[1]=function(){return e.onPaused&&e.onPaused.apply(e,arguments)})},null,40,r)}]])},27650:(e,t,n)=>{var o={"./ar.json":[36224,7808],"./ca.json":[49394,6234],"./cs.json":[87436,7433],"./de.json":[25195,9459],"./en.json":[88797],"./eo.json":[97898,4646],"./es.json":[98559,3968],"./et.json":[13230,4451],"./eu.json":[84826,4542],"./fa.json":[52006,2953],"./fi.json":[70823,9738],"./fr.json":[61341,3746],"./ga.json":[41647,830],"./he.json":[92215,379],"./hu.json":[95028,5494],"./id.json":[62263,2513],"./it.json":[2533,1159],"./ja_easy.json":[8439,8714],"./ja_pedantic.json":[22838,325],"./ko.json":[10707,9670],"./nan-TW.json":[42101,9862],"./nb.json":[72358,7845],"./nl.json":[49922,6256],"./oc.json":[47297,617],"./pl.json":[82098,5571],"./pt.json":[94465,4047],"./ro.json":[64367,6342],"./ru.json":[73289,5964],"./sk.json":[31478,1547],"./te.json":[32781,2044],"./uk.json":[8411,5253],"./vi.json":[6294,4975],"./zh.json":[4425,5929],"./zh_Hant.json":[37644,6544]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=27650,e.exports=r},72:(e,t,n)=>{var o={"./components/alert.style.js":73359,"./components/attachment/attachment.style.js":91488,"./components/badge.style.js":25982,"./components/border.style.js":92274,"./components/button.style.js":69050,"./components/button_unstyled.style.js":33915,"./components/chat/chat.style.js":84369,"./components/chat_message/chat_message.style.js":92260,"./components/fun_text.style.js":30623,"./components/icon.style.js":85516,"./components/input.style.js":91142,"./components/link.style.js":98758,"./components/list/list_item.style.js":67997,"./components/menu_item.style.js":55061,"./components/mobile_drawer.style.js":81875,"./components/modal/modals.style.js":72325,"./components/notification/notification.style.js":63142,"./components/panel.style.js":79803,"./components/panel_header.style.js":75989,"./components/poll/poll_graph.style.js":42705,"./components/popover.style.js":77134,"./components/rich_content/rich_content.style.js":41733,"./components/root.style.js":52187,"./components/scrollbar.style.js":39660,"./components/scrollbar_element.style.js":81462,"./components/status/post.style.js":3165,"./components/tab_switcher/tab.style.js":71792,"./components/text.style.js":63907,"./components/top_bar.style.js":4748,"./components/underlay.style.js":5801,"./components/user_avatar/avatar.style.js":20999,"./components/user_card/user_card.style.js":99366};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=72},31934:(e,t,n)=>{"use strict";e.exports=n.p+"static/img/pleromatan_apology.f9d5180.png"},95326:(e,t,n)=>{"use strict";e.exports=n.p+"static/img/pleromatan_apology_fox.038b0bb.png"},68789:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACvCAQAAAChxLOoAAAK0klEQVR42u2de3BU1R3HP7tJeGd5RCAqiGIECUiB1qACllpbn2DUEUalM7U+sPbhWB1UdKrWccbiTDtqrcVaGVuttZaKYnVQEBEkiihRUJQhQkSxaJ7EvLP77R9Jl93s69695969cfjdP5K7uefcfPf8fuf3OL/zOwHxzaAgh4EcBtJngAxntPdAAi4I++8o5rJvApAvOIKT+Ch6P5KfU8mzLiOR6etcRSTdLkQ7KtfNalREpcLdy3yX90uSKoXQkeqmVk1yG4h5YS8B4FtMJZ8/9Hw2gEqW0c9Nzso33mNXz8/zmcVF0U/7cSMjuBr5HshBQmM5m0mc0PPBRUzpNdFfSSRyTdDnwl6mdUpOnTG/h7VCs/wr7MfqKYVTwIjEAemmj7VMMxUwC8S5HrmM5QzJghE+YRUTWUCrH1irQEsUkROau90HrBXUMw5hSB16VGNzC2Sg7pMZ+lpLlJcrICXaJZO0zakRk12zS1Un09SiGxT0Esj52iq36A2N9wbIUXpJrXKTGjT/ZdeBXKwDjmepzBTWra4B+QDN0Bp1egCjm8pdABJBx+tZeUVd2qBrs5mMM5koRdzLlQRcd7kPsI1tVLBxR8MUF3z2W7gtCzvKOnWwlkoq2coeN22ti11mo5X6VIO9cHW30OYqO9Uz35jtmxbIPhZR5SKQn3AS/b2KawWYyenM5nsMIUzQuNiHOcg+mrmAr7zxR4bqbscTq1J6kQs8Cwfd38gch99YXooISguX80/PgtgziAmBZs3GCZ+0s5qZPOVl7LeErQw1Lu67uibmezBrddNAjuQi1vbAqDEKZEL+MO8CdFN5kImEgL2sZi3PGYUyjgavgLxVVXYcASBMPiwyzFxNHoZMj499dLzBEGcAUZuTpbflMDv6bzgHAh/RmBMgi49nLgDNBjR8EHg1N4uhAf5IAbCF66OLB9bH5qW4b7+71ZO5icb/VpK0R8UaqXabBkqn7tXmqEmyQk9IqjYZyLb6YJGWS5I2a4zoQCuztrm+0lL107WS7vI8Gn+A0XcxjvVsiOzt4cU5vO6ADR6ijgXMNCfq2Ufj87RNktSUdej0JrMrJNk3naFWSWGdrC+i/1ytWvS1WixCeVEhP6zqvstVhAlSxBzei1qzR/GA5XnsHDZylD/WEJeoXQ8roEH6mXZKCusRddhisPc1yAdriCvRWaro5vUuVKTrYtjMKv3eZ5kPjegKNWe1zDPUV5kPoek8zKAsGg7mcs9trTQ0gsezDu1c5aWrm54G8RxnOmhfzAF/jMidjmDAJb5grYcPeSnZ0mn+YK3R7KPAUQ81FBPOPWuVOYQBISb4QUZOM8DgM/0AZLiBEMh+PwCJGOijxg9Aig308X0/ACky0Mfseh8AMbH4UzbcB0DyjLDnSd8MYYfyHAMJk5XxnkhnOuRvAybKTMpp4C6HK7QdDI6JX3rss8deDzpOIBjnj9z49Qb0uw88RNjqeNFmmD+AfMp2hz2U+gMI/Mdh+6l+AfIvh/plgl+A7GJ33H0Fq2y1H+sXILAx7m4Wd/OhjdbjO30DZE2v+4UspMVy68ICJ9l6RndxDOu1JPdZlz1FWeoHhQjQwCtx90fnTWCdjfZn+IW1SEhYWmwrhvhjv7AWKlJbHLNUKmQr7bnUH6zFiloei/tgEvm8aaODa3JpxsfTUD6MW1BbzDiWWm7dxFT2+kFGoJHb4+5/aSuRqZCnO3wyIlDAJ4yJuX+XMYyy0X6yLTXq2ohAJwvpjDMGR9lq/0N/sBbQvjnOgMzPOHH2BjLAJ0D6JxorduJi53CANdzCdFsRM5f2l89KuenVDlXpJo28Nkcb87uvgB41tKehQ6/pvOacAUFHaKfBLRp/zZQh4V5dlDrnax4x9CN2Me9Tr4W9h7L3LpLpxJGsPGZ5miCga6z1Kxf2KDbrLY1xaz97Kv97ByHjvYaBOhbxsnesNZc8DjrwLZJTHnmMZHWyBIOAa2UxglRQlmXbrrTWgGjnlGiym+vC3s9BnKorbRZegAH8vffavntATnAQy+2fMQ+ilJu9Yq0JfIyb1MrY2C0CeXe69aJaRhOJ80tMez3/jXWiA64W0zubl1zsfX1s+Mjd0m1zXe3927Fzm7tAjnO191BsFoy7QCa52nskWnDJDpA3gTqbgQ2DG5mSq9wS6/50tNEp05gzYjxDKAAOUEsnO9ka+TLNN3Eqg10ekQJ7QE7nes5Irt6Cn/MClexhC/UJdlEZuDwiX1sHks893Jgm2+RoFvf8VkM1nVTTSiFjCFHiQYGFTqt6pJCnOA//UhlvWxmRUp5mCn6mfVZG5GReM5Quk60oZ5pR62JT3lI9fCKrcgrDimLYkfnxYbxicK+NW1SRCUg+G120Ws3RvzMB+YXPRbyb9h+asZIDKeU2+gK9GO8OJwJ5wkH6q5eVwh9LPzcsZbqDzgPejUdbRTqfvYhqlw09U/56ae8l0/gRua5PwIA7Eld+Y0ekPx9xbB+AsZ0ZifmosSNyZ5+A0cTCZGm1h0akgL19QJu3c27yAgvBGCOx2PcwOliQqk7EISDTjQYi3NAoLZRHnk/tAf6fJhp9qXmNUscFbApaMJYLfc1UOziZTdas/jyjLw4b7e0RyvgkU3DBHWYwJ2+f81NW23lhxJcysoJSKzDcKIBvjj5j0cENIdssUOM7IO+wIZQFL1f5Dsjg1qyEcpPvgGigjYejMtL5fsHu2Oi2Bd1dxRa+pAv4jDZmMZ3JPULeZUT27HmqMWkQSy0nU1TqEoXaeiVRdKChOkcPaK+RXC1pt52iPLE3w9VgqdTzbzJUEw9omREgNeqXXQJzvYUKlk2cxa8z6BwZykIZYSe/KF4Dp6/7E6aROay10OsoI0ACHJklkIodPJ7yyU6CXNo7A8QFIIox20dnJ+zdVWT3pOTZzZZrb33pKIfxUNXZq7JP8m+kPGV6UrXF72YaIx2MSEEMaxVnKyMA73FBiu1E37EYLJqNKSp1AgReY27SorglvB7l2nxSq11zIXAb6/SpVqz6cwVLkmQuNLOKDymknvtSznDvMMMQkBobTJpWaOdrfdL9OM9oQJoNY50Gz1kImisUNlnPx3Tdphc0O+3z5xnNLJ1gFUhm4+4D5nMc05hHkFdZlTHlcp4DDdKVULxnqFMZyZ6qHGSghBNCIAutFv42nR003lEiTTDJpENugEw2HLIYlBMga+Bq2g12WB+/lp7t9Gv/Gqva6HTdrHccnSDToAc1wvq7zYaDhrOaY2ikmk28yZNJWKWVzylMadWKANDJ3/gzW2xG2lzaqxDSsrTjkcwZblNEYf1DJf44M5QWFNI9WbBVhzr03e3+2KsLMHAQV3Nr0qDpk6xMa8AXMHmKsZnbuYN6IfcmgbGfyw8u6lVypCXOYRBvZ0xDD3glIwGdrqYk3H+HBgrN63UKSb261KQuVetP+oGOdVKT2TSQ8b1KS0dUpb9oqhCapNqEg+q6YU50/mbT0fhQdPDreYZXeIMvon97iBG9xQmIcLeRfQ3GZ62HJB3UDQn7BsuTzlQf61SfHtncgSYnOZ2qv3YngGjXMlOFpN3cGRp/LU04YGidTtvn60O0k10n9jpFcaeu0HAn51HmBkhe9FSF7in3Ho01fTywN0DOiIGxTtOU3zfOZ0+8Rmm/JOldXakhbr0l4Eka4lAupIYKcwfZeBF8yBEFOQzkMJDDQNLR/wB7JNbnLtPZmwAAAABJRU5ErkJggg=="},43011:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACvCAQAAAChxLOoAAAJBUlEQVR42u2da3CUVxnHf7vZJCSBTcI1tIR7AwkXEUeYctEOFi0dGCnWUkudKUMpHXS0VacqMtMytTOVD3U0Itaq1amMl8poRbSdFjtahbYWRKmlZaiAULADKSSEpLns/v2QNWR3E7rvnvPuOe3wvB+y75uc581vz3POec5zbhHx3pAol0Eug7xrQKoZVXiQSAiF/SFquOW9AHKK4czg1d77EXyW/fw6ZBLZvq5XUtJGITrQcn1ZzUqqQYR72Vf5LUnSfiE0Wj3SrvqwQewX9skAvI+ZxPhO6tkg9rOZkjAtK2ZdY3fq51Lms6L3aQlfZChrkfcgLcRruY56rko9WMH0jIp+DcnkHVHPC/sc7VL/0tXnc0JLfS4j4/kZe1g0wPeUVtmzxN+W/RYOcPOAeiJpxhuhqPdzDXexgzI/ykgxd/MgkQApzgEl3Mg6FhAFKml3X0aielxJBZGElulOHe+9b1XUfYMY0dcVVM7rQtr9TueFfS/cy9cCJxtMeVoV8Dv3TuNidlJs+O4EkzjmttYq4SFjDHiy+Zjr6vcLGa12frXMxkrHLXu13papJLXuSbdufBN6xBijS9evt+yiBC/sYzhiwdVczY9duyiNVjzm26i0CxI0C6cqIRuSVKNb7/dGS33KCGuodWdaMT5l7c1lbHQHchNTLb57LZ+258YHqbWiHKDBchFN0MJxLvBxTheuP7LICCPRp1N1UYqopoqbTTGCmdY9Rm8qGiCC0sYqflnI6neV7Mvb+q2mF7Zln8xL1pswONQ9JVawWquM0azgmRTGGasgdbGqwgUfZtLIFOLAUXbwDE9YRRnHuUKBvPD6nAlEgAQxuNWycZ0vYDhoUt8/nWjRyYsgmpy07A/Dgn4jiPmBwKs0OwFZN4lrALgQKCg38Jv/6MbXivBdioEX+Xzv4EHuefOHtG+/J9U2N/2Rb0iSjqhGI9QRuHP7oHb39kUe1U8lHVOk8H32YXpYkrRbY0Qn2p53a35aG1SiOyVtKnif/U1GbWIcz/Kn5NGULS7kzwZmsIW3uIm59op6/kHsIv09Fc09lGfOfMmmYZkEsWerXVJCH9Sp3n+uSW1qVVuOKL9X3IcRq33cToIow1jIP1LPOriCb+dcjy3hOa5wbVo91z3q0FZFVK7P6KCkhL6vzkAG9k+VezBhYDv6mPb02Ho3Gqb1fcwsV/mmZzMfmtHqjGGc3KRVlV7NfIi/n62pYZxgUsEqd8MK2TKUn1CaZ9rbCx0OGljKeYJrDdLX8KYfOXKfEQZ80gvT2nqxl5KvzPPDtEZx3HBE8Qw1JNyb1hzjgdE4dT6UkXkWDHyuDyDVFkIgJ30ASVrQccYHkBoLOj7iA8gwCzoWnPUAJGJBx5xqD0CKrJjnjPdGYYfljkES5OW8Z8u1hvZtwUWZy3LOsSlvN75HOqnoE78scJ+979VoPBA3zo+58c9aaN896CHCS8aDNlV+gPyHA4YaGvwAgZ2G6Wf6AvIrw/alzheQQxxOu9/DbwKlr/UFBJ5Lu5vP/bwSIPXELm9Ansq4X8lK2nJOPaR4sA8NIkJVGUNyJ7qDNZQNviwWO8fTafdXFtWxK0D6Rb6YFlkTltYFiiHe5otpoWEZs7T3Kx5ojUmDH6bFo038KO1BPTGeD6DgDpdufLpU8kragNo6xrEh59TnmclRH8oINGdMg/1coIlMQ/hFpyc5AsX8mzF97vcxhpEB0k8L1IyGliPQxUq60pzBkYHSf9QP0wI6dqc5kLF3rDjTZWE+AaZQQEqznZUgcbEl+Wy1ENYa4MMGQaIyGvMoJCEtAo7oB0aLMsa6X5j//+/nK312fQga8Isw3BfTgrfyHvNooTX44FGYG7zk27uoos0nkLuYY+DmBE4bCWkThlpeJm5QwhJM4IQPOXINRbQYpI+lJuY6B3mMeN61FiSApb6UkRKDOFU34gOdnoBcZRDLLSXB+JJBfoB0GKSNECMWLEfDAznEVl4w0jDKDxBYz31G6af4AkLQKjSjLRnrD8gEo3Iy3h+QesN4jCcgEcOFTNW+gFxNhVH6Cl9Axph2A7o8AZllmP7K4jI/QCYYpo8y2g+Q2caVxXUegCRNJ6QlgU+47yFClFbjjRBaGeLetIYzyFhHWe5fRXggUy1MESzK3d8KD2SWFS0V7kFmWNEScwySNG9FeiTnMeHwaq0mhloJYXS5Na0ogy1oeYMu12VknJVNcQ+6b9mHWNGy1z1InRUtB9yDxK1oOeIeJGJFy7/cg9iY+J8IMgE3LJApFnScCDIyHBaIjUMJuoMYaFgg/7Wgoxm5B6mzUkZwD9JlQcdZH0DGW9DR5hwkcXELqIK1RaGARDEMlqZ6h+2uQSKlVvSqzHkZqSn8Qs1wQOz01yvdN4h2+utVQdbJhwMyzYqWoUG6y+GAjLRTZ7iPxpuAqE+DOMotSJGRp3VxdWhZkDHIMEBmMcIgdXEf06pxC7LAmqYGtyDTrWmqdwsy25qmAOPC9mO/VZy2dqhUkuJc++32c2S+xUO+oqlzypyALDNoQbr68becgSw2aMmj+XtttkEmGk2kyf5vSl2BmLmL2W57uROQp2Ct0aTMTDnLywFKmMWrVk29yycvaG/A47rS5ZwaNTT3d9s9D7GaHYylmWP8hefZ1o+ptPMGQwb0akUE6OIxHuHFgGuCQlrRE9fmS+ZHot99/ZNK6Oea7MeZobShuB7Iw6w61akPH/DmzFDKylnLV/sNHGxj+yUd+GKmTbdWc5t3UG/o92jBk6xquTVjVLAtLSwq/sZrgSvokMpIRB/S+X6s/16VCS1Td9rzs+rWeXXrmL6nxRpvsiezbZCJGVtLJ/W6fqiZQqheTRmAbSnMKeZvtn0cbbw388/yOE/zV071/m5L1qSOMiDJ/e9oUE6q3y2SWnR31s7Ky/utqV7T1Z4e2dyJpqki63mpDmdBdGizrY2kFVqDmHltyFrEukvzjnt9iHb/B6u1p2Ec1GpV2zv4tFAgRb2nKvRUuQ+o1u7m94UCWdQHY5dmKfbuOJ89+xqpk5KkfVqjwWG9JbypgOkhhBs4wx57B9kUIq7lSKJcBrkMchnkUvI/OFy4hX3mBzYAAAAASUVORK5CYII="}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,e=[],a.O=(t,n,o,r)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,o,r]=e[l],s=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](n[u])))?n.splice(u--,1):(s=!1,r<i&&(i=r));if(s){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[n,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var r=Object.create(null);a.r(r);var i={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(r,i),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"static/js/"+({50:"emoji-annotations/en_GB-json",227:"emoji-annotations/ha-json",278:"emoji-annotations/kn-json",313:"emoji-annotations/tg-json",325:"i18n/ja_pedantic-json",346:"emoji-annotations/rw-json",379:"i18n/he-json",420:"emoji-annotations/fi-json",457:"emoji-annotations/zh-json",577:"emoji-annotations/en_001-json",617:"i18n/oc-json",625:"emoji-annotations/so-json",678:"emoji-annotations/ps-json",786:"emoji-annotations/xh-json",830:"i18n/ga-json",1012:"emoji-annotations/or-json",1044:"emoji-annotations/zh_Hant_HK-json",1056:"emoji-annotations/uz-json",1095:"emoji-annotations/pl-json",1159:"i18n/it-json",1162:"emoji-annotations/ccp-json",1236:"emoji-annotations/fil-json",1290:"emoji-annotations/ja-json",1404:"emoji-annotations/km-json",1452:"emoji-annotations/yue-json",1546:"emoji-annotations/pt_PT-json",1547:"i18n/sk-json",1553:"emoji-annotations/sl-json",1584:"emoji-annotations/to-json",1596:"emoji-annotations/da-json",1613:"emoji-annotations/mai-json",1780:"emoji-annotations/tk-json",1790:"emoji-annotations/dsb-json",1821:"emoji-annotations/fr_CA-json",1911:"emoji-annotations/mr-json",1959:"emoji-annotations/su-json",2044:"i18n/te-json",2223:"emoji-annotations/fr-json",2243:"emoji-annotations/sa-json",2342:"emoji-annotations/az-json",2350:"emoji-annotations/sk-json",2397:"emoji-annotations/kl-json",2479:"emoji-annotations/jv-json",2513:"i18n/id-json",2569:"emoji-annotations/tt-json",2599:"emoji-annotations/kok-json",2656:"emoji-annotations/ckb-json",2685:"emoji-annotations/ml-json",2699:"emoji-annotations/es_MX-json",2767:"emoji-annotations/zh_Hant-json",2861:"emoji-annotations/hr-json",2873:"emoji-annotations/kk-json",2874:"emoji-annotations/sc-json",2883:"emoji-annotations/ku-json",2953:"i18n/fa-json",2966:"emoji-annotations/ko-json",2992:"emoji-annotations/eu-json",3056:"emoji-annotations/hi_Latn-json",3241:"emoji-annotations/sv-json",3276:"emoji-annotations/et-json",3313:"emoji-annotations/es_US-json",3377:"emoji-annotations/as-json",3568:"emoji-annotations/ti-json",3687:"emoji",3746:"i18n/fr-json",3887:"emoji-annotations/sr-json",3951:"emoji-annotations/th-json",3968:"i18n/es-json",3974:"emoji-annotations/bg-json",3994:"emoji-annotations/sw_KE-json",4047:"i18n/pt-json",4209:"emoji-annotations/doi-json",4354:"emoji-annotations/si-json",4368:"emoji-annotations/sq-json",4424:"emoji-annotations/yue_Hans-json",4451:"i18n/et-json",4542:"i18n/eu-json",4571:"emoji-annotations/ga-json",4646:"i18n/eo-json",4691:"emoji-annotations/ca-json",4710:"emoji-annotations/cs-json",4718:"emoji-annotations/mn-json",4770:"emoji-annotations/lb-json",4785:"emoji-annotations/ky-json",4786:"emoji-annotations/te-json",4879:"emoji-annotations/en_CA-json",4902:"emoji-annotations/hu-json",4975:"i18n/vi-json",5041:"emoji-annotations/pt-json",5104:"emoji-annotations/pcm-json",5115:"emoji-annotations/sr_Latn_BA-json",5119:"emoji-annotations/am-json",5224:"emoji-annotations/vi-json",5253:"i18n/uk-json",5304:"emoji-annotations/ha_NE-json",5401:"emoji-annotations/mni-json",5494:"i18n/hu-json",5521:"emoji-annotations/fa-json",5548:"emoji-annotations/he-json",5571:"i18n/pl-json",5728:"emoji-annotations/en-json",5887:"emoji-annotations/rm-json",5929:"i18n/zh-json",5964:"i18n/ru-json",5968:"emoji-annotations/hi-json",6060:"emoji-annotations/sr_Cyrl_BA-json",6068:"emoji-annotations/ka-json",6116:"emoji-annotations/gd-json",6126:"emoji-annotations/gl-json",6148:"emoji-annotations/br-json",6226:"emoji-annotations/de-json",6234:"i18n/ca-json",6256:"i18n/nl-json",6272:"emoji-annotations/cy-json",6342:"i18n/ro-json",6344:"emoji-annotations/hy-json",6355:"emoji-annotations/af-json",6544:"i18n/zh_Hant-json",6701:"emoji-annotations/mi-json",6773:"emoji-annotations/nl-json",6790:"emoji-annotations/my-json",6797:"emoji-annotations/ur-json",6826:"emoji-annotations/sd-json",6831:"emoji-annotations/es-json",6869:"emoji-annotations/chr-json",6936:"emoji-annotations/ia-json",6946:"emoji-annotations/pa-json",7164:"emoji-annotations/de_CH-json",7169:"emoji-annotations/lt-json",7261:"emoji-annotations/gu-json",7300:"emoji-annotations/is-json",7303:"emoji-annotations/wo-json",7304:"emoji-annotations/be-json",7360:"emoji-annotations/ar_SA-json",7433:"i18n/cs-json",7464:"emoji-annotations/lo-json",7569:"emoji-annotations/ast-json",7585:"emoji-annotations/sw-json",7808:"i18n/ar-json",7845:"i18n/nb-json",7855:"emoji-annotations/sat-json",7879:"emoji-annotations/el-json",7897:"emoji-annotations/ta-json",8015:"emoji-annotations/hsb-json",8031:"emoji-annotations/qu-json",8134:"emoji-annotations/bs-json",8395:"emoji-annotations/ru-json",8681:"emoji-annotations/sr_Latn-json",8714:"i18n/ja_easy-json",8732:"emoji-annotations/yo-json",8873:"emoji-annotations/es_419-json",8898:"emoji-annotations/lv-json",8970:"emoji-annotations/it-json",8988:"emoji-annotations/en_IN-json",8995:"emoji-annotations/fo-json",9064:"emoji-annotations/bn-json",9319:"emoji-annotations/zu-json",9360:"emoji-annotations/en_AU-json",9377:"emoji-annotations/ne-json",9399:"emoji-annotations/mt-json",9414:"emoji-annotations/nn-json",9459:"i18n/de-json",9465:"emoji-annotations/id-json",9670:"i18n/ko-json",9738:"i18n/fi-json",9757:"emoji-annotations/ug-json",9780:"emoji-annotations/kab-json",9790:"emoji-annotations/ceb-json",9862:"i18n/nan-TW-json",9864:"emoji-annotations/ro-json",9871:"emoji-annotations/uk-json",9873:"emoji-annotations/ar-json",9895:"emoji-annotations/ig-json",9921:"emoji-annotations/mk-json",9924:"emoji-annotations/ms-json",9926:"emoji-annotations/yo_BJ-json",9978:"emoji-annotations/tr-json",9979:"emoji-annotations/no-json",9994:"emoji-annotations/pa_Arab-json"}[e]||e)+"."+{48:"f58874c23a9bf1c1f591",50:"e12ddcfa4a9a2f213472",227:"e2936eb1824633263448",278:"0fb5386110af3ba2c4ee",313:"4f1783c6c1da758319c0",325:"7c472bf001679929edea",346:"c0b7cbff0696430bc3f5",379:"25ae71e0ad9cdd21d447",420:"5f54dd17041a9e6fb818",457:"d4e08be048463f199b6d",577:"6f674d7be8545f5249dd",617:"7ebe52b8d626dbf54a5f",625:"12a2621ada8dc497ef38",678:"88d6d49775d8f9c663c4",786:"5e356aaeaee395d041df",830:"72cfdbaab827e141e497",1012:"062e7bc0ce036e0869c2",1044:"3eeb1788264aaa9730cb",1056:"6f226c69bc9e3cdb2943",1095:"6c4f3b09781d790d0db6",1159:"1b71f7623efed055d62b",1162:"915ed087d80fc6754272",1236:"d057e86d94a109d9b786",1290:"98c56a5553477fcf8510",1404:"49435b294880e56b2ad5",1452:"a9b68824327da9c02318",1546:"dbd8d4cf53226f886114",1547:"47d5a2f34c7fdf53d2af",1553:"e64d6e5b433ff40babd2",1584:"360ff9ef00f0d1c7a57b",1596:"af3ed87176f973878b6e",1597:"134341dec11e42dd5fae",1613:"b3eb2867f3dae2f0ca2e",1780:"5673e32b5abc49b2a251",1790:"b3e9991da8c100724645",1821:"4e6a9b14341091c6742a",1911:"10d386d227d8eccd9f8c",1959:"b51522cc59d038be0544",2044:"cb97beb999533eaae9ae",2223:"26194bdddfdeb986269a",2243:"332142b117058f869a60",2342:"fc8b49efe1bec779ad7c",2350:"3db034c6717655dfbbf6",2397:"92776bda19293c36a513",2479:"9a579697582dd4da8515",2513:"b00a413b6132632523e5",2569:"249cbfc14263d519b9a9",2599:"79368ff8ed458bbadc8a",2656:"3e534416e3850186a747",2685:"4029b72c11321ff49f04",2699:"5e1160d486fdb5ee36e0",2767:"fd2741548c8119e002d3",2861:"7078f54504f4019e7019",2873:"e48b37a24122d49c3b21",2874:"8f7695808eb625453ecb",2883:"09d4b290940a5743f28b",2953:"95757c7acb6dff777d7d",2966:"f819232d4ea91159bbb0",2992:"c01381c77dfb84017633",3056:"59c70483862a83131f1e",3241:"8ac515e0f8396ddf6c08",3276:"bc2b2889a512210a1537",3313:"c23781e2ed7aa713e880",3377:"bd49b949563ed3872ea7",3568:"4408ab975172165278bd",3687:"56150ad938e521d9ef81",3746:"7a64af58316da6ca86f0",3887:"286656f6511ecef0620b",3951:"ba0ab95ab02ce2c939c6",3968:"16c8ca99bc2dee099ca0",3974:"aada1abf5a5718a2785a",3994:"34b7da43677fa56e5e0d",4047:"d6ce04e3e4e5a0e908bf",4209:"810d16be9637c3bc4d2d",4354:"3660e3b9815e1b9589e6",4368:"a10b52fc261fdb767e0e",4424:"d0b0f7e7004b95cf59f7",4451:"e6066512bb8a65a06f89",4542:"e519f9e06eed5ad3cf41",4571:"2d53f85b5672fc5b9cd6",4646:"1d790624b6ea3832617a",4691:"4bf349a90cbee89b8a8f",4710:"606d434132759db14a54",4718:"1d71d86a284b090f309c",4770:"ae00586748ab7e78fbcf",4785:"a4d7bf8aa6b9fc268ee4",4786:"5f3edfe74048b3f9d552",4879:"481fa7a1009de1e09a52",4902:"0d93fa9c70bd2987942a",4975:"07aaea2428bb6b5a5fab",5041:"e0210e062a8027ffb0f3",5104:"d34521c9683e5616db34",5115:"9efe70d4f87053f148b5",5119:"fd30fc79a9ef9f40bcb3",5224:"cb916206d909e482a501",5250:"f0d4cfa412bbf8163d11",5253:"b16cc51984a2c6585d41",5292:"125b85a896c810481068",5304:"5bb1461702b6b9a25a2a",5401:"b51930b659a2fbe92aee",5494:"cc3c026f0ff445ebb4b6",5521:"a2458e1e0433704fc9d6",5548:"b89324913e67b0cbef3a",5571:"d319c737d904c64d8eba",5728:"9049ee8252bf9c50468e",5887:"c77502e4c10101eb9113",5929:"5b36950c3b87c209730d",5964:"1aaf6c712db167fede4d",5968:"caa9039c69fc619bb4d2",6060:"f2de1698d736be7cb7d3",6068:"7ceb88c700f929fd1ba3",6116:"7b4f0937d99eaea7c15c",6126:"77123597a2fd634def06",6148:"623b25e4acdba3caea90",6226:"9592fc46ee6e2cc15606",6234:"f245d3f221094411dfcd",6256:"2fe76cb30e2fced8d88a",6272:"897b7ce472b1a390f392",6342:"3c4274351d849d5010b8",6344:"7392cd8d62c85a8f3d55",6355:"260623f695510b34c146",6464:"6f764a6d660917d88ca5",6544:"6b45d2e6967b35e56b44",6701:"5bf7d83b03a43d6b222e",6773:"b500e4e202a9368e2834",6790:"e9c9074bcb0b7cf27297",6797:"f9e844b4284c09a9fc7c",6826:"d7cc494d80b3e019846f",6831:"06f0b6d03919f378089e",6869:"037a46de1cb0ffa99c15",6936:"7abda2d4e5bb1ab9bb01",6946:"f1d90d460b83ede42498",7164:"c830189b2ad10099beec",7169:"b30554764cd9dcab0ffb",7261:"529b678e05ac5e6666f2",7300:"f4f8eed224a9921d9d08",7303:"a2bdd903832fd3246da2",7304:"390af96d7085a650d098",7360:"89b9143ae611e2581b5b",7433:"8cb69392de1a430e9c3f",7464:"1e5d90a5f496ece86600",7569:"b04ae8a41f30fcc498c6",7585:"72684aa7dac892cb8cb9",7594:"f0ffca037eec090815d9",7808:"bb22e819fa0ea9299fa4",7845:"2dd01f0c6cca8f008ffd",7855:"e66e1ab5f51865665b62",7879:"4a78f601c28981142d91",7897:"38b47dd7353471daf452",8015:"5752a21beca678ca22de",8031:"c2d7991f40a4a3d8d5e7",8134:"895d6c19c442497a4542",8395:"1f28233c5ea82e8b2e99",8681:"6d0e78c53a6c996f7148",8714:"b5f269a0a935c640f3b5",8732:"b92bb230b66b7d16a9b5",8873:"8424b58fe0295a7972dc",8898:"9fe5ebef8867a98f5dcc",8970:"da1cebce6afd4bb1ad5d",8988:"386a43a597b524565c01",8995:"5bc39548b737b814c5c3",9060:"606ed1efce1ce3be713d",9064:"71061bf9106a3f1d06d9",9319:"0c4786052604b3d521bc",9360:"88f983885c5e77a522d2",9377:"ace1f809ee53a942bf38",9399:"5bada7e5d0f89eec6a5f",9414:"d3b3cddc42dd89280d68",9459:"74b1f546c884d17b819a",9465:"be3d0b67868addd4d2ca",9670:"51d23959bb9bae4f0ecf",9738:"dcde7d5d3f4927b6667e",9757:"51de5e5ba7bcb8576f82",9780:"a11ac7782cf683ba1fc4",9790:"d7c07bee01a6e04f3214",9862:"80c0071ebf383eea3b8f",9864:"dccd74b28dd5784742c2",9871:"6a62f1a822def6f9226a",9873:"66fec1d991d30cf191ac",9895:"fec00094453b1024af11",9921:"a58099730061ede27597",9924:"17cbe626b4520009e9b9",9926:"67334e68952e79504647",9978:"713bfd260289f3323612",9979:"3c3a1928a4ec2842457e",9994:"7ecc921ea6ae7d5ad431"}[e]+".js",a.miniCssF=e=>"static/css/"+e+"."+{1597:"a250eca8cf87418c7b3e",5250:"b9104f3df4166526b081",5292:"035030cbb2311a7ddada",6464:"7845ee2ccc5e22628b2a",7594:"a8030565c3ef463dc1de"}[e]+".css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},r="pleroma_fe:",a.l=(e,t,n,i)=>{if(o[e])o[e].push(t);else{var s,u;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+n){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+n),s.src=e),o[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(m);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{if("undefined"!=typeof document){var e={2143:0};a.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{1597:1,5250:1,5292:1,6464:1,7594:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var o=a.miniCssF(e),r=a.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(s=n[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var s;if((r=(s=i[o]).getAttribute("data-href"))===e||r===t)return s}})(o,r))return t();((e,t,n,o,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)o();else{var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,i.parentNode&&i.parentNode.removeChild(i),r(u)}},i.href=t,document.head.appendChild(i)})(e,r,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{var e={2143:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,s,u]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(u)var l=u(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(l)},n=self.webpackChunkpleroma_fe=self.webpackChunkpleroma_fe||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var u=a.O(void 0,[6561],(()=>a(6560)));u=a.O(u)})();
//# sourceMappingURL=app.3fbb12e9679dc0e0aa33.js.map