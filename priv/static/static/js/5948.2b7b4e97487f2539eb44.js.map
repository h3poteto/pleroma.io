{"version":3,"file":"static/js/5948.2b7b4e97487f2539eb44.js","mappings":"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","sources":["webpack://pleroma_fe/./src/services/export_import/export_import.js","webpack://pleroma_fe/./node_modules/utf8/utf8.js","webpack://pleroma_fe/./src/components/settings_modal/settings_modal.vue","webpack://pleroma_fe/./src/components/async_component_error/async_component_error.vue","webpack://pleroma_fe/./src/components/async_component_error/async_component_error.vue?c151","webpack://pleroma_fe/./src/components/settings_modal/settings_modal.js","webpack://pleroma_fe/./src/services/resettable_async_component.js","webpack://pleroma_fe/./src/components/settings_modal/settings_modal.vue?2a2f"],"sourcesContent":["import utf8 from 'utf8'\n\nexport const newExporter = ({\n  filename = 'data',\n  getExportedObject\n}) => ({\n  exportData () {\n    const stringified = utf8.encode(JSON.stringify(getExportedObject(), null, 2)) // Pretty-print and indent with 2 spaces\n\n    // Create an invisible link with a data url and simulate a click\n    const e = document.createElement('a')\n    e.setAttribute('download', `${filename}.json`)\n    e.setAttribute('href', 'data:application/json;base64,' + window.btoa(stringified))\n    e.style.display = 'none'\n\n    document.body.appendChild(e)\n    e.click()\n    document.body.removeChild(e)\n  }\n})\n\nexport const newImporter = ({\n  onImport,\n  onImportFailure,\n  validator = () => true\n}) => ({\n  importData () {\n    const filePicker = document.createElement('input')\n    filePicker.setAttribute('type', 'file')\n    filePicker.setAttribute('accept', '.json')\n\n    filePicker.addEventListener('change', event => {\n      if (event.target.files[0]) {\n        // eslint-disable-next-line no-undef\n        const reader = new FileReader()\n        reader.onload = ({ target }) => {\n          try {\n            const parsed = JSON.parse(target.result)\n            const validationResult = validator(parsed)\n            if (validationResult === true) {\n              onImport(parsed)\n            } else {\n              onImportFailure({ validationResult })\n            }\n          } catch (error) {\n            onImportFailure({ error })\n          }\n        }\n        reader.readAsText(event.target.files[0])\n      }\n    })\n\n    document.body.appendChild(filePicker)\n    filePicker.click()\n    document.body.removeChild(filePicker)\n  }\n})\n","/*! https://mths.be/utf8js v3.0.0 by @mathias */\n;(function(root) {\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\troot.version = '3.0.0';\n\troot.encode = utf8encode;\n\troot.decode = utf8decode;\n\n}(typeof exports === 'undefined' ? this.utf8 = {} : exports));\n","<template>\n  <Modal\n    :is-open=\"modalActivated\"\n    class=\"settings-modal\"\n    :class=\"{ peek: modalPeeked }\"\n    :no-background=\"modalPeeked\"\n  >\n    <div class=\"settings-modal-panel panel\">\n      <div class=\"panel-heading\">\n        <span class=\"title\">\n          {{ $t('settings.settings') }}\n        </span>\n        <transition name=\"fade\">\n          <div\n            v-if=\"currentSaveStateNotice\"\n            class=\"alert\"\n            :class=\"{ transparent: !currentSaveStateNotice.error, error: currentSaveStateNotice.error}\"\n            @click.prevent\n          >\n            {{ currentSaveStateNotice.error ? $t('settings.saving_err') : $t('settings.saving_ok') }}\n          </div>\n        </transition>\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('general.peek')\"\n          @click=\"peekModal\"\n        >\n          <FAIcon\n            :icon=\"['far', 'window-minimize']\"\n            fixed-width\n          />\n        </button>\n        <button\n          class=\"btn button-default\"\n          :title=\"$t('general.close')\"\n          @click=\"closeModal\"\n        >\n          <FAIcon\n            icon=\"times\"\n            fixed-width\n          />\n        </button>\n      </div>\n      <div class=\"panel-body\">\n        <SettingsModalContent v-if=\"modalOpenedOnce\" />\n      </div>\n      <div class=\"panel-footer settings-footer\">\n        <Popover\n          class=\"export\"\n          trigger=\"click\"\n          placement=\"top\"\n          :offset=\"{ y: 5, x: 5 }\"\n          :bound-to=\"{ x: 'container' }\"\n          remove-padding\n        >\n          <template #trigger>\n            <button\n              class=\"btn button-default\"\n              :title=\"$t('general.close')\"\n            >\n              <span>{{ $t(\"settings.file_export_import.backup_restore\") }}</span>\n              {{ ' ' }}\n              <FAIcon\n                icon=\"chevron-down\"\n              />\n            </button>\n          </template>\n          <template #content=\"{close}\">\n            <div class=\"dropdown-menu\">\n              <button\n                class=\"button-default dropdown-item dropdown-item-icon\"\n                @click.prevent=\"backup\"\n                @click=\"close\"\n              >\n                <FAIcon\n                  icon=\"file-download\"\n                  fixed-width\n                /><span>{{ $t(\"settings.file_export_import.backup_settings\") }}</span>\n              </button>\n              <button\n                class=\"button-default dropdown-item dropdown-item-icon\"\n                @click.prevent=\"backupWithTheme\"\n                @click=\"close\"\n              >\n                <FAIcon\n                  icon=\"file-download\"\n                  fixed-width\n                /><span>{{ $t(\"settings.file_export_import.backup_settings_theme\") }}</span>\n              </button>\n              <button\n                class=\"button-default dropdown-item dropdown-item-icon\"\n                @click.prevent=\"restore\"\n                @click=\"close\"\n              >\n                <FAIcon\n                  icon=\"file-upload\"\n                  fixed-width\n                /><span>{{ $t(\"settings.file_export_import.restore_settings\") }}</span>\n              </button>\n            </div>\n          </template>\n        </Popover>\n\n        <Checkbox\n          :model-value=\"!!expertLevel\"\n          @update:modelValue=\"expertLevel = Number($event)\"\n        >\n          {{ $t(\"settings.expert_mode\") }}\n        </Checkbox>\n        <span\n          id=\"unscrolled-content\"\n          class=\"extra-content\"\n        />\n      </div>\n    </div>\n  </Modal>\n</template>\n\n<script src=\"./settings_modal.js\"></script>\n\n<style src=\"./settings_modal.scss\" lang=\"scss\"></style>\n","<template>\n  <div class=\"async-component-error\">\n    <div>\n      <h4>\n        {{ $t('general.generic_error') }}\n      </h4>\n      <p>\n        {{ $t('general.error_retry') }}\n      </p>\n      <button\n        class=\"btn button-default\"\n        @click=\"retry\"\n      >\n        {{ $t('general.retry') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  emits: ['resetAsyncComponent'],\n  methods: {\n    retry () {\n      this.$emit('resetAsyncComponent')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.async-component-error {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n\n  .btn {\n    margin: 0.5em;\n    padding: 0.5em 2em;\n  }\n}\n</style>\n","import { render } from \"./async_component_error.vue?vue&type=template&id=0e326028\"\nimport script from \"./async_component_error.vue?vue&type=script&lang=js\"\nexport * from \"./async_component_error.vue?vue&type=script&lang=js\"\n\nimport \"./async_component_error.vue?vue&type=style&index=0&id=0e326028&lang=scss\"\n\nimport exportComponent from \"/builds/pleroma/pleroma-fe/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Modal from 'src/components/modal/modal.vue'\nimport PanelLoading from 'src/components/panel_loading/panel_loading.vue'\nimport AsyncComponentError from 'src/components/async_component_error/async_component_error.vue'\nimport getResettableAsyncComponent from 'src/services/resettable_async_component.js'\nimport Popover from '../popover/popover.vue'\nimport Checkbox from 'src/components/checkbox/checkbox.vue'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { cloneDeep } from 'lodash'\nimport {\n  newImporter,\n  newExporter\n} from 'src/services/export_import/export_import.js'\nimport {\n  faTimes,\n  faFileUpload,\n  faFileDownload,\n  faChevronDown\n} from '@fortawesome/free-solid-svg-icons'\nimport {\n  faWindowMinimize\n} from '@fortawesome/free-regular-svg-icons'\n\nconst PLEROMAFE_SETTINGS_MAJOR_VERSION = 1\nconst PLEROMAFE_SETTINGS_MINOR_VERSION = 0\n\nlibrary.add(\n  faTimes,\n  faWindowMinimize,\n  faFileUpload,\n  faFileDownload,\n  faChevronDown\n)\n\nconst SettingsModal = {\n  data () {\n    return {\n      dataImporter: newImporter({\n        validator: this.importValidator,\n        onImport: this.onImport,\n        onImportFailure: this.onImportFailure\n      }),\n      dataThemeExporter: newExporter({\n        filename: 'pleromafe_settings.full',\n        getExportedObject: () => this.generateExport(true)\n      }),\n      dataExporter: newExporter({\n        filename: 'pleromafe_settings',\n        getExportedObject: () => this.generateExport()\n      })\n    }\n  },\n  components: {\n    Modal,\n    Popover,\n    Checkbox,\n    SettingsModalContent: getResettableAsyncComponent(\n      () => import('./settings_modal_content.vue'),\n      {\n        loadingComponent: PanelLoading,\n        errorComponent: AsyncComponentError,\n        delay: 0\n      }\n    )\n  },\n  methods: {\n    closeModal () {\n      this.$store.dispatch('closeSettingsModal')\n    },\n    peekModal () {\n      this.$store.dispatch('togglePeekSettingsModal')\n    },\n    importValidator (data) {\n      if (!Array.isArray(data._pleroma_settings_version)) {\n        return {\n          messageKey: 'settings.file_import_export.invalid_file'\n        }\n      }\n\n      const [major, minor] = data._pleroma_settings_version\n\n      if (major > PLEROMAFE_SETTINGS_MAJOR_VERSION) {\n        return {\n          messageKey: 'settings.file_export_import.errors.file_too_new',\n          messageArgs: {\n            fileMajor: major,\n            feMajor: PLEROMAFE_SETTINGS_MAJOR_VERSION\n          }\n        }\n      }\n\n      if (major < PLEROMAFE_SETTINGS_MAJOR_VERSION) {\n        return {\n          messageKey: 'settings.file_export_import.errors.file_too_old',\n          messageArgs: {\n            fileMajor: major,\n            feMajor: PLEROMAFE_SETTINGS_MAJOR_VERSION\n          }\n        }\n      }\n\n      if (minor > PLEROMAFE_SETTINGS_MINOR_VERSION) {\n        this.$store.dispatch('pushGlobalNotice', {\n          level: 'warning',\n          messageKey: 'settings.file_export_import.errors.file_slightly_new'\n        })\n      }\n\n      return true\n    },\n    onImportFailure (result) {\n      if (result.error) {\n        this.$store.dispatch('pushGlobalNotice', { messageKey: 'settings.invalid_settings_imported', level: 'error' })\n      } else {\n        this.$store.dispatch('pushGlobalNotice', { ...result.validationResult, level: 'error' })\n      }\n    },\n    onImport (data) {\n      if (data) { this.$store.dispatch('loadSettings', data) }\n    },\n    restore () {\n      this.dataImporter.importData()\n    },\n    backup () {\n      this.dataExporter.exportData()\n    },\n    backupWithTheme () {\n      this.dataThemeExporter.exportData()\n    },\n    generateExport (theme = false) {\n      const { config } = this.$store.state\n      let sample = config\n      if (!theme) {\n        const ignoreList = new Set([\n          'customTheme',\n          'customThemeSource',\n          'colors'\n        ])\n        sample = Object.fromEntries(\n          Object\n            .entries(sample)\n            .filter(([key]) => !ignoreList.has(key))\n        )\n      }\n      const clone = cloneDeep(sample)\n      clone._pleroma_settings_version = [\n        PLEROMAFE_SETTINGS_MAJOR_VERSION,\n        PLEROMAFE_SETTINGS_MINOR_VERSION\n      ]\n      return clone\n    }\n  },\n  computed: {\n    currentSaveStateNotice () {\n      return this.$store.state.interface.settings.currentSaveStateNotice\n    },\n    modalActivated () {\n      return this.$store.state.interface.settingsModalState !== 'hidden'\n    },\n    modalOpenedOnce () {\n      return this.$store.state.interface.settingsModalLoaded\n    },\n    modalPeeked () {\n      return this.$store.state.interface.settingsModalState === 'minimized'\n    },\n    expertLevel: {\n      get () {\n        return this.$store.state.config.expertLevel > 0\n      },\n      set (value) {\n        console.log(value)\n        this.$store.dispatch('setOption', { name: 'expertLevel', value: value ? 1 : 0 })\n      }\n    }\n  }\n}\n\nexport default SettingsModal\n","import { defineAsyncComponent, shallowReactive, h } from 'vue'\n\n/* By default async components don't have any way to recover, if component is\n * failed, it is failed forever. This helper tries to remedy that by recreating\n * async component when retry is requested (by user). You need to emit the\n * `resetAsyncComponent` event from child to reset the component. Generally,\n * this should be done from error component but could be done from loading or\n * actual target component itself if needs to be.\n */\nfunction getResettableAsyncComponent (asyncComponent, options) {\n  const asyncComponentFactory = () => () => defineAsyncComponent({\n    loader: asyncComponent,\n    ...options\n  })\n\n  const observe = shallowReactive({ c: asyncComponentFactory() })\n\n  return {\n    render () {\n      //  emit event resetAsyncComponent to reloading\n      return h(observe.c(), {\n        onResetAsyncComponent () {\n          observe.c = asyncComponentFactory()\n        }\n      })\n    }\n  }\n}\n\nexport default getResettableAsyncComponent\n","import { render } from \"./settings_modal.vue?vue&type=template&id=068fd1f8\"\nimport script from \"./settings_modal.js?vue&type=script&lang=js\"\nexport * from \"./settings_modal.js?vue&type=script&lang=js\"\n\nimport \"./settings_modal.scss?vue&type=style&index=0&lang=scss\"\n\nimport exportComponent from \"/builds/pleroma/pleroma-fe/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["newExporter","filename","getExportedObject","exportData","stringified","utf8","JSON","stringify","e","document","createElement","setAttribute","window","btoa","style","display","body","appendChild","click","removeChild","newImporter","onImport","onImportFailure","validator","importData","filePicker","addEventListener","event","target","files","reader","FileReader","onload","parsed","parse","result","validationResult","error","readAsText","root","byteArray","byteCount","byteIndex","stringFromCharCode","String","fromCharCode","ucs2decode","string","value","extra","output","counter","length","charCodeAt","push","checkScalarValue","codePoint","Error","toString","toUpperCase","createByte","shift","encodeCodePoint","symbol","readContinuationByte","continuationByte","decodeSymbol","byte1","version","encode","codePoints","index","byteString","decode","tmp","array","ucs2encode","exports","class","_createElementVNode","id","emits","methods","retry","this","$emit","_createElementBlock","_hoisted_1","_ctx","onClick","$options","library","faTimes","faWindowMinimize","faFileUpload","faFileDownload","faChevronDown","data","dataImporter","importValidator","dataThemeExporter","generateExport","dataExporter","components","Modal","Popover","Checkbox","SettingsModalContent","asyncComponent","options","loadingComponent","PanelLoading","errorComponent","AsyncComponentError","delay","asyncComponentFactory","defineAsyncComponent","loader","observe","shallowReactive","c","render","h","onResetAsyncComponent","closeModal","$store","dispatch","peekModal","Array","isArray","_pleroma_settings_version","messageKey","major","minor","messageArgs","fileMajor","feMajor","level","restore","backup","backupWithTheme","theme","config","state","sample","ignoreList","Set","Object","fromEntries","entries","filter","key","has","clone","computed","currentSaveStateNotice","settings","modalActivated","settingsModalState","modalOpenedOnce","settingsModalLoaded","modalPeeked","expertLevel","get","set","console","log","name","_createBlock","_component_Modal","_normalizeClass","peek","_hoisted_2","_hoisted_3","_createVNode","_Transition","transparent","title","_component_FAIcon","icon","_hoisted_6","_component_SettingsModalContent","_hoisted_7","_component_Popover","trigger","placement","offset","y","x","content","close","_hoisted_9","_component_Checkbox","Number","$event","_hoisted_13"],"sourceRoot":""}