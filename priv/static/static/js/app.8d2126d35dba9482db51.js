(()=>{var e,t,n,o,r,i={88797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={about:{mrf:{federation:e=>{const{normalize:t}=e;return t(["Federation"])},keyword:{keyword_policies:e=>{const{normalize:t}=e;return t(["Keyword policies"])},ftl_removal:e=>{const{normalize:t}=e;return t(['Removal from "The Whole Known Network" Timeline'])},reject:e=>{const{normalize:t}=e;return t(["Reject"])},replace:e=>{const{normalize:t}=e;return t(["Replace"])},is_replaced_by:e=>{const{normalize:t}=e;return t(["→"])}},mrf_policies:e=>{const{normalize:t}=e;return t(["Enabled MRF policies"])},mrf_policies_desc:e=>{const{normalize:t}=e;return t(["MRF policies manipulate the federation behaviour of the instance.  The following policies are enabled:"])},simple:{simple_policies:e=>{const{normalize:t}=e;return t(["Instance-specific policies"])},instance:e=>{const{normalize:t}=e;return t(["Instance"])},reason:e=>{const{normalize:t}=e;return t(["Reason"])},not_applicable:e=>{const{normalize:t}=e;return t(["N/A"])},accept:e=>{const{normalize:t}=e;return t(["Accept"])},accept_desc:e=>{const{normalize:t}=e;return t(["This instance only accepts messages from the following instances:"])},reject:e=>{const{normalize:t}=e;return t(["Reject"])},reject_desc:e=>{const{normalize:t}=e;return t(["This instance will not accept messages from the following instances:"])},quarantine:e=>{const{normalize:t}=e;return t(["Quarantine"])},quarantine_desc:e=>{const{normalize:t}=e;return t(["This instance will send only public posts to the following instances:"])},ftl_removal:e=>{const{normalize:t}=e;return t(['Removal from "Known Network" Timeline'])},ftl_removal_desc:e=>{const{normalize:t}=e;return t(['This instance removes these instances from "Known Network" timeline:'])},media_removal:e=>{const{normalize:t}=e;return t(["Media Removal"])},media_removal_desc:e=>{const{normalize:t}=e;return t(["This instance removes media from posts on the following instances:"])},media_nsfw:e=>{const{normalize:t}=e;return t(["Media force-set as sensitive"])},media_nsfw_desc:e=>{const{normalize:t}=e;return t(["This instance forces media to be set sensitive in posts on the following instances:"])}}},staff:e=>{const{normalize:t}=e;return t(["Staff"])}},announcements:{page_header:e=>{const{normalize:t}=e;return t(["Announcements"])},title:e=>{const{normalize:t}=e;return t(["Announcement"])},mark_as_read_action:e=>{const{normalize:t}=e;return t(["Mark as read"])},post_form_header:e=>{const{normalize:t}=e;return t(["Post announcement"])},post_placeholder:e=>{const{normalize:t}=e;return t(["Type your announcement content here..."])},post_action:e=>{const{normalize:t}=e;return t(["Post"])},post_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error: ",n(o("error"))])},close_error:e=>{const{normalize:t}=e;return t(["Close"])},delete_action:e=>{const{normalize:t}=e;return t(["Delete"])},start_time_prompt:e=>{const{normalize:t}=e;return t(["Start time: "])},end_time_prompt:e=>{const{normalize:t}=e;return t(["End time: "])},all_day_prompt:e=>{const{normalize:t}=e;return t(["This is an all-day event"])},published_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Published at ",n(o("time"))])},start_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Starts at ",n(o("time"))])},end_time_display:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Ends at ",n(o("time"))])},edit_action:e=>{const{normalize:t}=e;return t(["Edit"])},submit_edit_action:e=>{const{normalize:t}=e;return t(["Submit"])},cancel_edit_action:e=>{const{normalize:t}=e;return t(["Cancel"])},inactive_message:e=>{const{normalize:t}=e;return t(["This announcement is inactive"])}},shoutbox:{title:e=>{const{normalize:t}=e;return t(["Shoutbox"])}},domain_mute_card:{mute:e=>{const{normalize:t}=e;return t(["Mute"])},mute_progress:e=>{const{normalize:t}=e;return t(["Muting…"])},unmute:e=>{const{normalize:t}=e;return t(["Unmute"])},unmute_progress:e=>{const{normalize:t}=e;return t(["Unmuting…"])}},exporter:{export:e=>{const{normalize:t}=e;return t(["Export"])},processing:e=>{const{normalize:t}=e;return t(["Processing, you'll soon be asked to download your file"])}},features_panel:{shout:e=>{const{normalize:t}=e;return t(["Shoutbox"])},pleroma_chat_messages:e=>{const{normalize:t}=e;return t(["Pleroma Chat"])},gopher:e=>{const{normalize:t}=e;return t(["Gopher"])},media_proxy:e=>{const{normalize:t}=e;return t(["Media proxy"])},scope_options:e=>{const{normalize:t}=e;return t(["Scope options"])},text_limit:e=>{const{normalize:t}=e;return t(["Text limit"])},title:e=>{const{normalize:t}=e;return t(["Features"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])},upload_limit:e=>{const{normalize:t}=e;return t(["Upload limit"])}},finder:{error_fetching_user:e=>{const{normalize:t}=e;return t(["Error fetching user"])},find_user:e=>{const{normalize:t}=e;return t(["Find user"])}},general:{apply:e=>{const{normalize:t}=e;return t(["Apply"])},submit:e=>{const{normalize:t}=e;return t(["Submit"])},more:e=>{const{normalize:t}=e;return t(["More"])},loading:e=>{const{normalize:t}=e;return t(["Loading…"])},generic_error:e=>{const{normalize:t}=e;return t(["An error occured"])},generic_error_message:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["An error occured: ",n(o(0))])},error_retry:e=>{const{normalize:t}=e;return t(["Please try again"])},retry:e=>{const{normalize:t}=e;return t(["Try again"])},optional:e=>{const{normalize:t}=e;return t(["optional"])},show_more:e=>{const{normalize:t}=e;return t(["Show more"])},show_less:e=>{const{normalize:t}=e;return t(["Show less"])},never_show_again:e=>{const{normalize:t}=e;return t(["Never show again"])},dismiss:e=>{const{normalize:t}=e;return t(["Dismiss"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])},disable:e=>{const{normalize:t}=e;return t(["Disable"])},enable:e=>{const{normalize:t}=e;return t(["Enable"])},confirm:e=>{const{normalize:t}=e;return t(["Confirm"])},verify:e=>{const{normalize:t}=e;return t(["Verify"])},close:e=>{const{normalize:t}=e;return t(["Close"])},undo:e=>{const{normalize:t}=e;return t(["Undo"])},yes:e=>{const{normalize:t}=e;return t(["Yes"])},no:e=>{const{normalize:t}=e;return t(["No"])},peek:e=>{const{normalize:t}=e;return t(["Peek"])},scroll_to_top:e=>{const{normalize:t}=e;return t(["Scroll to top"])},role:{admin:e=>{const{normalize:t}=e;return t(["Admin"])},moderator:e=>{const{normalize:t}=e;return t(["Moderator"])}},unpin:e=>{const{normalize:t}=e;return t(["Unpin item"])},pin:e=>{const{normalize:t}=e;return t(["Pin item"])},flash_content:e=>{const{normalize:t}=e;return t(["Click to show Flash content using Ruffle (Experimental, may not work)."])},flash_security:e=>{const{normalize:t}=e;return t(["Note that this can be potentially dangerous since Flash content is still arbitrary code."])},flash_fail:e=>{const{normalize:t}=e;return t(["Failed to load flash content, see console for details."])},scope_in_timeline:{direct:e=>{const{normalize:t}=e;return t(["Direct"])},private:e=>{const{normalize:t}=e;return t(["Followers-only"])},public:e=>{const{normalize:t}=e;return t(["Public"])},unlisted:e=>{const{normalize:t}=e;return t(["Unlisted"])}}},image_cropper:{crop_picture:e=>{const{normalize:t}=e;return t(["Crop picture"])},save:e=>{const{normalize:t}=e;return t(["Save"])},save_without_cropping:e=>{const{normalize:t}=e;return t(["Save without cropping"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel"])}},importer:{submit:e=>{const{normalize:t}=e;return t(["Submit"])},success:e=>{const{normalize:t}=e;return t(["Imported successfully."])},error:e=>{const{normalize:t}=e;return t(["An error occured while importing this file."])}},login:{login:e=>{const{normalize:t}=e;return t(["Log in"])},description:e=>{const{normalize:t}=e;return t(["Log in with OAuth"])},logout:e=>{const{normalize:t}=e;return t(["Log out"])},logout_confirm_title:e=>{const{normalize:t}=e;return t(["Logout confirmation"])},logout_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to logout?"])},logout_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Logout"])},logout_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not logout"])},password:e=>{const{normalize:t}=e;return t(["Password"])},placeholder:e=>{const{normalize:t}=e;return t(["e.g. lain"])},register:e=>{const{normalize:t}=e;return t(["Register"])},username:e=>{const{normalize:t}=e;return t(["Username"])},hint:e=>{const{normalize:t}=e;return t(["Log in to join the discussion"])},authentication_code:e=>{const{normalize:t}=e;return t(["Authentication code"])},enter_recovery_code:e=>{const{normalize:t}=e;return t(["Enter a recovery code"])},enter_two_factor_code:e=>{const{normalize:t}=e;return t(["Enter a two-factor code"])},recovery_code:e=>{const{normalize:t}=e;return t(["Recovery code"])},heading:{totp:e=>{const{normalize:t}=e;return t(["Two-factor authentication"])},recovery:e=>{const{normalize:t}=e;return t(["Two-factor recovery"])}}},media_modal:{previous:e=>{const{normalize:t}=e;return t(["Previous"])},next:e=>{const{normalize:t}=e;return t(["Next"])},counter:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("current"))," / ",n(o("total"))])},hide:e=>{const{normalize:t}=e;return t(["Close media viewer"])}},nav:{about:e=>{const{normalize:t}=e;return t(["About"])},administration:e=>{const{normalize:t}=e;return t(["Administration"])},back:e=>{const{normalize:t}=e;return t(["Back"])},friend_requests:e=>{const{normalize:t}=e;return t(["Follow requests"])},mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},interactions:e=>{const{normalize:t}=e;return t(["Interactions"])},dms:e=>{const{normalize:t}=e;return t(["Direct messages"])},public_tl:e=>{const{normalize:t}=e;return t(["Public timeline"])},timeline:e=>{const{normalize:t}=e;return t(["Timeline"])},home_timeline:e=>{const{normalize:t}=e;return t(["Home timeline"])},twkn:e=>{const{normalize:t}=e;return t(["Known Network"])},bookmarks:e=>{const{normalize:t}=e;return t(["Bookmarks"])},user_search:e=>{const{normalize:t}=e;return t(["User Search"])},search:e=>{const{normalize:t}=e;return t(["Search"])},search_close:e=>{const{normalize:t}=e;return t(["Close search bar"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])},preferences:e=>{const{normalize:t}=e;return t(["Preferences"])},timelines:e=>{const{normalize:t}=e;return t(["Timelines"])},chats:e=>{const{normalize:t}=e;return t(["Chats"])},lists:e=>{const{normalize:t}=e;return t(["Lists"])},edit_nav_mobile:e=>{const{normalize:t}=e;return t(["Customize navigation bar"])},edit_pinned:e=>{const{normalize:t}=e;return t(["Edit pinned items"])},edit_finish:e=>{const{normalize:t}=e;return t(["Done editing"])},mobile_sidebar:e=>{const{normalize:t}=e;return t(["Toggle mobile sidebar"])},mobile_notifications:e=>{const{normalize:t}=e;return t(["Open notifications"])},mobile_notifications:e=>{const{normalize:t}=e;return t(["Open notifications (there are unread ones)"])},mobile_notifications_close:e=>{const{normalize:t}=e;return t(["Close notifications"])},announcements:e=>{const{normalize:t}=e;return t(["Announcements"])}},notifications:{broken_favorite:e=>{const{normalize:t}=e;return t(["Unknown status, searching for it…"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error fetching notifications: ",n(o(0))])},favorited_you:e=>{const{normalize:t}=e;return t(["favorited your status"])},followed_you:e=>{const{normalize:t}=e;return t(["followed you"])},follow_request:e=>{const{normalize:t}=e;return t(["wants to follow you"])},load_older:e=>{const{normalize:t}=e;return t(["Load older notifications"])},notifications:e=>{const{normalize:t}=e;return t(["Notifications"])},read:e=>{const{normalize:t}=e;return t(["Read!"])},repeated_you:e=>{const{normalize:t}=e;return t(["repeated your status"])},no_more_notifications:e=>{const{normalize:t}=e;return t(["No more notifications"])},migrated_to:e=>{const{normalize:t}=e;return t(["migrated to"])},reacted_with:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["reacted with ",n(o(0))])},submitted_report:e=>{const{normalize:t}=e;return t(["submitted a report"])},poll_ended:e=>{const{normalize:t}=e;return t(["poll has ended"])}},polls:{add_poll:e=>{const{normalize:t}=e;return t(["Add poll"])},add_option:e=>{const{normalize:t}=e;return t(["Add option"])},option:e=>{const{normalize:t}=e;return t(["Option"])},votes:e=>{const{normalize:t}=e;return t(["votes"])},people_voted_count:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("count"))," person voted"]),t([n(o("count"))," people voted"])])},votes_count:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("count"))," vote"]),t([n(o("count"))," votes"])])},vote:e=>{const{normalize:t}=e;return t(["Vote"])},type:e=>{const{normalize:t}=e;return t(["Poll type"])},single_choice:e=>{const{normalize:t}=e;return t(["Single choice"])},multiple_choices:e=>{const{normalize:t}=e;return t(["Multiple choices"])},expiry:e=>{const{normalize:t}=e;return t(["Poll age"])},expires_in:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Poll ends in ",n(o(0))])},expired:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Poll ended ",n(o(0))," ago"])},not_enough_options:e=>{const{normalize:t}=e;return t(["Too few unique options in poll"])}},emoji:{stickers:e=>{const{normalize:t}=e;return t(["Stickers"])},emoji:e=>{const{normalize:t}=e;return t(["Emoji"])},keep_open:e=>{const{normalize:t}=e;return t(["Keep picker open"])},search_emoji:e=>{const{normalize:t}=e;return t(["Search for an emoji"])},add_emoji:e=>{const{normalize:t}=e;return t(["Insert emoji"])},custom:e=>{const{normalize:t}=e;return t(["Custom emoji"])},unpacked:e=>{const{normalize:t}=e;return t(["Unpacked emoji"])},unicode:e=>{const{normalize:t}=e;return t(["Unicode emoji"])},unicode_groups:{activities:e=>{const{normalize:t}=e;return t(["Activities"])},"animals-and-nature":e=>{const{normalize:t}=e;return t(["Animals & Nature"])},flags:e=>{const{normalize:t}=e;return t(["Flags"])},"food-and-drink":e=>{const{normalize:t}=e;return t(["Food & Drink"])},objects:e=>{const{normalize:t}=e;return t(["Objects"])},"people-and-body":e=>{const{normalize:t}=e;return t(["People & Body"])},"smileys-and-emotion":e=>{const{normalize:t}=e;return t(["Smileys & Emotion"])},symbols:e=>{const{normalize:t}=e;return t(["Symbols"])},"travel-and-places":e=>{const{normalize:t}=e;return t(["Travel & Places"])}},load_all_hint:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Loaded first ",n(o("saneAmount"))," emoji, loading all emoji may cause performance issues."])},load_all:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Loading all ",n(o("emojiAmount"))," emoji"])},regional_indicator:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Regional indicator ",n(o("letter"))])}},errors:{storage_unavailable:e=>{const{normalize:t}=e;return t(["Pleroma could not access browser storage. Your login or your local settings won't be saved and you might encounter unexpected issues. Try enabling cookies."])}},interactions:{favs_repeats:e=>{const{normalize:t}=e;return t(["Repeats and favorites"])},follows:e=>{const{normalize:t}=e;return t(["New follows"])},emoji_reactions:e=>{const{normalize:t}=e;return t(["Emoji Reactions"])},reports:e=>{const{normalize:t}=e;return t(["Reports"])},moves:e=>{const{normalize:t}=e;return t(["User migrates"])},load_older:e=>{const{normalize:t}=e;return t(["Load older interactions"])}},post_status:{edit_status:e=>{const{normalize:t}=e;return t(["Edit status"])},new_status:e=>{const{normalize:t}=e;return t(["Post new status"])},account_not_locked_warning:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Your account is not ",n(o(0)),". Anyone can follow you to view your follower-only posts."])},account_not_locked_warning_link:e=>{const{normalize:t}=e;return t(["locked"])},attachments_sensitive:e=>{const{normalize:t}=e;return t(["Mark attachments as sensitive"])},media_description:e=>{const{normalize:t}=e;return t(["Media description"])},content_type:{"text/plain":e=>{const{normalize:t}=e;return t(["Plain text"])},"text/html":e=>{const{normalize:t}=e;return t(["HTML"])},"text/markdown":e=>{const{normalize:t}=e;return t(["Markdown"])},"text/bbcode":e=>{const{normalize:t}=e;return t(["BBCode"])}},content_type_selection:e=>{const{normalize:t}=e;return t(["Post format"])},content_warning:e=>{const{normalize:t}=e;return t(["Subject (optional)"])},default:e=>{const{normalize:t}=e;return t(["Just landed in L.A."])},direct_warning_to_all:e=>{const{normalize:t}=e;return t(["This post will be visible to all the mentioned users."])},direct_warning_to_first_only:e=>{const{normalize:t}=e;return t(["This post will only be visible to the mentioned users at the beginning of the message."])},edit_remote_warning:e=>{const{normalize:t}=e;return t(["Other remote instances may not support editing and unable to receive the latest version of your post."])},edit_unsupported_warning:e=>{const{normalize:t}=e;return t(["Pleroma does not support editing mentions or polls."])},posting:e=>{const{normalize:t}=e;return t(["Posting"])},post:e=>{const{normalize:t}=e;return t(["Post"])},preview:e=>{const{normalize:t}=e;return t(["Preview"])},preview_empty:e=>{const{normalize:t}=e;return t(["Empty"])},empty_status_error:e=>{const{normalize:t}=e;return t(["Can't post an empty status with no files"])},media_description_error:e=>{const{normalize:t}=e;return t(["Failed to update media, try again"])},scope_notice:{public:e=>{const{normalize:t}=e;return t(["This post will be visible to everyone"])},private:e=>{const{normalize:t}=e;return t(["This post will be visible to your followers only"])},unlisted:e=>{const{normalize:t}=e;return t(["This post will not be visible in Public Timeline and The Whole Known Network"])}},scope_notice_dismiss:e=>{const{normalize:t}=e;return t(["Close this notice"])},scope:{direct:e=>{const{normalize:t}=e;return t(["Direct - post to mentioned users only"])},private:e=>{const{normalize:t}=e;return t(["Followers-only - post to followers only"])},public:e=>{const{normalize:t}=e;return t(["Public - post to public timelines"])},unlisted:e=>{const{normalize:t}=e;return t(["Unlisted - do not post to public timelines"])}}},registration:{bio_optional:e=>{const{normalize:t}=e;return t(["Bio (optional)"])},email:e=>{const{normalize:t}=e;return t(["Email"])},email_optional:e=>{const{normalize:t}=e;return t(["Email (optional)"])},fullname:e=>{const{normalize:t}=e;return t(["Display name"])},password_confirm:e=>{const{normalize:t}=e;return t(["Password confirmation"])},registration:e=>{const{normalize:t}=e;return t(["Registration"])},token:e=>{const{normalize:t}=e;return t(["Invite token"])},captcha:e=>{const{normalize:t}=e;return t(["CAPTCHA"])},new_captcha:e=>{const{normalize:t}=e;return t(["Click the image to get a new captcha"])},username_placeholder:e=>{const{normalize:t}=e;return t(["e.g. lain"])},fullname_placeholder:e=>{const{normalize:t}=e;return t(["e.g. Lain Iwakura"])},bio_placeholder:e=>{const{normalize:t}=e;return t(["e.g.\nHi, I'm Lain.\nI’m an anime girl living in suburban Japan. You may know me from the Wired."])},reason:e=>{const{normalize:t}=e;return t(["Reason to register"])},reason_placeholder:e=>{const{normalize:t}=e;return t(["This instance approves registrations manually.\nLet the administration know why you want to register."])},register:e=>{const{normalize:t}=e;return t(["Register"])},validations:{username_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},fullname_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},email_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_confirmation_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},password_confirmation_match:e=>{const{normalize:t}=e;return t(["should be the same as password"])},birthday_required:e=>{const{normalize:t}=e;return t(["cannot be left blank"])},birthday_min_age:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["must be on or before ",n(o("date"))])}},email_language:e=>{const{normalize:t}=e;return t(["In which language do you want to receive emails from the server?"])},birthday:e=>{const{normalize:t}=e;return t(["Birthday:"])},birthday_optional:e=>{const{normalize:t}=e;return t(["Birthday (optional):"])}},remote_user_resolver:{remote_user_resolver:e=>{const{normalize:t}=e;return t(["Remote user resolver"])},searching_for:e=>{const{normalize:t}=e;return t(["Searching for"])},error:e=>{const{normalize:t}=e;return t(["Not found."])}},report:{reporter:e=>{const{normalize:t}=e;return t(["Reporter:"])},reported_user:e=>{const{normalize:t}=e;return t(["Reported user:"])},reported_statuses:e=>{const{normalize:t}=e;return t(["Reported statuses:"])},notes:e=>{const{normalize:t}=e;return t(["Notes:"])},state:e=>{const{normalize:t}=e;return t(["State:"])},state_open:e=>{const{normalize:t}=e;return t(["Open"])},state_closed:e=>{const{normalize:t}=e;return t(["Closed"])},state_resolved:e=>{const{normalize:t}=e;return t(["Resolved"])}},selectable_list:{select_all:e=>{const{normalize:t}=e;return t(["Select all"])}},settings:{add_language:e=>{const{normalize:t}=e;return t(["Add fallback language"])},remove_language:e=>{const{normalize:t}=e;return t(["Remove"])},primary_language:e=>{const{normalize:t}=e;return t(["Primary language:"])},fallback_language:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Fallback language ",n(o("index")),":"])},app_name:e=>{const{normalize:t}=e;return t(["App name"])},expert_mode:e=>{const{normalize:t}=e;return t(["Show advanced"])},save:e=>{const{normalize:t}=e;return t(["Save changes"])},security:e=>{const{normalize:t}=e;return t(["Security"])},setting_changed:e=>{const{normalize:t}=e;return t(["Setting is different from default"])},setting_server_side:e=>{const{normalize:t}=e;return t(["This setting is tied to your profile and affects all sessions and clients"])},enter_current_password_to_confirm:e=>{const{normalize:t}=e;return t(["Enter your current password to confirm your identity"])},post_look_feel:e=>{const{normalize:t}=e;return t(["Posts Look & Feel"])},mention_links:e=>{const{normalize:t}=e;return t(["Mention links"])},mfa:{otp:e=>{const{normalize:t}=e;return t(["OTP"])},setup_otp:e=>{const{normalize:t}=e;return t(["Setup OTP"])},wait_pre_setup_otp:e=>{const{normalize:t}=e;return t(["presetting OTP"])},confirm_and_enable:e=>{const{normalize:t}=e;return t(["Confirm & enable OTP"])},title:e=>{const{normalize:t}=e;return t(["Two-factor Authentication"])},generate_new_recovery_codes:e=>{const{normalize:t}=e;return t(["Generate new recovery codes"])},warning_of_generate_new_codes:e=>{const{normalize:t}=e;return t(["When you generate new recovery codes, your old codes won’t work anymore."])},recovery_codes:e=>{const{normalize:t}=e;return t(["Recovery codes."])},waiting_a_recovery_codes:e=>{const{normalize:t}=e;return t(["Receiving backup codes…"])},recovery_codes_warning:e=>{const{normalize:t}=e;return t(["Write the codes down or save them somewhere secure - otherwise you won't see them again. If you lose access to your 2FA app and recovery codes you'll be locked out of your account."])},authentication_methods:e=>{const{normalize:t}=e;return t(["Authentication methods"])},scan:{title:e=>{const{normalize:t}=e;return t(["Scan"])},desc:e=>{const{normalize:t}=e;return t(["Using your two-factor app, scan this QR code or enter text key:"])},secret_code:e=>{const{normalize:t}=e;return t(["Key"])}},verify:{desc:e=>{const{normalize:t}=e;return t(["To enable two-factor authentication, enter the code from your two-factor app:"])}}},lists_navigation:e=>{const{normalize:t}=e;return t(["Show lists in navigation"])},allow_following_move:e=>{const{normalize:t}=e;return t(["Allow auto-follow when following account moves"])},attachmentRadius:e=>{const{normalize:t}=e;return t(["Attachments"])},attachments:e=>{const{normalize:t}=e;return t(["Attachments"])},avatar:e=>{const{normalize:t}=e;return t(["Avatar"])},avatarAltRadius:e=>{const{normalize:t}=e;return t(["Avatars (notifications)"])},avatarRadius:e=>{const{normalize:t}=e;return t(["Avatars"])},background:e=>{const{normalize:t}=e;return t(["Background"])},bio:e=>{const{normalize:t}=e;return t(["Bio"])},email_language:e=>{const{normalize:t}=e;return t(["Language for receiving emails from the server"])},block_export:e=>{const{normalize:t}=e;return t(["Block export"])},block_export_button:e=>{const{normalize:t}=e;return t(["Export your blocks to a csv file"])},block_import:e=>{const{normalize:t}=e;return t(["Block import"])},block_import_error:e=>{const{normalize:t}=e;return t(["Error importing blocks"])},blocks_imported:e=>{const{normalize:t}=e;return t(["Blocks imported! Processing them will take a while."])},mute_export:e=>{const{normalize:t}=e;return t(["Mute export"])},mute_export_button:e=>{const{normalize:t}=e;return t(["Export your mutes to a csv file"])},mute_import:e=>{const{normalize:t}=e;return t(["Mute import"])},mute_import_error:e=>{const{normalize:t}=e;return t(["Error importing mutes"])},mutes_imported:e=>{const{normalize:t}=e;return t(["Mutes imported! Processing them will take a while."])},import_mutes_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import mutes from a csv file"])},account_backup:e=>{const{normalize:t}=e;return t(["Account backup"])},account_backup_description:e=>{const{normalize:t}=e;return t(["This allows you to download an archive of your account information and your posts, but they cannot yet be imported into a Pleroma account."])},account_backup_table_head:e=>{const{normalize:t}=e;return t(["Backup"])},download_backup:e=>{const{normalize:t}=e;return t(["Download"])},backup_not_ready:e=>{const{normalize:t}=e;return t(["This backup is not ready yet."])},backup_running:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["This backup is in progress, processed ",n(o("number"))," record."]),t(["This backup is in progress, processed ",n(o("number"))," records."])])},backup_failed:e=>{const{normalize:t}=e;return t(["This backup has failed."])},remove_backup:e=>{const{normalize:t}=e;return t(["Remove"])},list_backups_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error fetching backup list: ",n(o("error"))])},add_backup:e=>{const{normalize:t}=e;return t(["Create a new backup"])},added_backup:e=>{const{normalize:t}=e;return t(["Added a new backup."])},add_backup_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error adding a new backup: ",n(o("error"))])},blocks_tab:e=>{const{normalize:t}=e;return t(["Blocks"])},bot:e=>{const{normalize:t}=e;return t(["This is a bot account"])},btnRadius:e=>{const{normalize:t}=e;return t(["Buttons"])},cBlue:e=>{const{normalize:t}=e;return t(["Blue (Reply, follow)"])},cGreen:e=>{const{normalize:t}=e;return t(["Green (Retweet)"])},cOrange:e=>{const{normalize:t}=e;return t(["Orange (Favorite)"])},cRed:e=>{const{normalize:t}=e;return t(["Red (Cancel)"])},change_email:e=>{const{normalize:t}=e;return t(["Change email"])},change_email_error:e=>{const{normalize:t}=e;return t(["There was an issue changing your email."])},changed_email:e=>{const{normalize:t}=e;return t(["Email changed successfully!"])},change_password:e=>{const{normalize:t}=e;return t(["Change password"])},change_password_error:e=>{const{normalize:t}=e;return t(["There was an issue changing your password."])},changed_password:e=>{const{normalize:t}=e;return t(["Password changed successfully!"])},chatMessageRadius:e=>{const{normalize:t}=e;return t(["Chat message"])},collapse_subject:e=>{const{normalize:t}=e;return t(["Collapse posts with subjects"])},composing:e=>{const{normalize:t}=e;return t(["Composing"])},confirm_new_password:e=>{const{normalize:t}=e;return t(["Confirm new password"])},current_password:e=>{const{normalize:t}=e;return t(["Current password"])},confirm_dialogs:e=>{const{normalize:t}=e;return t(["Ask for confirmation when"])},confirm_dialogs_repeat:e=>{const{normalize:t}=e;return t(["repeating a status"])},confirm_dialogs_unfollow:e=>{const{normalize:t}=e;return t(["unfollowing a user"])},confirm_dialogs_block:e=>{const{normalize:t}=e;return t(["blocking a user"])},confirm_dialogs_mute:e=>{const{normalize:t}=e;return t(["muting a user"])},confirm_dialogs_delete:e=>{const{normalize:t}=e;return t(["deleting a status"])},confirm_dialogs_logout:e=>{const{normalize:t}=e;return t(["logging out"])},confirm_dialogs_approve_follow:e=>{const{normalize:t}=e;return t(["approving a follower"])},confirm_dialogs_deny_follow:e=>{const{normalize:t}=e;return t(["denying a follower"])},confirm_dialogs_remove_follower:e=>{const{normalize:t}=e;return t(["removing a follower"])},mutes_and_blocks:e=>{const{normalize:t}=e;return t(["Mutes and Blocks"])},data_import_export_tab:e=>{const{normalize:t}=e;return t(["Data import / export"])},default_vis:e=>{const{normalize:t}=e;return t(["Default visibility scope"])},delete_account:e=>{const{normalize:t}=e;return t(["Delete account"])},delete_account_description:e=>{const{normalize:t}=e;return t(["Permanently delete your data and deactivate your account."])},delete_account_error:e=>{const{normalize:t}=e;return t(["There was an issue deleting your account. If this persists please contact your instance administrator."])},delete_account_instructions:e=>{const{normalize:t}=e;return t(["Type your password in the input below to confirm account deletion."])},account_alias:e=>{const{normalize:t}=e;return t(["Account aliases"])},account_alias_table_head:e=>{const{normalize:t}=e;return t(["Alias"])},list_aliases_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error fetching aliases: ",n(o("error"))])},hide_list_aliases_error_action:e=>{const{normalize:t}=e;return t(["Close"])},remove_alias:e=>{const{normalize:t}=e;return t(["Remove this alias"])},new_alias_target:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Add a new alias (e.g. ",n(o("example")),")"])},added_alias:e=>{const{normalize:t}=e;return t(["Alias is added."])},add_alias_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error adding alias: ",n(o("error"))])},move_account:e=>{const{normalize:t}=e;return t(["Move account"])},move_account_notes:e=>{const{normalize:t}=e;return t(["If you want to move the account somewhere else, you must go to your target account and add an alias pointing here."])},move_account_target:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Target account (e.g. ",n(o("example")),")"])},moved_account:e=>{const{normalize:t}=e;return t(["Account is moved."])},move_account_error:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Error moving account: ",n(o("error"))])},discoverable:e=>{const{normalize:t}=e;return t(["Allow discovery of this account in search results and other services"])},domain_mutes:e=>{const{normalize:t}=e;return t(["Domains"])},avatar_size_instruction:e=>{const{normalize:t}=e;return t(["The recommended minimum size for avatar images is 150x150 pixels."])},pad_emoji:e=>{const{normalize:t}=e;return t(["Pad emoji with spaces when adding from picker"])},emoji_reactions_on_timeline:e=>{const{normalize:t}=e;return t(["Show emoji reactions on timeline"])},export_theme:e=>{const{normalize:t}=e;return t(["Save preset"])},filtering:e=>{const{normalize:t}=e;return t(["Filtering"])},wordfilter:e=>{const{normalize:t}=e;return t(["Wordfilter"])},filtering_explanation:e=>{const{normalize:t}=e;return t(["All statuses containing these words will be muted, one per line"])},word_filter_and_more:e=>{const{normalize:t}=e;return t(["Word filter and more..."])},follow_export:e=>{const{normalize:t}=e;return t(["Follow export"])},follow_export_button:e=>{const{normalize:t}=e;return t(["Export your follows to a csv file"])},follow_import:e=>{const{normalize:t}=e;return t(["Follow import"])},follow_import_error:e=>{const{normalize:t}=e;return t(["Error importing followers"])},follows_imported:e=>{const{normalize:t}=e;return t(["Follows imported! Processing them will take a while."])},accent:e=>{const{normalize:t}=e;return t(["Accent"])},foreground:e=>{const{normalize:t}=e;return t(["Foreground"])},general:e=>{const{normalize:t}=e;return t(["General"])},hide_attachments_in_convo:e=>{const{normalize:t}=e;return t(["Hide attachments in conversations"])},hide_attachments_in_tl:e=>{const{normalize:t}=e;return t(["Hide attachments in timeline"])},hide_media_previews:e=>{const{normalize:t}=e;return t(["Hide media previews"])},hide_muted_posts:e=>{const{normalize:t}=e;return t(["Hide posts of muted users"])},mute_bot_posts:e=>{const{normalize:t}=e;return t(["Mute bot posts"])},hide_bot_indication:e=>{const{normalize:t}=e;return t(["Hide bot indication in posts"])},hide_all_muted_posts:e=>{const{normalize:t}=e;return t(["Hide muted posts"])},max_thumbnails:e=>{const{normalize:t}=e;return t(["Maximum amount of thumbnails per post (empty = no limit)"])},hide_isp:e=>{const{normalize:t}=e;return t(["Hide instance-specific panel"])},hide_shoutbox:e=>{const{normalize:t}=e;return t(["Hide instance shoutbox"])},right_sidebar:e=>{const{normalize:t}=e;return t(["Reverse order of columns"])},navbar_column_stretch:e=>{const{normalize:t}=e;return t(["Stretch navbar to columns width"])},always_show_post_button:e=>{const{normalize:t}=e;return t(["Always show floating New Post button"])},hide_wallpaper:e=>{const{normalize:t}=e;return t(["Hide instance wallpaper"])},preload_images:e=>{const{normalize:t}=e;return t(["Preload images"])},use_one_click_nsfw:e=>{const{normalize:t}=e;return t(["Open NSFW attachments with just one click"])},hide_post_stats:e=>{const{normalize:t}=e;return t(["Hide post statistics (e.g. the number of favorites)"])},hide_user_stats:e=>{const{normalize:t}=e;return t(["Hide user statistics (e.g. the number of followers)"])},hide_filtered_statuses:e=>{const{normalize:t}=e;return t(["Hide all filtered posts"])},hide_wordfiltered_statuses:e=>{const{normalize:t}=e;return t(["Hide word-filtered statuses"])},hide_muted_threads:e=>{const{normalize:t}=e;return t(["Hide muted threads"])},import_blocks_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import blocks from a csv file"])},import_followers_from_a_csv_file:e=>{const{normalize:t}=e;return t(["Import follows from a csv file"])},import_theme:e=>{const{normalize:t}=e;return t(["Load preset"])},inputRadius:e=>{const{normalize:t}=e;return t(["Input fields"])},checkboxRadius:e=>{const{normalize:t}=e;return t(["Checkboxes"])},instance_default:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["(default: ",n(o("value")),")"])},instance_default_simple:e=>{const{normalize:t}=e;return t(["(default)"])},interface:e=>{const{normalize:t}=e;return t(["Interface"])},interfaceLanguage:e=>{const{normalize:t}=e;return t(["Interface language"])},invalid_theme_imported:e=>{const{normalize:t}=e;return t(["The selected file is not a supported Pleroma theme. No changes to your theme were made."])},limited_availability:e=>{const{normalize:t}=e;return t(["Unavailable in your browser"])},links:e=>{const{normalize:t}=e;return t(["Links"])},lock_account_description:e=>{const{normalize:t}=e;return t(["Restrict your account to approved followers only"])},loop_video:e=>{const{normalize:t}=e;return t(["Loop videos"])},loop_video_silent_only:e=>{const{normalize:t}=e;return t(['Loop only videos without sound (i.e. Mastodon\'s "gifs")'])},mutes_tab:e=>{const{normalize:t}=e;return t(["Mutes"])},play_videos_in_modal:e=>{const{normalize:t}=e;return t(["Play videos in a popup frame"])},file_export_import:{backup_restore:e=>{const{normalize:t}=e;return t(["Settings backup"])},backup_settings:e=>{const{normalize:t}=e;return t(["Backup settings to file"])},backup_settings_theme:e=>{const{normalize:t}=e;return t(["Backup settings and theme to file"])},restore_settings:e=>{const{normalize:t}=e;return t(["Restore settings from file"])},errors:{invalid_file:e=>{const{normalize:t}=e;return t(["The selected file is not a supported Pleroma settings backup. No changes were made."])},file_too_new:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Incompatile major version: ",n(o("fileMajor")),", this PleromaFE (settings ver ",n(o("feMajor")),") is too old to handle it"])},file_too_old:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Incompatile major version: ",n(o("fileMajor")),", file version is too old and not supported (min. set. ver. ",n(o("feMajor")),")"])},file_slightly_new:e=>{const{normalize:t}=e;return t(["File minor version is different, some settings might not load"])}}},profile_fields:{label:e=>{const{normalize:t}=e;return t(["Profile metadata"])},add_field:e=>{const{normalize:t}=e;return t(["Add field"])},name:e=>{const{normalize:t}=e;return t(["Label"])},value:e=>{const{normalize:t}=e;return t(["Content"])}},birthday:{label:e=>{const{normalize:t}=e;return t(["Birthday"])},show_birthday:e=>{const{normalize:t}=e;return t(["Show my birthday"])}},account_privacy:e=>{const{normalize:t}=e;return t(["Privacy"])},use_contain_fit:e=>{const{normalize:t}=e;return t(["Don't crop the attachment in thumbnails"])},name:e=>{const{normalize:t}=e;return t(["Name"])},name_bio:e=>{const{normalize:t}=e;return t(["Name & bio"])},new_email:e=>{const{normalize:t}=e;return t(["New email"])},new_password:e=>{const{normalize:t}=e;return t(["New password"])},posts:e=>{const{normalize:t}=e;return t(["Posts"])},user_profiles:e=>{const{normalize:t}=e;return t(["User Profiles"])},notification_visibility:e=>{const{normalize:t}=e;return t(["Types of notifications to show"])},notification_visibility_follows:e=>{const{normalize:t}=e;return t(["Follows"])},notification_visibility_likes:e=>{const{normalize:t}=e;return t(["Favorites"])},notification_visibility_mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},notification_visibility_repeats:e=>{const{normalize:t}=e;return t(["Repeats"])},notification_visibility_moves:e=>{const{normalize:t}=e;return t(["User Migrates"])},notification_visibility_emoji_reactions:e=>{const{normalize:t}=e;return t(["Reactions"])},notification_visibility_polls:e=>{const{normalize:t}=e;return t(["Ends of polls you voted in"])},no_rich_text_description:e=>{const{normalize:t}=e;return t(["Strip rich text formatting from all posts"])},no_blocks:e=>{const{normalize:t}=e;return t(["No blocks"])},no_mutes:e=>{const{normalize:t}=e;return t(["No mutes"])},hide_favorites_description:e=>{const{normalize:t}=e;return t(["Don't show list of my favorites (people still get notified)"])},hide_follows_description:e=>{const{normalize:t}=e;return t(["Don't show who I'm following"])},hide_followers_description:e=>{const{normalize:t}=e;return t(["Don't show who's following me"])},hide_follows_count_description:e=>{const{normalize:t}=e;return t(["Don't show follow count"])},hide_followers_count_description:e=>{const{normalize:t}=e;return t(["Don't show follower count"])},show_admin_badge:e=>{const{normalize:t}=e;return t(['Show "Admin" badge in my profile'])},show_moderator_badge:e=>{const{normalize:t}=e;return t(['Show "Moderator" badge in my profile'])},nsfw_clickthrough:e=>{const{normalize:t}=e;return t(["Hide sensitive/NSFW media"])},oauth_tokens:e=>{const{normalize:t}=e;return t(["OAuth tokens"])},token:e=>{const{normalize:t}=e;return t(["Token"])},refresh_token:e=>{const{normalize:t}=e;return t(["Refresh token"])},valid_until:e=>{const{normalize:t}=e;return t(["Valid until"])},revoke_token:e=>{const{normalize:t}=e;return t(["Revoke"])},panelRadius:e=>{const{normalize:t}=e;return t(["Panels"])},pause_on_unfocused:e=>{const{normalize:t}=e;return t(["Pause when tab is not focused"])},presets:e=>{const{normalize:t}=e;return t(["Presets"])},profile_background:e=>{const{normalize:t}=e;return t(["Profile background"])},profile_banner:e=>{const{normalize:t}=e;return t(["Profile banner"])},profile_tab:e=>{const{normalize:t}=e;return t(["Profile"])},radii_help:e=>{const{normalize:t}=e;return t(["Set up interface edge rounding (in pixels)"])},replies_in_timeline:e=>{const{normalize:t}=e;return t(["Replies in timeline"])},reply_visibility_all:e=>{const{normalize:t}=e;return t(["Show all replies"])},reply_visibility_following:e=>{const{normalize:t}=e;return t(["Only show replies directed at me or users I'm following"])},reply_visibility_self:e=>{const{normalize:t}=e;return t(["Only show replies directed at me"])},reply_visibility_following_short:e=>{const{normalize:t}=e;return t(["Show replies to my follows"])},reply_visibility_self_short:e=>{const{normalize:t}=e;return t(["Show replies to self only"])},autohide_floating_post_button:e=>{const{normalize:t}=e;return t(["Automatically hide New Post button (mobile)"])},saving_err:e=>{const{normalize:t}=e;return t(["Error saving settings"])},saving_ok:e=>{const{normalize:t}=e;return t(["Settings saved"])},search_user_to_block:e=>{const{normalize:t}=e;return t(["Search whom you want to block"])},search_user_to_mute:e=>{const{normalize:t}=e;return t(["Search whom you want to mute"])},security_tab:e=>{const{normalize:t}=e;return t(["Security"])},scope_copy:e=>{const{normalize:t}=e;return t(["Copy scope when replying (DMs are always copied)"])},minimal_scopes_mode:e=>{const{normalize:t}=e;return t(["Minimize post scope selection options"])},set_new_avatar:e=>{const{normalize:t}=e;return t(["Set new avatar"])},set_new_profile_background:e=>{const{normalize:t}=e;return t(["Set new profile background"])},set_new_profile_banner:e=>{const{normalize:t}=e;return t(["Set new profile banner"])},reset_avatar:e=>{const{normalize:t}=e;return t(["Reset avatar"])},reset_profile_background:e=>{const{normalize:t}=e;return t(["Reset profile background"])},reset_profile_banner:e=>{const{normalize:t}=e;return t(["Reset profile banner"])},reset_avatar_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the avatar?"])},reset_banner_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the banner?"])},reset_background_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to reset the background?"])},settings:e=>{const{normalize:t}=e;return t(["Settings"])},subject_input_always_show:e=>{const{normalize:t}=e;return t(["Always show subject field"])},subject_line_behavior:e=>{const{normalize:t}=e;return t(["Copy subject when replying"])},subject_line_email:e=>{const{normalize:t}=e;return t(['Like email: "re: subject"'])},subject_line_mastodon:e=>{const{normalize:t}=e;return t(["Like mastodon: copy as is"])},subject_line_noop:e=>{const{normalize:t}=e;return t(["Do not copy"])},conversation_display:e=>{const{normalize:t}=e;return t(["Conversation display style"])},conversation_display_tree:e=>{const{normalize:t}=e;return t(["Tree-style"])},conversation_display_tree_quick:e=>{const{normalize:t}=e;return t(["Tree view"])},disable_sticky_headers:e=>{const{normalize:t}=e;return t(["Don't stick column headers to top of the screen"])},show_scrollbars:e=>{const{normalize:t}=e;return t(["Show side column's scrollbars"])},third_column_mode:e=>{const{normalize:t}=e;return t(["When there's enough space, show third column containing"])},third_column_mode_none:e=>{const{normalize:t}=e;return t(["Don't show third column at all"])},third_column_mode_notifications:e=>{const{normalize:t}=e;return t(["Notifications column"])},third_column_mode_postform:e=>{const{normalize:t}=e;return t(["Main post form and navigation"])},columns:e=>{const{normalize:t}=e;return t(["Columns"])},column_sizes:e=>{const{normalize:t}=e;return t(["Column sizes"])},column_sizes_sidebar:e=>{const{normalize:t}=e;return t(["Sidebar"])},column_sizes_content:e=>{const{normalize:t}=e;return t(["Content"])},column_sizes_notifs:e=>{const{normalize:t}=e;return t(["Notifications"])},tree_advanced:e=>{const{normalize:t}=e;return t(["Allow more flexible navigation in tree view"])},tree_fade_ancestors:e=>{const{normalize:t}=e;return t(["Display ancestors of the current status in faint text"])},conversation_display_linear:e=>{const{normalize:t}=e;return t(["Linear-style"])},conversation_display_linear_quick:e=>{const{normalize:t}=e;return t(["Linear view"])},conversation_other_replies_button:e=>{const{normalize:t}=e;return t(['Show the "other replies" button'])},conversation_other_replies_button_below:e=>{const{normalize:t}=e;return t(["Below statuses"])},conversation_other_replies_button_inside:e=>{const{normalize:t}=e;return t(["Inside statuses"])},max_depth_in_thread:e=>{const{normalize:t}=e;return t(["Maximum number of levels in thread to display by default"])},post_status_content_type:e=>{const{normalize:t}=e;return t(["Post status content type"])},sensitive_by_default:e=>{const{normalize:t}=e;return t(["Mark posts as sensitive by default"])},stop_gifs:e=>{const{normalize:t}=e;return t(["Pause animated images until you hover on them"])},streaming:e=>{const{normalize:t}=e;return t(["Automatically show new posts when scrolled to the top"])},auto_update:e=>{const{normalize:t}=e;return t(["Show new posts automatically"])},user_mutes:e=>{const{normalize:t}=e;return t(["Users"])},useStreamingApi:e=>{const{normalize:t}=e;return t(["Receive posts and notifications real-time"])},use_websockets:e=>{const{normalize:t}=e;return t(["Use websockets (Realtime updates)"])},text:e=>{const{normalize:t}=e;return t(["Text"])},theme:e=>{const{normalize:t}=e;return t(["Theme"])},theme_help:e=>{const{normalize:t}=e;return t(["Use hex color codes (#rrggbb) to customize your color theme."])},theme_help_v2_1:e=>{const{normalize:t}=e;return t(['You can also override certain component\'s colors and opacity by toggling the checkbox, use "Clear all" button to clear all overrides.'])},theme_help_v2_2:e=>{const{normalize:t}=e;return t(["Icons underneath some entries are background/text contrast indicators, hover over for detailed info. Please keep in mind that when using transparency contrast indicators show the worst possible case."])},tooltipRadius:e=>{const{normalize:t}=e;return t(["Tooltips/alerts"])},type_domains_to_mute:e=>{const{normalize:t}=e;return t(["Search domains to mute"])},upload_a_photo:e=>{const{normalize:t}=e;return t(["Upload a photo"])},user_settings:e=>{const{normalize:t}=e;return t(["User Settings"])},values:{false:e=>{const{normalize:t}=e;return t(["no"])},true:e=>{const{normalize:t}=e;return t(["yes"])}},virtual_scrolling:e=>{const{normalize:t}=e;return t(["Optimize timeline rendering"])},use_at_icon:e=>{const{normalize:t}=e;return t(["Display ","@"," symbol as an icon instead of text"])},mention_link_display:e=>{const{normalize:t}=e;return t(["Display mention links"])},mention_link_display_short:e=>{const{normalize:t}=e;return t(["always as short names (e.g. ","@","foo)"])},mention_link_display_full_for_remote:e=>{const{normalize:t}=e;return t(["as full names only for remote users (e.g. ","@","foo","@","example.org)"])},mention_link_display_full:e=>{const{normalize:t}=e;return t(["always as full names (e.g. ","@","foo","@","example.org)"])},mention_link_use_tooltip:e=>{const{normalize:t}=e;return t(["Show user card when clicking mention links"])},mention_link_show_avatar:e=>{const{normalize:t}=e;return t(["Show user avatar beside the link"])},mention_link_show_avatar_quick:e=>{const{normalize:t}=e;return t(["Show user avatar next to mentions"])},mention_link_fade_domain:e=>{const{normalize:t}=e;return t(["Fade domains (e.g. ","@","example.org in ","@","foo","@","example.org)"])},mention_link_bolden_you:e=>{const{normalize:t}=e;return t(["Highlight mention of you when you are mentioned"])},user_popover_avatar_action:e=>{const{normalize:t}=e;return t(["Popover avatar click action"])},user_popover_avatar_action_zoom:e=>{const{normalize:t}=e;return t(["Zoom the avatar"])},user_popover_avatar_action_close:e=>{const{normalize:t}=e;return t(["Close the popover"])},user_popover_avatar_action_open:e=>{const{normalize:t}=e;return t(["Open profile"])},user_popover_avatar_overlay:e=>{const{normalize:t}=e;return t(["Show user popover over user avatar"])},fun:e=>{const{normalize:t}=e;return t(["Fun"])},greentext:e=>{const{normalize:t}=e;return t(["Meme arrows"])},show_yous:e=>{const{normalize:t}=e;return t(["Show (You)s"])},notifications:e=>{const{normalize:t}=e;return t(["Notifications"])},notification_setting_filters:e=>{const{normalize:t}=e;return t(["Filters"])},notification_setting_block_from_strangers:e=>{const{normalize:t}=e;return t(["Block notifications from users who you do not follow"])},notification_setting_privacy:e=>{const{normalize:t}=e;return t(["Privacy"])},notification_setting_hide_notification_contents:e=>{const{normalize:t}=e;return t(["Hide the sender and contents of push notifications"])},notification_mutes:e=>{const{normalize:t}=e;return t(["To stop receiving notifications from a specific user, use a mute."])},notification_blocks:e=>{const{normalize:t}=e;return t(["Blocking a user stops all notifications as well as unsubscribes them."])},enable_web_push_notifications:e=>{const{normalize:t}=e;return t(["Enable web push notifications"])},more_settings:e=>{const{normalize:t}=e;return t(["More settings"])},style:{switcher:{keep_color:e=>{const{normalize:t}=e;return t(["Keep colors"])},keep_shadows:e=>{const{normalize:t}=e;return t(["Keep shadows"])},keep_opacity:e=>{const{normalize:t}=e;return t(["Keep opacity"])},keep_roundness:e=>{const{normalize:t}=e;return t(["Keep roundness"])},keep_fonts:e=>{const{normalize:t}=e;return t(["Keep fonts"])},save_load_hint:e=>{const{normalize:t}=e;return t(['"Keep" options preserve currently set options when selecting or loading themes, it also stores said options when exporting a theme. When all checkboxes unset, exporting theme will save everything.'])},reset:e=>{const{normalize:t}=e;return t(["Reset"])},clear_all:e=>{const{normalize:t}=e;return t(["Clear all"])},clear_opacity:e=>{const{normalize:t}=e;return t(["Clear opacity"])},load_theme:e=>{const{normalize:t}=e;return t(["Load theme"])},keep_as_is:e=>{const{normalize:t}=e;return t(["Keep as is"])},use_snapshot:e=>{const{normalize:t}=e;return t(["Old version"])},use_source:e=>{const{normalize:t}=e;return t(["New version"])},help:{upgraded_from_v2:e=>{const{normalize:t}=e;return t(["PleromaFE has been upgraded, theme could look a little bit different than you remember."])},v2_imported:e=>{const{normalize:t}=e;return t(["File you imported was made for older FE. We try to maximize compatibility but there still could be inconsistencies."])},future_version_imported:e=>{const{normalize:t}=e;return t(["File you imported was made in newer version of FE."])},older_version_imported:e=>{const{normalize:t}=e;return t(["File you imported was made in older version of FE."])},snapshot_present:e=>{const{normalize:t}=e;return t(["Theme snapshot is loaded, so all values are overriden. You can load theme's actual data instead."])},snapshot_missing:e=>{const{normalize:t}=e;return t(["No theme snapshot was in the file so it could look different than originally envisioned."])},fe_upgraded:e=>{const{normalize:t}=e;return t(["PleromaFE's theme engine upgraded after version update."])},fe_downgraded:e=>{const{normalize:t}=e;return t(["PleromaFE's version rolled back."])},migration_snapshot_ok:e=>{const{normalize:t}=e;return t(["Just to be safe, theme snapshot loaded. You can try loading theme data."])},migration_napshot_gone:e=>{const{normalize:t}=e;return t(["For whatever reason snapshot was missing, some stuff could look different than you remember."])},snapshot_source_mismatch:e=>{const{normalize:t}=e;return t(["Versions conflict: most likely FE was rolled back and updated again, if you changed theme using older version of FE you most likely want to use old version, otherwise use new version."])}}},common:{color:e=>{const{normalize:t}=e;return t(["Color"])},opacity:e=>{const{normalize:t}=e;return t(["Opacity"])},contrast:{hint:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Contrast ratio is ",n(o("ratio")),", it ",n(o("level"))," ",n(o("context"))])},level:{aa:e=>{const{normalize:t}=e;return t(["meets Level AA guideline (minimal)"])},aaa:e=>{const{normalize:t}=e;return t(["meets Level AAA guideline (recommended)"])},bad:e=>{const{normalize:t}=e;return t(["doesn't meet any accessibility guidelines"])}},context:{"18pt":e=>{const{normalize:t}=e;return t(["for large (18pt+) text"])},text:e=>{const{normalize:t}=e;return t(["for text"])}}}},common_colors:{_tab_label:e=>{const{normalize:t}=e;return t(["Common"])},main:e=>{const{normalize:t}=e;return t(["Common colors"])},foreground_hint:e=>{const{normalize:t}=e;return t(['See "Advanced" tab for more detailed control'])},rgbo:e=>{const{normalize:t}=e;return t(["Icons, accents, badges"])}},advanced_colors:{_tab_label:e=>{const{normalize:t}=e;return t(["Advanced"])},alert:e=>{const{normalize:t}=e;return t(["Alert background"])},alert_error:e=>{const{normalize:t}=e;return t(["Error"])},alert_warning:e=>{const{normalize:t}=e;return t(["Warning"])},alert_neutral:e=>{const{normalize:t}=e;return t(["Neutral"])},post:e=>{const{normalize:t}=e;return t(["Posts/User bios"])},badge:e=>{const{normalize:t}=e;return t(["Badge background"])},popover:e=>{const{normalize:t}=e;return t(["Tooltips, menus, popovers"])},badge_notification:e=>{const{normalize:t}=e;return t(["Notification"])},panel_header:e=>{const{normalize:t}=e;return t(["Panel header"])},top_bar:e=>{const{normalize:t}=e;return t(["Top bar"])},borders:e=>{const{normalize:t}=e;return t(["Borders"])},buttons:e=>{const{normalize:t}=e;return t(["Buttons"])},inputs:e=>{const{normalize:t}=e;return t(["Input fields"])},faint_text:e=>{const{normalize:t}=e;return t(["Faded text"])},underlay:e=>{const{normalize:t}=e;return t(["Underlay"])},wallpaper:e=>{const{normalize:t}=e;return t(["Wallpaper"])},poll:e=>{const{normalize:t}=e;return t(["Poll graph"])},icons:e=>{const{normalize:t}=e;return t(["Icons"])},highlight:e=>{const{normalize:t}=e;return t(["Highlighted elements"])},pressed:e=>{const{normalize:t}=e;return t(["Pressed"])},selectedPost:e=>{const{normalize:t}=e;return t(["Selected post"])},selectedMenu:e=>{const{normalize:t}=e;return t(["Selected menu item"])},disabled:e=>{const{normalize:t}=e;return t(["Disabled"])},toggled:e=>{const{normalize:t}=e;return t(["Toggled"])},tabs:e=>{const{normalize:t}=e;return t(["Tabs"])},chat:{incoming:e=>{const{normalize:t}=e;return t(["Incoming"])},outgoing:e=>{const{normalize:t}=e;return t(["Outgoing"])},border:e=>{const{normalize:t}=e;return t(["Border"])}}},radii:{_tab_label:e=>{const{normalize:t}=e;return t(["Roundness"])}},shadows:{_tab_label:e=>{const{normalize:t}=e;return t(["Shadow and lighting"])},component:e=>{const{normalize:t}=e;return t(["Component"])},override:e=>{const{normalize:t}=e;return t(["Override"])},shadow_id:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Shadow #",n(o("value"))])},blur:e=>{const{normalize:t}=e;return t(["Blur"])},spread:e=>{const{normalize:t}=e;return t(["Spread"])},inset:e=>{const{normalize:t}=e;return t(["Inset"])},hintV3:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["For shadows you can also use the ",n(o(0))," notation to use other color slot."])},filter_hint:{always_drop_shadow:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Warning, this shadow always uses ",n(o(0))," when browser supports it."])},drop_shadow_syntax:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0))," does not support ",n(o(1))," parameter and ",n(o(2))," keyword."])},avatar_inset:e=>{const{normalize:t}=e;return t(["Please note that combining both inset and non-inset shadows on avatars might give unexpected results with transparent avatars."])},spread_zero:e=>{const{normalize:t}=e;return t(["Shadows with spread > 0 will appear as if it was set to zero"])},inset_classic:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Inset shadows will be using ",n(o(0))])}},components:{panel:e=>{const{normalize:t}=e;return t(["Panel"])},panelHeader:e=>{const{normalize:t}=e;return t(["Panel header"])},topBar:e=>{const{normalize:t}=e;return t(["Top bar"])},avatar:e=>{const{normalize:t}=e;return t(["User avatar (in profile view)"])},avatarStatus:e=>{const{normalize:t}=e;return t(["User avatar (in post display)"])},popup:e=>{const{normalize:t}=e;return t(["Popups and tooltips"])},button:e=>{const{normalize:t}=e;return t(["Button"])},buttonHover:e=>{const{normalize:t}=e;return t(["Button (hover)"])},buttonPressed:e=>{const{normalize:t}=e;return t(["Button (pressed)"])},buttonPressedHover:e=>{const{normalize:t}=e;return t(["Button (pressed+hover)"])},input:e=>{const{normalize:t}=e;return t(["Input field"])}}},fonts:{_tab_label:e=>{const{normalize:t}=e;return t(["Fonts"])},help:e=>{const{normalize:t}=e;return t(['Select font to use for elements of UI. For "custom" you have to enter exact font name as it appears in system.'])},components:{interface:e=>{const{normalize:t}=e;return t(["Interface"])},input:e=>{const{normalize:t}=e;return t(["Input fields"])},post:e=>{const{normalize:t}=e;return t(["Post text"])},postCode:e=>{const{normalize:t}=e;return t(["Monospaced text in a post (rich text)"])}},family:e=>{const{normalize:t}=e;return t(["Font name"])},size:e=>{const{normalize:t}=e;return t(["Size (in px)"])},weight:e=>{const{normalize:t}=e;return t(["Weight (boldness)"])},custom:e=>{const{normalize:t}=e;return t(["Custom"])}},preview:{header:e=>{const{normalize:t}=e;return t(["Preview"])},content:e=>{const{normalize:t}=e;return t(["Content"])},error:e=>{const{normalize:t}=e;return t(["Example error"])},button:e=>{const{normalize:t}=e;return t(["Button"])},text:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["A bunch of more ",n(o(0))," and ",n(o(1))])},mono:e=>{const{normalize:t}=e;return t(["content"])},input:e=>{const{normalize:t}=e;return t(["Just landed in L.A."])},faint_link:e=>{const{normalize:t}=e;return t(["helpful manual"])},fine_print:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Read our ",n(o(0))," to learn nothing useful!"])},header_faint:e=>{const{normalize:t}=e;return t(["This is fine"])},checkbox:e=>{const{normalize:t}=e;return t(["I have skimmed over terms and conditions"])},link:e=>{const{normalize:t}=e;return t(["a nice lil' link"])}}},version:{title:e=>{const{normalize:t}=e;return t(["Version"])},backend_version:e=>{const{normalize:t}=e;return t(["Backend version"])},frontend_version:e=>{const{normalize:t}=e;return t(["Frontend version"])}}},time:{unit:{days:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," day"]),t([n(o(0))," days"])])},days_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"d"])},hours:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," hour"]),t([n(o(0))," hours"])])},hours_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"h"])},minutes:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," minute"]),t([n(o(0))," minutes"])])},minutes_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"min"])},months:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," month"]),t([n(o(0))," months"])])},months_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"mo"])},seconds:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," second"]),t([n(o(0))," seconds"])])},seconds_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"s"])},weeks:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," week"]),t([n(o(0))," weeks"])])},weeks_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"w"])},years:e=>{const{normalize:t,interpolate:n,list:o,plural:r}=e;return r([t([n(o(0))," year"]),t([n(o(0))," years"])])},years_short:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0)),"y"])}},in_future:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["in ",n(o(0))])},in_past:e=>{const{normalize:t,interpolate:n,list:o}=e;return t([n(o(0))," ago"])},now:e=>{const{normalize:t}=e;return t(["just now"])},now_short:e=>{const{normalize:t}=e;return t(["now"])}},timeline:{collapse:e=>{const{normalize:t}=e;return t(["Collapse"])},conversation:e=>{const{normalize:t}=e;return t(["Conversation"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error fetching timeline: ",n(o(0))])},load_older:e=>{const{normalize:t}=e;return t(["Load older statuses"])},no_retweet_hint:e=>{const{normalize:t}=e;return t(["Post is marked as followers-only or direct and cannot be repeated"])},repeated:e=>{const{normalize:t}=e;return t(["repeated"])},show_new:e=>{const{normalize:t}=e;return t(["Show new"])},reload:e=>{const{normalize:t}=e;return t(["Reload"])},up_to_date:e=>{const{normalize:t}=e;return t(["Up-to-date"])},no_more_statuses:e=>{const{normalize:t}=e;return t(["No more statuses"])},no_statuses:e=>{const{normalize:t}=e;return t(["No statuses"])},socket_reconnected:e=>{const{normalize:t}=e;return t(["Realtime connection established"])},socket_broke:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Realtime connection lost: CloseEvent code ",n(o(0))])},quick_view_settings:e=>{const{normalize:t}=e;return t(["Quick view settings"])},quick_filter_settings:e=>{const{normalize:t}=e;return t(["Quick filter settings"])}},status:{favorites:e=>{const{normalize:t}=e;return t(["Favorites"])},repeats:e=>{const{normalize:t}=e;return t(["Repeats"])},repeat_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to repeat this status?"])},repeat_confirm_title:e=>{const{normalize:t}=e;return t(["Repeat confirmation"])},repeat_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Repeat"])},repeat_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not repeat"])},delete:e=>{const{normalize:t}=e;return t(["Delete status"])},edit:e=>{const{normalize:t}=e;return t(["Edit status"])},edited_at:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["(last edited ",n(o("time")),")"])},pin:e=>{const{normalize:t}=e;return t(["Pin on profile"])},unpin:e=>{const{normalize:t}=e;return t(["Unpin from profile"])},pinned:e=>{const{normalize:t}=e;return t(["Pinned"])},bookmark:e=>{const{normalize:t}=e;return t(["Bookmark"])},unbookmark:e=>{const{normalize:t}=e;return t(["Unbookmark"])},delete_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to delete this status?"])},delete_confirm_title:e=>{const{normalize:t}=e;return t(["Delete confirmation"])},delete_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Delete"])},delete_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Keep"])},reply_to:e=>{const{normalize:t}=e;return t(["Reply to"])},mentions:e=>{const{normalize:t}=e;return t(["Mentions"])},replies_list:e=>{const{normalize:t}=e;return t(["Replies:"])},replies_list_with_others:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Replies (+",n(o("numReplies"))," other):"]),t(["Replies (+",n(o("numReplies"))," others):"])])},mute_conversation:e=>{const{normalize:t}=e;return t(["Mute conversation"])},unmute_conversation:e=>{const{normalize:t}=e;return t(["Unmute conversation"])},status_unavailable:e=>{const{normalize:t}=e;return t(["Status unavailable"])},copy_link:e=>{const{normalize:t}=e;return t(["Copy link to status"])},external_source:e=>{const{normalize:t}=e;return t(["External source"])},thread_muted:e=>{const{normalize:t}=e;return t(["Thread muted"])},thread_muted_and_words:e=>{const{normalize:t}=e;return t([", has words:"])},show_full_subject:e=>{const{normalize:t}=e;return t(["Show full subject"])},hide_full_subject:e=>{const{normalize:t}=e;return t(["Hide full subject"])},show_content:e=>{const{normalize:t}=e;return t(["Show content"])},hide_content:e=>{const{normalize:t}=e;return t(["Hide content"])},status_deleted:e=>{const{normalize:t}=e;return t(["This post was deleted"])},nsfw:e=>{const{normalize:t}=e;return t(["NSFW"])},expand:e=>{const{normalize:t}=e;return t(["Expand"])},you:e=>{const{normalize:t}=e;return t(["(You)"])},plus_more:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["+",n(o("number"))," more"])},many_attachments:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Post has ",n(o("number"))," attachment(s)"])},collapse_attachments:e=>{const{normalize:t}=e;return t(["Collapse attachments"])},show_all_attachments:e=>{const{normalize:t}=e;return t(["Show all attachments"])},show_attachment_in_modal:e=>{const{normalize:t}=e;return t(["Show in media modal"])},show_attachment_description:e=>{const{normalize:t}=e;return t(["Preview description (open attachment for full description)"])},hide_attachment:e=>{const{normalize:t}=e;return t(["Hide attachment"])},remove_attachment:e=>{const{normalize:t}=e;return t(["Remove attachment"])},attachment_stop_flash:e=>{const{normalize:t}=e;return t(["Stop Flash player"])},move_up:e=>{const{normalize:t}=e;return t(["Shift attachment left"])},move_down:e=>{const{normalize:t}=e;return t(["Shift attachment right"])},open_gallery:e=>{const{normalize:t}=e;return t(["Open gallery"])},thread_hide:e=>{const{normalize:t}=e;return t(["Hide this thread"])},thread_show:e=>{const{normalize:t}=e;return t(["Show this thread"])},thread_show_full:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Show everything under this thread (",n(o("numStatus"))," status in total, max depth ",n(o("depth")),")"]),t(["Show everything under this thread (",n(o("numStatus"))," statuses in total, max depth ",n(o("depth")),")"])])},thread_show_full_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},thread_follow:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["See the remaining part of this thread (",n(o("numStatus"))," status in total)"]),t(["See the remaining part of this thread (",n(o("numStatus"))," statuses in total)"])])},thread_follow_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},ancestor_follow:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["See ",n(o("numReplies"))," other reply under this status"]),t(["See ",n(o("numReplies"))," other replies under this status"])])},ancestor_follow_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},show_all_conversation_with_icon:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("icon"))," ",n(o("text"))])},show_all_conversation:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t(["Show full conversation (",n(o("numStatus"))," other status)"]),t(["Show full conversation (",n(o("numStatus"))," other statuses)"])])},show_only_conversation_under_this:e=>{const{normalize:t}=e;return t(["Only show replies to this status"])},status_history:e=>{const{normalize:t}=e;return t(["Status history"])}},user_card:{approve:e=>{const{normalize:t}=e;return t(["Approve"])},approve_confirm_title:e=>{const{normalize:t}=e;return t(["Approve confirmation"])},approve_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Approve"])},approve_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not approve"])},approve_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you want to approve ",n(o("user")),"'s follow request?"])},block:e=>{const{normalize:t}=e;return t(["Block"])},blocked:e=>{const{normalize:t}=e;return t(["Blocked!"])},block_confirm_title:e=>{const{normalize:t}=e;return t(["Block confirmation"])},block_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to block ",n(o("user")),"?"])},block_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Block"])},block_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not block"])},deactivated:e=>{const{normalize:t}=e;return t(["Deactivated"])},deny:e=>{const{normalize:t}=e;return t(["Deny"])},deny_confirm_title:e=>{const{normalize:t}=e;return t(["Deny confirmation"])},deny_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Deny"])},deny_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not deny"])},deny_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you want to deny ",n(o("user")),"'s follow request?"])},edit_profile:e=>{const{normalize:t}=e;return t(["Edit profile"])},favorites:e=>{const{normalize:t}=e;return t(["Favorites"])},follow:e=>{const{normalize:t}=e;return t(["Follow"])},follow_cancel:e=>{const{normalize:t}=e;return t(["Cancel request"])},follow_sent:e=>{const{normalize:t}=e;return t(["Request sent!"])},follow_progress:e=>{const{normalize:t}=e;return t(["Requesting…"])},follow_unfollow:e=>{const{normalize:t}=e;return t(["Unfollow"])},unfollow_confirm_title:e=>{const{normalize:t}=e;return t(["Unfollow confirmation"])},unfollow_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to unfollow ",n(o("user")),"?"])},unfollow_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Unfollow"])},unfollow_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not unfollow"])},followees:e=>{const{normalize:t}=e;return t(["Following"])},followers:e=>{const{normalize:t}=e;return t(["Followers"])},following:e=>{const{normalize:t}=e;return t(["Following!"])},follows_you:e=>{const{normalize:t}=e;return t(["Follows you!"])},hidden:e=>{const{normalize:t}=e;return t(["Hidden"])},its_you:e=>{const{normalize:t}=e;return t(["It's you!"])},media:e=>{const{normalize:t}=e;return t(["Media"])},mention:e=>{const{normalize:t}=e;return t(["Mention"])},message:e=>{const{normalize:t}=e;return t(["Message"])},mute:e=>{const{normalize:t}=e;return t(["Mute"])},muted:e=>{const{normalize:t}=e;return t(["Muted"])},mute_confirm_title:e=>{const{normalize:t}=e;return t(["Mute confirmation"])},mute_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to mute ",n(o("user")),"?"])},mute_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Mute"])},mute_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Do not mute"])},mute_duration_prompt:e=>{const{normalize:t}=e;return t(["Mute this user for (0 for indefinite time):"])},per_day:e=>{const{normalize:t}=e;return t(["per day"])},remote_follow:e=>{const{normalize:t}=e;return t(["Remote follow"])},remove_follower:e=>{const{normalize:t}=e;return t(["Remove follower"])},remove_follower_confirm_title:e=>{const{normalize:t}=e;return t(["Remove follower confirmation"])},remove_follower_confirm_accept_button:e=>{const{normalize:t}=e;return t(["Remove"])},remove_follower_confirm_cancel_button:e=>{const{normalize:t}=e;return t(["Keep"])},remove_follower_confirm:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Do you really want to remove ",n(o("user"))," from your followers?"])},report:e=>{const{normalize:t}=e;return t(["Report"])},statuses:e=>{const{normalize:t}=e;return t(["Statuses"])},subscribe:e=>{const{normalize:t}=e;return t(["Subscribe"])},unsubscribe:e=>{const{normalize:t}=e;return t(["Unsubscribe"])},unblock:e=>{const{normalize:t}=e;return t(["Unblock"])},unblock_progress:e=>{const{normalize:t}=e;return t(["Unblocking…"])},block_progress:e=>{const{normalize:t}=e;return t(["Blocking…"])},unmute:e=>{const{normalize:t}=e;return t(["Unmute"])},unmute_progress:e=>{const{normalize:t}=e;return t(["Unmuting…"])},mute_progress:e=>{const{normalize:t}=e;return t(["Muting…"])},hide_repeats:e=>{const{normalize:t}=e;return t(["Hide repeats"])},show_repeats:e=>{const{normalize:t}=e;return t(["Show repeats"])},bot:e=>{const{normalize:t}=e;return t(["Bot"])},birthday:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Born ",n(o("birthday"))])},admin_menu:{moderation:e=>{const{normalize:t}=e;return t(["Moderation"])},grant_admin:e=>{const{normalize:t}=e;return t(["Grant Admin"])},revoke_admin:e=>{const{normalize:t}=e;return t(["Revoke Admin"])},grant_moderator:e=>{const{normalize:t}=e;return t(["Grant Moderator"])},revoke_moderator:e=>{const{normalize:t}=e;return t(["Revoke Moderator"])},activate_account:e=>{const{normalize:t}=e;return t(["Activate account"])},deactivate_account:e=>{const{normalize:t}=e;return t(["Deactivate account"])},delete_account:e=>{const{normalize:t}=e;return t(["Delete account"])},force_nsfw:e=>{const{normalize:t}=e;return t(["Mark all posts as NSFW"])},strip_media:e=>{const{normalize:t}=e;return t(["Remove media from posts"])},force_unlisted:e=>{const{normalize:t}=e;return t(["Force posts to be unlisted"])},sandbox:e=>{const{normalize:t}=e;return t(["Force posts to be followers-only"])},disable_remote_subscription:e=>{const{normalize:t}=e;return t(["Disallow following user from remote instances"])},disable_any_subscription:e=>{const{normalize:t}=e;return t(["Disallow following user at all"])},quarantine:e=>{const{normalize:t}=e;return t(["Disallow user posts from federating"])},delete_user:e=>{const{normalize:t}=e;return t(["Delete user"])},delete_user_data_and_deactivate_confirmation:e=>{const{normalize:t}=e;return t(["This will permanently delete the data from this account and deactivate it. Are you absolutely sure?"])}},highlight:{disabled:e=>{const{normalize:t}=e;return t(["No highlight"])},solid:e=>{const{normalize:t}=e;return t(["Solid bg"])},striped:e=>{const{normalize:t}=e;return t(["Striped bg"])},side:e=>{const{normalize:t}=e;return t(["Side stripe"])}},note:e=>{const{normalize:t}=e;return t(["Note"])},note_blank:e=>{const{normalize:t}=e;return t(["(None)"])},edit_note:e=>{const{normalize:t}=e;return t(["Edit note"])},edit_note_apply:e=>{const{normalize:t}=e;return t(["Apply"])},edit_note_cancel:e=>{const{normalize:t}=e;return t(["Cancel"])}},user_profile:{timeline_title:e=>{const{normalize:t}=e;return t(["User timeline"])},profile_does_not_exist:e=>{const{normalize:t}=e;return t(["Sorry, this profile does not exist."])},profile_loading_error:e=>{const{normalize:t}=e;return t(["Sorry, there was an error loading this profile."])}},user_reporting:{title:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Reporting ",n(o(0))])},add_comment_description:e=>{const{normalize:t}=e;return t(["The report will be sent to your instance moderators. You can provide an explanation of why you are reporting this account below:"])},additional_comments:e=>{const{normalize:t}=e;return t(["Additional comments"])},forward_description:e=>{const{normalize:t}=e;return t(["The account is from another server. Send a copy of the report there as well?"])},forward_to:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Forward to ",n(o(0))])},submit:e=>{const{normalize:t}=e;return t(["Submit"])},generic_error:e=>{const{normalize:t}=e;return t(["An error occurred while processing your request."])}},who_to_follow:{more:e=>{const{normalize:t}=e;return t(["More"])},who_to_follow:e=>{const{normalize:t}=e;return t(["Who to follow"])}},tool_tip:{media_upload:e=>{const{normalize:t}=e;return t(["Upload media"])},repeat:e=>{const{normalize:t}=e;return t(["Repeat"])},reply:e=>{const{normalize:t}=e;return t(["Reply"])},favorite:e=>{const{normalize:t}=e;return t(["Favorite"])},add_reaction:e=>{const{normalize:t}=e;return t(["Add Reaction"])},user_settings:e=>{const{normalize:t}=e;return t(["User Settings"])},accept_follow_request:e=>{const{normalize:t}=e;return t(["Accept follow request"])},reject_follow_request:e=>{const{normalize:t}=e;return t(["Reject follow request"])},bookmark:e=>{const{normalize:t}=e;return t(["Bookmark"])},toggle_expand:e=>{const{normalize:t}=e;return t(["Expand or collapse notification to show post in full"])},toggle_mute:e=>{const{normalize:t}=e;return t(["Expand or collapse notification to reveal muted content"])},autocomplete_available:e=>{const{normalize:t,interpolate:n,named:o,plural:r}=e;return r([t([n(o("number"))," result is available. Use up and down keys to navigate through them."]),t([n(o("number"))," results are available. Use up and down keys to navigate through them."])])}},upload:{error:{base:e=>{const{normalize:t}=e;return t(["Upload failed."])},message:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Upload failed: ",n(o(0))])},file_too_big:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["File too big [",n(o("filesize")),n(o("filesizeunit"))," / ",n(o("allowedsize")),n(o("allowedsizeunit")),"]"])},default:e=>{const{normalize:t}=e;return t(["Try again later"])}},file_size_units:{B:e=>{const{normalize:t}=e;return t(["B"])},KiB:e=>{const{normalize:t}=e;return t(["KiB"])},MiB:e=>{const{normalize:t}=e;return t(["MiB"])},GiB:e=>{const{normalize:t}=e;return t(["GiB"])},TiB:e=>{const{normalize:t}=e;return t(["TiB"])}}},search:{people:e=>{const{normalize:t}=e;return t(["People"])},hashtags:e=>{const{normalize:t}=e;return t(["Hashtags"])},person_talking:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("count"))," person talking"])},people_talking:e=>{const{normalize:t,interpolate:n,named:o}=e;return t([n(o("count"))," people talking"])},no_results:e=>{const{normalize:t}=e;return t(["No results"])},no_more_results:e=>{const{normalize:t}=e;return t(["No more results"])},load_more:e=>{const{normalize:t}=e;return t(["Load more results"])}},password_reset:{forgot_password:e=>{const{normalize:t}=e;return t(["Forgot password?"])},password_reset:e=>{const{normalize:t}=e;return t(["Password reset"])},instruction:e=>{const{normalize:t}=e;return t(["Enter your email address or username. We will send you a link to reset your password."])},placeholder:e=>{const{normalize:t}=e;return t(["Your email or username"])},check_email:e=>{const{normalize:t}=e;return t(["Check your email for a link to reset your password."])},return_home:e=>{const{normalize:t}=e;return t(["Return to the home page"])},too_many_requests:e=>{const{normalize:t}=e;return t(["You have reached the limit of attempts, try again later."])},password_reset_disabled:e=>{const{normalize:t}=e;return t(["Password reset is disabled. Please contact your instance administrator."])},password_reset_required:e=>{const{normalize:t}=e;return t(["You must reset your password to log in."])},password_reset_required_but_mailer_is_disabled:e=>{const{normalize:t}=e;return t(["You must reset your password, but password reset is disabled. Please contact your instance administrator."])}},chats:{you:e=>{const{normalize:t}=e;return t(["You:"])},message_user:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Message ",n(o("nickname"))])},delete:e=>{const{normalize:t}=e;return t(["Delete"])},chats:e=>{const{normalize:t}=e;return t(["Chats"])},new:e=>{const{normalize:t}=e;return t(["New Chat"])},empty_message_error:e=>{const{normalize:t}=e;return t(["Cannot post empty message"])},more:e=>{const{normalize:t}=e;return t(["More"])},delete_confirm:e=>{const{normalize:t}=e;return t(["Do you really want to delete this message?"])},error_loading_chat:e=>{const{normalize:t}=e;return t(["Something went wrong when loading the chat."])},error_sending_message:e=>{const{normalize:t}=e;return t(["Something went wrong when sending the message."])},empty_chat_list_placeholder:e=>{const{normalize:t}=e;return t(["You don't have any chats yet. Start a new chat!"])}},lists:{lists:e=>{const{normalize:t}=e;return t(["Lists"])},new:e=>{const{normalize:t}=e;return t(["New List"])},title:e=>{const{normalize:t}=e;return t(["List title"])},search:e=>{const{normalize:t}=e;return t(["Search users"])},create:e=>{const{normalize:t}=e;return t(["Create"])},save:e=>{const{normalize:t}=e;return t(["Save changes"])},delete:e=>{const{normalize:t}=e;return t(["Delete list"])},following_only:e=>{const{normalize:t}=e;return t(["Limit to Following"])},manage_lists:e=>{const{normalize:t}=e;return t(["Manage lists"])},manage_members:e=>{const{normalize:t}=e;return t(["Manage list members"])},add_members:e=>{const{normalize:t}=e;return t(["Search for more users"])},remove_from_list:e=>{const{normalize:t}=e;return t(["Remove from list"])},add_to_list:e=>{const{normalize:t}=e;return t(["Add to list"])},is_in_list:e=>{const{normalize:t}=e;return t(["Already in list"])},editing_list:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Editing list ",n(o("listTitle"))])},creating_list:e=>{const{normalize:t}=e;return t(["Creating new list"])},update_title:e=>{const{normalize:t}=e;return t(["Save Title"])},really_delete:e=>{const{normalize:t}=e;return t(["Really delete list?"])},error:e=>{const{normalize:t,interpolate:n,list:o}=e;return t(["Error manipulating lists: ",n(o(0))])}},file_type:{audio:e=>{const{normalize:t}=e;return t(["Audio"])},video:e=>{const{normalize:t}=e;return t(["Video"])},image:e=>{const{normalize:t}=e;return t(["Image"])},file:e=>{const{normalize:t}=e;return t(["File"])}},display_date:{today:e=>{const{normalize:t}=e;return t(["Today"])}},update:{big_update_title:e=>{const{normalize:t}=e;return t(["Please bear with us"])},big_update_content:e=>{const{normalize:t}=e;return t(["We haven't had a release in a while, so things might look and feel different than what you're used to."])},update_bugs:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Please report any issues and bugs on ",n(o("pleromaGitlab")),", as we have changed a lot, and although we test thoroughly and use development versions ourselves, we may have missed some things. We welcome your feedback and suggestions on issues you might encounter, or how to improve Pleroma and Pleroma-FE."])},update_bugs_gitlab:e=>{const{normalize:t}=e;return t(["Pleroma GitLab"])},update_changelog:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["For more details on what's changed, see ",n(o("theFullChangelog")),"."])},update_changelog_here:e=>{const{normalize:t}=e;return t(["the full changelog"])},art_by:e=>{const{normalize:t,interpolate:n,named:o}=e;return t(["Art by ",n(o("linkToArtist"))])}},unicode_domain_indicator:{tooltip:e=>{const{normalize:t}=e;return t(["This domain contains non-ascii characters."])}}}},1395:(e,t,n)=>{var o={"./af.json":[44919,6355],"./am.json":[53139,5119],"./ar.json":[44557,9873],"./ar_SA.json":[23450,7360],"./as.json":[44359,3377],"./ast.json":[13764,7569],"./az.json":[86459,2342],"./be.json":[50866,7304],"./bg.json":[26219,3974],"./bn.json":[69178,9064],"./br.json":[67871,6148],"./bs.json":[75340,8134],"./ca.json":[86914,4691],"./ccp.json":[73872,1162],"./ceb.json":[64478,9790],"./chr.json":[61017,6869],"./ckb.json":[56412,2656],"./cs.json":[8888,4710],"./cy.json":[25392,6272],"./da.json":[35042,1596],"./de.json":[35169,6226],"./de_CH.json":[28246,7164],"./doi.json":[59784,4209],"./dsb.json":[60634,1790],"./el.json":[98338,7879],"./en.json":[74990,5728],"./en_001.json":[62736,577],"./en_AU.json":[2597,9360],"./en_CA.json":[1516,4879],"./en_GB.json":[84830,50],"./en_IN.json":[71809,8988],"./es.json":[61148,6831],"./es_419.json":[25696,8873],"./es_MX.json":[11915,2699],"./es_US.json":[87826,3313],"./et.json":[66641,3276],"./eu.json":[6541,2992],"./fa.json":[43305,5521],"./fi.json":[40752,420],"./fil.json":[26843,1236],"./fo.json":[43032,8995],"./fr.json":[80898,2223],"./fr_CA.json":[54515,1821],"./ga.json":[66572,4571],"./gd.json":[9185,6116],"./gl.json":[23840,6126],"./gu.json":[85811,7261],"./ha.json":[91566,227],"./ha_NE.json":[3400,5304],"./he.json":[26260,5548],"./hi.json":[18136,5968],"./hi_Latn.json":[95638,3056],"./hr.json":[77435,2861],"./hsb.json":[15758,8015],"./hu.json":[2727,4902],"./hy.json":[8397,6344],"./ia.json":[49796,6936],"./id.json":[56635,9465],"./ig.json":[26406,9895],"./is.json":[51391,7300],"./it.json":[54879,8970],"./ja.json":[2971,1290],"./jv.json":[18644,2479],"./ka.json":[71255,6068],"./kab.json":[92892,9780],"./kk.json":[46419,2873],"./kl.json":[2227,2397],"./km.json":[65729,1404],"./kn.json":[65611,278],"./ko.json":[67080,2966],"./kok.json":[47209,2599],"./ku.json":[18738,2883],"./ky.json":[89690,4785],"./lb.json":[3929,4770],"./lo.json":[19778,7464],"./lt.json":[41683,7169],"./lv.json":[54873,8898],"./mai.json":[11781,1613],"./mi.json":[11569,6701],"./mk.json":[67589,9921],"./ml.json":[24415,2685],"./mn.json":[50512,4718],"./mni.json":[81597,5401],"./mr.json":[97747,1911],"./ms.json":[81588,9924],"./mt.json":[25081,9399],"./my.json":[8608,6790],"./ne.json":[8572,9377],"./nl.json":[52355,6773],"./nn.json":[52874,9414],"./no.json":[48005,9979],"./or.json":[26728,1012],"./pa.json":[15042,6946],"./pa_Arab.json":[43578,9994],"./pcm.json":[91163,5104],"./pl.json":[61335,1095],"./ps.json":[51828,678],"./pt.json":[38543,5041],"./pt_PT.json":[8063,1546],"./qu.json":[15821,8031],"./rm.json":[5014,5887],"./ro.json":[34064,9864],"./ru.json":[95222,8395],"./rw.json":[12710,346],"./sa.json":[69343,2243],"./sat.json":[51243,7855],"./sc.json":[1319,2874],"./sd.json":[67728,6826],"./si.json":[5044,4354],"./sk.json":[45626,2350],"./sl.json":[76091,1553],"./so.json":[93761,625],"./sq.json":[1230,4368],"./sr.json":[60445,3887],"./sr_Cyrl_BA.json":[38940,6060],"./sr_Latn.json":[21650,8681],"./sr_Latn_BA.json":[78328,5115],"./su.json":[54395,1959],"./sv.json":[3418,3241],"./sw.json":[11958,7585],"./sw_KE.json":[35001,3994],"./ta.json":[92930,7897],"./te.json":[8748,4786],"./tg.json":[20999,313],"./th.json":[23900,3951],"./ti.json":[368,3568],"./tk.json":[88770,1780],"./to.json":[95781,1584],"./tr.json":[92619,9978],"./tt.json":[87782,2569],"./ug.json":[19005,9757],"./uk.json":[82057,9871],"./ur.json":[13889,6797],"./uz.json":[45108,1056],"./vi.json":[97099,5224],"./wo.json":[9923,7303],"./xh.json":[29064,786],"./yo.json":[11971,8732],"./yo_BJ.json":[64533,9926],"./yue.json":[40648,1452],"./yue_Hans.json":[24800,4424],"./zh.json":[34626,457],"./zh_Hant.json":[82560,2767],"./zh_Hant_HK.json":[47677,1044],"./zu.json":[73784,9319]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,19)))}r.keys=()=>Object.keys(o),r.id=1395,e.exports=r},19003:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u});var o=n(15861),r=n(93433),i=n(4942),s=n(64687),a=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e){var t=d(e.emoji),n=e.store&&p(e.store);return function(o,r){var i=o[0];return":"===i&&e.emoji?t(o,r):"@"===i&&n?n(o):[]}};var d=function(e){return function(t,n){var o=t.toLowerCase().substr(1);return e.map((function(e){return l(l({},e),n(e))})).filter((function(e){return e.names.concat(e.keywords).filter((function(e){return e.toLowerCase().match(o)})).length})).map((function(e){var t=0;return t+=Math.max.apply(Math,(0,r.Z)(e.names.map((function(e){return e.toLowerCase()===o?200:0}))).concat([0])),t+=e.imageUrl?100:0,t+=Math.max.apply(Math,(0,r.Z)(e.names.map((function(e){return e.toLowerCase().startsWith(o)?10:0}))).concat([0])),t-=e.displayText.length,e.score=t,e})).sort((function(e,t){var n=e.displayText>t.displayText?.5:-.5;return t.score-e.score+n}))}},p=function(e){var t=e.dispatch,n=e.state,r=[],i="",s=null,c=null,l=function(e){return c&&c(),new Promise((function(n,o){s=setTimeout((function(){(function(e){return t("searchUsers",{query:e})})(e).then(n).catch(o)}),300),c=function(){clearTimeout(s),n([])}}))};return function(){var e=(0,o.Z)(a().mark((function e(t){var o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.toLowerCase().substr(1),i!==o){e.next=3;break}return e.abrupt("return",r);case 3:if(r=[],i=o,o.includes("@")){e.next=8;break}return e.next=8,l(o);case 8:return s=n.users.users.filter((function(e){return e.screen_name.toLowerCase().startsWith(o)||e.name.toLowerCase().startsWith(o)})).slice(0,20).sort((function(e,t){var n=0,r=0;return n+=e.screen_name.toLowerCase().startsWith(o)?2:0,r+=t.screen_name.toLowerCase().startsWith(o)?2:0,n+=e.name.toLowerCase().startsWith(o)?1:0,10*((r+=t.name.toLowerCase().startsWith(o)?1:0)-n)+(e.name>t.name?1:-1)+(e.screen_name>t.screen_name?1:-1)})).map((function(e){return{user:e,displayText:e.screen_name_ui,detailText:e.name,imageUrl:e.profile_image_url_original,replacement:"@"+e.screen_name+" "}})),r=s||[],e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},92820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var o=n(93433),r=n(29439),i=n(44925),s=n(42348),a=n.n(s),c=n(27955),l=n.n(c),u=n(66252);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var m=function(e){var t=/(?:<\/(\w+)>|<(\w+)\s?.*?\/?>)/gi.exec(e);return t&&(t[1]||t[2])},h=function(e,t){var n=e.substring(1,e.length-1).replace(new RegExp("^"+m(e)),"").replace(/\/?$/,"").trim(),o=Array.from(n.matchAll(/([a-z0-9-]+)(?:=("[^"]+?"|'[^']+?'))?/gi)).map((function(e){var t=(0,r.Z)(e,3);return t[0],[t[1],t[2]]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return o?[n,o.substring(1,o.length-1)]:[n,!0]}));return Object.fromEntries(o.filter(t||function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1],i=n.toLowerCase();return"style"!==i&&("class"!==i||"greentext"===o||"cyantext"===o)}))},f=function(e,t,n){for(var o=[],r="",i=0;i<e.length;i++){var s=e[i];if(":"===s){var a,c=e.slice(i+1),l=!1,u=d(t);try{for(u.s();!(a=u.n()).done;){var p=a.value;if(c.slice(0,p.shortcode.length+1)===p.shortcode+":"){l=p;break}}}catch(e){u.e(e)}finally{u.f()}l?(o.push(r),r="",o.push(n(l)),i+=l.shortcode.length+1):r+=s}else r+=s}return r&&o.push(r),o};function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var w=n(32140),b=n(21268),y=n(49963),_={class:"HashtagLink"},k=["href","innerHTML"];const S={name:"HashtagLink",props:{url:{required:!0,type:String},content:{required:!0,type:String},tag:{required:!1,type:String,default:""}},methods:{onClick:function(){var e,t,n=this.tag||(e=this.url,!!(t=/tag[s]*\/(\w+)$/g.exec(e))&&t[1]);if(n){var o=this.generateTagLink(n);this.$router.push(o)}else window.open(this.url,"_blank")},generateTagLink:function(e){return"/tag/".concat(e)}}},j=(0,n(83744).Z)(S,[["render",function(e,t,n,o,r,i){return(0,u.wg)(),(0,u.iD)("span",_,[(0,u._)("a",{href:e.url,class:"original",target:"_blank",onClick:t[0]||(t[0]=(0,y.iM)((function(){return e.onClick&&e.onClick.apply(e,arguments)}),["prevent"])),innerHTML:e.content},null,8,k)])}]]);var C=["index"];const O={name:"RichContent",components:{MentionsLine:b.Z,HashtagLink:j},props:{html:{required:!0,type:String},attentions:{required:!1,default:function(){return[]}},emoji:{required:!0,type:Array},handleLinks:{required:!1,type:Boolean,default:!1},greentext:{required:!1,type:Boolean,default:!1}},render:function(){var e=this,t=z(this.html,this.greentext).newHtml,n=null,s="",a=[],c=[],d=[],p=[],g=0,v=0,y=!1,_=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),n=[],o=[["",n]],r="",i=null,s=function(){return o[o.length-1][1]},a=function(){""!==r&&(s().push(r),r="")},c=function(e){s().push([e])},u=function(e){var t=s(),n=[l()(e),[]];o.push(n),t.push(n)},d=function(e){var t=o[o.length-1];m(o[o.length-1][0])===m(e)?(t.push(e),o.pop()):s().push(e)},p=0;p<e.length;p++){var h=e[p];if("<"===h&&null===i)a(),i=h;else if(">"!==h&&null!==i)i+=h;else if(">"===h&&null!==i){var f=i+=h;i=null;var g=m(f);"/"===f[1]?d(f):t.has(g)||"/"===f[f.length-2]?c(f):u(f)}else r+=h}return i&&(r+=i),a(),n}(t).map((function t(o,i,a,l){if("string"==typeof o){var p=""===o.trim();return o.includes("\n")&&(n=null),p?(s=o,i!==a.length-1&&null!==n?o.trim():o):(n=null,o.includes(":")&&(o=["",f(o,e.emoji,(function(e){var t=e.shortcode,n=e.url;return(0,u.Wm)(w.Z,{class:"emoji img",src:n,title:":".concat(t,":"),alt:":".concat(t,":")},null)}))]),o)}if(Array.isArray(o)){var v=o,y=(0,r.Z)(v,3),_=y[0],k=y[1],S=y[2],j=m(_),C=h(_,(function(){return!0})),O=h(_),z=null===n||k&&"string"==typeof k[0]&&k[0].match(/^\s/)?"":s;switch(j){case"br":n=null;break;case"img":return["",[z,(D=_,(0,u.Wm)(w.Z,(0,u.dG)(h(D),{class:"img"}),null))],""];case"a":if(!e.handleLinks)break;if(C.class&&C.class.includes("mention"))return function(t,o){var r=P(t,o,g++);return r.notifying=e.attentions.some((function(e){return e.statusnet_profile_url===r.url})),c.push(r),null===n&&(n=[]),n.push(r),n.length>b.d&&d.push(r),1===n.length?(0,u.Wm)(b.Z,{mentions:n},null):""}(O,k);n=null;break;case"span":if(e.handleLinks&&C.class&&C.class.includes("h-card"))return["",k.map(t),""]}return void 0!==k?["",[z,[_,k.map(t),S]],""]:["",[z,o],""]}var D})),k=(0,o.Z)(_).reverse().map((function t(n,s,c,d){var f;if("string"==typeof n)return""===n.trim()?n:(y||(y=!0),l()(n));if(Array.isArray(n)){var g=(0,r.Z)(n,2),w=g[0],b=g[1],_=""===w?"":m(w);switch(_){case"a":if(!e.handleLinks)break;var k=h(w,(function(){return!0})),S=h(w,(function(){return!0}));if(k.class&&k.class.includes("hashtag")||"tag"===k.rel)return function(e,t,n){var o=P(e,t,v++),r=(o.index,(0,i.Z)(o,C));p.push(r),n||a.push(r);var s=r.url,c=r.tag,l=r.content;return(0,u.Wm)(j,{url:s,tag:c,content:l},null)}(S,b,y);S.target="_blank";var O=(0,o.Z)(b).reverse().map(t).reverse();return(0,u.Wm)("a",S,[O]);case"":return(0,o.Z)(b).reverse().map(t).reverse()}if(void 0!==b){var z=Array.isArray(b)?(0,o.Z)(b).reverse().map(t).reverse():b;return(0,u.Wm)(_,h(w),"function"==typeof(f=z)||"[object Object]"===Object.prototype.toString.call(f)&&!(0,u.lA)(f)?z:{default:function(){return[z]}})}return(0,u.Wm)(_,null,null)}return n})).reverse(),S=(0,u.Wm)("span",{class:"RichContent"},[k]),O={lastTags:a,writtenMentions:c,writtenTags:p,invisibleMentions:d};return this.$emit("parseReady",O),S}};var P=function(e,t,n){var o=t.map((function e(t){return"string"==typeof t?t:t[1].map(e).join("")})).join("");return{index:n,url:e.href,tag:e["data-tag"],content:a()(t).join(""),textContent:o}},z=function(e,t){var n=new Set(["p","div"]),r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new Set(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),r=new Set(["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","table","ul"]),i=new Set(["br"]),s=new Set([].concat((0,o.Z)(r.values()),(0,o.Z)(i.values()))),a=new Set(s),c=g(n);try{for(c.s();!(e=c.n()).done;){var l=e.value;a.delete(l)}}catch(e){c.e(e)}finally{c.f()}for(var u=new Set([].concat((0,o.Z)(a.values()),(0,o.Z)(n.values()))),d=[],p=[],h="",f=null,v=function(){h.trim().length>0?d.push({level:[].concat(p),text:h}):d.push(h),h=""},w=function(e){v(),d.push(e)},b=function(e){v(),d.push(e),p.unshift(m(e))},y=function(e){p[0]===m(e)?(v(),d.push(e),p.shift()):h+=e},_=0;_<t.length;_++){var k=t[_];if("<"===k&&null===f)f=k;else if(">"!==k&&null!==f)f+=k;else if(">"===k&&null!==f){var S=f+=k;f=null;var j=m(S);u.has(j)?i.has(j)?w(S):a.has(j)?"/"===S[1]?y(S):"/"===S[S.length-2]?w(S):b(S):h+=S:h+=S}else"\n"===k?w(k):h+=k}return f&&(h+=f),v(),d}(e);return{newHtml:r.reverse().map((function(e,o,r){if(!e.text)return e;var i=e.text;if(t&&e.level.every((function(e){return n.has(e)}))&&(i.includes("&gt;")||i.includes("&lt;"))){var s=i.replace(/<[^>]+?>/gi,"").replace(/@\w+/gi,"").trim();if(s.startsWith("&gt;"))return"<span class='greentext'>".concat(i,"</span>");if(s.startsWith("&lt;"))return"<span class='cyantext'>".concat(i,"</span>")}return i})).reverse().join("")}}},79354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(4942),r=n(66252),i=n(989),s=n(57810);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var c=function(e){return e.findIndex((function(e){return e.props}))};const l={name:"TabSwitcher",props:{renderOnlyFocused:{required:!1,type:Boolean,default:!1},onSwitch:{required:!1,type:Function,default:void 0},activeTab:{required:!1,type:String,default:void 0},scrollableTabs:{required:!1,type:Boolean,default:!1},sideTabBar:{required:!1,type:Boolean,default:!1},bodyScrollLock:{required:!1,type:Boolean,default:!1}},data:function(){return{active:c(this.slots())}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({activeIndex:function(){var e=this;return this.activeTab?this.slots().findIndex((function(t){return t&&t.props&&e.activeTab===t.props.key})):this.active},isActive:function(){var e=this;return function(t){return e.$slots.default().findIndex((function(e){return e.props&&e.props["data-tab-name"]===t}))===e.activeIndex}},settingsModalVisible:function(){return"visible"===this.settingsModalState}},(0,i.rn)({settingsModalState:function(e){return e.interface.settingsModalState}})),beforeUpdate:function(){this.slots()[this.active].props||(this.active=c(this.slots()))},methods:{clickTab:function(e){var t=this;return function(n){n.preventDefault(),t.setTab(e)}},slots:function(){return this.$slots.default()[0].type===r.HY?this.$slots.default()[0].children:this.$slots.default()},setTab:function(e){"function"==typeof this.onSwitch&&this.onSwitch.call(null,this.slots()[e].key),this.active=e,this.scrollableTabs&&(this.$refs.contents.scrollTop=0)}},render:function(){var e=this,t=this.slots().map((function(t,n){var o=t.props;if(o){var i=["tab","button-default"],a=["tab-wrapper"];return e.activeIndex===n&&(i.push("active"),a.push("active")),o.image?(0,r.Wm)("div",{class:a.join(" ")},[(0,r.Wm)("button",{disabled:o.disabled,onClick:e.clickTab(n),class:i.join(" "),type:"button"},[(0,r.Wm)("img",{src:o.image,title:o["image-tooltip"]},null),o.label?"":o.label])]):(0,r.Wm)("div",{class:a.join(" ")},[(0,r.Wm)("button",{disabled:o.disabled,onClick:e.clickTab(n),class:i.join(" "),type:"button"},[o.icon?(0,r.Wm)(s.GN,{class:"tab-icon",size:"2x","fixed-width":!0,icon:o.icon},null):"",(0,r.Wm)("span",{class:"text"},[o.label])])])}})),n=this.slots().map((function(t,n){var o=t.props;if(o){var i=e.activeIndex===n,s=[i?"active":"hidden"];o.fullHeight&&s.push("full-height");var a=!e.renderOnlyFocused||i?t:"";return(0,r.Wm)("div",{class:s},[e.sideTabBar?(0,r.Wm)("h1",{class:"mobile-label"},[o.label]):"",a])}}));return(0,r.Wm)("div",{class:"tab-switcher "+(this.sideTabBar?"side-tabs":"top-tabs")},[(0,r.Wm)("div",{class:"tabs"},[t]),(0,r.wy)((0,r.Wm)("div",{ref:"contents",class:"contents"+(this.scrollableTabs?" scrollable-tabs":"")},[n]),[[(0,r.Q2)("body-scroll-lock"),this.bodyScrollLock]])])}}},8312:e=>{var t={ja:"ja_pedantic"};e.exports={languages:["ar","ca","cs","de","eo","en","es","et","eu","fi","fr","ga","he","hu","it","ja","ja_easy","ko","nb","nl","oc","pl","pt","ro","ru","sk","te","uk","zh","zh_Hant"],langCodeToJsonName:function(e){return t[e]||e},langCodeToCldrName:function(e){return e},ensureFinalFallback:function(e){var t=Array.isArray(e)?e:[e];return t.includes("en")?t:t.concat(["en"])}}},72617:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(84506),r=n(15861),i=n(18446),s=n.n(i),a=n(64687),c=n.n(a),l=n(8312);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var p,m=function(e){return n(27650)("./".concat((0,l.langCodeToJsonName)(e),".json"))};const h={languages:l.languages,default:{en:n(88797).default},setLanguage:(p=(0,r.Z)(c().mark((function e(t,n){var r,i,a,d,p,h,f,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=(Array.isArray(n)?n:[n]).filter((function(e){return e}))).includes("en")||r.push("en"),i=(0,o.Z)(r),a=i[0],d=i.slice(1),a!==t.locale||!s()(d,t.fallbackLocale)){e.next=5;break}return e.abrupt("return");case 5:p=u(r),e.prev=6,p.s();case 8:if((h=p.n()).done){e.next=17;break}if(c=f=h.value,!l.languages.includes(c)){e.next=15;break}return e.next=13,m(f);case 13:g=e.sent,t.setLocaleMessage(f,g.default);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),p.e(e.t0);case 22:return e.prev=22,p.f(),e.finish(22);case 25:t.fallbackLocale=d,t.locale=a;case 27:case"end":return e.stop()}var c}),e,null,[[6,19,22,25]])}))),function(e,t){return p.apply(this,arguments)})}},43002:(e,t,n)=>{"use strict";var o=n(15861),r=n(64687),i=n.n(r),s=n(989),a=(n(67810),n(73152));try{new EventTarget}catch(e){window.EventTarget=a.Z}const c={state:{settingsModalState:"hidden",settingsModalLoaded:!1,settingsModalTargetTab:null,settings:{currentSaveStateNotice:null,noticeClearTimeout:null,notificationPermission:null},browserSupport:{cssFilter:window.CSS&&window.CSS.supports&&(window.CSS.supports("filter","drop-shadow(0 0)")||window.CSS.supports("-webkit-filter","drop-shadow(0 0)"))},layoutType:"normal",globalNotices:[],layoutHeight:0,lastTimeline:null},mutations:{settingsSaved:function(e,t){var n=t.success,o=t.error;n?(e.noticeClearTimeout&&clearTimeout(e.noticeClearTimeout),e.settings.currentSaveStateNotice={error:!1,data:n},e.settings.noticeClearTimeout=setTimeout((function(){return delete e.settings.currentSaveStateNotice}),2e3)):e.settings.currentSaveStateNotice={error:!0,errorData:o}},setNotificationPermission:function(e,t){e.notificationPermission=t},setLayoutType:function(e,t){e.layoutType=t},closeSettingsModal:function(e){e.settingsModalState="hidden"},togglePeekSettingsModal:function(e){switch(e.settingsModalState){case"minimized":return void(e.settingsModalState="visible");case"visible":return void(e.settingsModalState="minimized");default:throw new Error("Illegal minimization state of settings modal")}},openSettingsModal:function(e){e.settingsModalState="visible",e.settingsModalLoaded||(e.settingsModalLoaded=!0)},setSettingsModalTargetTab:function(e,t){e.settingsModalTargetTab=t},pushGlobalNotice:function(e,t){e.globalNotices.push(t)},removeGlobalNotice:function(e,t){e.globalNotices=e.globalNotices.filter((function(e){return e!==t}))},setLayoutHeight:function(e,t){e.layoutHeight=t},setLayoutWidth:function(e,t){e.layoutWidth=t},setLastTimeline:function(e,t){e.lastTimeline=t}},actions:{setPageTitle:function(e){var t=e.rootState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.title="".concat(n," ").concat(t.instance.name)},settingsSaved:function(e,t){var n=e.commit;e.dispatch,n("settingsSaved",{success:t.success,error:t.error})},setNotificationPermission:function(e,t){(0,e.commit)("setNotificationPermission",t)},closeSettingsModal:function(e){(0,e.commit)("closeSettingsModal")},openSettingsModal:function(e){(0,e.commit)("openSettingsModal")},togglePeekSettingsModal:function(e){(0,e.commit)("togglePeekSettingsModal")},clearSettingsModalTargetTab:function(e){(0,e.commit)("setSettingsModalTargetTab",null)},openSettingsModalTab:function(e,t){var n=e.commit;n("setSettingsModalTargetTab",t),n("openSettingsModal")},pushGlobalNotice:function(e,t){var n=e.commit,o=e.dispatch,r=e.state,i=t.messageKey,s=t.messageArgs,a=void 0===s?{}:s,c=t.level,l=void 0===c?"error":c,u=t.timeout,d=void 0===u?0:u;n("pushGlobalNotice",{messageKey:i,messageArgs:a,level:l});var p=r.globalNotices[r.globalNotices.length-1];return d&&setTimeout((function(){return o("removeGlobalNotice",p)}),d),p},removeGlobalNotice:function(e,t){(0,e.commit)("removeGlobalNotice",t)},setLayoutHeight:function(e,t){(0,e.commit)("setLayoutHeight",t)},setLayoutWidth:function(e,t){var n=e.commit,o=e.state,r=e.rootGetters,i=e.rootState,s=t;void 0!==t?n("setLayoutWidth",t):s=o.layoutWidth;var a=s<=800?"mobile":"normal";"none"!==r.mergedConfig.thirdColumnMode&&i.users.currentUser?n("setLayoutType",s>=1300?"wide":a):n("setLayoutType",a)},setLastTimeline:function(e,t){(0,e.commit)("setLastTimeline",t)}}};var l=n(29439),u=n(93433),d=n(4942),p=n(77394),m=n(40454),h=n(77776),f=n(85565),g=n(8312);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=["smileys-and-emotion","people-and-body","animals-and-nature","food-and-drink","travel-and-places","activities","objects","symbols","flags"],y=function(){for(var e=127462,t="A".codePointAt(0),n=new Array(26),o=e;o<=127487;++o){var r=String.fromCodePoint(t+o-e);n[o-e]={replacement:String.fromCodePoint(o),imageUrl:!1,displayText:"regional_indicator_"+r,displayTextI18n:{key:"emoji.regional_indicator",args:{letter:r}}}}return n}(),_=function(e){return n(1395)("./".concat((0,g.langCodeToCldrName)(e),".json")).then((function(e){return e.default}))},k=function(e,t){var n=Object.keys(t);return w(w({},e),{},{annotations:n.reduce((function(n,o){return n[o]=t[o][e.replacement],n}),{})})};const S={state:{name:"Pleroma FE",registrationOpen:!0,server:"http://localhost:4040/",textlimit:5e3,themeData:void 0,vapidPublicKey:void 0,alwaysShowSubjectInput:!0,defaultAvatar:"/images/avi.png",defaultBanner:"/images/banner.png",background:"/static/aurora_borealis.jpg",collapseMessageWithSubject:!1,greentext:!1,useAtIcon:!1,mentionLinkDisplay:"short",mentionLinkShowTooltip:!0,mentionLinkShowAvatar:!1,mentionLinkFadeDomain:!0,mentionLinkShowYous:!1,mentionLinkBoldenYou:!0,hideFilteredStatuses:!1,hideMutedPosts:!1,hideMutedThreads:!0,hideWordFilteredPosts:!1,hidePostStats:!1,hideBotIndication:!1,hideSitename:!1,hideUserStats:!1,muteBotStatuses:!1,modalOnRepeat:!1,modalOnUnfollow:!1,modalOnBlock:!0,modalOnMute:!1,modalOnDelete:!0,modalOnLogout:!0,modalOnApproveFollow:!1,modalOnDenyFollow:!1,modalOnRemoveUserFromFollowers:!1,loginMethod:"password",logo:"/static/logo.svg",logoMargin:".2em",logoMask:!0,logoLeft:!1,disableUpdateNotification:!1,minimalScopesMode:!1,nsfwCensorImage:void 0,postContentType:"text/plain",redirectRootLogin:"/main/friends",redirectRootNoLogin:"/main/all",scopeCopy:!0,showFeaturesPanel:!0,showInstanceSpecificPanel:!1,sidebarRight:!1,subjectLineBehavior:"email",theme:"pleroma-dark",virtualScrolling:!0,sensitiveByDefault:!1,conversationDisplay:"linear",conversationTreeAdvanced:!1,conversationOtherRepliesButton:"below",conversationTreeFadeAncestors:!1,maxDepthInThread:6,customEmoji:[],customEmojiFetched:!1,emoji:{},emojiFetched:!1,unicodeEmojiAnnotations:{},pleromaBackend:!0,postFormats:[],restrictedNicknames:[],safeDM:!0,knownDomains:[],birthdayRequired:!1,birthdayMinAge:0,shoutAvailable:!1,pleromaChatMessagesAvailable:!1,gopherAvailable:!1,mediaProxyAvailable:!1,suggestionsEnabled:!1,suggestionsWeb:"",instanceSpecificPanelContent:"",tos:"",backendVersion:"",frontendVersion:"",pollsAvailable:!1,pollLimits:{max_options:4,max_option_chars:255,min_expiration:60,max_expiration:86400}},mutations:{setInstanceOption:function(e,t){var n=t.name,o=t.value;void 0!==o&&(e[n]=o)},setKnownDomains:function(e,t){e.knownDomains=t},setUnicodeEmojiAnnotations:function(e,t){var n=t.lang,o=t.annotations;e.unicodeEmojiAnnotations[n]=o}},getters:{instanceDefaultConfig:function(e){return f.Oi.map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=(0,l.Z)(t,2),o=n[0],r=n[1];return w(w({},e),{},(0,d.Z)({},o,r))}),{})},groupedCustomEmojis:function(e){return e.customEmoji.reduce((function(e,t){return function(e){var t=e.tags.filter((function(e){return e.startsWith("pack:")})).map((function(e){var t=e.slice(5);return{id:"custom-".concat(t),text:t}}));return t.length?t:[{id:"unpacked"}]}(t).forEach((function(n){var o=n.id,r=n.text;e[o]||(e[o]={id:o,text:r,image:t.imageUrl,emojis:[]}),e[o].emojis.push(t)})),e}),{})},standardEmojiList:function(e){return b.map((function(t){return(e.emoji[t]||[]).map((function(t){return k(t,e.unicodeEmojiAnnotations)}))})).reduce((function(e,t){return e.concat(t)}),[])},standardEmojiGroupList:function(e){return b.map((function(t){return{id:t,emojis:(e.emoji[t]||[]).map((function(t){return k(t,e.unicodeEmojiAnnotations)}))}}))},instanceDomain:function(e){return new URL(e.server).hostname},remoteInteractionLink:function(e){var t=(e.server.endsWith("/")?e.server.slice(0,-1):e.server)+"/main/ostatus";return function(e){var n=e.statusId,o=e.nickname;return n?"".concat(t,"?status_id=").concat(n):"".concat(t,"?nickname=").concat(o)}}},actions:{setInstanceOption:function(e,t){var n=e.commit,o=e.dispatch,r=t.name,i=t.value;switch(n("setInstanceOption",{name:r,value:i}),r){case"name":o("setPageTitle");break;case"shoutAvailable":i&&o("initializeSocket");break;case"theme":o("setTheme",i)}},getStaticEmoji:function(e){return(0,o.Z)(i().mark((function t(){var o,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.commit,t.prev=1,t.next=4,n.e(3687).then(n.t.bind(n,13315,19));case 4:r=t.sent.default,s=Object.keys(r).reduce((function(e,t){return e[t]=r[t].map((function(e){return{displayText:e.slug,imageUrl:!1,replacement:e.emoji}})),e}),{}),o("setInstanceOption",{name:"emoji",value:(i=s,a=void 0,(a=i.symbols).push.apply(a,(0,u.Z)(y)),i)}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.warn("Can't load static emoji"),console.warn(t.t0);case 13:case"end":return t.stop()}var i,a}),t,null,[[1,9]])})))()},loadUnicodeEmojiData:function(e,t){var n=e.commit,r=e.state,s=(0,g.ensureFinalFallback)(t);return Promise.all(s.map(function(){var e=(0,o.Z)(i().mark((function e(t){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.unicodeEmojiAnnotations[t]){e.next=11;break}return e.prev=1,e.next=4,_(t);case 4:o=e.sent,n("setUnicodeEmojiAnnotations",{lang:t,annotations:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Error loading unicode emoji annotations for ".concat(t,": "),e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))},getCustomEmoji:function(e){return(0,o.Z)(i().mark((function t(){var n,o,r,s,a,c,d,p,m;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,o=e.state,t.prev=1,t.next=4,window.fetch("/api/pleroma/emoji.json");case 4:if(!(r=t.sent).ok){t.next=17;break}return t.next=8,r.json();case 8:s=t.sent,a=Array.isArray(s)?Object.assign.apply(Object,[{}].concat((0,u.Z)(s))):s,c=function(e,t){var n=e.toLowerCase(),o=t.toLowerCase();return n>o?1:n<o?-1:0},d=function(e,t){var n=""===e,o=""===t;return n===o?0:n&&!o?1:-1},p=function(e,t){var n=function(e){return(e.tags.filter((function(e){return e.startsWith("pack:")}))[0]||"").slice(5)},o=n(e),r=n(t);return d(o,r)||c(o,r)||c(e.displayText,t.displayText)},m=Object.entries(a).map((function(e){var t=(0,l.Z)(e,2),n=t[0],r=t[1],i=r.image_url;return{displayText:n,imageUrl:i?o.server+i:r,tags:i?r.tags.sort((function(e,t){return e>t?1:0})):["utf"],replacement:":".concat(n,": ")}})).sort(p),n("setInstanceOption",{name:"customEmoji",value:m}),t.next=18;break;case 17:throw r;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.warn("Can't load custom emojis"),console.warn(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,20]])})))()},setTheme:function(e,t){var n=e.commit,o=e.rootState;n("setInstanceOption",{name:"theme",value:t}),(0,p.I3)(t).then((function(e){if(n("setInstanceOption",{name:"themeData",value:e}),!o.config.customTheme){var t=e.source;!e.theme||t&&t.themeEngineVersion===m.we?(0,p._v)(t):(0,p._v)(e.theme)}}))},fetchEmoji:function(e){var t=e.dispatch,n=e.state;n.customEmojiFetched||(n.customEmojiFetched=!0,t("getCustomEmoji")),n.emojiFetched||(n.emojiFetched=!0,t("getStaticEmoji"))},getKnownDomains:function(e){return(0,o.Z)(i().mark((function t(){var n,o,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,o=e.rootState,t.prev=1,t.next=4,h.ZP.fetchKnownDomains({credentials:o.users.currentUser.credentials});case 4:r=t.sent,n("setKnownDomains",r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn("Can't load known domains"),console.warn(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};var j=n(14176),C=n.n(j),O=n(1469),P=n.n(O),z=n(10928),D=n.n(z),I=n(8804),x=n.n(I),T=n(82492),$=n.n(T),U=n(22762),M=n.n(U),A=n(84753),L=n.n(A),E=n(13311),F=n.n(E),R=n(30998),q=n.n(R),N=n(66073),Z=n.n(N),W=n(12571),B=n.n(W),H=n(82729),V=n.n(H),K=n(52230);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{statuses:[],statusesObject:{},faves:[],visibleStatuses:[],visibleStatusesObject:{},newStatusCount:0,maxId:0,minId:0,minVisibleId:0,loading:!1,followers:[],friends:[],userId:e,flushMarker:0}},Q=function(){return{desktopNotificationSilence:!0,maxId:0,minId:Number.POSITIVE_INFINITY,data:[],idStore:{},loading:!1}},X=function(){return{allStatuses:[],allStatusesObject:{},conversationsObject:{},maxId:0,notifications:Q(),favorites:new Set,timelines:{mentions:J(),public:J(),user:J(),favorites:J(),media:J(),publicAndExternal:J(),friends:J(),tag:J(),dms:J(),bookmarks:J(),list:J()}}},ee=function(e,t,n){var o=t[n.id];return o?($()(o,C()(n,(function(e,t){return null===e||"user"===t}))),o.attachments.splice(o.attachments.length),{item:o,new:!1}):(function(e){e.deleted=!1,e.attachments=e.attachments||[]}(n),e.push(n),t[n.id]=n,{item:n,new:!0})},te=function(e,t){var n=Number(e.id),o=Number(t.id),r=!Number.isNaN(n),i=!Number.isNaN(o);return r&&i?n>o?-1:1:r&&!i?1:!r&&i||e.id>t.id?-1:1},ne=function(e){return e.visibleStatuses=e.visibleStatuses.sort(te),e.statuses=e.statuses.sort(te),e.minVisibleId=(D()(e.visibleStatuses)||{}).id,e},oe=function(e,t){var n=ee(e.allStatuses,e.allStatusesObject,t);if(n.new){var o=n.item,r=e.conversationsObject,i=o.statusnet_conversation_id;r[i]?r[i].push(o):r[i]=[o]}return n},re=function(e,t){e.notifications.maxId=t.id>e.notifications.maxId?t.id:e.notifications.maxId,e.notifications.minId=t.id<e.notifications.minId?t.id:e.notifications.minId},ie={addNewStatuses:function(e,t){var n=t.statuses,o=t.showImmediately,r=void 0!==o&&o,i=t.timeline,s=t.user,a=void 0===s?{}:s,c=t.noIdUpdate,l=void 0!==c&&c,u=t.userId,d=t.pagination,p=void 0===d?{}:d;if(!P()(n))return!1;var m=e.allStatuses,h=e.timelines[i],f=p.maxId||(n.length>0?M()(n,"id").id:0),g=p.minId||(n.length>0?L()(n,"id").id:0),v=i&&(g>h.maxId||0===h.maxId)&&n.length>0,w=i&&(f<h.minId||0===h.minId)&&n.length>0;if(!l&&v&&(h.maxId=g),!l&&w&&(h.minId=f),"user"!==i&&"media"!==i||h.userId===u){var b=function(t,n){var o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=oe(e,t),c=s.item;if(s.new){if("status"===c.type&&F()(c.attentions,{id:a.id})){var l=e.timelines.mentions;h!==l&&(ee(l.statuses,l.statusesObject,c),l.newStatusCount+=1,ne(l))}if("direct"===c.visibility){var u=e.timelines.dms;ee(u.statuses,u.statusesObject,c),u.newStatusCount+=1,ne(u)}}return i&&r&&(o=ee(h.statuses,h.statusesObject,c)),i&&n?ee(h.visibleStatuses,h.visibleStatusesObject,c):i&&r&&o.new&&(h.newStatusCount+=1),c},y={status:function(e){b(e,r)},edit:function(e){b(e,r)},retweet:function(e){var t=b(e.retweeted_status,!1,!1);(i&&F()(h.statuses,(function(e){return e.retweeted_status?e.id===t.id||e.retweeted_status.id===t.id:e.id===t.id}))?b(e,!1,!1):b(e,r)).retweeted_status=t},favorite:function(t){e.favorites.has(t.id)||(e.favorites.add(t.id),function(e,t){var n=F()(m,{id:e.in_reply_to_status_id});n&&(e.user.id===a.id?n.favorited=!0:n.fave_num+=1)}(t))},deletion:function(t){var n=t.uri,o=F()(m,{uri:n});o&&(function(e,t){V()(e.allStatuses,{id:t.id}),V()(e.notifications.data,(function(e){return e.action.id===t.id}));var n=t.statusnet_conversation_id;e.conversationsObject[n]&&V()(e.conversationsObject[n],{id:t.id})}(e,o),i&&(V()(h.statuses,{uri:n}),V()(h.visibleStatuses,{uri:n})))},follow:function(e){},default:function(e){console.log("unknown status type"),console.log(e)}};Z()(n,(function(e){var t=e.type;(y[t]||y.default)(e)})),i&&"bookmarks"!==i&&ne(h)}},addNewNotifications:function(e,t){var n=t.dispatch,o=t.notifications,r=(t.older,t.visibleNotificationTypes,t.rootGetters,t.newNotificationSideEffects);Z()(o,(function(t){if(!(0,K.nU)(t))return console.error("Invalid notification:",t),void re(e,t);(0,K.Gr)(t.type)&&(t.action=oe(e,t.action).item,t.status=t.status&&oe(e,t.status).item),"pleroma:report"===t.type&&n("addReport",t.report),"pleroma:emoji_reaction"===t.type&&n("fetchEmojiReactionsBy",t.status.id),e.notifications.idStore.hasOwnProperty(t.id)?t.seen&&(e.notifications.idStore[t.id].seen=!0):(re(e,t),e.notifications.data.push(t),e.notifications.idStore[t.id]=t,r(t))}))},removeStatus:function(e,t){var n=t.timeline,o=t.userId,r=e.timelines[n];o&&(V()(r.statuses,{user:{id:o}}),V()(r.visibleStatuses,{user:{id:o}}),r.minVisibleId=r.visibleStatuses.length>0?D()(r.visibleStatuses).id:0,r.maxId=r.statuses.length>0?x()(r.statuses).id:0)},showNewStatuses:function(e,t){var n=t.timeline,o=e.timelines[n];o.newStatusCount=0,o.visibleStatuses=B()(o.statuses,0,50),o.minVisibleId=D()(o.visibleStatuses).id,o.minId=o.minVisibleId,o.visibleStatusesObject={},Z()(o.visibleStatuses,(function(e){o.visibleStatusesObject[e.id]=e}))},resetStatuses:function(e){var t=X();Object.entries(t).forEach((function(t){var n=(0,l.Z)(t,2),o=n[0],r=n[1];e[o]=r}))},clearTimeline:function(e,t){var n=t.timeline,o=t.excludeUserId,r=void 0!==o&&o?e.timelines[n].userId:void 0;e.timelines[n]=J(r)},clearNotifications:function(e){e.notifications=Q()},setFavorited:function(e,t){var n=t.status,o=t.value,r=e.allStatusesObject[n.id];r.favorited!==o&&(o?r.fave_num++:r.fave_num--),r.favorited=o},setFavoritedConfirm:function(e,t){var n=t.status,o=t.user,r=e.allStatusesObject[n.id];r.favorited=n.favorited,r.fave_num=n.fave_num;var i=q()(r.favoritedBy,{id:o.id});-1===i||r.favorited?-1===i&&r.favorited&&r.favoritedBy.push(o):r.favoritedBy.splice(i,1)},setMutedStatus:function(e,t){var n=e.allStatusesObject[t.id];n.thread_muted=t.thread_muted,void 0!==n.thread_muted&&e.conversationsObject[n.statusnet_conversation_id].forEach((function(e){e.thread_muted=n.thread_muted}))},setRetweeted:function(e,t){var n=t.status,o=t.value,r=e.allStatusesObject[n.id];r.repeated!==o&&(o?r.repeat_num++:r.repeat_num--),r.repeated=o},setRetweetedConfirm:function(e,t){var n=t.status,o=t.user,r=e.allStatusesObject[n.id];r.repeated=n.repeated,r.repeat_num=n.repeat_num;var i=q()(r.rebloggedBy,{id:o.id});-1===i||r.repeated?-1===i&&r.repeated&&r.rebloggedBy.push(o):r.rebloggedBy.splice(i,1)},setBookmarked:function(e,t){var n=t.status,o=t.value;e.allStatusesObject[n.id].bookmarked=o},setBookmarkedConfirm:function(e,t){var n=t.status;e.allStatusesObject[n.id].bookmarked=n.bookmarked},setDeleted:function(e,t){var n=t.status,o=e.allStatusesObject[n.id];o&&(o.deleted=!0)},setManyDeleted:function(e,t){Object.values(e.allStatusesObject).forEach((function(e){t(e)&&(e.deleted=!0)}))},setLoading:function(e,t){var n=t.timeline,o=t.value;e.timelines[n].loading=o},setNsfw:function(e,t){var n=t.id,o=t.nsfw;e.allStatusesObject[n].nsfw=o},setNotificationsLoading:function(e,t){var n=t.value;e.notifications.loading=n},setNotificationsSilence:function(e,t){var n=t.value;e.notifications.desktopNotificationSilence=n},markNotificationsAsSeen:function(e){Z()(e.notifications.data,(function(e){e.seen=!0}))},markSingleNotificationAsSeen:function(e,t){var n=t.id,o=F()(e.notifications.data,(function(e){return e.id===n}));o&&(o.seen=!0)},dismissNotification:function(e,t){var n=t.id;e.notifications.data=e.notifications.data.filter((function(e){return e.id!==n}))},dismissNotifications:function(e,t){var n=t.finder;e.notifications.data=e.notifications.data.filter((function(e){return n}))},updateNotification:function(e,t){var n=t.id,o=t.updater,r=F()(e.notifications.data,(function(e){return e.id===n}));r&&o(r)},queueFlush:function(e,t){var n=t.timeline,o=t.id;e.timelines[n].flushMarker=o},queueFlushAll:function(e){Object.keys(e.timelines).forEach((function(t){e.timelines[t].flushMarker=e.timelines[t].maxId}))},addRepeats:function(e,t){var n=t.id,o=t.rebloggedByUsers,r=t.currentUser,i=e.allStatusesObject[n];i.rebloggedBy=o.filter((function(e){return e})),i.repeat_num=i.rebloggedBy.length,i.repeated=!!i.rebloggedBy.find((function(e){var t=e.id;return r.id===t}))},addFavs:function(e,t){var n=t.id,o=t.favoritedByUsers,r=t.currentUser,i=e.allStatusesObject[n];i.favoritedBy=o.filter((function(e){return e})),i.fave_num=i.favoritedBy.length,i.favorited=!!i.favoritedBy.find((function(e){var t=e.id;return r.id===t}))},addEmojiReactionsBy:function(e,t){var n=t.id,o=t.emojiReactions;t.currentUser,e.allStatusesObject[n].emoji_reactions=o},addOwnReaction:function(e,t){var n=t.id,o=t.emoji,r=t.currentUser,i=e.allStatusesObject[n],s=q()(i.emoji_reactions,{name:o}),a=i.emoji_reactions[s]||{name:o,count:0,accounts:[]},c=Y(Y({},a),{},{count:a.count+1,me:!0,accounts:[].concat((0,u.Z)(a.accounts),[r])});s>=0?i.emoji_reactions[s]=c:i.emoji_reactions=[].concat((0,u.Z)(i.emoji_reactions),[c])},removeOwnReaction:function(e,t){var n=t.id,o=t.emoji,r=t.currentUser,i=e.allStatusesObject[n],s=q()(i.emoji_reactions,{name:o});if(!(s<0)){var a=i.emoji_reactions[s],c=a.accounts||[],l=Y(Y({},a),{},{count:a.count-1,me:!1,accounts:c.filter((function(e){return e.id!==r.id}))});l.count>0?i.emoji_reactions[s]=l:i.emoji_reactions=i.emoji_reactions.filter((function(e){return e.name!==o}))}},updateStatusWithPoll:function(e,t){var n=t.id,o=t.poll;e.allStatusesObject[n].poll=o},setVirtualHeight:function(e,t){var n=t.statusId,o=t.height;e.allStatusesObject[n].virtualHeight=o}},se={state:X(),actions:{addNewStatuses:function(e,t){var n=e.rootState,o=e.commit,r=t.statuses,i=t.showImmediately,s=void 0!==i&&i,a=t.timeline,c=void 0!==a&&a,l=t.noIdUpdate,u=void 0!==l&&l,d=t.userId,p=t.pagination;o("addNewStatuses",{statuses:r,showImmediately:s,timeline:c,noIdUpdate:u,user:n.users.currentUser,userId:d,pagination:p})},addNewNotifications:function(e,t){var n=t.notifications,o=t.older;(0,e.commit)("addNewNotifications",{dispatch:e.dispatch,notifications:n,older:o,rootGetters:e.rootGetters,newNotificationSideEffects:function(t){(0,K.nJ)(e,t)}})},setNotificationsLoading:function(e,t){e.rootState,(0,e.commit)("setNotificationsLoading",{value:t.value})},setNotificationsSilence:function(e,t){e.rootState,(0,e.commit)("setNotificationsSilence",{value:t.value})},fetchStatus:function(e,t){var n=e.rootState,o=e.dispatch;return n.api.backendInteractor.fetchStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},fetchStatusSource:function(e,t){var n=e.rootState;return e.dispatch,h.ZP.fetchStatusSource({id:t.id,credentials:n.users.currentUser.credentials})},fetchStatusHistory:function(e,t){return e.rootState,e.dispatch,h.ZP.fetchStatusHistory({status:t})},deleteStatus:function(e,t){var n=e.rootState;(0,e.commit)("setDeleted",{status:t}),h.ZP.deleteStatus({id:t.id,credentials:n.users.currentUser.credentials})},deleteStatusById:function(e,t){var n=e.rootState;(0,e.commit)("setDeleted",{status:n.statuses.allStatusesObject[t]})},markStatusesAsDeleted:function(e,t){(0,e.commit)("setManyDeleted",t)},favorite:function(e,t){var n=e.rootState,o=e.commit;o("setFavorited",{status:t,value:!0}),n.api.backendInteractor.favorite({id:t.id}).then((function(e){return o("setFavoritedConfirm",{status:e,user:n.users.currentUser})}))},unfavorite:function(e,t){var n=e.rootState,o=e.commit;o("setFavorited",{status:t,value:!1}),n.api.backendInteractor.unfavorite({id:t.id}).then((function(e){return o("setFavoritedConfirm",{status:e,user:n.users.currentUser})}))},fetchPinnedStatuses:function(e,t){var n=e.rootState,o=e.dispatch;n.api.backendInteractor.fetchPinnedStatuses({id:t}).then((function(e){return o("addNewStatuses",{statuses:e,timeline:"user",userId:t,showImmediately:!0,noIdUpdate:!0})}))},pinStatus:function(e,t){var n=e.rootState,o=e.dispatch;return n.api.backendInteractor.pinOwnStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},unpinStatus:function(e,t){var n=e.rootState,o=e.dispatch;n.api.backendInteractor.unpinOwnStatus({id:t}).then((function(e){return o("addNewStatuses",{statuses:[e]})}))},muteConversation:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.muteConversation({id:t}).then((function(e){return o("setMutedStatus",e)}))},unmuteConversation:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.unmuteConversation({id:t}).then((function(e){return o("setMutedStatus",e)}))},retweet:function(e,t){var n=e.rootState,o=e.commit;o("setRetweeted",{status:t,value:!0}),n.api.backendInteractor.retweet({id:t.id}).then((function(e){return o("setRetweetedConfirm",{status:e.retweeted_status,user:n.users.currentUser})}))},unretweet:function(e,t){var n=e.rootState,o=e.commit;o("setRetweeted",{status:t,value:!1}),n.api.backendInteractor.unretweet({id:t.id}).then((function(e){return o("setRetweetedConfirm",{status:e,user:n.users.currentUser})}))},bookmark:function(e,t){var n=e.rootState,o=e.commit;o("setBookmarked",{status:t,value:!0}),n.api.backendInteractor.bookmarkStatus({id:t.id}).then((function(e){o("setBookmarkedConfirm",{status:e})}))},unbookmark:function(e,t){var n=e.rootState,o=e.commit;o("setBookmarked",{status:t,value:!1}),n.api.backendInteractor.unbookmarkStatus({id:t.id}).then((function(e){o("setBookmarkedConfirm",{status:e})}))},queueFlush:function(e,t){e.rootState,(0,e.commit)("queueFlush",{timeline:t.timeline,id:t.id})},queueFlushAll:function(e){e.rootState,(0,e.commit)("queueFlushAll")},markNotificationsAsSeen:function(e){var t=e.rootState;(0,e.commit)("markNotificationsAsSeen"),h.ZP.markNotificationsAsSeen({id:t.statuses.notifications.maxId,credentials:t.users.currentUser.credentials})},markSingleNotificationAsSeen:function(e,t){var n=e.rootState,o=e.commit,r=t.id;o("markSingleNotificationAsSeen",{id:r}),h.ZP.markNotificationsAsSeen({single:!0,id:r,credentials:n.users.currentUser.credentials})},dismissNotificationLocal:function(e,t){e.rootState,(0,e.commit)("dismissNotification",{id:t.id})},dismissNotification:function(e,t){var n=e.rootState,o=e.commit,r=t.id;o("dismissNotification",{id:r}),n.api.backendInteractor.dismissNotification({id:r})},updateNotification:function(e,t){e.rootState,(0,e.commit)("updateNotification",{id:t.id,updater:t.updater})},fetchFavsAndRepeats:function(e,t){var n=e.rootState,o=e.commit;Promise.all([n.api.backendInteractor.fetchFavoritedByUsers({id:t}),n.api.backendInteractor.fetchRebloggedByUsers({id:t})]).then((function(e){var r=(0,l.Z)(e,2),i=r[0],s=r[1];o("addFavs",{id:t,favoritedByUsers:i,currentUser:n.users.currentUser}),o("addRepeats",{id:t,rebloggedByUsers:s,currentUser:n.users.currentUser})}))},reactWithEmoji:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit,i=t.id,s=t.emoji,a=n.users.currentUser;a&&(r("addOwnReaction",{id:i,emoji:s,currentUser:a}),n.api.backendInteractor.reactWithEmoji({id:i,emoji:s}).then((function(e){o("fetchEmojiReactionsBy",i)})))},unreactWithEmoji:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit,i=t.id,s=t.emoji,a=n.users.currentUser;a&&(r("removeOwnReaction",{id:i,emoji:s,currentUser:a}),n.api.backendInteractor.unreactWithEmoji({id:i,emoji:s}).then((function(e){o("fetchEmojiReactionsBy",i)})))},fetchEmojiReactionsBy:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.fetchEmojiReactions({id:t}).then((function(e){o("addEmojiReactionsBy",{id:t,emojiReactions:e,currentUser:n.users.currentUser})}))},fetchFavs:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.fetchFavoritedByUsers({id:t}).then((function(e){return o("addFavs",{id:t,favoritedByUsers:e,currentUser:n.users.currentUser})}))},fetchRepeats:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.fetchRebloggedByUsers({id:t}).then((function(e){return o("addRepeats",{id:t,rebloggedByUsers:e,currentUser:n.users.currentUser})}))},search:function(e,t){var n=t.q,o=t.resolve,r=t.limit,i=t.offset,s=t.following,a=t.type;return e.rootState.api.backendInteractor.search2({q:n,resolve:o,limit:r,offset:i,following:s,type:a}).then((function(t){return e.commit("addNewUsers",t.accounts),e.commit("addNewUsers",t.statuses.map((function(e){return e.user})).filter((function(e){return e}))),e.commit("addNewStatuses",{statuses:t.statuses}),t}))},setVirtualHeight:function(e,t){(0,e.commit)("setVirtualHeight",{statusId:t.statusId,height:t.height})}},mutations:ie};const ae=se;var ce={setLists:function(e,t){e.allLists=t},setList:function(e,t){var n=t.listId,o=t.title;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].title=o;var r=F()(e.allLists,{id:n});r?r.title=o:e.allLists.push({id:n,title:o})},setListAccounts:function(e,t){var n=t.listId,o=t.accountIds;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].accountIds=o},addListAccount:function(e,t){var n=t.listId,o=t.accountId;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]}),e.allListsObject[n].accountIds.push(o)},removeListAccount:function(e,t){var n=t.listId,o=t.accountId;e.allListsObject[n]||(e.allListsObject[n]={accountIds:[]});var r=e.allListsObject[n].accountIds,i=new Set(r);i.delete(o),e.allListsObject[n].accountIds=(0,u.Z)(i)},deleteList:function(e,t){var n=t.listId;delete e.allListsObject[n],V()(e.allLists,(function(e){return e.id===n}))}},le={state:{allLists:[],allListsObject:{}},mutations:ce,actions:{setLists:function(e,t){(0,e.commit)("setLists",t)},createList:function(e,t){var n=e.rootState,o=e.commit,r=t.title;return n.api.backendInteractor.createList({title:r}).then((function(e){return o("setList",{listId:e.id,title:r}),e}))},fetchList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;return n.api.backendInteractor.getList({listId:r}).then((function(e){return o("setList",{listId:e.id,title:e.title})}))},fetchListAccounts:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;return n.api.backendInteractor.getListAccounts({listId:r}).then((function(e){return o("setListAccounts",{listId:r,accountIds:e})}))},setList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.title;n.api.backendInteractor.updateList({listId:r,title:i}),o("setList",{listId:r,title:i})},setListAccounts:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountIds,s=n.lists.allListsObject[r].accountIds||[],a=i.filter((function(e){return!s.includes(e)})),c=s.filter((function(e){return!i.includes(e)}));o("setListAccounts",{listId:r,accountIds:i}),a.length>0&&n.api.backendInteractor.addAccountsToList({listId:r,accountIds:a}),c.length>0&&n.api.backendInteractor.removeAccountsFromList({listId:r,accountIds:c})},addListAccount:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountId;return n.api.backendInteractor.addAccountsToList({listId:r,accountIds:[i]}).then((function(e){return o("addListAccount",{listId:r,accountId:i}),e}))},removeListAccount:function(e,t){var n=e.rootState,o=e.commit,r=t.listId,i=t.accountId;return n.api.backendInteractor.removeAccountsFromList({listId:r,accountIds:[i]}).then((function(e){return o("removeListAccount",{listId:r,accountId:i}),e}))},deleteList:function(e,t){var n=e.rootState,o=e.commit,r=t.listId;n.api.backendInteractor.deleteList({listId:r}),o("deleteList",{listId:r})}},getters:{findListTitle:function(e){return function(t){if(e.allListsObject[t])return e.allListsObject[t].title}},findListAccounts:function(e){return function(t){return(0,u.Z)(e.allListsObject[t].accountIds)}}}};const ue=le;var de=n(71002),pe=n(44908),me=n.n(pe),he=n(57043),fe=n.n(he),ge=n(30236),ve=n.n(ge),we=n(35161),be=n.n(we),ye=n(39693),_e=n.n(ye),ke=n(68929),Se=n.n(ke),je=n(22626),Ce=function(e){var t=e.store,n=e.credentials,o=e.timeline,r=void 0===o?"friends":o,i=e.older,s=void 0!==i&&i,a=e.showImmediately,c=void 0!==a&&a,l=e.userId,u=void 0!==l&&l,d=e.listId,p=void 0!==d&&d,m=e.tag,f=void 0!==m&&m,g=e.until,v=e.since,w={timeline:r,credentials:n},b=t.rootState||t.state,y=t.getters,_=b.statuses.timelines[Se()(r)],k=y.mergedConfig,S=k.hideMutedPosts,j=k.replyVisibility,C=!!b.users.currentUser;s?w.until=g||_.minId:void 0===v?w.since=_.maxId:null!==v&&(w.since=v),w.userId=u,w.listId=p,w.tag=f,w.withMuted=!S,C&&["friends","public","publicAndExternal"].includes(r)&&(w.replyVisibility=j);var O=_.statuses.length;return h.ZP.fetchTimeline(w).then((function(e){if(e.errors)throw new Error("".concat(e.status," ").concat(e.statusText));var n=e.data,o=e.pagination;return!s&&n.length>=20&&!_.loading&&O>0&&t.dispatch("queueFlush",{timeline:r,id:_.maxId}),function(e){var t=e.store,n=e.statuses,o=e.timeline,r=e.showImmediately,i=e.userId,s=e.listId,a=e.pagination,c=Se()(o);t.dispatch("addNewStatuses",{timeline:c,userId:i,listId:s,statuses:n,showImmediately:r,pagination:a})}({store:t,statuses:n,timeline:r,showImmediately:c,userId:u,listId:p,pagination:o}),{statuses:n,pagination:o}})).catch((function(e){t.dispatch("pushGlobalNotice",{level:"error",messageKey:"timeline.error",messageArgs:[e.message],timeout:5e3})}))},Oe={fetchAndUpdate:Ce,startFetching:function(e){var t=e.timeline,n=void 0===t?"friends":t,o=e.credentials,r=e.store,i=e.userId,s=void 0!==i&&i,a=e.listId,c=void 0!==a&&a,l=e.tag,u=void 0!==l&&l,d=(r.rootState||r.state).statuses.timelines[Se()(n)],p=0===d.visibleStatuses.length;return d.userId=s,d.listId=c,Ce({timeline:n,credentials:o,store:r,showImmediately:p,userId:s,listId:c,tag:u}),(0,je.F)((function(){return Ce({timeline:n,credentials:o,store:r,userId:s,listId:c,tag:u})}),1e4)}};const Pe=Oe;var ze=n(15568);const De=function(e){var t=e.credentials,n=e.store,o=function(){return function(e){var t=e.store,n=e.credentials;return h.ZP.fetchFollowRequests({credentials:n}).then((function(e){t.commit("setFollowRequests",e),t.commit("addNewUsers",e)}),(function(){})).catch((function(){}))}({credentials:t,store:n})};return o(),(0,je.F)(o,1e4)};var Ie={startFetching:function(e){var t=e.credentials,n=e.store,o=function(){return function(e){var t=e.store,n=e.credentials;return h.ZP.fetchLists({credentials:n}).then((function(e){t.commit("setLists",e)}),(function(){})).catch((function(){}))}({credentials:t,store:n})};return o(),(0,je.F)(o,24e4)}};const xe=Ie;function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ue=function(e){return $e($e({startFetchingTimeline:function(t){var n=t.timeline,o=t.store,r=t.userId,i=void 0!==r&&r,s=t.listId,a=void 0!==s&&s,c=t.tag;return Pe.startFetching({timeline:n,store:o,credentials:e,userId:i,listId:a,tag:c})},fetchTimeline:function(t){return Pe.fetchAndUpdate($e($e({},t),{},{credentials:e}))},startFetchingNotifications:function(t){var n=t.store;return ze.Z.startFetching({store:n,credentials:e})},fetchNotifications:function(t){return ze.Z.fetchAndUpdate($e($e({},t),{},{credentials:e}))},startFetchingFollowRequests:function(t){var n=t.store;return De({store:n,credentials:e})},startFetchingLists:function(t){var n=t.store;return xe.startFetching({store:n,credentials:e})},startUserSocket:function(t){var n=t.store.rootState.instance.server.replace("http","ws")+(0,h.pR)({credentials:e,stream:"user"});return(0,h.ro)({url:n,id:"User"})}},Object.entries(h.ZP).reduce((function(t,n){var o=(0,l.Z)(n,2),r=o[0],i=o[1];return $e($e({},t),{},(0,d.Z)({},r,(function(t){return i($e({credentials:e},t))})))}),{})),{},{verifyCredentials:h.ZP.verifyCredentials})};var Me=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},Ae=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},Le=n(54061),Ee=n.n(Le),Fe="".concat(window.location.origin,"/oauth-callback"),Re=function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.commit;if(t&&n)return Promise.resolve({clientId:t,clientSecret:n});var i="".concat(o,"/api/v1/apps"),s=new window.FormData;return s.append("client_name","PleromaFE_".concat(window.___pleromafe_commit_hash,"_").concat((new Date).toISOString())),s.append("redirect_uris",Fe),s.append("scopes","read write follow push admin"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()})).then((function(e){return{clientId:e.client_id,clientSecret:e.client_secret}})).then((function(e){return r("setClientData",e)||e}))},qe=function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r="".concat(o,"/oauth/token"),i=new window.FormData;return i.append("client_id",t),i.append("client_secret",n),i.append("grant_type","client_credentials"),i.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(r,{method:"POST",body:i}).then((function(e){return e.json()}))},Ne={login:function(e){var t=e.instance,n={response_type:"code",client_id:e.clientId,redirect_uri:Fe,scope:"read write follow push admin"},o=Ee()(n,(function(e,t,n){var o="".concat(n,"=").concat(encodeURIComponent(t));return e?"".concat(e,"&").concat(o):o}),!1),r="".concat(t,"/oauth/authorize?").concat(o);window.location.href=r},getToken:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.code,i="".concat(o,"/oauth/token"),s=new window.FormData;return s.append("client_id",t),s.append("client_secret",n),s.append("grant_type","authorization_code"),s.append("code",r),s.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},getTokenWithCredentials:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.username,i=e.password,s="".concat(o,"/oauth/token"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("grant_type","password"),a.append("username",r),a.append("password",i),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))},getOrCreateApp:Re,verifyOTPCode:function(e){var t=e.app,n=e.instance,o=e.mfaToken,r=e.code,i="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",t.client_id),s.append("client_secret",t.client_secret),s.append("mfa_token",o),s.append("code",r),s.append("challenge_type","totp"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},verifyRecoveryCode:function(e){var t=e.app,n=e.instance,o=e.mfaToken,r=e.code,i="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",t.client_id),s.append("client_secret",t.client_secret),s.append("mfa_token",o),s.append("code",r),s.append("challenge_type","recovery"),window.fetch(i,{method:"POST",body:s}).then((function(e){return e.json()}))},revokeToken:function(e){var t=e.app,n=e.instance,o=e.token,r="".concat(n,"/oauth/revoke"),i=new window.FormData;return i.append("client_id",t.clientId),i.append("client_secret",t.clientSecret),i.append("token",o),window.fetch(r,{method:"POST",body:i}).then((function(e){return e.json()}))}};const Ze=Ne;var We=n(56012),Be=n.n(We);function He(){return"serviceWorker"in navigator&&"PushManager"in window}function Ve(){return Be().register().catch((function(e){return console.error("Unable to get or create a service worker.",e)}))}function Ke(e){return window.fetch("/api/v1/push/subscription/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){if(!e.ok)throw new Error("Bad status code from server.");return e}))}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=function e(t,n){if(P()(t)&&P()(n))return t.length=n.length,ve()(t,n,e)},Qe=function(e,t){return e.rootState.api.backendInteractor.blockUser({id:t}).then((function(n){e.commit("updateUserRelationship",[n]),e.commit("addBlockId",t),e.commit("removeStatus",{timeline:"friends",userId:t}),e.commit("removeStatus",{timeline:"public",userId:t}),e.commit("removeStatus",{timeline:"publicAndExternal",userId:t})}))},Xe=function(e,t){return e.rootState.api.backendInteractor.unblockUser({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))},et=function(e,t){var n="object"===(0,de.Z)(t)?t.id:t,o="object"===(0,de.Z)(t)?t.expiresIn:0,r=e.state.relationships[n]||{id:n};return r.muting=!0,e.commit("updateUserRelationship",[r]),e.commit("addMuteId",n),e.rootState.api.backendInteractor.muteUser({id:n,expiresIn:o}).then((function(t){e.commit("updateUserRelationship",[t]),e.commit("addMuteId",n)}))},tt=function(e,t){var n=e.state.relationships[t]||{id:t};return n.muting=!1,e.commit("updateUserRelationship",[n]),e.rootState.api.backendInteractor.unmuteUser({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))},nt=function(e,t){return e.rootState.api.backendInteractor.muteDomain({domain:t}).then((function(){return e.commit("addDomainMute",t)}))},ot=function(e,t){return e.rootState.api.backendInteractor.unmuteDomain({domain:t}).then((function(){return e.commit("removeDomainMute",t)}))},rt={tagUser:function(e,t){var n=t.user.id,o=t.tag,r=e.usersObject[n],i=(r.tags||[]).concat([o]);r.tags=i},untagUser:function(e,t){var n=t.user.id,o=t.tag,r=e.usersObject[n],i=(r.tags||[]).filter((function(e){return e!==o}));r.tags=i},updateRight:function(e,t){var n=t.user.id,o=t.right,r=t.value,i=e.usersObject[n],s=i.rights;s[o]=r,i.rights=s},updateActivationStatus:function(e,t){var n=t.user.id,o=t.deactivated;e.usersObject[n].deactivated=o},setCurrentUser:function(e,t){e.lastLoginName=t.screen_name,e.currentUser=ve()(e.currentUser||{},t,Je)},clearCurrentUser:function(e){e.currentUser=!1,e.lastLoginName=!1},beginLogin:function(e){e.loggingIn=!0},endLogin:function(e){e.loggingIn=!1},saveFriendIds:function(e,t){var n=t.id,o=t.friendIds,r=e.usersObject[n];r.friendIds=me()(fe()(r.friendIds||[],o))},saveFollowerIds:function(e,t){var n=t.id,o=t.followerIds,r=e.usersObject[n];r.followerIds=me()(fe()(r.followerIds||[],o))},clearFriends:function(e,t){var n=e.usersObject[t];n&&(n.friendIds=[])},clearFollowers:function(e,t){var n=e.usersObject[t];n&&(n.followerIds=[])},addNewUsers:function(e,t){Z()(t,(function(t){t.relationship&&(e.relationships[t.relationship.id]=t.relationship);var n=function(e,t,n){if(!n)return!1;var o=t[n.id];return o?(ve()(o,n,Je),{item:o,new:!1}):(e.push(n),t[n.id]=n,{item:n,new:!0})}(e.users,e.usersObject,t),o=n.item;n.new&&o.screen_name&&!o.screen_name.includes("@")&&(e.usersByNameObject[o.screen_name.toLowerCase()]=o)}))},updateUserRelationship:function(e,t){t.forEach((function(t){e.relationships[t.id]=t}))},updateUserInLists:function(e,t){var n=t.id,o=t.inLists;e.usersObject[n].inLists=o},saveBlockIds:function(e,t){e.currentUser.blockIds=t},addBlockId:function(e,t){-1===e.currentUser.blockIds.indexOf(t)&&e.currentUser.blockIds.push(t)},saveMuteIds:function(e,t){e.currentUser.muteIds=t},addMuteId:function(e,t){-1===e.currentUser.muteIds.indexOf(t)&&e.currentUser.muteIds.push(t)},saveDomainMutes:function(e,t){e.currentUser.domainMutes=t},addDomainMute:function(e,t){-1===e.currentUser.domainMutes.indexOf(t)&&e.currentUser.domainMutes.push(t)},removeDomainMute:function(e,t){var n=e.currentUser.domainMutes.indexOf(t);-1!==n&&e.currentUser.domainMutes.splice(n,1)},setPinnedToUser:function(e,t){var n=e.usersObject[t.user.id];n.pinnedStatusIds=n.pinnedStatusIds||[];var o=n.pinnedStatusIds.indexOf(t.id);t.pinned&&-1===o?n.pinnedStatusIds.push(t.id):t.pinned||-1===o||n.pinnedStatusIds.splice(o,1)},setUserForStatus:function(e,t){t.user=e.usersObject[t.user.id]},setUserForNotification:function(e,t){"follow"!==t.type&&(t.action.user=e.usersObject[t.action.user.id]),t.from_profile=e.usersObject[t.from_profile.id]},setColor:function(e,t){var n=t.user.id,o=t.highlighted;e.usersObject[n].highlight=o},signUpPending:function(e){e.signUpPending=!0,e.signUpErrors=[]},signUpSuccess:function(e){e.signUpPending=!1},signUpFailure:function(e,t){e.signUpPending=!1,e.signUpErrors=t}},it={state:{loggingIn:!1,lastLoginName:!1,currentUser:!1,users:[],usersObject:{},usersByNameObject:{},signUpPending:!1,signUpErrors:[],relationships:{}},mutations:rt,getters:{findUser:function(e){return function(t){return e.usersObject[t]}},findUserByName:function(e){return function(t){return e.usersByNameObject[t.toLowerCase()]}},findUserByUrl:function(e){return function(t){return e.users.find((function(e){return e.statusnet_profile_url&&e.statusnet_profile_url.toLowerCase()===t.toLowerCase()}))}},relationship:function(e){return function(t){return t&&e.relationships[t]||{id:t,loading:!0}}}},actions:{fetchUserIfMissing:function(e,t){e.getters.findUser(t)||e.dispatch("fetchUser",t)},fetchUser:function(e,t){return e.rootState.api.backendInteractor.fetchUser({id:t}).then((function(t){return e.commit("addNewUsers",[t]),t}))},fetchUserByName:function(e,t){return e.rootState.api.backendInteractor.fetchUserByName({name:t}).then((function(t){return e.commit("addNewUsers",[t]),t}))},fetchUserRelationship:function(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserRelationship({id:t}).then((function(t){return e.commit("updateUserRelationship",t)}))},fetchUserInLists:function(e,t){e.state.currentUser&&e.rootState.api.backendInteractor.fetchUserInLists({id:t}).then((function(n){return e.commit("updateUserInLists",{id:t,inLists:n})}))},fetchBlocks:function(e){return e.rootState.api.backendInteractor.fetchBlocks().then((function(t){return e.commit("saveBlockIds",be()(t,"id")),e.commit("addNewUsers",t),t}))},blockUser:function(e,t){return Qe(e,t)},unblockUser:function(e,t){return Xe(e,t)},removeUserFromFollowers:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.removeUserFromFollowers({id:t}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},blockUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Qe(e,t)})))},unblockUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return Xe(e,t)})))},editUserNote:function(e,t){return function(e,t){var n=t.id,o=t.comment;return e.rootState.api.backendInteractor.editUserNote({id:n,comment:o}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},fetchMutes:function(e){return e.rootState.api.backendInteractor.fetchMutes().then((function(t){return e.commit("saveMuteIds",be()(t,"id")),e.commit("addNewUsers",t),t}))},muteUser:function(e,t){return et(e,t)},unmuteUser:function(e,t){return tt(e,t)},hideReblogs:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.followUser({id:t,reblogs:!1}).then((function(t){e.commit("updateUserRelationship",[t])}))}(e,t)},showReblogs:function(e,t){return function(e,t){return e.rootState.api.backendInteractor.followUser({id:t,reblogs:!0}).then((function(t){return e.commit("updateUserRelationship",[t])}))}(e,t)},muteUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return et(e,t)})))},unmuteUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return tt(e,t)})))},fetchDomainMutes:function(e){return e.rootState.api.backendInteractor.fetchDomainMutes().then((function(t){return e.commit("saveDomainMutes",t),t}))},muteDomain:function(e,t){return nt(e,t)},unmuteDomain:function(e,t){return ot(e,t)},muteDomains:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return nt(e,t)})))},unmuteDomains:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(t.map((function(t){return ot(e,t)})))},fetchFriends:function(e,t){var n=e.rootState,o=e.commit,r=n.users.usersObject[t],i=D()(r.friendIds);return n.api.backendInteractor.fetchFriends({id:t,maxId:i}).then((function(e){return o("addNewUsers",e),o("saveFriendIds",{id:t,friendIds:be()(e,"id")}),e}))},fetchFollowers:function(e,t){var n=e.rootState,o=e.commit,r=n.users.usersObject[t],i=D()(r.followerIds);return n.api.backendInteractor.fetchFollowers({id:t,maxId:i}).then((function(e){return o("addNewUsers",e),o("saveFollowerIds",{id:t,followerIds:be()(e,"id")}),e}))},clearFriends:function(e,t){(0,e.commit)("clearFriends",t)},clearFollowers:function(e,t){(0,e.commit)("clearFollowers",t)},subscribeUser:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.subscribeUser({id:t}).then((function(e){return o("updateUserRelationship",[e])}))},unsubscribeUser:function(e,t){var n=e.rootState,o=e.commit;return n.api.backendInteractor.unsubscribeUser({id:t}).then((function(e){return o("updateUserRelationship",[e])}))},toggleActivationStatus:function(e,t){var n=e.rootState,o=e.commit,r=t.user;(r.deactivated?n.api.backendInteractor.activateUser:n.api.backendInteractor.deactivateUser)({user:r}).then((function(e){var t=!e.is_active;o("updateActivationStatus",{user:e,deactivated:t})}))},registerPushNotifications:function(e){var t=e.state.currentUser.credentials,n=e.rootState.instance.vapidPublicKey;!function(e,t,n,o){He()&&Ve().then((function(n){return function(e,t,n){if(!t)return Promise.reject(new Error("Web Push is disabled in config"));if(!n)return Promise.reject(new Error("VAPID public key is not found"));var o,r,i,s={userVisibleOnly:!0,applicationServerKey:(o=n,r=(o+"=".repeat((4-o.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(r),Uint8Array.from((0,u.Z)(i).map((function(e){return e.charCodeAt(0)}))))};return e.pushManager.subscribe(s)}(n,e,t)})).then((function(e){return function(e,t,n){return window.fetch("/api/v1/push/subscription/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({subscription:e,data:{alerts:{follow:n.follows,favourite:n.likes,mention:n.mentions,reblog:n.repeats,move:n.moves}}})}).then((function(e){if(!e.ok)throw new Error("Bad status code from server.");return e.json()})).then((function(e){if(!e.id)throw new Error("Bad response from server.");return e}))}(e,n,o)})).catch((function(e){return console.warn("Failed to setup Web Push Notifications: ".concat(e.message))}))}(e.rootState.config.webPushNotifications,n,t,e.rootState.config.notificationVisibility)},unregisterPushNotifications:function(e){var t;t=e.state.currentUser.credentials,He()&&Promise.all([Ke(t),Ve().then((function(e){return function(e){return e.pushManager.getSubscription().then((function(e){if(null!==e)return e.unsubscribe()}))}(e).then((function(t){return[e,t]}))})).then((function(e){var t=(0,l.Z)(e,2),n=t[0];return t[1]||console.warn("Push subscription cancellation wasn't successful, killing SW anyway..."),n.unregister().then((function(e){e||console.warn("Failed to kill SW")}))}))]).catch((function(e){return console.warn("Failed to disable Web Push Notifications: ".concat(e.message))}))},addNewUsers:function(e,t){(0,e.commit)("addNewUsers",t)},addNewStatuses:function(e,t){var n=t.statuses,o=be()(n,"user"),r=_e()(be()(n,"retweeted_status.user"));e.commit("addNewUsers",o),e.commit("addNewUsers",r),Z()(n,(function(t){e.commit("setUserForStatus",t),e.commit("setPinnedToUser",t)})),Z()(_e()(be()(n,"retweeted_status")),(function(t){e.commit("setUserForStatus",t),e.commit("setPinnedToUser",t)}))},addNewNotifications:function(e,t){var n=t.notifications,o=be()(n,"from_profile"),r=be()(n,"target").filter((function(e){return e})),i=n.map((function(e){return e.id}));e.commit("addNewUsers",o),e.commit("addNewUsers",r);var s=e.rootState.statuses.notifications.idStore,a=Object.entries(s).filter((function(e){var t=(0,l.Z)(e,2),n=t[0];return t[1],i.includes(n)})).map((function(e){var t=(0,l.Z)(e,2);return t[0],t[1]}));Z()(a,(function(t){e.commit("setUserForNotification",t)}))},searchUsers:function(e,t){var n=e.rootState,o=e.commit,r=t.query;return n.api.backendInteractor.searchUsers({query:r}).then((function(e){return o("addNewUsers",e),e}))},signUp:function(e,t){return(0,o.Z)(i().mark((function n(){var o,r,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.commit("signUpPending"),o=e.rootState,n.prev=2,n.next=5,o.api.backendInteractor.register({params:Ye({},t)});case 5:r=n.sent,e.commit("signUpSuccess"),e.commit("setToken",r.access_token),e.dispatch("loginUser",r.access_token),n.next=16;break;case 11:throw n.prev=11,n.t0=n.catch(2),s=n.t0.message,e.commit("signUpFailure",s),n.t0;case 16:case"end":return n.stop()}}),n,null,[[2,11]])})))()},getCaptcha:function(e){return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.rootState.api.backendInteractor.getCaptcha());case 1:case"end":return t.stop()}}),t)})))()},logout:function(e){var t=e.rootState,n=t.oauth,o=t.instance,r=Ye(Ye({},n),{},{commit:e.commit,instance:o.server});return Ze.getOrCreateApp(r).then((function(e){var t={app:e,instance:r.instance,token:n.userToken};return Ze.revokeToken(t)})).then((function(){e.commit("clearCurrentUser"),e.dispatch("disconnectFromSocket"),e.commit("clearToken"),e.dispatch("stopFetchingTimeline","friends"),e.commit("setBackendInteractor",Ue(e.getters.getToken())),e.dispatch("stopFetchingNotifications"),e.dispatch("stopFetchingLists"),e.dispatch("stopFetchingFollowRequests"),e.commit("clearNotifications"),e.commit("resetStatuses"),e.dispatch("resetChats"),e.dispatch("setLastTimeline","public-timeline"),e.dispatch("setLayoutWidth",Me()),e.dispatch("setLayoutHeight",Ae()),e.commit("clearServerSideStorage")}))},loginUser:function(e,t){return new Promise((function(n,o){var r=e.commit;r("beginLogin"),e.rootState.api.backendInteractor.verifyCredentials(t).then((function(i){if(i.error){var s=i.error;r("endLogin"),401===s.status?o(new Error("Wrong username or password")):o(new Error("An error occurred, please try again"))}else{var a=i;a.credentials=t,a.blockIds=[],a.muteIds=[],a.domainMutes=[],r("setCurrentUser",a),r("setServerSideStorage",a),r("addNewUsers",[a]),e.dispatch("fetchEmoji"),(c=window.Notification,c?"default"===c.permission?c.requestPermission():Promise.resolve(c.permission):Promise.resolve(null)).then((function(e){return r("setNotificationPermission",e)})),r("setBackendInteractor",Ue(t)),e.dispatch("pushServerSideStorage"),a.token&&(e.dispatch("setWsToken",a.token),e.dispatch("initializeSocket")),e.dispatch("startFetchingLists"),a.locked&&e.dispatch("startFetchingFollowRequests"),e.getters.mergedConfig.useStreamingApi?(e.dispatch("fetchTimeline",{timeline:"friends",since:null}),e.dispatch("fetchNotifications",{since:null}),e.dispatch("enableMastoSockets",!0).catch((function(e){console.error("Failed initializing MastoAPI Streaming socket",e)})).then((function(){e.dispatch("fetchChats",{latest:!0}),setTimeout((function(){return e.dispatch("setNotificationsSilence",!1)}),1e4)}))):(e.dispatch("startFetchingTimeline",{timeline:"friends"}),e.dispatch("startFetchingNotifications"),e.dispatch("startFetchingChats")),e.dispatch("fetchMutes"),e.dispatch("setLayoutWidth",Me()),e.dispatch("setLayoutHeight",Ae()),e.rootState.api.backendInteractor.fetchFriends({id:a.id}).then((function(e){return r("addNewUsers",e)}))}var c;r("endLogin"),n()})).catch((function(e){console.log(e),r("endLogin"),o(new Error("Failed to connect to server, try again"))}))}))}}};const st=it;var at=n(36459),ct=n(87462),lt=n(44925),ut=n(64689),dt=function(e,t){if(t.lastMessage&&(e.rootState.chats.currentChatId!==t.id||document.hidden)&&e.rootState.users.currentUser.id!==t.lastMessage.account_id){var n={tag:t.lastMessage.id,title:t.account.name,icon:t.account.profile_image_url,body:t.lastMessage.content};t.lastMessage.attachment&&"image"===t.lastMessage.attachment.type&&(n.image=t.lastMessage.attachment.preview_url),(0,ut.w)(e.rootState,n)}},pt=n(90837),mt=["timeline"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt={state:{retryMultiplier:1,backendInteractor:Ue(),fetchers:{},socket:null,mastoUserSocket:null,mastoUserSocketStatus:null,followRequests:[]},getters:{followRequestCount:function(e){return e.followRequests.length}},mutations:{setBackendInteractor:function(e,t){e.backendInteractor=t},addFetcher:function(e,t){var n=t.fetcherName,o=t.fetcher;e.fetchers[n]=o},removeFetcher:function(e,t){var n=t.fetcherName;t.fetcher,e.fetchers[n].stop(),delete e.fetchers[n]},setWsToken:function(e,t){e.wsToken=t},setSocket:function(e,t){e.socket=t},setFollowRequests:function(e,t){e.followRequests=t},setMastoUserSocketStatus:function(e,t){e.mastoUserSocketStatus=t},incrementRetryMultiplier:function(e){e.retryMultiplier=Math.max(++e.retryMultiplier,3)},resetRetryMultiplier:function(e){e.retryMultiplier=1}},actions:{enableMastoSockets:function(e,t){var n=e.state,o=e.dispatch,r=e.commit;if(!n.mastoUserSocket||[WebSocket.CLOSED,WebSocket.CLOSING].includes(n.mastoUserSocket.getState()))return r("setMastoUserSocketStatus",t?h._z.STARTING_INITIAL:h._z.STARTING),o("startMastoUserSocket")},disableMastoSockets:function(e){var t=e.state,n=e.dispatch,o=e.commit;if(t.mastoUserSocket)return o("setMastoUserSocketStatus",h._z.DISABLED),n("stopMastoUserSocket")},startMastoUserSocket:function(e){return new Promise((function(t,n){try{var o=e.state,r=e.commit,i=e.dispatch,s=e.rootState.statuses.timelines.friends;o.mastoUserSocket=o.backendInteractor.startUserSocket({store:e}),o.mastoUserSocket.addEventListener("message",(function(t){var n=t.detail;n&&("notification"===n.event?i("addNewNotifications",{notifications:[n.notification],older:!1}):"update"===n.event?i("addNewStatuses",{statuses:[n.status],userId:!1,showImmediately:0===s.visibleStatuses.length,timeline:"friends"}):"status.update"===n.event?i("addNewStatuses",{statuses:[n.status],userId:!1,showImmediately:n.status.id in s.visibleStatusesObject,timeline:"friends"}):"delete"===n.event?i("deleteStatusById",n.id):"pleroma:chat_update"===n.event&&setTimeout((function(){i("addChatMessages",{chatId:n.chatUpdate.id,messages:[n.chatUpdate.lastMessage]}),i("updateChat",{chat:n.chatUpdate}),dt(e,n.chatUpdate)}),100))})),o.mastoUserSocket.addEventListener("open",(function(){o.mastoUserSocketStatus!==h._z.STARTING_INITIAL&&i("pushGlobalNotice",{level:"success",messageKey:"timeline.socket_reconnected",timeout:5e3}),new Set([h._z.ERROR,h._z.DISABLED]).has(o.mastoUserSocketStatus)&&(i("stopFetchingTimeline",{timeline:"friends"}),i("stopFetchingNotifications"),i("stopFetchingChats")),r("resetRetryMultiplier"),r("setMastoUserSocketStatus",h._z.JOINED)})),o.mastoUserSocket.addEventListener("error",(function(e){var t=e.detail;console.error("Error in MastoAPI websocket:",t),i("clearOpenedChats")})),o.mastoUserSocket.addEventListener("close",(function(e){var t=e.detail,n=new Set([1e3,1001]),s=t.code;n.has(s)?(console.debug("Not restarting socket becasue of closure code ".concat(s," is in ignore list")),r("setMastoUserSocketStatus",h._z.CLOSED)):(console.warn("MastoAPI websocket disconnected, restarting. CloseEvent code: ".concat(s)),setTimeout((function(){i("startMastoUserSocket")}),1e3*o.retryMultiplier),r("incrementRetryMultiplier"),o.mastoUserSocketStatus!==h._z.ERROR&&(i("startFetchingTimeline",{timeline:"friends"}),i("startFetchingNotifications"),i("startFetchingChats"),i("pushGlobalNotice",{level:"error",messageKey:"timeline.socket_broke",messageArgs:[s],timeout:5e3})),r("setMastoUserSocketStatus",h._z.ERROR)),i("clearOpenedChats")})),t()}catch(e){n(e)}}))},stopMastoUserSocket:function(e){var t=e.state,n=e.dispatch;n("startFetchingTimeline",{timeline:"friends"}),n("startFetchingNotifications"),n("startFetchingChats"),t.mastoUserSocket.close()},startFetchingTimeline:function(e,t){var n=t.timeline,o=void 0===n?"friends":n,r=t.tag,i=void 0!==r&&r,s=t.userId,a=void 0!==s&&s,c=t.listId,l=void 0!==c&&c;if(!e.state.fetchers[o]){var u=e.state.backendInteractor.startFetchingTimeline({timeline:o,store:e,userId:a,listId:l,tag:i});e.commit("addFetcher",{fetcherName:o,fetcher:u})}},stopFetchingTimeline:function(e,t){var n=e.state.fetchers[t];n&&e.commit("removeFetcher",{fetcherName:t,fetcher:n})},fetchTimeline:function(e,t){var n=t.timeline,o=(0,lt.Z)(t,mt);e.state.backendInteractor.fetchTimeline(ft({store:e,timeline:n},o))},startFetchingNotifications:function(e){if(!e.state.fetchers.notifications){var t=e.state.backendInteractor.startFetchingNotifications({store:e});e.commit("addFetcher",{fetcherName:"notifications",fetcher:t})}},stopFetchingNotifications:function(e){var t=e.state.fetchers.notifications;t&&e.commit("removeFetcher",{fetcherName:"notifications",fetcher:t})},fetchNotifications:function(e,t){var n=(0,ct.Z)({},((0,at.Z)(t),t));e.state.backendInteractor.fetchNotifications(ft({store:e},n))},startFetchingFollowRequests:function(e){if(!e.state.fetchers.followRequests){var t=e.state.backendInteractor.startFetchingFollowRequests({store:e});e.commit("addFetcher",{fetcherName:"followRequests",fetcher:t})}},stopFetchingFollowRequests:function(e){var t=e.state.fetchers.followRequests;t&&e.commit("removeFetcher",{fetcherName:"followRequests",fetcher:t})},removeFollowRequest:function(e,t){var n=e.state.followRequests.filter((function(e){return e!==t}));e.commit("setFollowRequests",n)},startFetchingLists:function(e){if(!e.state.fetchers.lists){var t=e.state.backendInteractor.startFetchingLists({store:e});e.commit("addFetcher",{fetcherName:"lists",fetcher:t})}},stopFetchingLists:function(e){var t=e.state.fetchers.lists;t&&e.commit("removeFetcher",{fetcherName:"lists",fetcher:t})},setWsToken:function(e,t){e.commit("setWsToken",t)},initializeSocket:function(e){var t=e.dispatch,n=e.commit,o=e.state,r=e.rootState,i=o.wsToken;if(r.instance.shoutAvailable&&void 0!==i&&null===o.socket){var s=new pt.sk("/socket",{params:{token:i}});s.connect(),n("setSocket",s),t("initializeShout",s)}},disconnectFromSocket:function(e){var t=e.commit,n=e.state;n.socket&&n.socket.disconnect(),t("setSocket",null)}}};const vt=gt;var wt=n(65405),bt=n(87185),yt=n.n(bt),_t=n(69579),kt=n.n(_t),St=n(7436),jt=n.n(St),Ct=n(7739),Ot=n.n(Ct),Pt=n(85564),zt=n.n(Pt),Dt=n(74691),It=n.n(Dt),xt=n(27361),Tt=n.n(xt),$t=n(36968),Ut=n.n($t),Mt=n(50361),At=n.n(Mt),Lt=n(18446),Et=n.n(Lt),Ft=n(2262),Rt=n(48328),qt=n(9382),Nt=(n(31934),n(95326),n(43011),n(68789),n(84131));qt.vI.add(Nt.NBC),Rt.Z;var Zt=["_journal"],Wt=["_timestamp","_version"],Bt=["_timestamp","_version"];function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=new Date("2022-08-04"),Gt=1001,Yt={dirty:!1,flagStorage:{updateCounter:0,reset:0},prefsStorage:{_journal:[],simple:{dontShowUpdateNotifs:!1,collapseNav:!1},collections:{pinnedNavItems:["home","dms","chats"]}},raw:null,cache:null},Jt=Vt(Vt({},Yt.flagStorage),{},{updateCounter:1}),Qt=function(e,t,n){var o=e.indexOf(t),r=o+n,i=(0,u.Z)(e);return i.splice(o,1),i.splice(It()(r,0,i.length+1),0,t),i},Xt=function(e,t){return Vt(Vt({},e),{},{_user:t,_timestamp:Date.now(),_version:1})},en=function(e){return e._timestamp>0&&e._version>0},tn=function(e){e.prefsStorage=e.prefsStorage||{simple:{},collections:{}},Object.entries(Yt.prefsStorage.simple).forEach((function(t){var n=(0,l.Z)(t,2),o=n[0],r=n[1];"number"!=typeof r&&"boolean"!=typeof r&&(console.warn("Preference simple.".concat(o," as invalid type, reinitializing")),Ut()(e.prefsStorage.simple,o,Yt.prefsStorage.simple[o]))})),Object.entries(Yt.prefsStorage.collections).forEach((function(t){var n=(0,l.Z)(t,2),o=n[0],r=n[1];Array.isArray(r)||(console.warn("Preference collections.".concat(o," as invalid type, reinitializing")),Ut()(e.prefsStorage.collections,o,Yt.prefsStorage.collections[o]))}))},nn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=zt()(t.map((function(e){return Array.isArray(e)?e:[]}))).filter((function(e){return Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"operation")&&Object.prototype.hasOwnProperty.call(e,"args")&&Object.prototype.hasOwnProperty.call(e,"timestamp")})),r=Ot()(o,"path"),i=Object.entries(r).map((function(e){var t=(0,l.Z)(e,2),n=t[0],o=t[1];if(o.sort((function(e,t){return e.timestamp>t.timestamp?1:-1})),n.startsWith("collections")){var r,i=jt()(o,(function(e){return"removeFromCollection"===e.operation}));return r=i>0?o.slice(i):o,yt()(r,(function(e,t){return e.path===t.path&&e.operation===t.operation&&"addToCollection"===e.operation&&e.args[0]===t.args[0]}))}return n.startsWith("simple")?kt()(o):o}));return zt()(i).sort((function(e,t){return e.timestamp>t.timestamp?1:-1}))},on={clearServerSideStorage:function(e,t){Vt({},At()(Yt))},setServerSideStorage:function(e,t){var n=t.storage;e.raw=n;var o=e.cache;o&&o._user!==t.fqn&&(console.warn("cache belongs to another user! reinitializing local cache!"),o=null);var r=function(e,t){var n={recent:null,stale:null,needUpload:!1},o=en(e||{}),r=en(t||{});return!r&&o?(n.needUpload=!0,console.debug("Nothing valid stored on server, assuming cache to be source of truth"),n.recent=e,n.stale=t):!o&&r?(console.debug("Valid storage on server found, no local cache found, using live as source of truth"),n.recent=t,n.stale=e):o&&r?(console.debug("Both sources have valid data, figuring things out..."),t._timestamp===e._timestamp&&t._version===e._version?(console.debug("Same version/timestamp on both source, source of truth irrelevant"),n.recent=e,n.stale=t):(console.debug("Different timestamp, figuring out which one is more recent"),t._timestamp<e._timestamp?(n.recent=e,n.stale=t):(n.recent=t,n.stale=e))):(console.debug("Both sources are invalid, start from scratch"),n.needUpload=!0),n}(o=function(e){return e?(e._version<1&&(console.debug("Local cached data has older version, seeing if there any migrations that can be applied"),console.debug("No migrations found")),e._version>1&&(console.debug("Local cached data has newer version, seeing if there any reverse migrations that can be applied"),window._PLEROMA_HOTPATCH&&window._PLEROMA_HOTPATCH.reverseMigrations)?(console.debug("Found hotpatch migration, applying"),window._PLEROMA_HOTPATCH.reverseMigrations.call({},"serverSideStorage",{from:e._version,to:1},e)):e):e}(o),n),i=r.recent,s=r.stale,a=r.needsUpload,c=t.created_at>Kt,d=c?Jt:Yt.flagStorage,p=!1;if(null===i&&(console.debug("Data is empty, initializing for ".concat(c?"new":"existing"," user")),i=Xt({flagStorage:Vt({},d),prefsStorage:Vt({},Yt.prefsStorage)})),!a&&i&&s){console.debug("Checking if data needs merging...");var m=i,h=(m._timestamp,m._version,(0,lt.Z)(m,Wt)),f=(s._timestamp,s._version,(0,lt.Z)(s,Bt));p=!Et()(h,f),console.debug("Data ".concat(p?"needs":"doesn't need"," merging"))}var g,v,w=function(e,t){return Array.from(new Set([].concat((0,u.Z)(Object.keys((0,Ft.IU)((e||{}).flagStorage||{}))),(0,u.Z)(Object.keys((0,Ft.IU)((t||{}).flagStorage||{}))))))}(i,s);p?(console.debug("Merging the data..."),g=function(e,t,n){return t.flagStorage?e.flagStorage?Object.fromEntries(n.map((function(n){var o=e.flagStorage[n],r=t.flagStorage[n];return[n,Number((o>r?o:r)||0)]}))):t.flagStorage:e.flagStorage}(i,s,w),tn(i),tn(s),v=function(e,t,n){if(!t)return e;if(!e)return t;var o=e._journal,r=(0,lt.Z)(e,Zt),i=t._journal,s=Vt({},r),a=nn(i,o);return a.forEach((function(e){var t=e.path,n=(e.timestamp,e.operation),o=(e.command,e.args);if(t.startsWith("_"))console.error("journal contains entry to edit internal (starts with _) field '".concat(t,"', something is incorrect here, ignoring."));else switch(n){case"set":Ut()(s,t,o[0]);break;case"addToCollection":Ut()(s,t,Array.from(new Set(Tt()(s,t)).add(o[0])));break;case"removeFromCollection":var r=new Set(Tt()(s,t));r.delete(o[0]),Ut()(s,t,Array.from(r));break;case"reorderCollection":var i=(0,l.Z)(o,2),a=i[0],c=i[1];Ut()(s,t,Qt(Tt()(s,t),a,c));break;default:console.error("Unknown journal operation: '".concat(n,"', did we forget to run reverse migrations beforehand?"))}})),Vt(Vt({},s),{},{_journal:a})}(i.prefsStorage,s.prefsStorage)):(g=i.flagStorage,v=i.prefsStorage),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.flagStorage,n=Vt({},e),o=Object.keys(e);if(e.reset>=1e3&&e.reset<=Gt){console.debug("Received command to trim the flags");var r=new Set(Object.keys(t));n={},o.forEach((function(t){r.has(t)&&(n[t]=e[t])})),e.reset===Gt&&(console.debug("Received command to reset the flags"),Object.keys(t).forEach((function(e){n[e]=0})))}else e.reset>0&&e.reset<9e3&&(console.debug("Received command to reset the flags"),o.forEach((function(e){n[e]=0})));return n.reset=0,n}(g),i.flagStorage=Vt(Vt({},d),g),i.prefsStorage=Vt(Vt({},Yt.prefsStorage),v),e.dirty=p||a,e.cache=i,s&&i&&!e.dirty&&(e.cache._timestamp=Math.min(s._timestamp,i._timestamp)),e.flagStorage=e.cache.flagStorage,e.prefsStorage=e.cache.prefsStorage},setFlag:function(e,t){var n=t.flag,o=t.value;e.flagStorage[n]=o,e.dirty=!0},setPreference:function(e,t){var n=t.path,o=t.value;n.startsWith("_")?console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring.")):(Ut()(e.prefsStorage,n,o),e.prefsStorage._journal=[].concat((0,u.Z)(e.prefsStorage._journal),[{operation:"set",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0)},addCollectionPreference:function(e,t){var n=t.path,o=t.value;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var r=new Set(Tt()(e.prefsStorage,n));r.add(o),Ut()(e.prefsStorage,n,(0,u.Z)(r)),e.prefsStorage._journal=[].concat((0,u.Z)(e.prefsStorage._journal),[{operation:"addToCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},removeCollectionPreference:function(e,t){var n=t.path,o=t.value;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var r=new Set(Tt()(e.prefsStorage,n));r.delete(o),Ut()(e.prefsStorage,n,(0,u.Z)(r)),e.prefsStorage._journal=[].concat((0,u.Z)(e.prefsStorage._journal),[{operation:"removeFromCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},reorderCollectionPreference:function(e,t){var n=t.path,o=t.value,r=t.movement;if(n.startsWith("_"))console.error("tried to edit internal (starts with _) field '".concat(n,"', ignoring."));else{var i=Tt()(e.prefsStorage,n),s=Qt(i,o,r);Ut()(e.prefsStorage,n,s),e.prefsStorage._journal=[].concat((0,u.Z)(e.prefsStorage._journal),[{operation:"arrangeCollection",path:n,args:[o],timestamp:Date.now()}]),e.dirty=!0}},updateCache:function(e,t){var n=t.username;e.prefsStorage._journal=nn(e.prefsStorage._journal),e.cache=Xt({flagStorage:(0,Ft.IU)(e.flagStorage),prefsStorage:(0,Ft.IU)(e.prefsStorage)},n)}};const rn={state:Vt({},At()(Yt)),mutations:on,actions:{pushServerSideStorage:function(e){var t=e.state,n=e.rootState,o=e.commit,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.force,s=void 0!==i&&i,a=t.dirty||s;if(console.log(a),a){o("updateCache",{username:n.users.currentUser.fqn});var c={pleroma_settings_store:{"pleroma-fe":t.cache}};n.api.backendInteractor.updateProfile({params:c}).then((function(e){o("setServerSideStorage",e),t.dirty=!1}))}}}},sn={state:{messages:[],channel:{state:""},joined:!1},mutations:{setChannel:function(e,t){e.channel=t},addMessage:function(e,t){e.messages.push(t),e.messages=e.messages.slice(-19,20)},setMessages:function(e,t){e.messages=t.slice(-19,20)},setJoined:function(e,t){e.joined=t}},actions:{initializeShout:function(e,t){var n=t.channel("chat:public");n.joinPush.receive("ok",(function(){e.commit("setJoined",!0)})),n.onClose((function(){e.commit("setJoined",!1)})),n.onError((function(){e.commit("setJoined",!1)})),n.on("new_msg",(function(t){e.commit("addMessage",t)})),n.on("messages",(function(t){var n=t.messages;e.commit("setMessages",n)})),n.join(),e.commit("setChannel",n)}}},an={state:{clientId:!1,clientSecret:!1,appToken:!1,userToken:!1},mutations:{setClientData:function(e,t){var n=t.clientId,o=t.clientSecret;e.clientId=n,e.clientSecret=o},setAppToken:function(e,t){e.appToken=t},setToken:function(e,t){e.userToken=t},clearToken:function(e){e.userToken=!1,delete e.token}},getters:{getToken:function(e){return function(){return e.userToken||e.token||e.appToken}},getUserToken:function(e){return function(){return e.userToken||e.token}}}};var cn="password",ln="token",un="totp",dn="recovery",pn=function(e){e.strategy=e.initStrategy,e.settings={}};const mn={namespaced:!0,state:{settings:{},strategy:cn,initStrategy:cn},getters:{settings:function(e,t){return e.settings},requiredPassword:function(e,t,n){return e.strategy===cn},requiredToken:function(e,t,n){return e.strategy===ln},requiredTOTP:function(e,t,n){return e.strategy===un},requiredRecovery:function(e,t,n){return e.strategy===dn}},mutations:{setInitialStrategy:function(e,t){t&&(e.initStrategy=t,e.strategy=t)},requirePassword:function(e){e.strategy=cn},requireToken:function(e){e.strategy=ln},requireMFA:function(e,t){var n=t.settings;e.settings=n,e.strategy=un},requireRecovery:function(e){e.strategy=dn},requireTOTP:function(e){e.strategy=un},abortMFA:function(e){pn(e)}},actions:{login:function(e,t){return(0,o.Z)(i().mark((function n(){var o,r,s,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.state,r=e.dispatch,s=e.commit,a=t.access_token,s("setToken",a,{root:!0}),n.next=5,r("loginUser",a,{root:!0});case 5:pn(o);case 6:case"end":return n.stop()}}),n)})))()}}};var hn=n(58394),fn=new Set(["image","video","audio","flash"]),gn={state:{media:[],currentIndex:0,activated:!1},mutations:{setMedia:function(e,t){e.media=t},setCurrentMedia:function(e,t){e.activated=!0,e.currentIndex=t},close:function(e){e.activated=!1}},actions:{setMedia:function(e,t){var n=e.commit,o=t.filter((function(e){var t=hn.Z.fileType(e.mimetype);return fn.has(t)}));n("setMedia",o)},setCurrentMedia:function(e,t){(0,e.commit)("setCurrentMedia",e.state.media.indexOf(t)||0)},closeMediaViewer:function(e){(0,e.commit)("close")}}};const vn=gn,wn={state:{tokens:[]},actions:{fetchTokens:function(e){var t=e.rootState,n=e.commit;t.api.backendInteractor.fetchOAuthTokens().then((function(e){n("swapTokens",e)}))},revokeToken:function(e,t){var n=e.rootState,o=e.commit,r=e.state;n.api.backendInteractor.revokeOAuthToken({id:t}).then((function(e){201===e.status&&o("swapTokens",r.tokens.filter((function(e){return e.id!==t})))}))}},mutations:{swapTokens:function(e,t){e.tokens=t}}};var bn=n(63105),yn=n.n(bn),_n={state:{reportModal:{userId:null,statuses:[],preTickedIds:[],activated:!1},reports:{}},mutations:{openUserReportingModal:function(e,t){var n=t.userId,o=t.statuses,r=t.preTickedIds;e.reportModal.userId=n,e.reportModal.statuses=o,e.reportModal.preTickedIds=r,e.reportModal.activated=!0},closeUserReportingModal:function(e){e.reportModal.activated=!1},setReportState:function(e,t){var n=t.id,o=t.state;e.reports[n].state=o},addReport:function(e,t){e.reports[t.id]=t}},actions:{openUserReportingModal:function(e,t){var n=e.rootState,o=e.commit,r=t.userId,i=t.statusIds,s=void 0===i?[]:i,a=s.map((function(e){return n.statuses.allStatusesObject[e]})),c=s,l=a.concat(yn()(n.statuses.allStatuses,(function(e){return e.user.id===r&&!c.includes(e.id)})));o("openUserReportingModal",{userId:r,statuses:l,preTickedIds:c})},closeUserReportingModal:function(e){(0,e.commit)("closeUserReportingModal")},setReportState:function(e,t){var n=e.commit,o=e.dispatch,r=e.rootState,i=t.id,s=t.state,a=r.reports.reports[i].state;n("setReportState",{id:i,state:s}),r.api.backendInteractor.setReportState({id:i,state:s}).catch((function(e){console.error("Failed to set report state",e),o("pushGlobalNotice",{level:"error",messageKey:"general.generic_error_message",messageArgs:[e.message],timeout:5e3}),n("setReportState",{id:i,state:a})}))},addReport:function(e,t){(0,e.commit)("addReport",t)}}};const kn=_n;const Sn={state:{trackedPolls:{},pollsObject:{}},mutations:{mergeOrAddPoll:function(e,t){var n=e.pollsObject[t.id];t.expired=Date.now()>Date.parse(t.expires_at),e.pollsObject[t.id]=n?$()(n,t):t},trackPoll:function(e,t){var n=e.trackedPolls[t];e.trackedPolls[t]=n?n+1:1},untrackPoll:function(e,t){var n=e.trackedPolls[t];e.trackedPolls[t]=n?n-1:0}},actions:{mergeOrAddPoll:function(e,t){(0,e.commit)("mergeOrAddPoll",t)},updateTrackedPoll:function(e,t){var n=e.rootState,o=e.dispatch,r=e.commit;n.api.backendInteractor.fetchPoll({pollId:t}).then((function(e){setTimeout((function(){n.polls.trackedPolls[t]&&o("updateTrackedPoll",t)}),3e4),r("mergeOrAddPoll",e)}))},trackPoll:function(e,t){var n=e.rootState,o=e.commit,r=e.dispatch;n.polls.trackedPolls[t]||setTimeout((function(){return r("updateTrackedPoll",t)}),3e4),o("trackPoll",t)},untrackPoll:function(e,t){(0,e.commit)("untrackPoll",t)},votePoll:function(e,t){var n=e.rootState,o=e.commit,r=(t.id,t.pollId),i=t.choices;return n.api.backendInteractor.vote({pollId:r,choices:i}).then((function(e){return o("mergeOrAddPoll",e),e}))}}},jn={state:{params:null,modalActivated:!1},mutations:{openPostStatusModal:function(e,t){e.params=t,e.modalActivated=!0},closePostStatusModal:function(e){e.modalActivated=!1}},actions:{openPostStatusModal:function(e,t){(0,e.commit)("openPostStatusModal",t)},closePostStatusModal:function(e){(0,e.commit)("closePostStatusModal")}}},Cn={state:{params:null,modalActivated:!1},mutations:{openEditStatusModal:function(e,t){e.params=t,e.modalActivated=!0},closeEditStatusModal:function(e){e.modalActivated=!1}},actions:{openEditStatusModal:function(e,t){(0,e.commit)("openEditStatusModal",t)},closeEditStatusModal:function(e){(0,e.commit)("closeEditStatusModal")}}},On={state:{params:{},modalActivated:!1},mutations:{openStatusHistoryModal:function(e,t){e.params=t,e.modalActivated=!0},closeStatusHistoryModal:function(e){e.modalActivated=!1}},actions:{openStatusHistoryModal:function(e,t){(0,e.commit)("openStatusHistoryModal",t)},closeStatusHistoryModal:function(e){(0,e.commit)("closeStatusHistoryModal")}}};var Pn=n(73303),zn=n.n(Pn),Dn=n(75472),In=n.n(Dn),xn=n(73955),Tn=n.n(xn),$n=n(89734),Un=n.n($n);function Mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ln={add:function(e,t){var n=t.messages,o=t.updateMaxId,r=void 0===o||o;if(e)for(var i=function(){var t=n[s];if(t.chat_id!==e.chatId)return{v:void 0};if(t.fakeId){var o=e.idIndex[t.fakeId];if(o)return e.idIndex[t.id]&&(delete e.idIndex[t.id],e.messages=e.messages.filter((function(e){return e.id!==t.id}))),Object.assign(o,t,{error:!1}),delete o.fakeId,e.idIndex[o.id]=o,delete e.idIndex[t.fakeId],{v:void 0}}(!e.minId||!t.pending&&t.id<e.minId)&&(e.minId=t.id),(!e.maxId||t.id>e.maxId)&&r&&(e.maxId=t.id),e.idIndex[t.id]||function(e,t){if(t.idempotency_key)return e.idempotencyKeyIndex[t.idempotency_key]}(e,t)||(e.lastSeenMessageId<t.id&&e.newMessageCount++,e.idIndex[t.id]=t,e.messages.push(e.idIndex[t.id]),e.idempotencyKeyIndex[t.idempotency_key]=!0)},s=0;s<n.length;s++){var a=i();if("object"===(0,de.Z)(a))return a.v}},empty:function(e){return{idIndex:{},idempotencyKeyIndex:{},messages:[],newMessageCount:0,lastSeenMessageId:"0",chatId:e,minId:void 0,maxId:void 0}},getView:function(e){if(!e)return[];var t,n=[],o=In()(e.messages,["pending","id"],["asc","asc"]),r=o[0],i=o[o.length-1];if(r){var s=new Date(r.created_at);s.setHours(0,0,0,0),n.push({type:"date",date:s,id:s.getTime().toString()})}for(var a=!1,c=0;c<o.length;c++){var l=o[c],u=o[c+1],d=new Date(l.created_at);d.setHours(0,0,0,0),i&&i.date<d&&(n.push({type:"date",date:d,id:d.getTime().toString()}),i.isTail=!0,t=void 0,a=!0);var p={type:"message",data:l,date:d,id:l.id,messageChainId:t};(u&&u.account_id)!==l.account_id&&(p.isTail=!0,t=void 0),((i&&i.data&&i.data.account_id)!==l.account_id||a)&&(t=Tn()(),p.isHead=!0,p.messageChainId=t),n.push(p),i=p,a=!1}return n},deleteMessage:function(e,t){if(e){if(e.messages=e.messages.filter((function(e){return e.id!==t})),delete e.idIndex[t],e.maxId===t){var n=L()(e.messages,"id");e.maxId=n.id}if(e.minId===t){var o=M()(e.messages,"id");e.minId=o.id}}},cullOlderMessages:function(e){var t=e.messages.length,n=t-50;if(!(t<=50)){e.messages=Un()(e.messages,["id"]),e.minId=e.messages[n].id;var o,r=Mn(e.messages);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.id<e.minId&&(delete e.idIndex[i.id],delete e.idempotencyKeyIndex[i.idempotency_key])}}catch(e){r.e(e)}finally{r.f()}e.messages=e.messages.slice(n,t)}},resetNewMessageCount:function(e){e&&(e.newMessageCount=0,e.lastSeenMessageId=e.maxId)},clear:function(e){var t,n=[],o=Mn(e.messages);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.error?n.push(r.id):(delete e.idIndex[r.id],delete e.idempotencyKeyIndex[r.idempotency_key])}}catch(e){o.e(e)}finally{o.f()}e.messages=e.messages.filter((function(e){return n.includes(e.id)})),e.newMessageCount=0,e.lastSeenMessageId="0",e.minId=void 0,e.maxId=void 0},handleMessageError:function(e,t,n){if(e){var o=e.idIndex[t];if(o&&(o.error=!0,o.pending=!1,!n)){var r=In()(e.messages,["pending","id"],["asc","desc"])[0];if(r){var i=o.id;o.id="".concat(r.id,"-").concat((new Date).getTime()),e.idIndex[o.id]=o,delete e.idIndex[i]}}}}};const En=Ln;var Fn=n(27742);function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn={chatList:{data:[],idStore:{}},chatListFetcher:null,openedChats:(0,Ft.qj)({}),openedChatMessageServices:(0,Ft.qj)({}),fetcher:void 0,currentChatId:null,lastReadMessageId:null},Zn=function(e,t){return F()(e.chatList.data,{id:t})},Wn={state:qn({},Nn),getters:{currentChat:function(e){return e.openedChats[e.currentChatId]},currentChatMessageService:function(e){return e.openedChatMessageServices[e.currentChatId]},findOpenedChatByRecipientId:function(e){return function(t){return F()(e.openedChats,(function(e){return e.account.id===t}))}},sortedChatList:function(e){return In()(e.chatList.data,["updated_at"],["desc"])},unreadChatCount:function(e){return zn()(e.chatList.data,"unread")}},actions:{startFetchingChats:function(e){var t=e.dispatch,n=e.commit,o=function(){return t("fetchChats",{latest:!0})};o(),n("setChatListFetcher",{fetcher:function(){return(0,je.F)(o,5e3)}})},stopFetchingChats:function(e){(0,e.commit)("setChatListFetcher",{fetcher:void 0})},fetchChats:function(e){var t=e.dispatch,n=e.rootState;return e.commit,n.api.backendInteractor.chats().then((function(e){var n=e.chats;return t("addNewChats",{chats:n}),n}))},addNewChats:function(e,t){var n=t.chats;(0,e.commit)("addNewChats",{dispatch:e.dispatch,chats:n,rootGetters:e.rootGetters,newChatMessageSideEffects:function(t){dt(e,t)}})},updateChat:function(e,t){(0,e.commit)("updateChat",{chat:t.chat})},startFetchingCurrentChat:function(e,t){e.commit,(0,e.dispatch)("setCurrentChatFetcher",{fetcher:t.fetcher})},setCurrentChatFetcher:function(e,t){e.rootState,(0,e.commit)("setCurrentChatFetcher",{fetcher:t.fetcher})},addOpenedChat:function(e,t){e.rootState;var n=e.commit,o=e.dispatch,r=t.chat;n("addOpenedChat",{dispatch:o,chat:(0,Fn._J)(r)}),o("addNewUsers",[r.account])},addChatMessages:function(e,t){var n=e.commit;n("addChatMessages",qn({commit:n},t))},resetChatNewMessageCount:function(e,t){(0,e.commit)("resetChatNewMessageCount",t)},clearCurrentChat:function(e,t){e.rootState;var n=e.commit;e.dispatch,n("setCurrentChatId",{chatId:void 0}),n("setCurrentChatFetcher",{fetcher:void 0})},readChat:function(e,t){var n=e.rootState,o=e.commit,r=e.dispatch,i=t.id,s=t.lastReadId,a=n.chats.lastReadMessageId!==s;r("resetChatNewMessageCount"),o("readChat",{id:i,lastReadId:s}),a&&n.api.backendInteractor.readChat({id:i,lastReadId:s})},deleteChatMessage:function(e,t){var n=e.rootState,o=e.commit;n.api.backendInteractor.deleteChatMessage(t),o("deleteChatMessage",qn({commit:o},t))},resetChats:function(e){var t=e.commit;(0,e.dispatch)("clearCurrentChat"),t("resetChats",{commit:t})},clearOpenedChats:function(e){e.rootState;var t=e.commit;e.dispatch,e.rootGetters,t("clearOpenedChats",{commit:t})},handleMessageError:function(e,t){var n=e.commit;n("handleMessageError",qn({commit:n},t))},cullOlderMessages:function(e,t){(0,e.commit)("cullOlderMessages",t)}},mutations:{setChatListFetcher:function(e,t){t.commit;var n=t.fetcher,o=e.chatListFetcher;o&&o.stop(),e.chatListFetcher=n&&n()},setCurrentChatFetcher:function(e,t){var n=t.fetcher,o=e.fetcher;o&&o.stop(),e.fetcher=n&&n()},addOpenedChat:function(e,t){t._dispatch;var n=t.chat;e.currentChatId=n.id,e.openedChats[n.id]=n,e.openedChatMessageServices[n.id]||(e.openedChatMessageServices[n.id]=En.empty(n.id))},setCurrentChatId:function(e,t){var n=t.chatId;e.currentChatId=n},addNewChats:function(e,t){var n=t.chats,o=t.newChatMessageSideEffects;n.forEach((function(t){var n=Zn(e,t.id);if(n){var r=(n.lastMessage&&n.lastMessage.id)!==(t.lastMessage&&t.lastMessage.id);n.lastMessage=t.lastMessage,n.unread=t.unread,n.updated_at=t.updated_at,r&&n.unread&&o(t)}else e.chatList.data.push(t),e.chatList.idStore[t.id]=t}))},updateChat:function(e,t){t._dispatch;var n=t.chat,o=(t._rootGetters,Zn(e,n.id));o&&(o.lastMessage=n.lastMessage,o.unread=n.unread,o.updated_at=n.updated_at),o||e.chatList.data.unshift(n),e.chatList.idStore[n.id]=n},deleteChat:function(e,t){t._dispatch;var n=t.id;t._rootGetters,e.chats.data=e.chats.data.filter((function(e){return e.last_status.id!==n})),e.chats.idStore=C()(e.chats.idStore,(function(e){return e.last_status.id===n}))},resetChats:function(e,t){var n=t.commit;for(var o in e.chatList={data:[],idStore:{}},e.currentChatId=null,n("setChatListFetcher",{fetcher:void 0}),e.openedChats)En.clear(e.openedChatMessageServices[o]),delete e.openedChats[o],delete e.openedChatMessageServices[o]},setChatsLoading:function(e,t){var n=t.value;e.chats.loading=n},addChatMessages:function(e,t){var n=t.chatId,o=t.messages,r=t.updateMaxId,i=e.openedChatMessageServices[n];i&&En.add(i,{messages:o.map(Fn.UB),updateMaxId:r})},deleteChatMessage:function(e,t){var n=t.chatId,o=t.messageId,r=e.openedChatMessageServices[n];r&&En.deleteMessage(r,o)},resetChatNewMessageCount:function(e,t){var n=e.openedChatMessageServices[e.currentChatId];En.resetNewMessageCount(n)},clearOpenedChats:function(e){var t=e.currentChatId;for(var n in e.openedChats)t!==n&&(En.clear(e.openedChatMessageServices[n]),delete e.openedChats[n],delete e.openedChatMessageServices[n])},readChat:function(e,t){var n=t.id,o=t.lastReadId;e.lastReadMessageId=o;var r=Zn(e,n);r&&(r.unread=0)},handleMessageError:function(e,t){var n=t.chatId,o=t.fakeId,r=t.isRetry,i=e.openedChatMessageServices[n];En.handleMessageError(i,o,r)},cullOlderMessages:function(e,t){En.cullOlderMessages(e.openedChatMessageServices[t])}}};const Bn=Wn;const Hn={state:{announcements:[],supportsAnnouncements:!0,fetchAnnouncementsTimer:void 0},mutations:{setAnnouncements:function(e,t){e.announcements=t},setAnnouncementRead:function(e,t){var n=t.id,o=t.read,r=e.announcements.findIndex((function(e){return e.id===n}));r<0||(e.announcements[r].read=o)},setFetchAnnouncementsTimer:function(e,t){e.fetchAnnouncementsTimer=t},setSupportsAnnouncements:function(e,t){e.supportsAnnouncements=t}},getters:{unreadAnnouncementCount:function(e,t,n){return n.users.currentUser?e.announcements.filter((function(e){return!(e.inactive||e.read)})).length:0}},actions:{fetchAnnouncements:function(e){if(!e.state.supportsAnnouncements)return Promise.resolve();var t=e.rootState.users.currentUser,n=t&&t.privileges.includes("announcements_manage_announcements"),r=function(){var t=(0,o.Z)(i().mark((function t(){var o,r,s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e.rootState.api.backendInteractor.fetchAnnouncements());case 2:return t.next=4,e.rootState.api.backendInteractor.adminFetchAnnouncements();case 4:return o=t.sent,t.next=7,e.rootState.api.backendInteractor.fetchAnnouncements();case 7:return r=t.sent,s=r.reduce((function(e,t){return e[t.id]=t,e}),{}),a=function(e){return s[e.id]},o.forEach((function(e){var t=a(e);t?e.read=t.read:e.inactive=!0})),t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r().then((function(t){e.commit("setAnnouncements",t)})).catch((function(t){if(!t||404!==t.statusCode)throw t;e.commit("setSupportsAnnouncements",!1)}))},markAnnouncementAsRead:function(e,t){return e.rootState.api.backendInteractor.dismissAnnouncement({id:t}).then((function(){e.commit("setAnnouncementRead",{id:t,read:!0})}))},startFetchingAnnouncements:function(e){if(!e.state.fetchAnnouncementsTimer){var t=setInterval((function(){return e.dispatch("fetchAnnouncements")}),3e5);return e.commit("setFetchAnnouncementsTimer",t),e.dispatch("fetchAnnouncements")}},stopFetchingAnnouncements:function(e){var t=e.state.fetchAnnouncementsTimer;e.commit("setFetchAnnouncementsTimer",void 0),clearInterval(t)},postAnnouncement:function(e,t){var n=t.content,o=t.startsAt,r=t.endsAt,i=t.allDay;return e.rootState.api.backendInteractor.postAnnouncement({content:n,startsAt:o,endsAt:r,allDay:i}).then((function(){return e.dispatch("fetchAnnouncements")}))},editAnnouncement:function(e,t){var n=t.id,o=t.content,r=t.startsAt,i=t.endsAt,s=t.allDay;return e.rootState.api.backendInteractor.editAnnouncement({id:n,content:o,startsAt:r,endsAt:i,allDay:s}).then((function(){return e.dispatch("fetchAnnouncements")}))},deleteAnnouncement:function(e,t){return e.rootState.api.backendInteractor.deleteAnnouncement({id:t}).then((function(){return e.dispatch("fetchAnnouncements")}))}}};var Vn=n(90308),Kn=n(72378),Gn=n.n(Kn),Yn=n(69483),Jn=!1,Qn=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return Ut()(t,n,Tt()(e,n)),t}),{})},Xn=["markNotificationsAsSeen","clearCurrentUser","setCurrentUser","setServerSideStorage","setHighlight","setOption","setClientData","setToken","clearToken"],eo=n.n(Yn)();function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,n=void 0===t?"vuex-lz":t,o=e.paths,r=void 0===o?[]:o,i=e.getState,s=void 0===i?function(e,t){return t.getItem(e)}:i,a=e.setState,c=void 0===a?function(e,t,n){return Jn?n.setItem(e,t):(console.log("waiting for old state to be loaded..."),Promise.resolve())}:a,l=e.reducer,u=void 0===l?Qn:l,d=e.storage,p=void 0===d?eo:d,m=e.subscriber,h=void 0===m?function(e){return function(t){return e.subscribe(t)}}:m;return s(n,p).then((function(e){return function(t){try{if(null!==e&&"object"===(0,de.Z)(e)){var o=e.users||{};o.usersObject={};var i=o.users||[];Z()(i,(function(e){o.usersObject[e.id]=e})),e.users=o,t.replaceState(Gn()({},t.state,e))}Jn=!0}catch(e){console.log("Couldn't load state"),console.error(e),Jn=!0}h(t)((function(e,o){try{Xn.includes(e.type)&&c(n,u(At()(o),r),p).then((function(n){void 0!==n&&("setOption"!==e.type&&"setCurrentUser"!==e.type||t.dispatch("settingsSaved",{success:n}))}),(function(n){"setOption"!==e.type&&"setCurrentUser"!==e.type||t.dispatch("settingsSaved",{error:n})}))}catch(e){console.log("Couldn't persist state:"),console.log(e)}}))}}))}const no=function(e){e.subscribe((function(t,n){var o=n.instance.vapidPublicKey,r=n.config.webPushNotifications,i="granted"===n.interface.notificationPermission,s=n.users.currentUser,a="setCurrentUser"===t.type,c="setInstanceOption"===t.type&&"vapidPublicKey"===t.payload.name,l="setNotificationPermission"===t.type&&"granted"===t.payload,u="setOption"===t.type&&"webPushNotifications"===t.payload.name,d="setOption"===t.type&&"notificationVisibility"===t.payload.name;if(a||c||l||u||d){if(s&&o&&i&&r)return e.dispatch("registerPushNotifications");if(u&&!r)return e.dispatch("unregisterPushNotifications")}}))};var oo=n(72617),ro=n(49963),io=n(28339),so=n(20425),ao=n.n(so),co=n(42570),lo=n(57810),uo=n(66252),po=n(3577),mo=(0,uo._)("div",{id:"app_bg_wrapper",class:"app-bg-wrapper"},null,-1),ho=(0,uo._)("div",{class:"underlay"},null,-1),fo=(0,uo._)("div",{id:"notifs-sidebar"},null,-1),go={key:0,class:"login-hint panel panel-default"},vo={class:"user-panel"},wo={key:"user-panel-signed",class:"panel panel-default signed-in"},bo={class:"login panel panel-default"},yo={class:"panel-heading"},_o={class:"panel-body"},ko={class:"form-group"},So={for:"username"},jo=["disabled","placeholder"],Co={class:"form-group"},Oo={for:"password"},Po=["disabled"],zo={class:"form-group"},Do={key:1,class:"form-group"},Io={class:"form-group"},xo={class:"login-bottom"},To=["disabled"],$o={key:0,class:"form-group"},Uo={class:"alert error"};function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC);const Lo={data:function(){return{user:{},error:!1}},computed:Ao(Ao({isPasswordAuth:function(){return this.requiredPassword},isTokenAuth:function(){return this.requiredToken}},(0,s.rn)({registrationOpen:function(e){return e.instance.registrationOpen},instance:function(e){return e.instance},loggingIn:function(e){return e.users.loggingIn},oauth:function(e){return e.oauth}})),(0,s.Se)("authFlow",["requiredPassword","requiredToken","requiredMFA"])),methods:Ao(Ao(Ao({},(0,s.OI)("authFlow",["requireMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{submit:function(){this.isTokenAuth?this.submitToken():this.submitPassword()},submitToken:function(){var e=this.oauth,t={clientId:e.clientId,clientSecret:e.clientSecret,instance:this.instance.server,commit:this.$store.commit};Ze.getOrCreateApp(t).then((function(e){Ze.login(Ao(Ao({},e),t))}))},submitPassword:function(){var e=this,t={clientId:this.oauth.clientId,oauth:this.oauth,instance:this.instance.server,commit:this.$store.commit};this.error=!1,Ze.getOrCreateApp(t).then((function(n){Ze.getTokenWithCredentials(Ao(Ao({},n),{},{instance:t.instance,username:e.user.username,password:e.user.password})).then((function(t){t.error?"mfa_required"===t.error?e.requireMFA({settings:t}):"password_reset_required"===t.identifier?e.$router.push({name:"password-reset",params:{passwordResetRequested:!0}}):(e.error=t.error,e.focusOnPasswordInput()):e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}))},clearError:function(){this.error=!1},focusOnPasswordInput:function(){var e=this.$refs.passwordInput;e.focus(),e.setSelectionRange(0,e.value.length)}})};var Eo=n(83744);const Fo=(0,Eo.Z)(Lo,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link"),a=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",bo,[(0,uo._)("div",yo,(0,po.zw)(e.$t("login.login")),1),(0,uo._)("div",_o,[(0,uo._)("form",{class:"login-form",onSubmit:t[2]||(t[2]=(0,ro.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[e.isPasswordAuth?((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:0},[(0,uo._)("div",ko,[(0,uo._)("label",So,(0,po.zw)(e.$t("login.username")),1),(0,uo.wy)((0,uo._)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.username=t}),disabled:e.loggingIn,class:"form-control",placeholder:e.$t("login.placeholder")},null,8,jo),[[ro.nr,e.user.username]])]),(0,uo._)("div",Co,[(0,uo._)("label",Oo,(0,po.zw)(e.$t("login.password")),1),(0,uo.wy)((0,uo._)("input",{id:"password",ref:"passwordInput","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.password=t}),disabled:e.loggingIn,class:"form-control",type:"password"},null,8,Po),[[ro.nr,e.user.password]])]),(0,uo._)("div",zo,[(0,uo.Wm)(s,{to:{name:"password-reset"}},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("password_reset.forgot_password")),1)]})),_:1})])],64)):(0,uo.kq)("",!0),e.isTokenAuth?((0,uo.wg)(),(0,uo.iD)("div",Do,[(0,uo._)("p",null,(0,po.zw)(e.$t("login.description")),1)])):(0,uo.kq)("",!0),(0,uo._)("div",Io,[(0,uo._)("div",xo,[(0,uo._)("div",null,[e.registrationOpen?((0,uo.wg)(),(0,uo.j4)(s,{key:0,to:{name:"registration"},class:"register"},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("login.register")),1)]})),_:1})):(0,uo.kq)("",!0)]),(0,uo._)("button",{disabled:e.loggingIn,type:"submit",class:"btn button-default"},(0,po.zw)(e.$t("login.login")),9,To)])])],32)]),e.error?((0,uo.wg)(),(0,uo.iD)("div",$o,[(0,uo._)("div",Uo,[(0,uo.Uk)((0,po.zw)(e.error)+" ",1),(0,uo._)("button",{class:"button-unstyled",onClick:t[3]||(t[3]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,uo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,uo.kq)("",!0)])}]]);var Ro={class:"login panel panel-default"},qo={class:"panel-heading"},No={class:"panel-body"},Zo={class:"form-group"},Wo={for:"code"},Bo={class:"form-group"},Ho={class:"login-bottom"},Vo=(0,uo._)("br",null,null,-1),Ko={type:"submit",class:"btn button-default"},Go={key:0,class:"form-group"},Yo={class:"alert error"},Jo={verifyOTPCode:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.mfaToken,i=e.code,s="".concat(o,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("mfa_token",r),a.append("code",i),a.append("challenge_type","totp"),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))},verifyRecoveryCode:function(e){var t=e.clientId,n=e.clientSecret,o=e.instance,r=e.mfaToken,i=e.code,s="".concat(o,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",t),a.append("client_secret",n),a.append("mfa_token",r),a.append("code",i),a.append("challenge_type","recovery"),window.fetch(s,{method:"POST",body:a}).then((function(e){return e.json()}))}};const Qo=Jo;function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC);const tr={data:function(){return{code:null,error:!1}},computed:er(er({},(0,s.Se)({authSettings:"authFlow/settings"})),(0,s.rn)({instance:"instance",oauth:"oauth"})),methods:er(er(er({},(0,s.OI)("authFlow",["requireTOTP","abortMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{clearError:function(){this.error=!1},submit:function(){var e=this,t=this.oauth,n={clientId:t.clientId,clientSecret:t.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};Qo.verifyRecoveryCode(n).then((function(t){if(t.error)return e.error=t.error,void(e.code=null);e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}})},nr=(0,Eo.Z)(tr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",Ro,[(0,uo._)("div",qo,(0,po.zw)(e.$t("login.heading.recovery")),1),(0,uo._)("div",No,[(0,uo._)("form",{class:"login-form",onSubmit:t[3]||(t[3]=(0,ro.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,uo._)("div",Zo,[(0,uo._)("label",Wo,(0,po.zw)(e.$t("login.recovery_code")),1),(0,uo.wy)((0,uo._)("input",{id:"code","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.code=t}),class:"form-control"},null,512),[[ro.nr,e.code]])]),(0,uo._)("div",Bo,[(0,uo._)("div",Ho,[(0,uo._)("div",null,[(0,uo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=(0,ro.iM)((function(){return e.requireTOTP&&e.requireTOTP.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("login.enter_two_factor_code")),1),Vo,(0,uo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=(0,ro.iM)((function(){return e.abortMFA&&e.abortMFA.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("general.cancel")),1)]),(0,uo._)("button",Ko,(0,po.zw)(e.$t("general.verify")),1)])])],32)]),e.error?((0,uo.wg)(),(0,uo.iD)("div",Go,[(0,uo._)("div",Yo,[(0,uo.Uk)((0,po.zw)(e.error)+" ",1),(0,uo._)("button",{class:"button-unstyled",onClick:t[4]||(t[4]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,uo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,uo.kq)("",!0)])}]]);var or={class:"login panel panel-default"},rr={class:"panel-heading"},ir={class:"panel-body"},sr={class:"form-group"},ar={for:"code"},cr={class:"form-group"},lr={class:"login-bottom"},ur=(0,uo._)("br",null,null,-1),dr={type:"submit",class:"btn button-default"},pr={key:0,class:"form-group"},mr={class:"alert error"};function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC);const gr={data:function(){return{code:null,error:!1}},computed:fr(fr({},(0,s.Se)({authSettings:"authFlow/settings"})),(0,s.rn)({instance:"instance",oauth:"oauth"})),methods:fr(fr(fr({},(0,s.OI)("authFlow",["requireRecovery","abortMFA"])),(0,s.nv)({login:"authFlow/login"})),{},{clearError:function(){this.error=!1},submit:function(){var e=this,t=this.oauth,n={clientId:t.clientId,clientSecret:t.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};Qo.verifyOTPCode(n).then((function(t){if(t.error)return e.error=t.error,void(e.code=null);e.login(t).then((function(){e.$router.push({name:"friends"})}))}))}})},vr=(0,Eo.Z)(gr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",or,[(0,uo._)("div",rr,(0,po.zw)(e.$t("login.heading.totp")),1),(0,uo._)("div",ir,[(0,uo._)("form",{class:"login-form",onSubmit:t[3]||(t[3]=(0,ro.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,uo._)("div",sr,[(0,uo._)("label",ar,(0,po.zw)(e.$t("login.authentication_code")),1),(0,uo.wy)((0,uo._)("input",{id:"code","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.code=t}),class:"form-control"},null,512),[[ro.nr,e.code]])]),(0,uo._)("div",cr,[(0,uo._)("div",lr,[(0,uo._)("div",null,[(0,uo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[1]||(t[1]=(0,ro.iM)((function(){return e.requireRecovery&&e.requireRecovery.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("login.enter_recovery_code")),1),ur,(0,uo._)("button",{class:"button-unstyled -link",type:"button",onClick:t[2]||(t[2]=(0,ro.iM)((function(){return e.abortMFA&&e.abortMFA.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("general.cancel")),1)]),(0,uo._)("button",dr,(0,po.zw)(e.$t("general.verify")),1)])])],32)]),e.error?((0,uo.wg)(),(0,uo.iD)("div",pr,[(0,uo._)("div",mr,[(0,uo.Uk)((0,po.zw)(e.error)+" ",1),(0,uo._)("button",{class:"button-unstyled",onClick:t[4]||(t[4]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,uo.Wm)(s,{size:"lg",class:"fa-scale-110 fa-old-padding",icon:"times"})])])])):(0,uo.kq)("",!0)])}]]);function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const br={name:"AuthForm",render:function(){return(0,uo.h)((0,uo.up)(this.authForm))},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({authForm:function(){return this.requiredTOTP?"MFATOTPForm":this.requiredRecovery?"MFARecoveryForm":"LoginForm"}},(0,s.Se)("authFlow",["requiredTOTP","requiredRecovery"])),components:{MFARecoveryForm:nr,MFATOTPForm:vr,LoginForm:Fo}};var yr=n(58508),_r=n(20392);function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Sr={computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({signedIn:function(){return this.user}},(0,s.rn)({user:function(e){return e.users.currentUser}})),components:{AuthForm:br,PostStatusForm:yr.Z,UserCard:_r.Z}},jr=(0,Eo.Z)(Sr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserCard"),a=(0,uo.up)("PostStatusForm"),c=(0,uo.up)("auth-form");return(0,uo.wg)(),(0,uo.iD)("aside",vo,[e.signedIn?((0,uo.wg)(),(0,uo.iD)("div",wo,[(0,uo.Wm)(s,{"user-id":e.user.id,"hide-bio":!0,rounded:"top"},null,8,["user-id"]),(0,uo.Wm)(a)])):((0,uo.wg)(),(0,uo.j4)(c,{key:"user-panel"}))])}]]);var Cr={class:"NavPanel"},Or={class:"panel panel-default"},Pr={key:0,class:"panel-heading nav-panel-heading"},zr=(0,uo._)("div",{class:"spacer"},null,-1),Dr={key:1,class:"panel-body"},Ir={class:"timelines-background"},xr={class:"timelines"},Tr={class:"timelines-background"},$r={key:0,class:"icon iconLetter fa-scale-110 menu-icon"},Ur={class:"label"},Mr={key:0,class:"badge badge-notification"},Ar=["title","aria-pressed"],Lr=new Set(["bookmarks","dms","interactions","notifications","chat","chats","user-profile"]),Er={home:{route:"friends",icon:"home",label:"nav.home_timeline",criteria:["!private"]},public:{route:"public-timeline",anon:!0,icon:"users",label:"nav.public_tl",criteria:["!private"]},twkn:{route:"public-external-timeline",anon:!0,icon:"globe",label:"nav.twkn",criteria:["!private","federating"]},bookmarks:{route:"bookmarks",icon:"bookmark",label:"nav.bookmarks"},favorites:{routeObject:{name:"user-profile",query:{tab:"favorites"}},icon:"star",label:"user_card.favorites"},dms:{route:"dms",icon:"envelope",label:"nav.dms"}},Fr={interactions:{route:"interactions",icon:"bell",label:"nav.interactions"},chats:{route:"chats",icon:"comments",label:"nav.chats",badgeGetter:"unreadChatCount",criteria:["chats"]},friendRequests:{route:"friend-requests",icon:"user-plus",label:"nav.friend_requests",criteria:["lockedUser"],badgeGetter:"followRequestCount"},about:{route:"about",anon:!0,icon:"info-circle",label:"nav.about"},announcements:{route:"announcements",icon:"bullhorn",label:"nav.announcements",badgeGetter:"unreadAnnouncementCount",criteria:["announcements"]}};const Rr={props:["to"]},qr=(0,Eo.Z)(Rr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link");return n.to?((0,uo.wg)(),(0,uo.j4)(s,{key:0,to:n.to,custom:""},{default:(0,uo.w5)((function(t){return[(0,uo.WI)(e.$slots,"default",(0,po.vs)((0,uo.F4)(t)))]})),_:3},8,["to"])):(0,uo.WI)(e.$slots,"default",(0,po.vs)((0,uo.dG)({key:1},{})))}]]);function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}qt.vI.add(Nt.RP7);const Zr={props:["item","showPin"],components:{OptionalRouterLink:qr},methods:{isPinned:function(e){return this.pinnedItems.has(e)},togglePin:function(e){this.isPinned(e)?this.$store.commit("removeCollectionPreference",{path:"collections.pinnedNavItems",value:e}):this.$store.commit("addCollectionPreference",{path:"collections.pinnedNavItems",value:e}),this.$store.dispatch("pushServerSideStorage")}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({routeTo:function(){return this.item.route||this.item.routeObject?(e=this.item.routeObject?this.item.routeObject:{name:this.item.anon||this.currentUser?this.item.route:this.item.anonRoute},Lr.has(e.name)&&(e.params={username:this.currentUser.screen_name,name:this.currentUser.screen_name}),e):null;var e},getters:function(){return this.$store.getters}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)}}))},Wr=(0,Eo.Z)(Zr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("OptionalRouterLink");return(0,uo.wg)(),(0,uo.j4)(a,{ass:"ass",to:e.routeTo},{default:(0,uo.w5)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.isActive,r=n.href,i=n.navigate;return[(0,uo._)("li",(0,uo.dG)({class:["NavigationEntry menu-item",{"-active":o}]},e.$attrs),[((0,uo.wg)(),(0,uo.j4)((0,uo.LL)(e.routeTo?"a":"button"),{class:"main-link button-unstyled",href:r,onClick:i},{default:(0,uo.w5)((function(){return[(0,uo._)("span",null,[e.item.icon?((0,uo.wg)(),(0,uo.j4)(s,{key:0,"fixed-width":"",class:"fa-scale-110 menu-icon",icon:e.item.icon},null,8,["icon"])):(0,uo.kq)("",!0)]),e.item.iconLetter?((0,uo.wg)(),(0,uo.iD)("span",$r,(0,po.zw)(e.item.iconLetter),1)):(0,uo.kq)("",!0),(0,uo._)("span",Ur,(0,po.zw)(e.item.labelRaw||e.$t(e.item.label)),1)]})),_:2},1032,["href","onClick"])),(0,uo.WI)(e.$slots,"default"),e.item.badgeGetter&&e.getters[e.item.badgeGetter]?((0,uo.wg)(),(0,uo.iD)("div",Mr,(0,po.zw)(e.getters[e.item.badgeGetter]),1)):(0,uo.kq)("",!0),e.showPin&&e.currentUser?((0,uo.wg)(),(0,uo.iD)("button",{key:1,type:"button",class:"button-unstyled extra-button",title:e.$t(e.isPinned?"general.unpin":"general.pin"),"aria-pressed":!!e.isPinned,onClick:t[0]||(t[0]=(0,ro.iM)((function(t){return e.togglePin(e.item.name)}),["stop","prevent"]))},[e.showPin&&e.currentUser?((0,uo.wg)(),(0,uo.j4)(s,{key:0,"fixed-width":"",class:(0,po.C_)(["fa-scale-110",{veryfaint:!e.isPinned(e.item.name)}]),transform:e.isPinned(e.item.name)?"":"rotate-45",icon:"thumbtack"},null,8,["class","transform"])):(0,uo.kq)("",!0)],8,Ar)):(0,uo.kq)("",!0)],16)]})),_:3},8,["to"])}]]);var Br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.hasChats,o=t.hasAnnouncements,r=t.isFederating,i=t.isPrivate,s=t.currentUser;return e.filter((function(e){var t=e.criteria,a=e.anon,c=e.anonRoute,l=new Set(t||[]);return!(!r&&l.has("federating")||!s&&i&&l.has("!private")||!(s||a||c)||!(s&&s.locked||!l.has("lockedUser"))||!n&&l.has("chats")||!o&&l.has("announcements"))}))},Hr=function(e){return e.lists.allLists.map((function(e){return{name:"list-"+e.id,routeObject:{name:"lists-timeline",params:{id:e.id}},labelRaw:e.title,iconLetter:e.title[0]}}))};function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Kr={props:["showPin"],components:{NavigationEntry:Wr},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,s.rn)({lists:Hr,currentUser:function(e){return e.users.currentUser},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating}}))};const Gr=Kr,Yr=(0,Eo.Z)(Gr,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("NavigationEntry");return(0,uo.wg)(),(0,uo.iD)("ul",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.lists,(function(t){return(0,uo.wg)(),(0,uo.j4)(s,{key:t.name,"show-pin":e.showPin,item:t},null,8,["show-pin","item"])})),128))])}]]);var Jr={class:"NavigationPins"},Qr={key:1,class:"iconLetter fa-scale-110 fa-old-padding"},Xr={key:2,class:"alert-dot"};function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.FVb,Nt.g4A,Nt.xVw,Nt.FU$,Nt.lXL,Nt.qmU,Nt.sqG,Nt.aC2,Nt.Zrf);const ni={props:["limit"],methods:{getRouteTo:function(e){if(e.routeObject)return e.routeObject;var t={name:e.anon||this.currentUser?e.route:e.anonRoute};return Lr.has(t.name)&&(t.params={username:this.currentUser.screen_name}),t}},computed:ti(ti({getters:function(){return this.$store.getters}},(0,s.rn)({lists:Hr,currentUser:function(e){return e.users.currentUser},followRequestCount:function(e){return e.api.followRequests.length},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating},pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)}})),{},{pinnedList:function(){var e=this;return this.currentUser?Br([].concat((0,u.Z)(Object.entries(ti({},Er)).filter((function(t){var n=(0,l.Z)(t,1)[0];return e.pinnedItems.has(n)})).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return ti(ti({},t[1]),{},{name:n})}))),(0,u.Z)(this.lists.filter((function(t){return e.pinnedItems.has(t.name)}))),(0,u.Z)(Object.entries(ti({},Fr)).filter((function(t){var n=(0,l.Z)(t,1)[0];return e.pinnedItems.has(n)})).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return ti(ti({},t[1]),{},{name:n})})))),{hasChats:this.pleromaChatMessagesAvailable,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser}).slice(0,this.limit):Br([ti(ti({},Er.public),{},{name:"public"}),ti(ti({},Er.twkn),{},{name:"twkn"}),ti(ti({},Fr.about),{},{name:"about"})],{hasChats:this.pleromaChatMessagesAvailable,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}})},oi=(0,Eo.Z)(ni,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("router-link");return(0,uo.wg)(),(0,uo.iD)("span",Jr,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.pinnedList,(function(t){return(0,uo.wg)(),(0,uo.j4)(a,{key:t.name,class:"pinned-item",to:e.getRouteTo(t),title:t.labelRaw||e.$t(t.label)},{default:(0,uo.w5)((function(){return[t.icon?((0,uo.wg)(),(0,uo.j4)(s,{key:0,"fixed-width":"",icon:t.icon},null,8,["icon"])):(0,uo.kq)("",!0),t.iconLetter?((0,uo.wg)(),(0,uo.iD)("span",Qr,(0,po.zw)(t.iconLetter),1)):(0,uo.kq)("",!0),t.badgeGetter&&e.getters[t.badgeGetter]?((0,uo.wg)(),(0,uo.iD)("div",Xr)):(0,uo.kq)("",!0)]})),_:2},1032,["to","title"])})),128))])}]]);var ri=n(90350);function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.FVb,Nt.g4A,Nt.xVw,Nt.FU$,Nt.ptq,Nt.mTx,Nt.lXL,Nt.qmU,Nt.sqG,Nt.aC2,Nt.Zrf,Nt.Acd);const ai={props:["forceExpand","forceEditMode"],created:function(){},components:{ListsMenuContent:Yr,NavigationEntry:Wr,NavigationPins:oi,Checkbox:ri.Z},data:function(){return{editMode:!1,showTimelines:!1,showLists:!1,timelinesList:Object.entries(Er).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})})),rootList:Object.entries(Fr).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})}))}},methods:{toggleTimelines:function(){this.showTimelines=!this.showTimelines},toggleLists:function(){this.showLists=!this.showLists},toggleEditMode:function(){this.editMode=!this.editMode},toggleCollapse:function(){this.$store.commit("setPreference",{path:"simple.collapseNav",value:!this.collapsed}),this.$store.dispatch("pushServerSideStorage")},isPinned:function(e){return this.pinnedItems.has(e)},togglePin:function(e){this.isPinned(e)?this.$store.commit("removeCollectionPreference",{path:"collections.pinnedNavItems",value:e}):this.$store.commit("addCollectionPreference",{path:"collections.pinnedNavItems",value:e}),this.$store.dispatch("pushServerSideStorage")}},computed:si(si({},(0,s.rn)({currentUser:function(e){return e.users.currentUser},followRequestCount:function(e){return e.api.followRequests.length},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating},pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},supportsAnnouncements:function(e){return e.announcements.supportsAnnouncements},pinnedItems:function(e){return new Set(e.serverSideStorage.prefsStorage.collections.pinnedNavItems)},collapsed:function(e){return e.serverSideStorage.prefsStorage.simple.collapseNav}})),{},{timelinesItems:function(){return Br(Object.entries(si({},Er)).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})},rootItems:function(){return Br(Object.entries(si({},Fr)).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return si(si({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,hasAnnouncements:this.supportsAnnouncements,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}},(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"]))},ci=(0,Eo.Z)(ai,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("NavigationPins"),a=(0,uo.up)("FAIcon"),c=(0,uo.up)("NavigationEntry"),l=(0,uo.up)("router-link"),u=(0,uo.up)("ListsMenuContent");return(0,uo.wg)(),(0,uo.iD)("div",Cr,[(0,uo._)("div",Or,[e.forceExpand?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Pr,[(0,uo.Wm)(s,{limit:6}),zr,(0,uo._)("button",{class:"button-unstyled",onClick:t[0]||(t[0]=function(){return e.toggleCollapse&&e.toggleCollapse.apply(e,arguments)})},[(0,uo.Wm)(a,{class:"navigation-chevron","fixed-width":"",icon:e.collapsed?"chevron-down":"chevron-up"},null,8,["icon"])])])),!e.collapsed||e.forceExpand?((0,uo.wg)(),(0,uo.iD)("ul",Dr,[e.currentUser||!e.privateMode?((0,uo.wg)(),(0,uo.j4)(c,{key:0,"show-pin":!1,item:{icon:"stream",label:"nav.timelines"},"aria-expanded":e.showTimelines?"true":"false",onClick:e.toggleTimelines},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{class:"timelines-chevron","fixed-width":"",icon:e.showTimelines?"chevron-up":"chevron-down"},null,8,["icon"])]})),_:1},8,["item","aria-expanded","onClick"])):(0,uo.kq)("",!0),(0,uo.wy)((0,uo._)("div",Ir,[(0,uo._)("div",xr,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.timelinesItems,(function(t){return(0,uo.wg)(),(0,uo.j4)(c,{key:t.name,"show-pin":e.editMode||e.forceEditMode,item:t},null,8,["show-pin","item"])})),128))])],512),[[ro.F8,e.showTimelines]]),e.currentUser?((0,uo.wg)(),(0,uo.j4)(c,{key:1,"show-pin":!1,item:{icon:"list",label:"nav.lists"},"aria-expanded":e.showLists?"true":"false",onClick:e.toggleLists},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(l,{title:e.$t("lists.manage_lists"),class:"extra-button",to:{name:"lists"},onClick:t[1]||(t[1]=(0,ro.iM)((function(){}),["stop"]))},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{class:"extra-button","fixed-width":"",icon:"wrench"})]})),_:1},8,["title"]),(0,uo.Wm)(a,{class:"timelines-chevron","fixed-width":"",icon:e.showLists?"chevron-up":"chevron-down"},null,8,["icon"])]})),_:1},8,["item","aria-expanded","onClick"])):(0,uo.kq)("",!0),(0,uo.wy)((0,uo._)("div",Tr,[(0,uo.Wm)(u,{"show-pin":e.editMode||e.forceEditMode,class:"timelines"},null,8,["show-pin"])],512),[[ro.F8,e.showLists]]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.rootItems,(function(t){return(0,uo.wg)(),(0,uo.j4)(c,{key:t.name,"show-pin":e.editMode||e.forceEditMode,item:t},null,8,["show-pin","item"])})),128)),!e.forceEditMode&&e.currentUser?((0,uo.wg)(),(0,uo.j4)(c,{key:2,"show-pin":!1,item:{label:e.editMode?e.$t("nav.edit_finish"):e.$t("nav.edit_pinned"),icon:e.editMode?"check":"wrench"},onClick:e.toggleEditMode},null,8,["item","onClick"])):(0,uo.kq)("",!0)])):(0,uo.kq)("",!0)])])}]]);var li={class:"instance-specific-panel"},ui={class:"panel panel-default"},di={class:"panel-body"},pi=["innerHTML"];const mi={computed:{instanceSpecificPanelContent:function(){return this.$store.state.instance.instanceSpecificPanelContent}}},hi=(0,Eo.Z)(mi,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("div",li,[(0,uo._)("div",ui,[(0,uo._)("div",di,[(0,uo._)("div",{innerHTML:e.instanceSpecificPanelContent},null,8,pi)])])])}]]);var fi={class:"features-panel"},gi={class:"panel panel-default base01-background"},vi={class:"panel-heading timeline-heading base02-background base04"},wi={class:"title"},bi={class:"panel-body features-panel"},yi={key:0},_i={key:1},ki={key:2},Si={key:3},ji={key:4},Ci=n(65079);const Oi={computed:{shout:function(){return this.$store.state.instance.shoutAvailable},pleromaChatMessages:function(){return this.$store.state.instance.pleromaChatMessagesAvailable},gopher:function(){return this.$store.state.instance.gopherAvailable},whoToFollow:function(){return this.$store.state.instance.suggestionsEnabled},mediaProxy:function(){return this.$store.state.instance.mediaProxyAvailable},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},textlimit:function(){return this.$store.state.instance.textlimit},uploadlimit:function(){return Ci.Z.fileSizeFormat(this.$store.state.instance.uploadlimit)}}},Pi=(0,Eo.Z)(Oi,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("div",fi,[(0,uo._)("div",gi,[(0,uo._)("div",vi,[(0,uo._)("div",wi,(0,po.zw)(e.$t("features_panel.title")),1)]),(0,uo._)("div",bi,[(0,uo._)("ul",null,[e.shout?((0,uo.wg)(),(0,uo.iD)("li",yi,(0,po.zw)(e.$t("features_panel.shout")),1)):(0,uo.kq)("",!0),e.pleromaChatMessages?((0,uo.wg)(),(0,uo.iD)("li",_i,(0,po.zw)(e.$t("features_panel.pleroma_chat_messages")),1)):(0,uo.kq)("",!0),e.gopher?((0,uo.wg)(),(0,uo.iD)("li",ki,(0,po.zw)(e.$t("features_panel.gopher")),1)):(0,uo.kq)("",!0),e.whoToFollow?((0,uo.wg)(),(0,uo.iD)("li",Si,(0,po.zw)(e.$t("features_panel.who_to_follow")),1)):(0,uo.kq)("",!0),e.mediaProxy?((0,uo.wg)(),(0,uo.iD)("li",ji,(0,po.zw)(e.$t("features_panel.media_proxy")),1)):(0,uo.kq)("",!0),(0,uo._)("li",null,(0,po.zw)(e.$t("features_panel.scope_options")),1),(0,uo._)("li",null,(0,po.zw)(e.$t("features_panel.text_limit"))+" = "+(0,po.zw)(e.textlimit),1),(0,uo._)("li",null,(0,po.zw)(e.$t("features_panel.upload_limit"))+" = "+(0,po.zw)(e.uploadlimit.num)+" "+(0,po.zw)(e.$t("upload.file_size_units."+e.uploadlimit.unit)),1)])])])])}]]);var zi={class:"who-to-follow-panel"},Di={class:"panel panel-default base01-background"},Ii={class:"panel-heading timeline-heading base02-background base04"},xi={class:"title"},Ti={class:"who-to-follow"},$i=["src"],Ui=(0,uo._)("br",null,null,-1),Mi={class:"who-to-follow-more"},Ai=n(69983),Li=n.n(Ai),Ei=n(4493);function Fi(e){var t=e.$store.state.users.currentUser.credentials;t&&(e.usersToFollow.forEach((function(e){e.name="Loading..."})),h.ZP.suggestions({credentials:t}).then((function(t){!function(e,t){var n=this,o=Li()(t);e.usersToFollow.forEach((function(t,r){var i=o[r],s=i.avatar||n.$store.state.instance.defaultAvatar,a=i.acct;t.img=s,t.name=a,e.$store.state.api.backendInteractor.fetchUser({id:a}).then((function(n){n.error||(e.$store.commit("addNewUsers",[n]),t.id=n.id)}))}))}(e,t)})))}const Ri={data:function(){return{usersToFollow:[]}},computed:{user:function(){return this.$store.state.users.currentUser.screen_name},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled}},methods:{userProfileLink:function(e,t){return(0,Ei.Z)(e,t,this.$store.state.instance.restrictedNicknames)}},watch:{user:function(e,t){this.suggestionsEnabled&&Fi(this)}},mounted:function(){var e=this;this.usersToFollow=new Array(3).fill().map((function(t){return{img:e.$store.state.instance.defaultAvatar,name:"",id:0}})),this.suggestionsEnabled&&Fi(this)}},qi=(0,Eo.Z)(Ri,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link");return(0,uo.wg)(),(0,uo.iD)("div",zi,[(0,uo._)("div",Di,[(0,uo._)("div",Ii,[(0,uo._)("div",xi,(0,po.zw)(e.$t("who_to_follow.who_to_follow")),1)]),(0,uo._)("div",Ti,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.usersToFollow,(function(t){return(0,uo.wg)(),(0,uo.iD)("p",{key:t.id,class:"who-to-follow-items"},[(0,uo._)("img",{src:t.img},null,8,$i),(0,uo.Wm)(s,{to:e.userProfileLink(t.id,t.name)},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(t.name),1)]})),_:2},1032,["to"]),Ui])})),128)),(0,uo._)("p",Mi,[(0,uo.Wm)(s,{to:{name:"who-to-follow"}},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("who_to_follow.more")),1)]})),_:1})])])])])}]]);var Ni={key:0,class:"shout-panel"},Zi={class:"panel panel-default"},Wi={class:"title"},Bi={class:"shout-window"},Hi={class:"shout-avatar"},Vi=["src"],Ki={class:"shout-content"},Gi=(0,uo._)("br",null,null,-1),Yi={class:"shout-text"},Ji={class:"shout-input"},Qi={key:1,class:"shout-panel"},Xi={class:"panel panel-default"},es={class:"title"};qt.vI.add(Nt.Acd,Nt.NBC);const ts={props:["floating"],data:function(){return{currentMessage:"",channel:null,collapsed:!0}},computed:{messages:function(){return this.$store.state.shout.messages}},methods:{submit:function(e){this.$store.state.shout.channel.push("new_msg",{text:e},1e4),this.currentMessage=""},togglePanel:function(){this.collapsed=!this.collapsed},userProfileLink:function(e){return(0,Ei.Z)(e.id,e.username,this.$store.state.instance.restrictedNicknames)}},watch:{messages:function(e){var t=this.$el.querySelector(".chat-window");t&&t.scrollTop+t.offsetHeight+20>t.scrollHeight&&this.$nextTick((function(){t&&(t.scrollTop=t.scrollHeight-t.offsetHeight)}))}}},ns=(0,Eo.Z)(ts,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("router-link");return e.collapsed&&e.floating?((0,uo.wg)(),(0,uo.iD)("div",Qi,[(0,uo._)("div",Xi,[(0,uo._)("div",{class:"panel-heading -stub timeline-heading shout-heading",onClick:t[3]||(t[3]=(0,ro.iM)((function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),["stop","prevent"]))},[(0,uo._)("div",es,[(0,uo.Wm)(s,{class:"icon",icon:"bullhorn"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("shoutbox.title")),1)])])])])):((0,uo.wg)(),(0,uo.iD)("div",Ni,[(0,uo._)("div",Zi,[(0,uo._)("div",{class:(0,po.C_)(["panel-heading timeline-heading",{"shout-heading":e.floating}]),onClick:t[0]||(t[0]=(0,ro.iM)((function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),["stop","prevent"]))},[(0,uo._)("div",Wi,[(0,uo.Uk)((0,po.zw)(e.$t("shoutbox.title"))+" ",1),e.floating?((0,uo.wg)(),(0,uo.j4)(s,{key:0,icon:"times",class:"close-icon"})):(0,uo.kq)("",!0)])],2),(0,uo._)("div",Bi,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.messages,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.id,class:"shout-message"},[(0,uo._)("span",Hi,[(0,uo._)("img",{src:t.author.avatar},null,8,Vi)]),(0,uo._)("div",Ki,[(0,uo.Wm)(a,{class:"shout-name",to:e.userProfileLink(t.author)},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(t.author.username),1)]})),_:2},1032,["to"]),Gi,(0,uo._)("span",Yi,(0,po.zw)(t.text),1)])])})),128))]),(0,uo._)("div",Ji,[(0,uo.wy)((0,uo._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.currentMessage=t}),class:"shout-input-textarea",rows:"1",onKeyup:t[2]||(t[2]=(0,ro.D2)((function(t){return e.submit(e.currentMessage)}),["enter"]))},null,544),[[ro.nr,e.currentMessage]])])])]))}]]);var os=["src","alt","title"],rs=["src","alt","title"],is=["title"],ss=["title"],as=["title"],cs={key:6,class:"description"},ls={class:"counter"},us={key:7,class:"loading-spinner"},ds=n(32140),ps=n(34133),ms=n(782);const hs={methods:{setTransform:function(e){var t=e.scale,n=e.x,o=e.y;this.$el.setTransform({scale:t,x:n,y:o})}},created:function(){ms.Z}},fs=(0,Eo.Z)(hs,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("pinch-zoom",(0,uo.dG)({class:"pinch-zoom-parent"},e.$attrs,(0,uo.mx)(e.$listeners,!0)),[(0,uo.WI)(e.$slots,"default")],16)}]]);var gs=n(15671),vs=n(43144),ws=function(e,t){return[t[0]-e[0],t[1]-e[1]]},bs=function(e){return[(t=e.touches[0]).screenX,t.screenY];var t},ys=function(e){return[e.clientX,e.clientY]},_s=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},ks=function(e){return[e[1],-e[0]]},Ss=function(e,t){return e[0]*t[0]+e[1]*t[1]},js=function(e,t){var n=Ss(e,t)/Ss(t,t);return[n*t[0],n*t[1]]};const Cs={DIRECTION_LEFT:[-1,0],DIRECTION_RIGHT:[1,0],DIRECTION_UP:[0,-1],DIRECTION_DOWN:[0,1],swipeGesture:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{direction:e,onSwipe:t,threshold:n,perpendicularTolerance:o,_startPos:[0,0],_swiping:!1}},beginSwipe:function(e,t){t._startPos=bs(e),t._swiping=!0},updateSwipe:function(e,t){if(t._swiping){var n=ws(t._startPos,bs(e));if(!(_s(n)<t.threshold||Ss(n,t.direction)<0)){var o=js(n,t.direction),r=ks(t.direction),i=js(n,r);_s(o)*t.perpendicularTolerance<_s(i)||(t.onSwipe(),t._swiping=!1)}}},SwipeAndClickGesture:function(){function e(t){var n=t.direction,o=t.swipePreviewCallback,r=t.swipeEndCallback,i=t.swipeCancelCallback,s=t.swipelessClickCallback,a=t.threshold,c=void 0===a?30:a,l=t.perpendicularTolerance,u=void 0===l?1:l,d=t.disableClickThreshold,p=void 0===d?1:d;(0,gs.Z)(this,e);var m=function(){};this.direction=n,this.swipePreviewCallback=o||m,this.swipeEndCallback=r||m,this.swipeCancelCallback=i||m,this.swipelessClickCallback=s||m,this.threshold="function"==typeof c?c:function(){return c},this.disableClickThreshold="function"==typeof p?p:function(){return p},this.perpendicularTolerance=u,this._reset()}return(0,vs.Z)(e,[{key:"_reset",value:function(){this._startPos=[0,0],this._pointerId=-1,this._swiping=!1,this._swiped=!1,this._preventNextClick=!1}},{key:"start",value:function(e){0===e.button&&(this._startPos=ys(e),this._pointerId=e.pointerId,this._swiping=!0,this._swiped=!1)}},{key:"move",value:function(e){if(this._swiping&&this._pointerId===e.pointerId){this._swiped=!0;var t=ys(e),n=ws(this._startPos,t);this.swipePreviewCallback(n)}}},{key:"cancel",value:function(e){this._swiping&&this._pointerId===e.pointerId&&this.swipeCancelCallback()}},{key:"end",value:function(e){var t=this;if(this._swiping&&this._pointerId===e.pointerId){this._swiping=!1;var n=ys(e),o=ws(this._startPos,n),r=function(){if(_s(o)<t.threshold())return 0;var e=Ss(o,t.direction)>0,n=js(o,t.direction),r=ks(t.direction),i=js(o,r);return _s(n)*t.perpendicularTolerance<_s(i)?0:e?1:-1}();this._swiped&&this.swipeEndCallback(r),this._reset(),_s(o)>=this.disableClickThreshold()&&"mouse"===e.pointerType&&(this._preventNextClick=!0)}}},{key:"click",value:function(e){this._preventNextClick||this.swipelessClickCallback(),this._reset()}}]),e}()},Os={props:{direction:{type:Array},threshold:{type:Function,default:function(){return 30}},disableClickThreshold:{type:Function,default:function(){return 1}},perpendicularTolerance:{type:Number,default:1}},methods:{handlePointerDown:function(e){this.$gesture.start(e)},handlePointerMove:function(e){this.$gesture.move(e)},handlePointerUp:function(e){this.$gesture.end(e)},handlePointerCancel:function(e){this.$gesture.cancel(e)},handleNativeClick:function(e){this.$gesture.click(e)},preview:function(e){this.$emit("preview-requested",e)},end:function(e){this.$emit("swipe-finished",e)},click:function(){this.$emit("swipeless-clicked")},cancel:function(){this.$emit("swipe-canceled")}},created:function(){this.$gesture=new Cs.SwipeAndClickGesture({direction:this.direction,threshold:this.threshold,disableClickThreshold:this.disableClickThreshold,perpendicularTolerance:this.perpendicularTolerance,swipePreviewCallback:this.preview,swipeEndCallback:this.end,swipeCancelCallback:this.cancel,swipelessClickCallback:this.click})}},Ps=(0,Eo.Z)(Os,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("div",(0,uo.dG)(e.$attrs,{onPointerdown:t[0]||(t[0]=function(){return e.handlePointerDown&&e.handlePointerDown.apply(e,arguments)}),onPointermove:t[1]||(t[1]=function(){return e.handlePointerMove&&e.handlePointerMove.apply(e,arguments)}),onPointerup:t[2]||(t[2]=function(){return e.handlePointerUp&&e.handlePointerUp.apply(e,arguments)}),onPointercancel:t[3]||(t[3]=function(){return e.handlePointerCancel&&e.handlePointerCancel.apply(e,arguments)}),onClick:t[4]||(t[4]=function(){return e.handleNativeClick&&e.handleNativeClick.apply(e,arguments)})}),[(0,uo.WI)(e.$slots,"default")],16)}]]);var zs=n(72884);qt.vI.add(Nt.A35,Nt._tD,Nt.IJ7,Nt.NBC);const Ds={components:{StillImage:ds.Z,VideoAttachment:ps.Z,PinchZoom:fs,SwipeClick:Ps,Modal:Rt.Z,Flash:zs.Z},data:function(){return{loading:!1,swipeDirection:Cs.DIRECTION_LEFT,swipeThreshold:function(){return window.innerWidth*(1/4)},pinchZoomMinScale:1,pinchZoomScaleResetLimit:1.2}},computed:{showing:function(){return this.$store.state.mediaViewer.activated},media:function(){return this.$store.state.mediaViewer.media},description:function(){return this.currentMedia.description},currentIndex:function(){return this.$store.state.mediaViewer.currentIndex},currentMedia:function(){return this.media[this.currentIndex]},canNavigate:function(){return this.media.length>1},type:function(){return this.currentMedia?this.getType(this.currentMedia):null},swipeDisableClickThreshold:function(){var e=this;return function(){return e.canNavigate?1:30}}},methods:{getType:function(e){return hn.Z.fileType(e.mimetype)},hide:function(){var e=this;setTimeout((function(){e.$store.dispatch("closeMediaViewer")}),100)},hideIfNotSwiped:function(e){var t=this.$refs.swipeClick;t?t.$gesture.click(e):this.hide()},goPrev:function(){if(this.canNavigate){var e=0===this.currentIndex?this.media.length-1:this.currentIndex-1,t=this.media[e];"image"===this.getType(t)&&(this.loading=!0),this.$store.dispatch("setCurrentMedia",t)}},goNext:function(){if(this.canNavigate){var e=this.currentIndex===this.media.length-1?0:this.currentIndex+1,t=this.media[e];"image"===this.getType(t)&&(this.loading=!0),this.$store.dispatch("setCurrentMedia",t)}},onImageLoaded:function(){this.loading=!1},handleSwipePreview:function(e){this.$refs.pinchZoom.setTransform({scale:1,x:e[0],y:0})},handleSwipeEnd:function(e){this.$refs.pinchZoom.setTransform({scale:1,x:0,y:0}),e>0?this.goNext():e<0&&this.goPrev()},handleKeyupEvent:function(e){this.showing&&27===e.keyCode&&this.hide()},handleKeydownEvent:function(e){this.showing&&(39===e.keyCode?this.goNext():37===e.keyCode&&this.goPrev())}},mounted:function(){window.addEventListener("popstate",this.hide),document.addEventListener("keyup",this.handleKeyupEvent),document.addEventListener("keydown",this.handleKeydownEvent)},unmounted:function(){window.removeEventListener("popstate",this.hide),document.removeEventListener("keyup",this.handleKeyupEvent),document.removeEventListener("keydown",this.handleKeydownEvent)}},Is=(0,Eo.Z)(Ds,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("PinchZoom"),a=(0,uo.up)("SwipeClick"),c=(0,uo.up)("VideoAttachment"),l=(0,uo.up)("Flash"),u=(0,uo.up)("FAIcon"),d=(0,uo.up)("Modal");return e.showing?((0,uo.wg)(),(0,uo.j4)(d,{key:0,class:"media-modal-view",onBackdropClicked:e.hideIfNotSwiped},{default:(0,uo.w5)((function(){return["image"===e.type?((0,uo.wg)(),(0,uo.j4)(a,{key:0,ref:"swipeClick",class:"modal-image-container",direction:e.swipeDirection,threshold:e.swipeThreshold,"disable-click-threshold":e.swipeDisableClickThreshold,onPreviewRequested:e.handleSwipePreview,onSwipeFinished:e.handleSwipeEnd,onSwipelessClicked:e.hide},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{ref:"pinchZoom",class:"modal-image-container-inner",selector:".modal-image","reach-min-scale-strategy":"reset","stop-propagate-handled":"stop-propgate-handled","allow-pan-min-scale":e.pinchZoomMinScale,"min-scale":e.pinchZoomMinScale,"reset-to-min-scale-limit":e.pinchZoomScaleResetLimit},{default:(0,uo.w5)((function(){return[(0,uo._)("img",{class:(0,po.C_)([{loading:e.loading},"modal-image"]),src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,onLoad:t[0]||(t[0]=function(){return e.onImageLoaded&&e.onImageLoaded.apply(e,arguments)})},null,42,os)]})),_:1},8,["allow-pan-min-scale","min-scale","reset-to-min-scale-limit"])]})),_:1},8,["direction","threshold","disable-click-threshold","onPreviewRequested","onSwipeFinished","onSwipelessClicked"])):(0,uo.kq)("",!0),"video"===e.type?((0,uo.wg)(),(0,uo.j4)(c,{key:1,class:"modal-image",attachment:e.currentMedia,controls:!0},null,8,["attachment"])):(0,uo.kq)("",!0),"audio"===e.type?((0,uo.wg)(),(0,uo.iD)("audio",{key:2,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description,controls:""},null,8,rs)):(0,uo.kq)("",!0),"flash"===e.type?((0,uo.wg)(),(0,uo.j4)(l,{key:3,class:"modal-image",src:e.currentMedia.url,alt:e.currentMedia.description,title:e.currentMedia.description},null,8,["src","alt","title"])):(0,uo.kq)("",!0),e.canNavigate?((0,uo.wg)(),(0,uo.iD)("button",{key:4,title:e.$t("media_modal.previous"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--prev",onClick:t[1]||(t[1]=(0,ro.iM)((function(){return e.goPrev&&e.goPrev.apply(e,arguments)}),["stop","prevent"]))},[(0,uo.Wm)(u,{class:"button-icon arrow-icon",icon:"chevron-left"})],8,is)):(0,uo.kq)("",!0),e.canNavigate?((0,uo.wg)(),(0,uo.iD)("button",{key:5,title:e.$t("media_modal.next"),class:"modal-view-button modal-view-button-arrow modal-view-button-arrow--next",onClick:t[2]||(t[2]=(0,ro.iM)((function(){return e.goNext&&e.goNext.apply(e,arguments)}),["stop","prevent"]))},[(0,uo.Wm)(u,{class:"button-icon arrow-icon",icon:"chevron-right"})],8,ss)):(0,uo.kq)("",!0),(0,uo._)("button",{class:"modal-view-button modal-view-button-hide",title:e.$t("media_modal.hide"),onClick:t[3]||(t[3]=(0,ro.iM)((function(){return e.hide&&e.hide.apply(e,arguments)}),["stop","prevent"]))},[(0,uo.Wm)(u,{class:"button-icon",icon:"times"})],8,as),e.description?((0,uo.wg)(),(0,uo.iD)("span",cs,(0,po.zw)(e.description),1)):(0,uo.kq)("",!0),(0,uo._)("span",ls,(0,po.zw)(e.$tc("media_modal.counter",e.currentIndex+1,{current:e.currentIndex+1,total:e.media.length})),1),e.loading?((0,uo.wg)(),(0,uo.iD)("span",us,[(0,uo.Wm)(u,{spin:"",icon:"circle-notch",size:"5x"})])):(0,uo.kq)("",!0)]})),_:1},8,["onBackdropClicked"])):(0,uo.kq)("",!0)}]]);var xs={key:1,class:"side-drawer-logo-wrapper"},Ts=["src"],$s={key:0},Us={key:0,class:"badge badge-notification"},Ms={key:0},As={key:0,class:"badge badge-notification"},Ls={href:"/pleroma/admin/#/login-pleroma",target:"_blank"},Es={key:0,class:"badge badge-notification"};function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.$Wj,Nt.jLD,Nt.J9Y,Nt.lXL,Nt.qmU,Nt.FKd,Nt.Acd,Nt.wn1,Nt.HLz,Nt.b7W,Nt.sqG,Nt.GTN,Nt.Zrf);const qs={props:["logout"],data:function(){return{closed:!0,closeGesture:void 0}},created:function(){this.closeGesture=Cs.swipeGesture(Cs.DIRECTION_LEFT,this.toggleDrawer),this.currentUser&&this.currentUser.locked&&this.$store.dispatch("startFetchingFollowRequests")},components:{UserCard:_r.Z},computed:Rs(Rs({currentUser:function(){return this.$store.state.users.currentUser},shout:function(){return this.$store.state.shout.joined},unseenNotifications:function(){return(0,K.Km)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},logo:function(){return this.$store.state.instance.logo},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},followRequestCount:function(){return this.$store.state.api.followRequests.length},privateMode:function(){return this.$store.state.instance.private},federating:function(){return this.$store.state.instance.federating},timelinesRoute:function(){var e;return this.$store.state.interface.lastTimeline&&(e=this.$store.state.interface.lastTimeline),e=this.currentUser?"friends":"public-timeline",Lr.has(e)?{name:e,params:{username:this.currentUser.screen_name}}:{name:e}}},(0,s.rn)({pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable},supportsAnnouncements:function(e){return e.announcements.supportsAnnouncements}})),(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"])),methods:{toggleDrawer:function(){this.closed=!this.closed},doLogout:function(){this.logout(),this.toggleDrawer()},touchStart:function(e){Cs.beginSwipe(e,this.closeGesture)},touchMove:function(e){Cs.updateSwipe(e,this.closeGesture)},openSettingsModal:function(){this.$store.dispatch("openSettingsModal")}}},Ns=(0,Eo.Z)(qs,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserCard"),a=(0,uo.up)("FAIcon"),c=(0,uo.up)("router-link");return(0,uo.wg)(),(0,uo.iD)("div",{class:(0,po.C_)(["side-drawer-container",{"side-drawer-container-closed":e.closed,"side-drawer-container-open":!e.closed}])},[(0,uo._)("div",{class:(0,po.C_)(["side-drawer-darken",{"side-drawer-darken-closed":e.closed}])},null,2),(0,uo._)("div",{class:(0,po.C_)(["side-drawer",{"side-drawer-closed":e.closed}]),onTouchstart:t[18]||(t[18]=function(){return e.touchStart&&e.touchStart.apply(e,arguments)}),onTouchmove:t[19]||(t[19]=function(){return e.touchMove&&e.touchMove.apply(e,arguments)})},[(0,uo._)("div",{class:"side-drawer-heading",onClick:t[0]||(t[0]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[e.currentUser?((0,uo.wg)(),(0,uo.j4)(s,{key:0,"user-id":e.currentUser.id,"hide-bio":!0},null,8,["user-id"])):((0,uo.wg)(),(0,uo.iD)("div",xs,[(0,uo._)("img",{src:e.logo},null,8,Ts),e.hideSitename?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("span",$s,(0,po.zw)(e.sitename),1))]))]),(0,uo._)("ul",null,[e.currentUser?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("li",{key:0,onClick:t[1]||(t[1]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"login"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-in-alt"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("login.login")),1)]})),_:1})])),e.currentUser||!e.privateMode?((0,uo.wg)(),(0,uo.iD)("li",{key:1,onClick:t[2]||(t[2]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:e.timelinesRoute},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"home"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.timelines")),1)]})),_:1},8,["to"])])):(0,uo.kq)("",!0),e.currentUser?((0,uo.wg)(),(0,uo.iD)("li",{key:2,onClick:t[3]||(t[3]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"lists"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"list"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.lists")),1)]})),_:1})])):(0,uo.kq)("",!0),e.currentUser&&e.pleromaChatMessagesAvailable?((0,uo.wg)(),(0,uo.iD)("li",{key:3,onClick:t[4]||(t[4]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"chats",params:{username:e.currentUser.screen_name}},style:{position:"relative"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"comments"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.chats"))+" ",1),e.unreadChatCount?((0,uo.wg)(),(0,uo.iD)("span",Us,(0,po.zw)(e.unreadChatCount),1)):(0,uo.kq)("",!0)]})),_:1},8,["to"])])):(0,uo.kq)("",!0)]),e.currentUser?((0,uo.wg)(),(0,uo.iD)("ul",Ms,[(0,uo._)("li",{onClick:t[5]||(t[5]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"interactions",params:{username:e.currentUser.screen_name}}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bell"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.interactions")),1)]})),_:1},8,["to"])]),e.currentUser.locked?((0,uo.wg)(),(0,uo.iD)("li",{key:0,onClick:t[6]||(t[6]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:"/friend-requests"},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.friend_requests"))+" ",1),e.followRequestCount>0?((0,uo.wg)(),(0,uo.iD)("span",As,(0,po.zw)(e.followRequestCount),1)):(0,uo.kq)("",!0)]})),_:1})])):(0,uo.kq)("",!0),e.shout?((0,uo.wg)(),(0,uo.iD)("li",{key:1,onClick:t[7]||(t[7]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"shout-panel"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("shoutbox.title")),1)]})),_:1})])):(0,uo.kq)("",!0)])):(0,uo.kq)("",!0),(0,uo._)("ul",null,[e.currentUser||!e.privateMode?((0,uo.wg)(),(0,uo.iD)("li",{key:0,onClick:t[8]||(t[8]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"search"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.search")),1)]})),_:1})])):(0,uo.kq)("",!0),e.currentUser&&e.suggestionsEnabled?((0,uo.wg)(),(0,uo.iD)("li",{key:1,onClick:t[9]||(t[9]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"who-to-follow"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"user-plus"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.who_to_follow")),1)]})),_:1})])):(0,uo.kq)("",!0),(0,uo._)("li",{onClick:t[11]||(t[11]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo._)("button",{class:"button-unstyled -link -fullwidth",onClick:t[10]||(t[10]=function(){return e.openSettingsModal&&e.openSettingsModal.apply(e,arguments)})},[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("settings.settings")),1)])]),(0,uo._)("li",{onClick:t[12]||(t[12]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"about"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"info-circle"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.about")),1)]})),_:1})]),e.currentUser&&"admin"===e.currentUser.role?((0,uo.wg)(),(0,uo.iD)("li",{key:2,onClick:t[13]||(t[13]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo._)("a",Ls,[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.administration")),1)])])):(0,uo.kq)("",!0),e.currentUser&&e.supportsAnnouncements?((0,uo.wg)(),(0,uo.iD)("li",{key:3,onClick:t[14]||(t[14]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"announcements"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"bullhorn"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.announcements"))+" ",1),e.unreadAnnouncementCount?((0,uo.wg)(),(0,uo.iD)("span",Es,(0,po.zw)(e.unreadAnnouncementCount),1)):(0,uo.kq)("",!0)]})),_:1})])):(0,uo.kq)("",!0),e.currentUser?((0,uo.wg)(),(0,uo.iD)("li",{key:4,onClick:t[15]||(t[15]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo.Wm)(c,{to:{name:"edit-navigation"}},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"compass"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("nav.edit_nav_mobile")),1)]})),_:1})])):(0,uo.kq)("",!0),e.currentUser?((0,uo.wg)(),(0,uo.iD)("li",{key:5,onClick:t[17]||(t[17]=function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)})},[(0,uo._)("button",{class:"button-unstyled -link -fullwidth",onClick:t[16]||(t[16]=function(){return e.doLogout&&e.doLogout.apply(e,arguments)})},[(0,uo.Wm)(a,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("login.logout")),1)])])):(0,uo.kq)("",!0)])],34),(0,uo._)("div",{class:(0,po.C_)(["side-drawer-click-outside",{"side-drawer-click-outside-closed":e.closed}]),onClick:t[20]||(t[20]=(0,ro.iM)((function(){return e.toggleDrawer&&e.toggleDrawer.apply(e,arguments)}),["stop","prevent"]))},null,2)],2)}]]);var Zs=["title"],Ws=n(23279),Bs=n.n(Ws);qt.vI.add(Nt.IwR);var Hs=new Set(["chats","chat","lists-edit"]);const Vs={data:function(){return{hidden:!1,scrollingDown:!1,inputActive:!1,oldScrollPos:0,amountScrolled:0}},created:function(){this.autohideFloatingPostButton&&this.activateFloatingPostButtonAutohide(),window.addEventListener("resize",this.handleOSK)},unmounted:function(){this.autohideFloatingPostButton&&this.deactivateFloatingPostButtonAutohide(),window.removeEventListener("resize",this.handleOSK)},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},isHidden:function(){return!!Hs.has(this.$route.name)||this.autohideFloatingPostButton&&(this.hidden||this.inputActive)},isPersistent:function(){return!!this.$store.getters.mergedConfig.alwaysShowNewPostButton},autohideFloatingPostButton:function(){return!!this.$store.getters.mergedConfig.autohideFloatingPostButton}},watch:{autohideFloatingPostButton:function(e){e?this.activateFloatingPostButtonAutohide():this.deactivateFloatingPostButtonAutohide()}},methods:{activateFloatingPostButtonAutohide:function(){window.addEventListener("scroll",this.handleScrollStart),window.addEventListener("scroll",this.handleScrollEnd)},deactivateFloatingPostButtonAutohide:function(){window.removeEventListener("scroll",this.handleScrollStart),window.removeEventListener("scroll",this.handleScrollEnd)},openPostForm:function(){this.$store.dispatch("openPostStatusModal")},handleOSK:function(){var e=window.innerWidth<350,t=e&&window.innerHeight<345,n=!e&&window.innerWidth<450&&window.innerHeight<560;this.inputActive=!(!t&&!n)},handleScrollStart:Bs()((function(){window.scrollY>this.oldScrollPos?this.hidden=!0:this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!0,trailing:!1}),handleScrollEnd:Bs()((function(){this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!1,trailing:!0})}},Ks=(0,Eo.Z)(Vs,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon");return e.isLoggedIn?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:(0,po.C_)(["MobilePostButton button-default new-status-button",{hidden:e.isHidden,"always-show":e.isPersistent}]),title:e.$t("post_status.new_status"),onClick:t[0]||(t[0]=function(){return e.openPostForm&&e.openPostForm.apply(e,arguments)})},[(0,uo.Wm)(s,{icon:"pen"})],10,Zs)):(0,uo.kq)("",!0)}]]);var Gs={class:"MobileNav"},Ys={class:"item"},Js=["title","aria-expanaded"],Qs={key:0,class:"alert-dot"},Xs={class:"item right"},ea=["title"],ta={key:0,class:"alert-dot"},na={class:"mobile-notifications-header"},oa={class:"title"},ra=(0,uo._)("span",{class:"spacer"},null,-1),ia=["title"],sa=["title"],aa=n(50332),ca=n(1447);function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC,Nt.qmU,Nt.xiG,Nt.FPD,Nt.Kl4);const da={components:{SideDrawer:Ns,Notifications:aa.default,NavigationPins:oi,ConfirmModal:ca.Z},data:function(){return{notificationsCloseGesture:void 0,notificationsOpen:!1,notificationsAtTop:!0,showingConfirmLogout:!1}},created:function(){var e=this;this.notificationsCloseGesture=Cs.swipeGesture(Cs.DIRECTION_RIGHT,(function(){return e.closeMobileNotifications(!0)}),50)},computed:ua(ua({currentUser:function(){return this.$store.state.users.currentUser},unseenNotifications:function(){return(0,K.Km)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},isChat:function(){return"chat"===this.$route.name}},(0,s.Se)(["unreadChatCount","unreadAnnouncementCount"])),{},{chatsPinned:function(){return new Set(this.$store.state.serverSideStorage.prefsStorage.collections.pinnedNavItems).has("chats")},shouldConfirmLogout:function(){return this.$store.getters.mergedConfig.modalOnLogout}},(0,s.Se)(["unreadChatCount"])),methods:{toggleMobileSidebar:function(){this.$refs.sideDrawer.toggleDrawer()},openMobileNotifications:function(){this.notificationsOpen=!0},closeMobileNotifications:function(e){this.notificationsOpen&&(this.notificationsOpen=!1,e&&this.markNotificationsAsSeen())},notificationsTouchStart:function(e){Cs.beginSwipe(e,this.notificationsCloseGesture)},notificationsTouchMove:function(e){Cs.updateSwipe(e,this.notificationsCloseGesture)},scrollToTop:function(){window.scrollTo(0,0)},scrollMobileNotificationsToTop:function(){this.$refs.mobileNotifications.scrollTo(0,0)},showConfirmLogout:function(){this.showingConfirmLogout=!0},hideConfirmLogout:function(){this.showingConfirmLogout=!1},logout:function(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},markNotificationsAsSeen:function(){this.$store.dispatch("markNotificationsAsSeen")},onScroll:function(e){var t=e.target,n=t.scrollTop,o=t.clientHeight,r=t.scrollHeight;this.notificationsAtTop=n>0,n+o>=r&&this.$refs.notifications.fetchOlderNotifications()}},watch:{$route:function(){this.closeMobileNotifications()}}},pa=(0,Eo.Z)(da,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("NavigationPins"),c=(0,uo.up)("FALayers"),l=(0,uo.up)("SideDrawer"),u=(0,uo.up)("confirm-modal");return(0,uo.wg)(),(0,uo.iD)("div",Gs,[(0,uo._)("nav",{id:"nav",class:"mobile-nav",onClick:t[2]||(t[2]=function(t){return e.scrollToTop()})},[(0,uo._)("div",Ys,[(0,uo._)("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_sidebar"),"aria-expanaded":e.$refs.sideDrawer&&!e.$refs.sideDrawer.closed,onClick:t[0]||(t[0]=(0,ro.iM)((function(t){return e.toggleMobileSidebar()}),["stop","prevent"]))},[(0,uo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"bars"}),e.unreadChatCount&&!e.chatsPinned||e.unreadAnnouncementCount?((0,uo.wg)(),(0,uo.iD)("div",Qs)):(0,uo.kq)("",!0)],8,Js),(0,uo.Wm)(a,{class:"pins"})]),(0,uo.Uk)(),(0,uo._)("div",Xs,[e.currentUser?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.unseenNotificationsCount?e.$t("nav.mobile_notifications_unread_active"):e.$t("nav.mobile_notifications"),onClick:t[1]||(t[1]=(0,ro.iM)((function(t){return e.openMobileNotifications()}),["stop","prevent"]))},[(0,uo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"bell"}),e.unseenNotificationsCount?((0,uo.wg)(),(0,uo.iD)("div",ta)):(0,uo.kq)("",!0)],8,ea)):(0,uo.kq)("",!0)])]),e.currentUser?((0,uo.wg)(),(0,uo.iD)("aside",{key:0,class:(0,po.C_)(["mobile-notifications-drawer",{"-closed":!e.notificationsOpen}]),onTouchstart:t[6]||(t[6]=(0,ro.iM)((function(){return e.notificationsTouchStart&&e.notificationsTouchStart.apply(e,arguments)}),["stop"])),onTouchmove:t[7]||(t[7]=(0,ro.iM)((function(){return e.notificationsTouchMove&&e.notificationsTouchMove.apply(e,arguments)}),["stop"]))},[(0,uo._)("div",na,[(0,uo._)("span",oa,(0,po.zw)(e.$t("notifications.notifications")),1),ra,e.notificationsAtTop?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-unstyled mobile-nav-button",title:e.$t("general.scroll_to_top"),onClick:t[3]||(t[3]=(0,ro.iM)((function(){return e.scrollMobileNotificationsToTop&&e.scrollMobileNotificationsToTop.apply(e,arguments)}),["stop","prevent"]))},[(0,uo.Wm)(c,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{icon:"arrow-up"}),(0,uo.Wm)(s,{icon:"minus",transform:"up-7"})]})),_:1})],8,ia)):(0,uo.kq)("",!0),(0,uo._)("button",{class:"button-unstyled mobile-nav-button",title:e.$t("nav.mobile_notifications_close"),onClick:t[4]||(t[4]=(0,ro.iM)((function(t){return e.closeMobileNotifications(!0)}),["stop","prevent"]))},[(0,uo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,sa)]),(0,uo._)("div",{id:"mobile-notifications",ref:"mobileNotifications",class:"mobile-notifications",onScroll:t[5]||(t[5]=function(){return e.onScroll&&e.onScroll.apply(e,arguments)})},null,544)],34)):(0,uo.kq)("",!0),(0,uo.Wm)(l,{ref:"sideDrawer",logout:e.logout},null,8,["logout"]),((0,uo.wg)(),(0,uo.j4)(uo.lR,{to:"#modal"},[e.showingConfirmLogout?((0,uo.wg)(),(0,uo.j4)(u,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("login.logout_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,uo.kq)("",!0)]))])}]]);var ma={class:"inner-nav"},ha={class:"item sitename"},fa=["src"],ga={class:"item right actions"},va=["title"],wa=["title"],ba=(0,uo._)("span",{class:"spacer"},null,-1),ya=["title"],_a=["title","aria-expanded"],ka=["placeholder"],Sa=["title"],ja=["title","aria-expanded"],Ca=(0,uo._)("span",{class:"spacer"},null,-1),Oa=(0,uo._)("span",{class:"spacer"},null,-1);qt.vI.add(Nt.NBC,Nt.wn1);const Pa={data:function(){return{searchTerm:void 0,hidden:!0,error:!1}},watch:{$route:function(e){"search"===e.name&&(this.searchTerm=e.query.query)}},methods:{find:function(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},toggleHidden:function(){var e=this;this.hidden=!this.hidden,this.$emit("toggled",this.hidden),this.$nextTick((function(){e.hidden||e.$refs.searchInput.focus()}))}}},za=(0,Eo.Z)(Pa,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",{class:(0,po.C_)(["SearchBar",{"-expanded":!e.hidden}])},[e.hidden?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-unstyled nav-icon",title:e.$t("nav.search"),type:"button","aria-expanded":!e.hidden,onClick:t[0]||(t[0]=(0,ro.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[(0,uo.Wm)(s,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"search"})],8,_a)):((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:1},[(0,uo.wy)((0,uo._)("input",{id:"search-bar-input",ref:"searchInput","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),class:"search-bar-input",placeholder:e.$t("nav.search"),type:"text",onKeyup:t[2]||(t[2]=(0,ro.D2)((function(t){return e.find(e.searchTerm)}),["enter"]))},null,40,ka),[[ro.nr,e.searchTerm]]),(0,uo._)("button",{class:"button-default search-button",type:"submit",title:e.$t("nav.search"),onClick:t[3]||(t[3]=function(t){return e.find(e.searchTerm)})},[(0,uo.Wm)(s,{"fixed-width":"",icon:"search"})],8,Sa),(0,uo._)("button",{class:"button-unstyled cancel-search",type:"button",title:e.$t("nav.search_close"),"aria-expanded":!e.hidden,onClick:t[4]||(t[4]=(0,ro.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[(0,uo.Wm)(s,{"fixed-width":"",icon:"times",class:"cancel-icon fa-scale-110 fa-old-padding"})],8,ja),Ca,Oa],64))],2)}]]);qt.vI.add(Nt.$Wj,Nt.jLD,Nt.J9Y,Nt.lXL,Nt.qmU,Nt.FKd,Nt.Acd,Nt.wn1,Nt.HLz,Nt.b7W,Nt.sqG);const Da={components:{SearchBar:za,ConfirmModal:ca.Z},data:function(){return{searchBarHidden:!0,supportsMask:window.CSS&&window.CSS.supports&&(window.CSS.supports("mask-size","contain")||window.CSS.supports("-webkit-mask-size","contain")||window.CSS.supports("-moz-mask-size","contain")||window.CSS.supports("-ms-mask-size","contain")||window.CSS.supports("-o-mask-size","contain")),showingConfirmLogout:!1}},computed:{enableMask:function(){return this.supportsMask&&this.$store.state.instance.logoMask},logoStyle:function(){return{visibility:this.enableMask?"hidden":"visible"}},logoMaskStyle:function(){return this.enableMask?{"mask-image":"url(".concat(this.$store.state.instance.logo,")")}:{"background-color":this.enableMask?"":"transparent"}},logoBgStyle:function(){return Object.assign({margin:"".concat(this.$store.state.instance.logoMargin," 0"),opacity:this.searchBarHidden?1:0},this.enableMask?{}:{"background-color":this.enableMask?"":"transparent"})},logo:function(){return this.$store.state.instance.logo},sitename:function(){return this.$store.state.instance.name},hideSitename:function(){return this.$store.state.instance.hideSitename},logoLeft:function(){return this.$store.state.instance.logoLeft},currentUser:function(){return this.$store.state.users.currentUser},privateMode:function(){return this.$store.state.instance.private},shouldConfirmLogout:function(){return this.$store.getters.mergedConfig.modalOnLogout}},methods:{scrollToTop:function(){window.scrollTo(0,0)},showConfirmLogout:function(){this.showingConfirmLogout=!0},hideConfirmLogout:function(){this.showingConfirmLogout=!1},logout:function(){this.shouldConfirmLogout?this.showConfirmLogout():this.doLogout()},doLogout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout"),this.hideConfirmLogout()},onSearchBarToggled:function(e){this.searchBarHidden=e},openSettingsModal:function(){this.$store.dispatch("openSettingsModal")}}},Ia=(0,Eo.Z)(Da,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link"),a=(0,uo.up)("search-bar"),c=(0,uo.up)("FAIcon"),l=(0,uo.up)("confirm-modal");return(0,uo.wg)(),(0,uo.iD)("nav",{id:"nav",class:(0,po.C_)(["DesktopNav",{"-logoLeft":e.logoLeft}]),onClick:t[4]||(t[4]=function(t){return e.scrollToTop()})},[(0,uo._)("div",ma,[(0,uo._)("div",ha,[e.hideSitename?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(s,{key:0,class:"site-name",to:{name:"root"},"active-class":"home"},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.sitename),1)]})),_:1}))]),(0,uo.Wm)(s,{class:"logo",to:{name:"root"},style:(0,po.j5)(e.logoBgStyle),title:e.sitename},{default:(0,uo.w5)((function(){return[(0,uo._)("div",{class:"mask",style:(0,po.j5)(e.logoMaskStyle)},null,4),(0,uo._)("img",{src:e.logo,style:(0,po.j5)(e.logoStyle)},null,12,fa)]})),_:1},8,["style","title"]),(0,uo._)("div",ga,[e.currentUser||!e.privateMode?((0,uo.wg)(),(0,uo.j4)(a,{key:0,onToggled:e.onSearchBarToggled,onClick:t[0]||(t[0]=(0,ro.iM)((function(){}),["stop"]))},null,8,["onToggled"])):(0,uo.kq)("",!0),(0,uo._)("button",{class:"button-unstyled nav-icon",title:e.$t("nav.preferences"),onClick:t[1]||(t[1]=(0,ro.iM)((function(){return e.openSettingsModal&&e.openSettingsModal.apply(e,arguments)}),["stop"]))},[(0,uo.Wm)(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"cog"})],8,va),e.currentUser&&"admin"===e.currentUser.role?((0,uo.wg)(),(0,uo.iD)("a",{key:1,href:"/pleroma/admin/#/login-pleroma",class:"nav-icon",target:"_blank",title:e.$t("nav.administration"),onClick:t[2]||(t[2]=(0,ro.iM)((function(){}),["stop"]))},[(0,uo.Wm)(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"tachometer-alt"})],8,wa)):(0,uo.kq)("",!0),ba,e.currentUser?((0,uo.wg)(),(0,uo.iD)("button",{key:2,class:"button-unstyled nav-icon",title:e.$t("login.logout"),onClick:t[3]||(t[3]=(0,ro.iM)((function(){return e.logout&&e.logout.apply(e,arguments)}),["stop","prevent"]))},[(0,uo.Wm)(c,{"fixed-width":"",class:"fa-scale-110 fa-old-padding",icon:"sign-out-alt"})],8,ya)):(0,uo.kq)("",!0)])]),((0,uo.wg)(),(0,uo.j4)(uo.lR,{to:"#modal"},[e.showingConfirmLogout?((0,uo.wg)(),(0,uo.j4)(l,{key:0,title:e.$t("login.logout_confirm_title"),"confirm-text":e.$t("login.logout_confirm_accept_button"),"cancel-text":e.$t("login.logout_confirm_cancel_button"),onAccepted:e.doLogout,onCancelled:e.hideConfirmLogout},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("login.logout_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,uo.kq)("",!0)]))],2)}]]);var xa={class:"user-reporting-panel panel"},Ta={class:"panel-heading"},$a={class:"panel-body"},Ua={class:"user-reporting-panel-left"},Ma=["placeholder"],Aa={key:0},La=["disabled"],Ea={key:0,class:"alert error"},Fa={class:"user-reporting-panel-right"},Ra={class:"status-fadein user-reporting-panel-sitem"},qa=n(75245),Na=n(56773),Za=n(12061);function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Ba={components:{Status:qa.default,List:Na.Z,Checkbox:ri.Z,Modal:Rt.Z,UserLink:Za.Z},data:function(){return{comment:"",forward:!1,statusIdsToReport:[],processing:!1,error:!1}},computed:{reportModal:function(){return this.$store.state.reports.reportModal},isLoggedIn:function(){return!!this.$store.state.users.currentUser},isOpen:function(){return this.isLoggedIn&&this.reportModal.activated},userId:function(){return this.reportModal.userId},user:function(){return this.$store.getters.findUser(this.userId)},remoteInstance:function(){return!this.user.is_local&&this.user.screen_name.substr(this.user.screen_name.indexOf("@")+1)},statuses:function(){return this.reportModal.statuses},preTickedIds:function(){return this.reportModal.preTickedIds}},watch:{userId:"resetState",preTickedIds:function(e){this.statusIdsToReport=e}},methods:{resetState:function(){this.comment="",this.forward=!1,this.statusIdsToReport=this.preTickedIds,this.processing=!1,this.error=!1},closeModal:function(){this.$store.dispatch("closeUserReportingModal")},reportUser:function(){var e=this;this.processing=!0,this.error=!1;var t={userId:this.userId,comment:this.comment,forward:this.forward,statusIds:this.statusIdsToReport};this.$store.state.api.backendInteractor.reportUser(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)).then((function(){e.processing=!1,e.resetState(),e.closeModal()})).catch((function(){e.processing=!1,e.error=!0}))},clearError:function(){this.error=!1},isChecked:function(e){return-1!==this.statusIdsToReport.indexOf(e)},toggleStatus:function(e,t){e!==this.isChecked(t)&&(e?this.statusIdsToReport.push(t):this.statusIdsToReport.splice(this.statusIdsToReport.indexOf(t),1))},resize:function(e){var t=e.target||e;t instanceof window.Element&&(t.style.height="auto",t.style.height="".concat(t.scrollHeight,"px"),""===t.value&&(t.style.height=null))}}},Ha=(0,Eo.Z)(Ba,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserLink"),a=(0,uo.up)("i18n-t"),c=(0,uo.up)("Checkbox"),l=(0,uo.up)("Status"),u=(0,uo.up)("List"),d=(0,uo.up)("Modal");return e.isOpen?((0,uo.wg)(),(0,uo.j4)(d,{key:0,onBackdropClicked:e.closeModal},{default:(0,uo.w5)((function(){return[(0,uo._)("div",xa,[(0,uo._)("div",Ta,[(0,uo.Wm)(a,{tag:"div",keypath:"user_reporting.title",class:"title"},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{user:e.user},null,8,["user"])]})),_:1})]),(0,uo._)("div",$a,[(0,uo._)("div",Ua,[(0,uo._)("div",null,[(0,uo._)("p",null,(0,po.zw)(e.$t("user_reporting.add_comment_description")),1),(0,uo.wy)((0,uo._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.comment=t}),class:"form-control",placeholder:e.$t("user_reporting.additional_comments"),rows:"1",onInput:t[1]||(t[1]=function(){return e.resize&&e.resize.apply(e,arguments)})},null,40,Ma),[[ro.nr,e.comment]])]),e.user.is_local?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Aa,[(0,uo._)("p",null,(0,po.zw)(e.$t("user_reporting.forward_description")),1),(0,uo.Wm)(c,{modelValue:e.forward,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.forward=t})},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("user_reporting.forward_to",[e.remoteInstance])),1)]})),_:1},8,["modelValue"])])),(0,uo._)("div",null,[(0,uo._)("button",{class:"btn button-default",disabled:e.processing,onClick:t[3]||(t[3]=function(){return e.reportUser&&e.reportUser.apply(e,arguments)})},(0,po.zw)(e.$t("user_reporting.submit")),9,La),e.error?((0,uo.wg)(),(0,uo.iD)("div",Ea,(0,po.zw)(e.$t("user_reporting.generic_error")),1)):(0,uo.kq)("",!0)])]),(0,uo._)("div",Fa,[(0,uo.Wm)(u,{items:e.statuses},{item:(0,uo.w5)((function(t){var n=t.item;return[(0,uo._)("div",Ra,[(0,uo.Wm)(l,{"in-conversation":!1,focused:!1,statusoid:n},null,8,["statusoid"]),(0,uo.Wm)(c,{"model-value":e.isChecked(n.id),"onUpdate:modelValue":function(t){return e.toggleStatus(t,n.id)}},null,8,["model-value","onUpdate:modelValue"])])]})),_:1},8,["items"])])])])]})),_:1},8,["onBackdropClicked"])):(0,uo.kq)("",!0)}]]);var Va={class:"edit-form-modal-panel panel"},Ka={class:"panel-heading"},Ga=n(7257);const Ya={components:{PostStatusForm:yr.Z,Modal:Rt.Z},data:function(){return{resettingForm:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},modalActivated:function(){return this.$store.state.editStatus.modalActivated},isFormVisible:function(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params:function(){return this.$store.state.editStatus.params||{}}},watch:{params:function(e,t){var n=this;Tt()(e,"statusId")!==Tt()(t,"statusId")&&(this.resettingForm=!0,this.$nextTick((function(){n.resettingForm=!1})))},isFormVisible:function(e){var t=this;e&&this.$nextTick((function(){return t.$el&&t.$el.querySelector("textarea").focus()}))}},methods:{doEditStatus:function(e){var t=e.status,n=e.spoilerText,o=e.sensitive,r=e.media,i=e.contentType,s=e.poll,a={store:this.$store,statusId:this.$store.state.editStatus.params.statusId,status:t,spoilerText:n,sensitive:o,poll:s,media:r,contentType:i};return Ga.Z.editStatus(a).then((function(e){return e})).catch((function(e){return console.error("Error editing status",e),{error:e.message}}))},closeModal:function(){this.$store.dispatch("closeEditStatusModal")}}},Ja=(0,Eo.Z)(Ya,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("PostStatusForm"),a=(0,uo.up)("Modal");return e.isFormVisible?((0,uo.wg)(),(0,uo.j4)(a,{key:0,class:"edit-form-modal-view",onBackdropClicked:e.closeModal},{default:(0,uo.w5)((function(){return[(0,uo._)("div",Va,[(0,uo._)("div",Ka,(0,po.zw)(e.$t("post_status.edit_status")),1),(0,uo.Wm)(s,(0,uo.dG)({class:"panel-body"},e.params,{"post-handler":e.doEditStatus,"disable-polls":!0,"disable-visibility-selector":!0,onPosted:e.closeModal}),null,16,["post-handler","onPosted"])])]})),_:1},8,["onBackdropClicked"])):(0,uo.kq)("",!0)}]]);var Qa={class:"post-form-modal-panel panel"},Xa={class:"panel-heading"};const ec={components:{PostStatusForm:yr.Z,Modal:Rt.Z},data:function(){return{resettingForm:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},modalActivated:function(){return this.$store.state.postStatus.modalActivated},isFormVisible:function(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params:function(){return this.$store.state.postStatus.params||{}}},watch:{params:function(e,t){var n=this;Tt()(e,"repliedUser.id")!==Tt()(t,"repliedUser.id")&&(this.resettingForm=!0,this.$nextTick((function(){n.resettingForm=!1})))},isFormVisible:function(e){var t=this;e&&this.$nextTick((function(){return t.$el&&t.$el.querySelector("textarea").focus()}))}},methods:{closeModal:function(){this.$store.dispatch("closePostStatusModal")}}},tc=(0,Eo.Z)(ec,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("PostStatusForm"),a=(0,uo.up)("Modal");return e.isLoggedIn&&!e.resettingForm?((0,uo.wg)(),(0,uo.j4)(a,{key:0,"is-open":e.modalActivated,class:"post-form-modal-view",onBackdropClicked:e.closeModal},{default:(0,uo.w5)((function(){return[(0,uo._)("div",Qa,[(0,uo._)("div",Xa,(0,po.zw)(e.$t("post_status.new_status")),1),(0,uo.Wm)(s,(0,uo.dG)({class:"panel-body"},e.params,{onPosted:e.closeModal}),null,16,["onPosted"])])]})),_:1},8,["is-open","onBackdropClicked"])):(0,uo.kq)("",!0)}]]);var nc={class:"status-history-modal-panel panel"},oc={class:"panel-heading"},rc={class:"panel-body"},ic={key:0,class:"history-body"};const sc={components:{Modal:Rt.Z,Status:qa.default},data:function(){return{statuses:[]}},computed:{modalActivated:function(){return this.$store.state.statusHistory.modalActivated},params:function(){return this.$store.state.statusHistory.params},statusId:function(){return this.params.id},historyCount:function(){return this.statuses.length},history:function(){return this.statuses}},watch:{params:function(e,t){var n=Tt()(e,"id")!==Tt()(t,"id");n&&this.resetHistory(),(n||Tt()(e,"edited_at")!==Tt()(t,"edited_at"))&&this.fetchStatusHistory()}},methods:{resetHistory:function(){this.statuses=[]},fetchStatusHistory:function(){var e=this;this.$store.dispatch("fetchStatusHistory",this.params).then((function(t){e.statuses=t}))},closeModal:function(){this.$store.dispatch("closeStatusHistoryModal")}}},ac=(0,Eo.Z)(sc,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("status"),a=(0,uo.up)("Modal");return e.modalActivated?((0,uo.wg)(),(0,uo.j4)(a,{key:0,class:"status-history-modal-view",onBackdropClicked:e.closeModal},{default:(0,uo.w5)((function(){return[(0,uo._)("div",nc,[(0,uo._)("div",oc,(0,po.zw)(e.$t("status.status_history"))+" ("+(0,po.zw)(e.historyCount)+") ",1),(0,uo._)("div",rc,[e.historyCount>0?((0,uo.wg)(),(0,uo.iD)("div",ic,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.history,(function(e){return(0,uo.wg)(),(0,uo.j4)(s,{key:e.id,statusoid:e,"is-preview":!0,class:"conversation-status status-fadein panel-body"},null,8,["statusoid"])})),128))])):(0,uo.kq)("",!0)])])]})),_:1},8,["onBackdropClicked"])):(0,uo.kq)("",!0)}]]);var cc={class:"global-notice-list"},lc={class:"notice-message"},uc=["onClick"];qt.vI.add(Nt.NBC);const dc={computed:{notices:function(){return this.$store.state.interface.globalNotices}},methods:{closeNotice:function(e){this.$store.dispatch("removeGlobalNotice",e)}}},pc=(0,Eo.Z)(dc,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",cc,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.notices,(function(t,n){return(0,uo.wg)(),(0,uo.iD)("div",{key:n,class:(0,po.C_)(["alert global-notice",(0,d.Z)({},"global-"+t.level,!0)])},[(0,uo._)("div",lc,(0,po.zw)(e.$t(t.messageKey,t.messageArgs)),1),(0,uo._)("button",{class:"button-unstyled close-notice",onClick:function(n){return e.closeNotice(t)}},[(0,uo.Wm)(s,{class:"fa-scale-110 fa-old-padding",icon:"times"})],8,uc)],2)})),128))])}]]);function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const hc={name:"app",components:{UserPanel:jr,NavPanel:ci,Notifications:(0,uo.RC)((function(){return Promise.resolve().then(n.bind(n,50332))})),InstanceSpecificPanel:hi,FeaturesPanel:Pi,WhoToFollowPanel:qi,ShoutPanel:ns,MediaModal:Is,SideDrawer:Ns,MobilePostStatusButton:Ks,MobileNav:pa,DesktopNav:Ia,SettingsModal:(0,uo.RC)((function(){return n.e(5948).then(n.bind(n,75948))})),UpdateNotification:(0,uo.RC)((function(){return n.e(6464).then(n.bind(n,16464))})),UserReportingModal:Ha,PostStatusModal:tc,EditStatusModal:Ja,StatusHistoryModal:ac,GlobalNoticeList:pc},data:function(){return{mobileActivePanel:"timeline"}},created:function(){var e=this.$store.getters.mergedConfig.interfaceLanguage;this.$store.dispatch("setOption",{name:"interfaceLanguage",value:e}),window.addEventListener("resize",this.updateMobileState)},unmounted:function(){window.removeEventListener("resize",this.updateMobileState)},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({classes:function(){return[{"-reverse":this.reverseLayout,"-no-sticky-headers":this.noSticky,"-has-new-post-button":this.newPostButtonShown},"-"+this.layoutType]},navClasses:function(){var e=this.$store.getters.mergedConfig.navbarColumnStretch;return["-"+this.layoutType].concat((0,u.Z)(e?["-column-stretch"]:[]))},currentUser:function(){return this.$store.state.users.currentUser},userBackground:function(){return this.currentUser.background_image},instanceBackground:function(){return this.mergedConfig.hideInstanceWallpaper?null:this.$store.state.instance.background},background:function(){return this.userBackground||this.instanceBackground},bgStyle:function(){if(this.background)return{"--body-background-image":"url(".concat(this.background,")")}},shout:function(){return this.$store.state.shout.joined},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent},isChats:function(){return"chat"===this.$route.name||"chats"===this.$route.name},isListEdit:function(){return"lists-edit"===this.$route.name},newPostButtonShown:function(){return!this.isChats&&!this.isListEdit&&(this.$store.getters.mergedConfig.alwaysShowNewPostButton||"mobile"===this.layoutType)},showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},editingAvailable:function(){return this.$store.state.instance.editingAvailable},shoutboxPosition:function(){return this.$store.getters.mergedConfig.alwaysShowNewPostButton||!1},hideShoutbox:function(){return this.$store.getters.mergedConfig.hideShoutbox},layoutType:function(){return this.$store.state.interface.layoutType},privateMode:function(){return this.$store.state.instance.private},reverseLayout:function(){var e=this.$store.getters.mergedConfig,t=e.thirdColumnMode,n=e.sidebarRight;return"wide"!==this.layoutType||"notifications"===t?n:!n},noSticky:function(){return this.$store.getters.mergedConfig.disableStickyHeaders},showScrollbars:function(){return this.$store.getters.mergedConfig.showScrollbars}},(0,s.Se)(["mergedConfig"])),methods:{updateMobileState:function(){this.$store.dispatch("setLayoutWidth",Me()),this.$store.dispatch("setLayoutHeight",Ae())}}},fc=(0,Eo.Z)(hc,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("MobileNav"),a=(0,uo.up)("DesktopNav"),c=(0,uo.up)("Notifications"),l=(0,uo.up)("user-panel"),u=(0,uo.up)("nav-panel"),d=(0,uo.up)("instance-specific-panel"),p=(0,uo.up)("features-panel"),m=(0,uo.up)("who-to-follow-panel"),h=(0,uo.up)("router-link"),f=(0,uo.up)("router-view"),g=(0,uo.up)("MediaModal"),v=(0,uo.up)("shout-panel"),w=(0,uo.up)("MobilePostStatusButton"),b=(0,uo.up)("UserReportingModal"),y=(0,uo.up)("PostStatusModal"),_=(0,uo.up)("EditStatusModal"),k=(0,uo.up)("StatusHistoryModal"),S=(0,uo.up)("SettingsModal"),j=(0,uo.up)("UpdateNotification"),C=(0,uo.up)("GlobalNoticeList");return(0,uo.wg)(),(0,uo.iD)("div",{id:"app-loaded",style:(0,po.j5)(e.bgStyle)},[mo,"mobile"===e.layoutType?((0,uo.wg)(),(0,uo.j4)(s,{key:0})):((0,uo.wg)(),(0,uo.j4)(a,{key:1,class:(0,po.C_)(e.navClasses)},null,8,["class"])),e.currentUser?((0,uo.wg)(),(0,uo.j4)(c,{key:2})):(0,uo.kq)("",!0),(0,uo._)("div",{id:"content",class:(0,po.C_)(["app-layout container",e.classes])},[ho,(0,uo._)("div",{id:"sidebar",class:(0,po.C_)(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},[(0,uo.Wm)(l),"mobile"!==e.layoutType?((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:0},[(0,uo.Wm)(u),e.showInstanceSpecificPanel?((0,uo.wg)(),(0,uo.j4)(d,{key:0})):(0,uo.kq)("",!0),!e.currentUser&&e.showFeaturesPanel?((0,uo.wg)(),(0,uo.j4)(p,{key:1})):(0,uo.kq)("",!0),e.currentUser&&e.suggestionsEnabled?((0,uo.wg)(),(0,uo.j4)(m,{key:2})):(0,uo.kq)("",!0),fo],64)):(0,uo.kq)("",!0)],2),(0,uo._)("main",{id:"main-scroller",class:(0,po.C_)(["column main",{"-full-height":e.isChats||e.isListEdit}])},[e.currentUser?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",go,[(0,uo.Wm)(h,{to:{name:"login"},class:"panel-body"},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("login.hint")),1)]})),_:1})])),(0,uo.Wm)(f)],2),(0,uo._)("div",{id:"notifs-column",class:(0,po.C_)(["column -scrollable",{"-show-scrollbar":e.showScrollbars}])},null,2)],2),(0,uo.Wm)(g),e.currentUser&&e.shout&&!e.hideShoutbox?((0,uo.wg)(),(0,uo.j4)(v,{key:3,floating:!0,class:(0,po.C_)(["floating-shout mobile-hidden",{"-left":e.shoutboxPosition}])},null,8,["class"])):(0,uo.kq)("",!0),(0,uo.Wm)(w),(0,uo.Wm)(b),(0,uo.Wm)(y),e.editingAvailable?((0,uo.wg)(),(0,uo.j4)(_,{key:4})):(0,uo.kq)("",!0),e.editingAvailable?((0,uo.wg)(),(0,uo.j4)(k,{key:5})):(0,uo.kq)("",!0),(0,uo.Wm)(S),(0,uo.Wm)(j),(0,uo.Wm)(C)],4)}]]);var gc={key:1,class:"rightside-button"},vc=["title"],wc={key:0,class:"rightside-button"},bc=["title"],yc={class:"alert-badge"},_c=["title"],kc={ref:"timeline",class:"timeline",role:"feed"},Sc={key:0,class:"new-status-notification text-center faint"},jc={key:1,class:"new-status-notification text-center faint"},Cc={class:"new-status-notification text-center"},Oc={key:3,class:"new-status-notification text-center"},Pc=n(24350),zc=n.n(Pc),Dc=n(23493),Ic=n.n(Dc),xc={key:0,class:"panel-heading conversation-heading -sticky"},Tc={class:"title"},$c={class:"conversation-body panel-body"},Uc={key:0,class:"thread-body"},Mc={key:0,class:"conversation-dive-to-top-level-box"},Ac={key:1,class:"thread-ancestors"},Lc={key:0,class:"thread-ancestor-dive-box"},Ec={class:"thread-ancestor-dive-box-inner"},Fc={key:1,class:"thread-body"},Rc=n(66678),qc=n.n(Rc),Nc={class:"thread-tree"},Zc={key:0,class:"thread-tree-replies"},Wc={key:1,class:"thread-tree-replies thread-tree-replies-hidden"};qt.vI.add(Nt.Sbq,Nt.cLY);const Bc={components:{Status:qa.default},name:"ThreadTree",props:{depth:Number,status:Object,inProfile:Boolean,conversation:Array,collapsable:Boolean,isExpanded:Boolean,pinnedStatusIdsObject:Object,profileUserId:String,focused:Function,highlight:String,getReplies:Function,setHighlight:Function,toggleExpanded:Function,simple:Boolean,toggleThreadDisplay:Function,threadDisplayStatus:Object,showThreadRecursively:Function,totalReplyCount:Object,totalReplyDepth:Object,statusContentProperties:Object,setStatusContentProperty:Function,toggleStatusContentProperty:Function,dive:Function},computed:{suspendable:function(){var e=!this.$refs.statusComponent||this.$refs.statusComponent.suspendable;return this.$refs.childComponent?e&&this.$refs.childComponent.every((function(e){return e.suspendable})):e},reverseLookupTable:function(){return this.conversation.reduce((function(e,t,n){return e[t.id]=n,e}),{})},currentReplies:function(){var e=this;return this.getReplies(this.status.id).map((function(t){var n=t.id;return e.statusById(n)}))},threadShowing:function(){return"showing"===this.threadDisplayStatus[this.status.id]},currentProp:function(){return this.statusContentProperties[this.status.id]}},methods:{statusById:function(e){return this.conversation[this.reverseLookupTable[e]]},collapseThread:function(){},showThread:function(){},showAllSubthreads:function(){},toggleCurrentProp:function(e){this.toggleStatusContentProperty(this.status.id,e)},setCurrentProp:function(e,t){this.setStatusContentProperty(this.status.id,e)}}},Hc=(0,Eo.Z)(Bc,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("status"),a=(0,uo.up)("thread-tree"),c=(0,uo.up)("FAIcon"),l=(0,uo.up)("i18n-t");return(0,uo.wg)(),(0,uo.iD)("article",Nc,[((0,uo.wg)(),(0,uo.j4)(s,{key:e.status.id,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:e.status,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[e.status.id],focused:e.focused(e.status.id),"in-conversation":e.isExpanded,highlight:e.highlight,replies:e.getReplies(e.status.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status conversation-status-treeview status-fadein panel-body","simple-tree":e.simple,"controlled-thread-display-status":e.threadDisplayStatus[e.status.id],"controlled-toggle-thread-display":function(){return e.toggleThreadDisplay(e.status.id)},"controlled-showing-tall":e.currentProp.showingTall,"controlled-expanding-subject":e.currentProp.expandingSubject,"controlled-showing-long-subject":e.currentProp.showingLongSubject,"controlled-replying":e.currentProp.replying,"controlled-media-playing":e.currentProp.mediaPlaying,"controlled-toggle-showing-tall":function(){return e.toggleCurrentProp("showingTall")},"controlled-toggle-expanding-subject":function(){return e.toggleCurrentProp("expandingSubject")},"controlled-toggle-showing-long-subject":function(){return e.toggleCurrentProp("showingLongSubject")},"controlled-toggle-replying":function(){return e.toggleCurrentProp("replying")},"controlled-set-media-playing":function(t){return e.setCurrentProp("mediaPlaying",t)},dive:e.dive?function(){return e.dive(e.status.id)}:void 0,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","controlled-thread-display-status","controlled-toggle-thread-display","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","dive","onGoto","onToggleExpanded"])),e.currentReplies.length&&e.threadShowing?((0,uo.wg)(),(0,uo.iD)("div",Zc,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.currentReplies,(function(t){return(0,uo.wg)(),(0,uo.j4)(a,{key:t.id,ref_for:!0,ref:"childComponent",depth:e.depth+1,status:t,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,focused:e.focused,"get-replies":e.getReplies,highlight:e.highlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.simple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.dive},null,8,["depth","status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","focused","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"])})),128))])):(0,uo.kq)("",!0),e.currentReplies.length&&!e.threadShowing?((0,uo.wg)(),(0,uo.iD)("div",Wc,[e.simple?((0,uo.wg)(),(0,uo.j4)(l,{key:0,scope:"global",tag:"button",keypath:"status.thread_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[0]||(t[0]=(0,ro.iM)((function(t){return e.dive(e.status.id)}),["prevent"]))},{icon:(0,uo.w5)((function(){return[(0,uo.Wm)(c,{icon:"angle-double-right"})]})),text:(0,uo.w5)((function(){return[(0,uo._)("span",null,(0,po.zw)(e.$tc("status.thread_follow",e.totalReplyCount[e.status.id],{numStatus:e.totalReplyCount[e.status.id]})),1)]})),_:1})):((0,uo.wg)(),(0,uo.j4)(l,{key:1,scope:"global",tag:"button",keypath:"status.thread_show_full_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:t[1]||(t[1]=(0,ro.iM)((function(t){return e.showThreadRecursively(e.status.id)}),["prevent"]))},{icon:(0,uo.w5)((function(){return[(0,uo.Wm)(c,{icon:"angle-double-down"})]})),text:(0,uo.w5)((function(){return[(0,uo._)("span",null,(0,po.zw)(e.$tc("status.thread_show_full",e.totalReplyCount[e.status.id],{numStatus:e.totalReplyCount[e.status.id],depth:e.totalReplyDepth[e.status.id]})),1)]})),_:1}))])):(0,uo.kq)("",!0)])}]]);var Vc={class:"dropdown-menu",role:"menu"},Kc={key:0,role:"group"},Gc=["aria-checked"],Yc=["aria-checked"],Jc=["aria-checked"],Qc={key:3,role:"separator",class:"dropdown-divider"},Xc=["aria-checked"],el=["aria-checked"],tl=["aria-checked"],nl=n(91447);function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.G_j,Nt.yGG,Nt.klh);const il={props:{conversation:Boolean},components:{Popover:nl.default},methods:{setReplyVisibility:function(e){this.$store.dispatch("setOption",{name:"replyVisibility",value:e}),this.$store.dispatch("queueFlushAll")},openTab:function(e){this.$store.dispatch("openSettingsModalTab",e)}},computed:rl(rl({},(0,s.Se)(["mergedConfig"])),{},{loggedIn:function(){return!!this.$store.state.users.currentUser},replyVisibilitySelf:{get:function(){return"self"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("self")}},replyVisibilityFollowing:{get:function(){return"following"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("following")}},replyVisibilityAll:{get:function(){return"all"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("all")}},hideMedia:{get:function(){return this.mergedConfig.hideAttachments||this.mergedConfig.hideAttachmentsInConv},set:function(){var e=!this.hideMedia;this.$store.dispatch("setOption",{name:"hideAttachments",value:e}),this.$store.dispatch("setOption",{name:"hideAttachmentsInConv",value:e})}},hideMutedPosts:{get:function(){return this.mergedConfig.hideFilteredStatuses},set:function(){var e=!this.hideMutedPosts;this.$store.dispatch("setOption",{name:"hideFilteredStatuses",value:e})}},muteBotStatuses:{get:function(){return this.mergedConfig.muteBotStatuses},set:function(){var e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}}})},sl=(0,Eo.Z)(il,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("Popover");return(0,uo.wg)(),(0,uo.j4)(a,{trigger:"click",class:"QuickFilterSettings","bound-to":{x:"container"},"trigger-attrs":{title:e.$t("timeline.quick_filter_settings")}},{content:(0,uo.w5)((function(){return[(0,uo._)("div",Vc,[e.loggedIn?((0,uo.wg)(),(0,uo.iD)("div",Kc,[e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-default dropdown-item","aria-checked":e.replyVisibilityAll,role:"menuitemradio",onClick:t[0]||(t[0]=function(t){return e.replyVisibilityAll=!0})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityAll}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.reply_visibility_all")),1)],8,Gc)),e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("button",{key:1,class:"button-default dropdown-item","aria-checked":e.replyVisibilityFollowing,role:"menuitemradio",onClick:t[1]||(t[1]=function(t){return e.replyVisibilityFollowing=!0})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilityFollowing}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.reply_visibility_following_short")),1)],8,Yc)),e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("button",{key:2,class:"button-default dropdown-item","aria-checked":e.replyVisibilitySelf,role:"menuitemradio",onClick:t[2]||(t[2]=function(t){return e.replyVisibilitySelf=!0})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox -radio",{"menu-checkbox-checked":e.replyVisibilitySelf}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.reply_visibility_self_short")),1)],8,Jc)),e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Qc))])):(0,uo.kq)("",!0),(0,uo._)("button",{class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.muteBotStatuses,onClick:t[3]||(t[3]=function(t){return e.muteBotStatuses=!e.muteBotStatuses})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.muteBotStatuses}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.mute_bot_posts")),1)],8,Xc),(0,uo._)("button",{class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.hideMedia,onClick:t[4]||(t[4]=function(t){return e.hideMedia=!e.hideMedia})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hideMedia}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.hide_media_previews")),1)],8,el),(0,uo._)("button",{class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.hideMutedPosts,onClick:t[5]||(t[5]=function(t){return e.hideMutedPosts=!e.hideMutedPosts})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hideMutedPosts}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.hide_all_muted_posts")),1)],8,tl),(0,uo._)("button",{class:"button-default dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[6]||(t[6]=function(t){return e.openTab("filtering")})},[(0,uo.Wm)(s,{icon:"font"}),(0,uo.Uk)((0,po.zw)(e.$t("settings.word_filter_and_more")),1)])])]})),trigger:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{icon:"filter"})]})),_:1},8,["trigger-attrs"])}]]);var al={class:"dropdown-menu",role:"menu"},cl={role:"group"},ll=["aria-checked"],ul=["aria-checked"],dl=(0,uo._)("div",{role:"separator",class:"dropdown-divider"},null,-1),pl=["aria-checked"],ml=["aria-checked"],hl=["aria-checked"];function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.Zrf,Nt.lCn,Nt.xiG,Nt.klh);const vl={props:{conversation:Boolean},components:{Popover:nl.default},methods:{setConversationDisplay:function(e){this.$store.dispatch("setOption",{name:"conversationDisplay",value:e})},openTab:function(e){this.$store.dispatch("openSettingsModalTab",e)}},computed:gl(gl({},(0,s.Se)(["mergedConfig"])),{},{loggedIn:function(){return!!this.$store.state.users.currentUser},conversationDisplay:{get:function(){return this.mergedConfig.conversationDisplay},set:function(e){this.setConversationDisplay(e)}},autoUpdate:{get:function(){return this.mergedConfig.streaming},set:function(){var e=!this.autoUpdate;this.$store.dispatch("setOption",{name:"streaming",value:e})}},collapseWithSubjects:{get:function(){return this.mergedConfig.collapseMessageWithSubject},set:function(){var e=!this.collapseWithSubjects;this.$store.dispatch("setOption",{name:"collapseMessageWithSubject",value:e})}},showUserAvatars:{get:function(){return this.mergedConfig.mentionLinkShowAvatar},set:function(){var e=!this.showUserAvatars;console.log(e),this.$store.dispatch("setOption",{name:"mentionLinkShowAvatar",value:e})}},muteBotStatuses:{get:function(){return this.mergedConfig.muteBotStatuses},set:function(){var e=!this.muteBotStatuses;this.$store.dispatch("setOption",{name:"muteBotStatuses",value:e})}}})},wl=(0,Eo.Z)(vl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("Popover");return(0,uo.wg)(),(0,uo.j4)(a,{trigger:"click",class:"QuickViewSettings","bound-to":{x:"container"},"trigger-attrs":{title:e.$t("timeline.quick_view_settings")}},{content:(0,uo.w5)((function(){return[(0,uo._)("div",al,[(0,uo._)("div",cl,[(0,uo._)("button",{class:"button-default dropdown-item","aria-checked":"tree"===e.conversationDisplay,role:"menuitemradio",onClick:t[0]||(t[0]=function(t){return e.conversationDisplay="tree"})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox -radio",{"menu-checkbox-checked":"tree"===e.conversationDisplay}]),"aria-hidden":!0},null,2),(0,uo.Wm)(s,{icon:"folder-tree","aria-hidden":!0}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("settings.conversation_display_tree_quick")),1)],8,ll),(0,uo._)("button",{class:"button-default dropdown-item","aria-checked":"linear"===e.conversationDisplay,role:"menuitemradio",onClick:t[1]||(t[1]=function(t){return e.conversationDisplay="linear"})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox -radio",{"menu-checkbox-checked":"linear"===e.conversationDisplay}]),"aria-hidden":!0},null,2),(0,uo.Wm)(s,{icon:"list","aria-hidden":!0}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("settings.conversation_display_linear_quick")),1)],8,ul)]),dl,(0,uo._)("button",{class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.showUserAvatars,onClick:t[2]||(t[2]=function(t){return e.showUserAvatars=!e.showUserAvatars})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.showUserAvatars}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.mention_link_show_avatar_quick")),1)],8,pl),e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.autoUpdate,onClick:t[3]||(t[3]=function(t){return e.autoUpdate=!e.autoUpdate})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.autoUpdate}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.auto_update")),1)],8,ml)),e.conversation?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("button",{key:1,class:"button-default dropdown-item",role:"menuitemcheckbox","aria-checked":e.collapseWithSubjects,onClick:t[4]||(t[4]=function(t){return e.collapseWithSubjects=!e.collapseWithSubjects})},[(0,uo._)("span",{class:(0,po.C_)(["menu-checkbox",{"menu-checkbox-checked":e.collapseWithSubjects}]),"aria-hidden":!0},null,2),(0,uo.Uk)((0,po.zw)(e.$t("settings.collapse_subject")),1)],8,hl)),(0,uo._)("button",{class:"button-default dropdown-item dropdown-item-icon",role:"menuitem",onClick:t[5]||(t[5]=function(t){return e.openTab("general")})},[(0,uo.Wm)(s,{icon:"wrench"}),(0,uo.Uk)((0,po.zw)(e.$t("settings.more_settings")),1)])])]})),trigger:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{icon:"bars"})]})),_:1},8,["trigger-attrs"])}]]);function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.Sbq,Nt.UXu,Nt.A35);var _l=function(e,t){var n="retweet"===e.type?e.retweeted_status.id:e.id,o="retweet"===t.type?t.retweeted_status.id:t.id,r=Number(n),i=Number(o),s=!Number.isNaN(r),a=!Number.isNaN(i);return s&&a?r<i?-1:1:s&&!a?-1:!s&&a?1:n<o?-1:1};const kl={data:function(){return{highlight:null,expanded:!1,threadDisplayStatusObject:{},statusContentPropertiesObject:{},inlineDivePosition:null}},props:["statusId","collapsable","isPage","pinnedStatusIdsObject","inProfile","profileUserId","virtualHidden"],created:function(){this.isPage&&this.fetchConversation()},computed:yl(yl({maxDepthToShowByDefault:function(){var e=this.$store.getters.mergedConfig.maxDepthInThread-2;return e>=1?e:1},streamingEnabled:function(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===h._z.JOINED},displayStyle:function(){return this.$store.getters.mergedConfig.conversationDisplay},isTreeView:function(){return!this.isLinearView},treeViewIsSimple:function(){return!this.$store.getters.mergedConfig.conversationTreeAdvanced},isLinearView:function(){return"linear"===this.displayStyle},shouldFadeAncestors:function(){return this.$store.getters.mergedConfig.conversationTreeFadeAncestors},otherRepliesButtonPosition:function(){return this.$store.getters.mergedConfig.conversationOtherRepliesButton},showOtherRepliesButtonBelowStatus:function(){return"below"===this.otherRepliesButtonPosition},showOtherRepliesButtonInsideStatus:function(){return"inside"===this.otherRepliesButtonPosition},suspendable:function(){return this.isTreeView?Object.entries(this.statusContentProperties).every((function(e){var t=(0,l.Z)(e,2),n=(t[0],t[1]);return!n.replying&&0===n.mediaPlaying.length})):!this.$refs.statusComponent||!this.$refs.statusComponent[0]||this.$refs.statusComponent.every((function(e){return e.suspendable}))},hideStatus:function(){return this.virtualHidden&&this.suspendable},status:function(){return this.$store.state.statuses.allStatusesObject[this.statusId]},originalStatusId:function(){return this.status.retweeted_status?this.status.retweeted_status.id:this.statusId},conversationId:function(){return this.getConversationId(this.statusId)},conversation:function(){if(!this.status)return[];if(!this.isExpanded)return[this.status];var e=qc()(this.$store.state.statuses.conversationsObject[this.conversationId]),t=q()(e,{id:this.originalStatusId});return-1!==t&&(e[t]=this.status),function(e,t){return(e="retweet"===t.type?yn()(e,(function(e){return"retweet"===e.type||e.id!==t.retweeted_status.id})):yn()(e,(function(e){return"retweet"!==e.type}))).filter((function(e){return e})).sort(_l)}(e,this.status)},statusMap:function(){return this.conversation.reduce((function(e,t){return e[t.id]=t,e}),{})},threadTree:function(){var e=this,t=this.conversation.reduce((function(e,t,n){return e[t.id]=n,e}),{}),n=function n(o,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.map((function(r){return s[r]?[]:(s[r]=!0,[{status:e.conversation[t[r]],id:r,depth:i},n(o,o[r],i+1,s)].reduce((function(e,t){return e.concat(t)}),[]))})).reduce((function(e,t){return e.concat(t)}),[])}(this.conversation.reduce((function(t,n){var o=n.id;return t.forest[o]=e.getReplies(o).map((function(e){return e.id})),t}),{forest:{}}).forest,this.topLevel.map((function(e){return e.id})));return n},replyIds:function(){var e=this;return this.conversation.map((function(e){return e.id})).reduce((function(t,n){return t[n]=(e.replies[n]||[]).map((function(e){return e.id})),t}),{})},totalReplyCount:function(){var e=this,t={};return this.conversation.map((function(e){return e.id})).map((function n(o){return t[o]||(t[o]=1+e.replyIds[o].map((function(e){return n(e)})).reduce((function(e,t){return e+t}),0)),t[o]})),Object.keys(t).reduce((function(e,n){return e[n]=t[n]-1,e}),{})},totalReplyDepth:function(){var e=this,t={};return this.conversation.map((function(e){return e.id})).map((function n(o){return t[o]||(t[o]=1+e.replyIds[o].map((function(e){return n(e)})).reduce((function(e,t){return e>t?e:t}),0)),t[o]})),Object.keys(t).reduce((function(e,n){return e[n]=t[n]-1,e}),{})},depths:function(){return this.threadTree.reduce((function(e,t){return e[t.id]=t.depth,e}),{})},topLevel:function(){var e=this;return this.conversation.reduce((function(t,n){return t.filter((function(t){return-1===e.getReplies(n.id).map((function(e){return e.id})).indexOf(t.id)}))}),this.conversation)},otherTopLevelCount:function(){return this.topLevel.length-1},showingTopLevel:function(){return this.canDive&&this.diveRoot?[this.statusMap[this.diveRoot]]:this.topLevel},diveRoot:function(){var e=this.inlineDivePosition||this.statusId;return this.parentOf(e)?e:null},diveDepth:function(){return this.canDive&&this.diveRoot?this.depths[this.diveRoot]:0},diveMode:function(){return this.canDive&&!!this.diveRoot},shouldShowAllConversationButton:function(){return this.isTreeView&&this.isExpanded&&this.diveMode&&this.topLevel.length>1},shouldShowAncestors:function(){return this.isTreeView&&this.isExpanded&&this.ancestorsOf(this.diveRoot).length},replies:function(){var e=1;return Ee()(this.conversation,(function(t,n){var o=n.id,r=n.in_reply_to_status_id;return r&&(t[r]=t[r]||[],t[r].push({name:"#".concat(e),id:o})),e++,t}),{})},isExpanded:function(){return!(!this.expanded&&!this.isPage)},hiddenStyle:function(){var e=this.status&&this.status.virtualHeight||"120px";return this.virtualHidden?{height:e}:{}},threadDisplayStatus:function(){var e=this;return this.conversation.reduce((function(t,n){var o=n.id,r=e.depths[o],i=e.threadDisplayStatusObject[o]?e.threadDisplayStatusObject[o]:r-e.diveDepth<=e.maxDepthToShowByDefault?"showing":"hidden";return t[o]=i,t}),{})},statusContentProperties:function(){var e=this;return this.conversation.reduce((function(t,n){var o,r=n.id,i=(o={showingTall:!1,expandingSubject:!1,showingLongSubject:!1,isReplying:!1,mediaPlaying:[]},e.statusContentPropertiesObject[r]?yl(yl({},o),e.statusContentPropertiesObject[r]):o);return t[r]=i,t}),{})},canDive:function(){return this.isTreeView&&this.isExpanded},focused:function(){var e=this;return function(t){return e.isExpanded&&t===e.highlight}},maybeHighlight:function(){return this.isExpanded?this.highlight:null}},(0,s.Se)(["mergedConfig"])),(0,s.rn)({mastoUserSocketStatus:function(e){return e.api.mastoUserSocketStatus}})),components:{Status:qa.default,ThreadTree:Hc,QuickFilterSettings:sl,QuickViewSettings:wl},watch:{statusId:function(e,t){var n=this.getConversationId(e),o=this.getConversationId(t);n&&o&&n===o?this.setHighlight(this.originalStatusId):this.fetchConversation()},expanded:function(e){e?this.fetchConversation():this.resetDisplayState()},virtualHidden:function(e){this.$store.dispatch("setVirtualHeight",{statusId:this.statusId,height:"".concat(this.$el.clientHeight,"px")})}},methods:{fetchConversation:function(){var e=this;this.status?this.$store.state.api.backendInteractor.fetchConversation({id:this.statusId}).then((function(t){var n=t.ancestors,o=t.descendants;e.$store.dispatch("addNewStatuses",{statuses:n}),e.$store.dispatch("addNewStatuses",{statuses:o}),e.setHighlight(e.originalStatusId)})):this.$store.state.api.backendInteractor.fetchStatus({id:this.statusId}).then((function(t){e.$store.dispatch("addNewStatuses",{statuses:[t]}),e.fetchConversation()}))},getReplies:function(e){return this.replies[e]||[]},getHighlight:function(){return this.isExpanded?this.highlight:null},setHighlight:function(e){e&&(this.highlight=e,this.streamingEnabled||this.$store.dispatch("fetchStatus",e),this.$store.dispatch("fetchFavsAndRepeats",e),this.$store.dispatch("fetchEmojiReactionsBy",e))},toggleExpanded:function(){this.expanded=!this.expanded},getConversationId:function(e){var t=this.$store.state.statuses.allStatusesObject[e];return Tt()(t,"retweeted_status.statusnet_conversation_id",Tt()(t,"statusnet_conversation_id"))},setThreadDisplay:function(e,t){this.threadDisplayStatusObject=yl(yl({},this.threadDisplayStatusObject),{},(0,d.Z)({},e,t))},toggleThreadDisplay:function(e){var t="showing"===this.threadDisplayStatus[e]?"hidden":"showing";this.setThreadDisplay(e,t)},setThreadDisplayRecursively:function(e,t){var n=this;this.setThreadDisplay(e,t),this.getReplies(e).map((function(e){return e.id})).map((function(e){return n.setThreadDisplayRecursively(e,t)}))},showThreadRecursively:function(e){this.setThreadDisplayRecursively(e,"showing")},setStatusContentProperty:function(e,t,n){this.statusContentPropertiesObject=yl(yl({},this.statusContentPropertiesObject),{},(0,d.Z)({},e,yl(yl({},this.statusContentPropertiesObject[e]),{},(0,d.Z)({},t,n))))},toggleStatusContentProperty:function(e,t){this.setStatusContentProperty(e,t,!this.statusContentProperties[e][t])},leastVisibleAncestor:function(e){for(var t=e,n=this.parentOf(t);t;){if("showing"===this.threadDisplayStatus[n])return t;n=this.parentOf(n),t=this.parentOf(t)}return this.topLevel[0]?this.topLevel[0].id:void 0},diveIntoStatus:function(e,t){this.tryScrollTo(e)},diveToTopLevel:function(){this.tryScrollTo(this.topLevelAncestorOrSelfId(this.diveRoot)||this.topLevel[0].id)},undive:function(){this.inlineDivePosition=null,this.setHighlight(this.statusId)},tryScrollTo:function(e){var t=this;e&&(this.isPage?this.$router.push({name:"conversation",params:{id:e}}):this.inlineDivePosition=e,this.$nextTick((function(){t.setHighlight(e)})))},goToCurrent:function(){this.tryScrollTo(this.diveRoot||this.topLevel[0].id)},statusById:function(e){return this.statusMap[e]},parentOf:function(e){var t=this.statusById(e);if(t){var n=t.in_reply_to_status_id;if(this.statusMap[n])return n}},parentOrSelf:function(e){return this.parentOf(e)||e},ancestorsOf:function(e){for(var t=[],n=this.parentOf(e);n;)t.unshift(this.statusMap[n]),n=this.parentOf(n);return t},topLevelAncestorOrSelfId:function(e){for(var t=e,n=this.parentOf(e);n;)t=this.parentOf(t),n=this.parentOf(n);return t},resetDisplayState:function(){this.undive(),this.threadDisplayStatusObject={}}}},Sl=(0,Eo.Z)(kl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("QuickFilterSettings"),a=(0,uo.up)("QuickViewSettings"),c=(0,uo.up)("FAIcon"),l=(0,uo.up)("i18n-t"),u=(0,uo.up)("status"),d=(0,uo.up)("thread-tree");return e.hideStatus?((0,uo.wg)(),(0,uo.iD)("div",{key:1,style:(0,po.j5)(e.hiddenStyle)},null,4)):((0,uo.wg)(),(0,uo.iD)("div",{key:0,style:(0,po.j5)(e.hiddenStyle),class:(0,po.C_)(["Conversation",{"-expanded":e.isExpanded,panel:e.isExpanded}])},[e.isExpanded?((0,uo.wg)(),(0,uo.iD)("div",xc,[(0,uo._)("span",Tc,(0,po.zw)(e.$t("timeline.conversation")),1),e.collapsable?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-unstyled -link",onClick:t[0]||(t[0]=(0,ro.iM)((function(){return e.toggleExpanded&&e.toggleExpanded.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("timeline.collapse")),1)):(0,uo.kq)("",!0),e.collapsable?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(s,{key:1,conversation:!0,class:"rightside-button"})),e.collapsable?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(a,{key:2,conversation:!0,class:"rightside-button"}))])):(0,uo.kq)("",!0),(0,uo._)("div",$c,[e.isTreeView?((0,uo.wg)(),(0,uo.iD)("div",Uc,[e.shouldShowAllConversationButton?((0,uo.wg)(),(0,uo.iD)("div",Mc,[(0,uo.Wm)(l,{keypath:"status.show_all_conversation_with_icon",tag:"button",class:"button-unstyled -link",scope:"global",onClick:(0,ro.iM)(e.diveToTopLevel,["prevent"])},{icon:(0,uo.w5)((function(){return[(0,uo.Wm)(c,{icon:"angle-double-left"})]})),text:(0,uo.w5)((function(){return[(0,uo._)("span",null,(0,po.zw)(e.$tc("status.show_all_conversation",e.otherTopLevelCount,{numStatus:e.otherTopLevelCount})),1)]})),_:1},8,["onClick"])])):(0,uo.kq)("",!0),e.shouldShowAncestors?((0,uo.wg)(),(0,uo.iD)("div",Ac,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.ancestorsOf(e.diveRoot),(function(t){return(0,uo.wg)(),(0,uo.iD)("article",{key:t.id,class:(0,po.C_)(["thread-ancestor",{"thread-ancestor-has-other-replies":e.getReplies(t.id).length>1,"-faded":e.shouldFadeAncestors}])},[(0,uo.Wm)(u,{ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:t,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[t.id],focused:e.focused(t.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(t.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","simple-tree":e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"show-other-replies-as-button":e.showOtherRepliesButtonInsideStatus,dive:function(){return e.diveIntoStatus(t.id)},"controlled-showing-tall":e.statusContentProperties[t.id].showingTall,"controlled-expanding-subject":e.statusContentProperties[t.id].expandingSubject,"controlled-showing-long-subject":e.statusContentProperties[t.id].showingLongSubject,"controlled-replying":e.statusContentProperties[t.id].replying,"controlled-media-playing":e.statusContentProperties[t.id].mediaPlaying,"controlled-toggle-showing-tall":function(){return e.toggleStatusContentProperty(t.id,"showingTall")},"controlled-toggle-expanding-subject":function(){return e.toggleStatusContentProperty(t.id,"expandingSubject")},"controlled-toggle-showing-long-subject":function(){return e.toggleStatusContentProperty(t.id,"showingLongSubject")},"controlled-toggle-replying":function(){return e.toggleStatusContentProperty(t.id,"replying")},"controlled-set-media-playing":function(n){return e.toggleStatusContentProperty(t.id,"mediaPlaying",n)},onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","simple-tree","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","show-other-replies-as-button","dive","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-replying","controlled-media-playing","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","controlled-toggle-replying","controlled-set-media-playing","onGoto","onToggleExpanded"]),e.showOtherRepliesButtonBelowStatus&&e.getReplies(t.id).length>1?((0,uo.wg)(),(0,uo.iD)("div",Lc,[(0,uo._)("div",Ec,[(0,uo.Wm)(l,{tag:"button",scope:"global",keypath:"status.ancestor_follow_with_icon",class:"button-unstyled -link thread-tree-show-replies-button",onClick:(0,ro.iM)((function(n){return e.diveIntoStatus(t.id)}),["prevent"])},{icon:(0,uo.w5)((function(){return[(0,uo.Wm)(c,{icon:"angle-double-right"})]})),text:(0,uo.w5)((function(){return[(0,uo._)("span",null,(0,po.zw)(e.$tc("status.ancestor_follow",e.getReplies(t.id).length-1,{numReplies:e.getReplies(t.id).length-1})),1)]})),_:2},1032,["onClick"])])])):(0,uo.kq)("",!0)],2)})),128))])):(0,uo.kq)("",!0),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.showingTopLevel,(function(t){return(0,uo.wg)(),(0,uo.j4)(d,{key:t.id,ref_for:!0,ref:"statusComponent",depth:0,status:t,"in-profile":e.inProfile,conversation:e.conversation,collapsable:e.collapsable,"is-expanded":e.isExpanded,"pinned-status-ids-object":e.pinnedStatusIdsObject,"profile-user-id":e.profileUserId,focused:e.focused,"get-replies":e.getReplies,highlight:e.maybeHighlight,"set-highlight":e.setHighlight,"toggle-expanded":e.toggleExpanded,simple:e.treeViewIsSimple,"toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,dive:e.canDive?e.diveIntoStatus:void 0},null,8,["status","in-profile","conversation","collapsable","is-expanded","pinned-status-ids-object","profile-user-id","focused","get-replies","highlight","set-highlight","toggle-expanded","simple","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","dive"])})),128))])):(0,uo.kq)("",!0),e.isLinearView?((0,uo.wg)(),(0,uo.iD)("div",Fc,[(0,uo._)("article",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.conversation,(function(t){return(0,uo.wg)(),(0,uo.j4)(u,{key:t.id,ref_for:!0,ref:"statusComponent","inline-expanded":e.collapsable&&e.isExpanded,statusoid:t,expandable:!e.isExpanded,"show-pinned":e.pinnedStatusIdsObject&&e.pinnedStatusIdsObject[t.id],focused:e.focused(t.id),"in-conversation":e.isExpanded,highlight:e.getHighlight(),replies:e.getReplies(t.id),"in-profile":e.inProfile,"profile-user-id":e.profileUserId,class:"conversation-status status-fadein panel-body","toggle-thread-display":e.toggleThreadDisplay,"thread-display-status":e.threadDisplayStatus,"show-thread-recursively":e.showThreadRecursively,"total-reply-count":e.totalReplyCount,"total-reply-depth":e.totalReplyDepth,"status-content-properties":e.statusContentProperties,"set-status-content-property":e.setStatusContentProperty,"toggle-status-content-property":e.toggleStatusContentProperty,onGoto:e.setHighlight,onToggleExpanded:e.toggleExpanded},null,8,["inline-expanded","statusoid","expandable","show-pinned","focused","in-conversation","highlight","replies","in-profile","profile-user-id","toggle-thread-display","thread-display-status","show-thread-recursively","total-reply-count","total-reply-depth","status-content-properties","set-status-content-property","toggle-status-content-property","onGoto","onToggleExpanded"])})),128))])])):(0,uo.kq)("",!0)])],6))}]]);var jl={key:1},Cl={class:"button-unstyled title timeline-menu-title"},Ol={class:"timeline-title"};function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.ptq);const Dl={components:{Popover:nl.default,NavigationEntry:Wr,ListsMenuContent:Kr},data:function(){return{isOpen:!1}},created:function(){({friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn"})[this.$route.name]&&this.$store.dispatch("setLastTimeline",this.$route.name)},computed:zl(zl({useListsMenu:function(){return"lists-timeline"===this.$route.name}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},privateMode:function(e){return e.instance.private},federating:function(e){return e.instance.federating}})),{},{timelinesList:function(){return Br(Object.entries(Er).map((function(e){var t=(0,l.Z)(e,2),n=t[0];return zl(zl({},t[1]),{},{name:n})})),{hasChats:this.pleromaChatMessagesAvailable,isFederating:this.federating,isPrivate:this.privateMode,currentUser:this.currentUser})}}),methods:{openMenu:function(){var e=this;setTimeout((function(){e.isOpen=!0}),25)},blockOpen:function(e){this.isOpen||e.stopPropagation()},timelineName:function(){var e=this.$route.name;if("tag-timeline"===e)return"#"+this.$route.params.tag;if("lists-timeline"===e)return this.$store.getters.findListTitle(this.$route.params.id);var t={friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn"}[this.$route.name];return t?this.$t(t):e}}},Il=(0,Eo.Z)(Dl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("ListsMenuContent"),a=(0,uo.up)("NavigationEntry"),c=(0,uo.up)("FAIcon"),l=(0,uo.up)("Popover");return(0,uo.wg)(),(0,uo.j4)(l,{trigger:"click",class:(0,po.C_)(["TimelineMenu",{open:e.isOpen}]),"bound-to":{x:"container"},"bound-to-selector":".Timeline","popover-class":"timeline-menu-popover popover-default",onShow:e.openMenu,onClose:t[1]||(t[1]=function(){return e.isOpen=!1})},{content:(0,uo.w5)((function(){return[e.useListsMenu?((0,uo.wg)(),(0,uo.j4)(s,{key:0,"show-pin":!1,class:"timelines"})):((0,uo.wg)(),(0,uo.iD)("ul",jl,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.timelinesList,(function(e){return(0,uo.wg)(),(0,uo.j4)(a,{key:e.name,"show-pin":!1,item:e},null,8,["item"])})),128))]))]})),trigger:(0,uo.w5)((function(){return[(0,uo._)("span",Cl,[(0,uo._)("span",Ol,(0,po.zw)(e.timelineName()),1),(0,uo._)("span",null,[(0,uo.Wm)(c,{size:"sm",icon:"chevron-down"})]),(0,uo._)("span",{class:"click-blocker",onClick:t[0]||(t[0]=function(){return e.blockOpen&&e.blockOpen.apply(e,arguments)})})])]})),_:1},8,["class","onShow"])}]]);function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}qt.vI.add(Nt.IJ7,Nt.b7W,Nt.Kl4,Nt.FPD,Nt.EQ8,Nt.LEp);var Tl={props:["timeline","timelineName","title","userId","listId","tag","embedded","count","pinnedStatusIds","inProfile","footerSlipgate"],data:function(){return{showScrollTop:!1,paused:!1,unfocused:!1,bottomedOut:!1,virtualScrollIndex:0,blockingClicks:!1}},components:{Status:qa.default,Conversation:Sl,TimelineMenu:Il,QuickFilterSettings:sl,QuickViewSettings:wl},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({filteredVisibleStatuses:function(){var e=this;return this.timeline.visibleStatuses.filter((function(t){return"user"!==e.timelineName||t.id>=e.timeline.minId&&t.id<=e.timeline.maxId}))},filteredPinnedStatusIds:function(){var e=this;return(this.pinnedStatusIds||[]).filter((function(t){return e.timeline.statusesObject[t]}))},newStatusCount:function(){return this.timeline.newStatusCount},showLoadButton:function(){return this.timeline.newStatusCount>0||0!==this.timeline.flushMarker},loadButtonString:function(){return 0!==this.timeline.flushMarker?this.$t("timeline.reload"):"".concat(this.$t("timeline.show_new")," (").concat(this.newStatusCount,")")},mobileLoadButtonString:function(){return 0!==this.timeline.flushMarker?"+":this.newStatusCount>99?"∞":this.newStatusCount},classes:function(){var e=this.embedded?["-nonpanel"]:["panel","panel-default"];return this.blockingClicks&&(e=e.concat(["-blocked","_misclick-prevention"])),{root:e,header:["timeline-heading"].concat(this.embedded?[]:["panel-heading","-sticky"]),body:["timeline-body"].concat(this.embedded?[]:["panel-body"]),footer:["timeline-footer"].concat(this.embedded?[]:["panel-footer"])}},pinnedStatusIdsObject:function(){return zc()(this.pinnedStatusIds)},statusesToDisplay:function(){var e=this.timeline.visibleStatuses.length,t=Math.ceil(Math.max(3,window.innerHeight/80)),n=this.virtualScrollIndex-this.filteredPinnedStatusIds.length,o=Math.max(0,n-t),r=Math.min(e,n+t);return this.timeline.visibleStatuses.slice(o,r).map((function(e){return e.id}))},virtualScrollingEnabled:function(){return this.$store.getters.mergedConfig.virtualScrolling}},(0,s.rn)({mobileLayout:function(e){return"mobile"===e.interface.layoutType}})),created:function(){var e=this.$store,t=e.state.users.currentUser.credentials,n=0===this.timeline.visibleStatuses.length;if(window.addEventListener("scroll",this.handleScroll),e.state.api.fetchers[this.timelineName])return!1;Pe.fetchAndUpdate({store:e,credentials:t,timeline:this.timelineName,showImmediately:n,userId:this.userId,listId:this.listId,tag:this.tag})},mounted:function(){void 0!==document.hidden&&(document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.unfocused=document.hidden),window.addEventListener("keydown",this.handleShortKey),setTimeout(this.determineVisibleStatuses,250)},unmounted:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("keydown",this.handleShortKey),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.commit("setLoading",{timeline:this.timelineName,value:!1})},methods:{scrollToTop:function(){window.scrollTo({top:this.$el.offsetTop})},stopBlockingClicks:Bs()((function(){this.blockingClicks=!1}),1e3),blockClicksTemporarily:function(){this.blockingClicks||(this.blockingClicks=!0),this.stopBlockingClicks()},handleShortKey:function(e){["textarea","input"].includes(e.target.tagName.toLowerCase())||"."===e.key&&this.showNewStatuses()},showNewStatuses:function(){0!==this.timeline.flushMarker?(this.$store.commit("clearTimeline",{timeline:this.timelineName,excludeUserId:!0}),this.$store.commit("queueFlush",{timeline:this.timelineName,id:0}),this.fetchOlderStatuses()):(this.blockClicksTemporarily(),this.$store.commit("showNewStatuses",{timeline:this.timelineName}),this.paused=!1),window.scrollTo({top:0})},fetchOlderStatuses:Ic()((function(){var e=this,t=this.$store,n=t.state.users.currentUser.credentials;t.commit("setLoading",{timeline:this.timelineName,value:!0}),Pe.fetchAndUpdate({store:t,credentials:n,timeline:this.timelineName,older:!0,showImmediately:!0,userId:this.userId,listId:this.listId,tag:this.tag}).then((function(t){var n=t.statuses;n&&0===n.length&&(e.bottomedOut=!0)})).finally((function(){return t.commit("setLoading",{timeline:e.timelineName,value:!1})}))}),1e3,void 0),determineVisibleStatuses:function(){if(this.$refs.timeline&&this.virtualScrollingEnabled){var e=this.$refs.timeline.children,t=Math.max(0,Math.min(this.virtualScrollIndex,e.length-1));if(0!==e.length){var n=Math.max(document.body.offsetHeight,window.pageYOffset),o=window.pageYOffset+.5*window.innerHeight,r=Math.floor(e.length*(o/n)),i=e[r].getBoundingClientRect().y,s=e[t].getBoundingClientRect().y;for(Math.abs(i)>s&&(r=t,i=s);i<-20&&r<e.length-1;)i+=e[r].offsetHeight,r++;for(;i>window.innerHeight+100&&r>0;)i-=e[--r].offsetHeight;this.virtualScrollIndex=r}}},scrollLoad:function(e){var t=document.body.getBoundingClientRect(),n=Math.max(t.height,-t.y);!1===this.timeline.loading&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchOlderStatuses()},handleScroll:Ic()((function(e){this.showScrollTop=this.$el.offsetTop<window.scrollY,this.determineVisibleStatuses(),this.scrollLoad(e)}),200),handleVisibilityChange:function(){this.unfocused=document.hidden}},watch:{newStatusCount:function(e){if(this.$store.getters.mergedConfig.streaming&&e>0){var t=document.documentElement;!((window.pageYOffset||t.scrollTop)-(t.clientTop||0)<15)||this.paused||this.unfocused&&this.$store.getters.mergedConfig.pauseOnUnfocused?this.paused=!0:this.showNewStatuses()}}}};const $l=Tl,Ul=(0,Eo.Z)($l,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("TimelineMenu"),a=(0,uo.up)("FAIcon"),c=(0,uo.up)("FALayers"),l=(0,uo.up)("QuickFilterSettings"),u=(0,uo.up)("QuickViewSettings"),d=(0,uo.up)("conversation");return(0,uo.wg)(),(0,uo.iD)("div",{class:(0,po.C_)(["Timeline",e.classes.root])},[(0,uo._)("div",{class:(0,po.C_)(e.classes.header)},[e.embedded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(s,{key:0,"timeline-name":e.timelineName},null,8,["timeline-name"])),e.showScrollTop&&!e.embedded?((0,uo.wg)(),(0,uo.iD)("div",gc,[(0,uo._)("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=function(){return e.scrollToTop&&e.scrollToTop.apply(e,arguments)})},[(0,uo.Wm)(c,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{icon:"arrow-up"}),(0,uo.Wm)(a,{icon:"minus",transform:"up-7"})]})),_:1})],8,vc)])):(0,uo.kq)("",!0),e.mobileLayout&&!e.embedded?((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:2},[e.showLoadButton?((0,uo.wg)(),(0,uo.iD)("div",wc,[(0,uo._)("button",{class:"button-unstyled loadmore-button",title:e.loadButtonString,onClick:t[1]||(t[1]=(0,ro.iM)((function(){return e.showNewStatuses&&e.showNewStatuses.apply(e,arguments)}),["prevent"]))},[(0,uo.Wm)(a,{"fixed-width":"",icon:"circle-plus"}),(0,uo._)("div",yc,(0,po.zw)(e.mobileLoadButtonString),1)],8,bc)])):e.embedded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",{key:1,class:"loadmore-text faint veryfaint rightside-icon",title:e.$t("timeline.up_to_date"),"aria-disabled":!0,onClick:t[2]||(t[2]=(0,ro.iM)((function(){}),["prevent"]))},[(0,uo.Wm)(a,{"fixed-width":"",icon:"check"})],8,_c))],64)):((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:3},[e.showLoadButton?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"button-default loadmore-button",onClick:t[3]||(t[3]=(0,ro.iM)((function(){return e.showNewStatuses&&e.showNewStatuses.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.loadButtonString),1)):e.embedded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",{key:1,class:"loadmore-text faint",onClick:t[4]||(t[4]=(0,ro.iM)((function(){}),["prevent"]))},(0,po.zw)(e.$t("timeline.up_to_date")),1))],64)),e.embedded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(l,{key:4,class:"rightside-button"})),e.embedded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.j4)(u,{key:5,class:"rightside-button"}))],2),(0,uo._)("div",{class:(0,po.C_)(e.classes.body)},[(0,uo._)("div",kc,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.filteredPinnedStatusIds,(function(t){return(0,uo.wg)(),(0,uo.j4)(d,{key:t+"-pinned",role:"listitem",class:"status-fadein","status-id":t,collapsable:!0,"pinned-status-ids-object":e.pinnedStatusIdsObject,"in-profile":e.inProfile,"profile-user-id":e.userId},null,8,["status-id","pinned-status-ids-object","in-profile","profile-user-id"])})),128)),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.filteredVisibleStatuses,(function(t){return(0,uo.wg)(),(0,uo.j4)(d,{key:t.id,role:"listitem",class:"status-fadein","status-id":t.id,collapsable:!0,"in-profile":e.inProfile,"profile-user-id":e.userId,"virtual-hidden":e.virtualScrollingEnabled&&!e.statusesToDisplay.includes(t.id)},null,8,["status-id","in-profile","profile-user-id","virtual-hidden"])})),128))],512)],2),(0,uo._)("div",{class:(0,po.C_)(e.classes.footer)},[((0,uo.wg)(),(0,uo.j4)(uo.lR,{to:e.footerSlipgate,disabled:!e.embedded||!e.footerSlipgate},[0===e.count?((0,uo.wg)(),(0,uo.iD)("div",Sc,(0,po.zw)(e.$t("timeline.no_statuses")),1)):e.bottomedOut?((0,uo.wg)(),(0,uo.iD)("div",jc,(0,po.zw)(e.$t("timeline.no_more_statuses")),1)):e.timeline.loading?((0,uo.wg)(),(0,uo.iD)("div",Oc,[(0,uo.Wm)(a,{icon:"circle-notch",spin:"",size:"lg"})])):((0,uo.wg)(),(0,uo.iD)("button",{key:2,class:"button-unstyled -link",onClick:t[5]||(t[5]=(0,ro.iM)((function(t){return e.fetchOlderStatuses()}),["prevent"]))},[(0,uo._)("div",Cc,(0,po.zw)(e.$t("timeline.load_older")),1)]))],8,["to","disabled"]))],2)],2)}]]),Ml={components:{Timeline:Ul},computed:{timeline:function(){return this.$store.state.statuses.timelines.public}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"public"})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","public")}},Al=(0,Eo.Z)(Ml,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.$t("nav.public_tl"),timeline:e.timeline,"timeline-name":"public"},null,8,["title","timeline"])}]]),Ll={components:{Timeline:Ul},computed:{timeline:function(){return this.$store.state.statuses.timelines.publicAndExternal}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"publicAndExternal"})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","publicAndExternal")}},El=(0,Eo.Z)(Ll,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.$t("nav.twkn"),timeline:e.timeline,"timeline-name":"publicAndExternal"},null,8,["title","timeline"])}]]),Fl={components:{Timeline:Ul},computed:{timeline:function(){return this.$store.state.statuses.timelines.friends}}},Rl=(0,Eo.Z)(Fl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.$t("nav.timeline"),timeline:e.timeline,"timeline-name":"friends"},null,8,["title","timeline"])}]]),ql={created:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})},components:{Timeline:Ul},computed:{tag:function(){return this.$route.params.tag},timeline:function(){return this.$store.state.statuses.timelines.tag}},watch:{tag:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})}},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","tag")}},Nl=(0,Eo.Z)(ql,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.tag,timeline:e.timeline,"timeline-name":"tag",tag:e.tag},null,8,["title","timeline","tag"])}]]),Zl={computed:{timeline:function(){return this.$store.state.statuses.timelines.bookmarks}},components:{Timeline:Ul},unmounted:function(){this.$store.commit("clearTimeline",{timeline:"bookmarks"})}},Wl=(0,Eo.Z)(Zl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.$t("nav.bookmarks"),timeline:e.timeline,"timeline-name":"bookmarks"},null,8,["title","timeline"])}]]),Bl={components:{Conversation:Sl},computed:{statusId:function(){return this.$route.params.id}}},Hl=(0,Eo.Z)(Bl,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("conversation");return(0,uo.wg)(),(0,uo.j4)(s,{collapsable:!1,"is-page":"true","status-id":e.statusId},null,8,["status-id"])}]]);var Vl={class:"panel panel-default"},Kl={class:"panel-heading"},Gl={class:"title"},Yl=["label"],Jl=["label"],Ql=["label"],Xl=["label"],eu=["label"],tu=["label"],nu=n(79354),ou={mentions:["mention"],"likes+repeats":["repeat","like"],follows:["follow"],reactions:["pleroma:emoji_reaction"],reports:["pleroma:report"],moves:["move"]};const ru={data:function(){return{allowFollowingMove:this.$store.state.users.currentUser.allow_following_move,filterMode:ou.mentions,canSeeReports:this.$store.state.users.currentUser.privileges.includes("reports_manage_reports")}},methods:{onModeSwitch:function(e){this.filterMode=ou[e]}},components:{Notifications:aa.default,TabSwitcher:nu.Z}},iu=(0,Eo.Z)(ru,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("tab-switcher"),a=(0,uo.up)("Notifications");return(0,uo.wg)(),(0,uo.iD)("div",Vl,[(0,uo._)("div",Kl,[(0,uo._)("div",Gl,(0,po.zw)(e.$t("nav.interactions")),1)]),(0,uo.Wm)(s,{ref:"tabSwitcher","on-switch":e.onModeSwitch},{default:(0,uo.w5)((function(){return[(0,uo._)("span",{key:"mentions",label:e.$t("nav.mentions")},null,8,Yl),(0,uo._)("span",{key:"likes+repeats",label:e.$t("interactions.favs_repeats")},null,8,Jl),(0,uo._)("span",{key:"follows",label:e.$t("interactions.follows")},null,8,Ql),(0,uo._)("span",{key:"reactions",label:e.$t("interactions.emoji_reactions")},null,8,Xl),e.canSeeReports?((0,uo.wg)(),(0,uo.iD)("span",{key:"reports",label:e.$t("interactions.reports")},null,8,eu)):(0,uo.kq)("",!0),e.allowFollowingMove?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("span",{key:"moves",label:e.$t("interactions.moves")},null,8,tu))]})),_:1},8,["on-switch"]),(0,uo.Wm)(a,{ref:"notifications","no-heading":!0,"minimal-mode":!0,"filter-mode":e.filterMode},null,8,["filter-mode"])])}]]),su={computed:{timeline:function(){return this.$store.state.statuses.timelines.dms}},components:{Timeline:Ul}},au=(0,Eo.Z)(su,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:e.$t("nav.dms"),timeline:e.timeline,"timeline-name":"dms"},null,8,["title","timeline"])}]]);var cu={key:0},lu={key:1,class:"chat-list panel panel-default"},uu={class:"panel-heading -sticky"},du={class:"title"},pu={class:"panel-body"},mu={key:0,class:"timeline"},hu={key:1,class:"emtpy-chat-list-alert"},fu={class:"chat-list-item-left"},gu={class:"chat-list-item-center"},vu={class:"heading"},wu={key:0,class:"name-and-account-name"},bu=(0,uo._)("span",{class:"heading-right"},null,-1),yu={class:"time-wrapper"},_u={class:"chat-preview"},ku={key:0,class:"badge badge-notification unread-chat-count"},Su=n(38146),ju=n(48173),Cu=n(19066),Ou=n(1840),Pu=["title"],zu=n(92820);const Du={name:"ChatTitle",components:{UserAvatar:ju.default,RichContent:zu.Z,UserPopover:(0,uo.RC)((function(){return Promise.resolve().then(n.bind(n,22588))}))},props:["user","withAvatar"],computed:{title:function(){return this.user?this.user.screen_name_ui:""},htmlTitle:function(){return this.user?this.user.name_html:""}}},Iu=(0,Eo.Z)(Du,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserAvatar"),a=(0,uo.up)("UserPopover"),c=(0,uo.up)("RichContent");return(0,uo.wg)(),(0,uo.iD)("div",{class:"chat-title",title:e.title},[e.withAvatar&&e.user?((0,uo.wg)(),(0,uo.j4)(a,{key:0,class:"avatar-container","user-id":e.user.id},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{class:"titlebar-avatar",user:e.user},null,8,["user"])]})),_:1},8,["user-id"])):(0,uo.kq)("",!0),e.user?((0,uo.wg)(),(0,uo.j4)(c,{key:1,class:"username",title:"@"+(e.user&&e.user.screen_name_ui),html:e.htmlTitle,emoji:e.user.emoji||[]},null,8,["title","html","emoji"])):(0,uo.kq)("",!0)],8,Pu)}]]);function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const $u={name:"ChatListItem",props:["chat"],components:{UserAvatar:ju.default,AvatarList:Cu.Z,Timeago:Ou.Z,ChatTitle:Iu,StatusBody:Su.Z},computed:Tu(Tu({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{attachmentInfo:function(){if(0!==this.chat.lastMessage.attachments.length){var e=this.chat.lastMessage.attachments.map((function(e){return hn.Z.fileType(e.mimetype)}));return e.includes("video")?this.$t("file_type.video"):e.includes("audio")?this.$t("file_type.audio"):e.includes("image")?this.$t("file_type.image"):this.$t("file_type.file")}},messageForStatusContent:function(){var e=this.chat.lastMessage,t=e?e.emojis:[],n=e&&e.account_id===this.currentUser.id,o=e?this.attachmentInfo||e.content:"",r=n?"<i>".concat(this.$t("chats.you"),"</i> ").concat(o):o;return{summary:"",emojis:t,raw_html:r,text:r,attachments:[]}}}),methods:{openChat:function(e){this.chat.id&&this.$router.push({name:"chat",params:{username:this.currentUser.screen_name,recipient_id:this.chat.account.id}})}}},Uu=(0,Eo.Z)($u,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserAvatar"),a=(0,uo.up)("ChatTitle"),c=(0,uo.up)("Timeago"),l=(0,uo.up)("StatusBody");return(0,uo.wg)(),(0,uo.iD)("div",{class:"chat-list-item",onClickCapture:t[0]||(t[0]=(0,ro.iM)((function(){return e.openChat&&e.openChat.apply(e,arguments)}),["prevent"]))},[(0,uo._)("div",fu,[(0,uo.Wm)(s,{user:e.chat.account,height:"48px",width:"48px"},null,8,["user"])]),(0,uo._)("div",gu,[(0,uo._)("div",vu,[e.chat.account?((0,uo.wg)(),(0,uo.iD)("span",wu,[(0,uo.Wm)(a,{user:e.chat.account},null,8,["user"])])):(0,uo.kq)("",!0),bu,(0,uo._)("div",yu,[(0,uo.Wm)(c,{time:e.chat.updated_at,"auto-update":60},null,8,["time"])])]),(0,uo._)("div",_u,[(0,uo.Wm)(l,{class:"chat-preview-body",status:e.messageForStatusContent,"single-line":!0},null,8,["status"]),e.chat.unread>0?((0,uo.wg)(),(0,uo.iD)("div",ku,(0,po.zw)(e.chat.unread),1)):(0,uo.kq)("",!0)])])],32)}]]);var Mu={class:"panel-default panel chat-new"},Au={ref:"header",class:"panel-heading"},Lu={class:"input-wrap"},Eu={class:"input-search"},Fu={class:"member-list"},Ru=["onClickCapture"],qu=n(29076);function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.wn1,Nt.A35);var Wu={components:{BasicUserCard:qu.Z,UserAvatar:ju.default},data:function(){return{suggestions:[],userIds:[],loading:!1,query:""}},created:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.backendInteractor.chats();case 2:t.sent.chats.forEach((function(t){return e.suggestions.push(t.account)}));case 5:case"end":return t.stop()}}),t)})))()},computed:Zu(Zu({users:function(){var e=this;return this.userIds.map((function(t){return e.findUser(t)}))},availableUsers:function(){return 0!==this.query.length?this.users:this.suggestions}},(0,s.rn)({currentUser:function(e){return e.users.currentUser},backendInteractor:function(e){return e.api.backendInteractor}})),(0,s.Se)(["findUser"])),methods:{goBack:function(){this.$emit("cancel")},goToChat:function(e){this.$router.push({name:"chat",params:{recipient_id:e.id}})},onInput:function(){this.search(this.query)},addUser:function(e){this.selectedUserIds.push(e.id),this.query=""},removeUser:function(e){this.selectedUserIds=this.selectedUserIds.filter((function(t){return t!==e}))},search:function(e){var t=this;e?(this.loading=!0,this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts"}).then((function(e){t.loading=!1,t.userIds=e.accounts.map((function(e){return e.id}))}))):this.loading=!1}}};const Bu=Wu,Hu=(0,Eo.Z)(Bu,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("BasicUserCard");return(0,uo.wg)(),(0,uo.iD)("div",Mu,[(0,uo._)("div",Au,[(0,uo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){return e.goBack&&e.goBack.apply(e,arguments)})},[(0,uo.Wm)(s,{size:"lg",icon:"chevron-left"})])],512),(0,uo._)("div",Lu,[(0,uo._)("div",Eu,[(0,uo.Wm)(s,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),(0,uo.wy)((0,uo._)("input",{ref:"search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.query=t}),placeholder:"Search people",onInput:t[2]||(t[2]=function(){return e.onInput&&e.onInput.apply(e,arguments)})},null,544),[[ro.nr,e.query]])]),(0,uo._)("div",Fu,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.availableUsers,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.id,class:"member"},[(0,uo._)("div",{onClickCapture:(0,ro.iM)((function(n){return e.goToChat(t)}),["prevent"])},[(0,uo.Wm)(a,{user:t},null,8,["user"])],40,Ru)])})),128))])])}]]);function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Gu={components:{ChatListItem:Uu,List:Na.Z,ChatNew:Hu},computed:Ku(Ku({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),(0,s.Se)(["sortedChatList"])),data:function(){return{isNew:!1}},created:function(){this.$store.dispatch("fetchChats",{latest:!0})},methods:{cancelNewChat:function(){this.isNew=!1,this.$store.dispatch("fetchChats",{latest:!0})},newChat:function(){this.isNew=!0}}},Yu=(0,Eo.Z)(Gu,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("ChatNew"),a=(0,uo.up)("ChatListItem"),c=(0,uo.up)("List");return e.isNew?((0,uo.wg)(),(0,uo.iD)("div",cu,[(0,uo.Wm)(s,{onCancel:e.cancelNewChat},null,8,["onCancel"])])):((0,uo.wg)(),(0,uo.iD)("div",lu,[(0,uo._)("div",uu,[(0,uo._)("span",du,(0,po.zw)(e.$t("chats.chats")),1),(0,uo._)("button",{class:"button-default",onClick:t[0]||(t[0]=function(){return e.newChat&&e.newChat.apply(e,arguments)})},(0,po.zw)(e.$t("chats.new")),1)]),(0,uo._)("div",pu,[e.sortedChatList.length>0?((0,uo.wg)(),(0,uo.iD)("div",mu,[(0,uo.Wm)(c,{items:e.sortedChatList},{item:(0,uo.w5)((function(e){var t=e.item;return[((0,uo.wg)(),(0,uo.j4)(a,{key:t.id,compact:!1,chat:t},null,8,["chat"]))]})),_:1},8,["items"])])):((0,uo.wg)(),(0,uo.iD)("div",hu,[(0,uo._)("span",null,(0,po.zw)(e.$t("chats.empty_chat_list_placeholder")),1)]))])]))}]]);var Ju={class:"chat-view"},Qu={class:"chat-view-inner"},Xu={ref:"inner",class:"panel-default panel chat-view-body"},ed={ref:"header",class:"panel-heading -sticky chat-view-heading"},td={class:"title text-center"},nd={key:1,class:"chat-loading-error"},od={class:"alert error"},rd={ref:"footer",class:"panel-body footer"},id={key:0,class:"badge badge-notification unread-chat-count unread-message-count"},sd={key:0,class:"avatar-wrapper"},ad={class:"chat-message-inner"},cd={class:"dropdown-menu"},ld=["title"],ud={class:"created-at"},dd={key:1,class:"chat-message-date-separator"},pd=n(66596),md=n(67671),hd=n(92798),fd=n(39776);const gd={name:"Timeago",props:["date"],computed:{displayDate:function(){var e=new Date;return e.setHours(0,0,0,0),this.date.getTime()===e.getTime()?this.$t("display_date.today"):this.date.toLocaleDateString(fd.Z.internalToBrowserLocale(this.$i18n.locale),{day:"numeric",month:"long"})}}},vd=(0,Eo.Z)(gd,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("time",null,(0,po.zw)(i.displayDate),1)}]]);function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC,Nt.cNd);const yd={name:"ChatMessage",props:["author","edited","noHeading","chatViewItem","hoveredMessageChain"],emits:["hover"],components:{Popover:nl.default,Attachment:pd.Z,StatusContent:Su.Z,UserAvatar:ju.default,Gallery:md.Z,LinkPreview:hd.Z,ChatMessageDate:vd,UserPopover:(0,uo.RC)((function(){return Promise.resolve().then(n.bind(n,22588))}))},computed:bd(bd({createdAt:function(){return this.chatViewItem.data.created_at.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1})},isCurrentUser:function(){return this.message.account_id===this.currentUser.id},message:function(){return this.chatViewItem.data},isMessage:function(){return"message"===this.chatViewItem.type},messageForStatusContent:function(){return{summary:"",emojis:this.message.emojis,raw_html:this.message.content||"",text:this.message.content||"",attachments:this.message.attachments}},hasAttachment:function(){return this.message.attachments.length>0}},(0,s.rn)({betterShadow:function(e){return e.interface.browserSupport.cssFilter},currentUser:function(e){return e.users.currentUser},restrictedNicknames:function(e){return e.instance.restrictedNicknames}})),{},{popoverMarginStyle:function(){return this.isCurrentUser?{}:{left:50}}},(0,s.Se)(["mergedConfig","findUser"])),data:function(){return{hovered:!1,menuOpened:!1}},methods:{onHover:function(e){this.$emit("hover",{isHovered:e,messageChainId:this.chatViewItem.messageChainId})},deleteMessage:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm(e.$t("chats.delete_confirm"))){t.next=4;break}return t.next=4,e.$store.dispatch("deleteChatMessage",{messageId:e.chatViewItem.data.id,chatId:e.chatViewItem.data.chat_id});case 4:e.hovered=!1,e.menuOpened=!1;case 6:case"end":return t.stop()}}),t)})))()}}},_d=(0,Eo.Z)(yd,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserAvatar"),a=(0,uo.up)("UserPopover"),c=(0,uo.up)("FAIcon"),l=(0,uo.up)("Popover"),u=(0,uo.up)("StatusContent"),d=(0,uo.up)("ChatMessageDate");return e.isMessage?((0,uo.wg)(),(0,uo.iD)("div",{key:0,class:(0,po.C_)(["chat-message-wrapper",{"hovered-message-chain":e.hoveredMessageChain}]),onMouseover:t[5]||(t[5]=function(t){return e.onHover(!0)}),onMouseleave:t[6]||(t[6]=function(t){return e.onHover(!1)})},[(0,uo._)("div",{class:(0,po.C_)(["chat-message",[{outgoing:e.isCurrentUser,incoming:!e.isCurrentUser}]])},[e.isCurrentUser?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",sd,[e.chatViewItem.isHead?((0,uo.wg)(),(0,uo.j4)(a,{key:0,"user-id":e.author.id},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{compact:!0,"better-shadow":e.betterShadow,user:e.author},null,8,["better-shadow","user"])]})),_:1},8,["user-id"])):(0,uo.kq)("",!0)])),(0,uo._)("div",ad,[(0,uo._)("div",{class:"status-body",style:(0,po.j5)({"min-width":e.message.attachment?"80%":""})},[(0,uo._)("div",{class:(0,po.C_)(["media status",{"without-attachment":!e.hasAttachment,pending:e.chatViewItem.data.pending,error:e.chatViewItem.data.error}]),style:{position:"relative"},onMouseenter:t[3]||(t[3]=function(t){return e.hovered=!0}),onMouseleave:t[4]||(t[4]=function(t){return e.hovered=!1})},[(0,uo._)("div",{class:(0,po.C_)(["chat-message-menu",{visible:e.hovered||e.menuOpened}])},[(0,uo.Wm)(l,{trigger:"click",placement:"top","bound-to-selector":".chat-view-inner","bound-to":{x:"container"},margin:e.popoverMarginStyle,onShow:t[1]||(t[1]=function(t){return e.menuOpened=!0}),onClose:t[2]||(t[2]=function(t){return e.menuOpened=!1})},{content:(0,uo.w5)((function(){return[(0,uo._)("div",cd,[(0,uo._)("button",{class:"button-default dropdown-item dropdown-item-icon",onClick:t[0]||(t[0]=function(){return e.deleteMessage&&e.deleteMessage.apply(e,arguments)})},[(0,uo.Wm)(c,{icon:"times"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("chats.delete")),1)])])]})),trigger:(0,uo.w5)((function(){return[(0,uo._)("button",{class:"button-default menu-icon",title:e.$t("chats.more")},[(0,uo.Wm)(c,{icon:"ellipsis-h"})],8,ld)]})),_:1},8,["margin"])],2),(0,uo.Wm)(u,{class:"message-content",status:e.messageForStatusContent,"full-content":!0},{footer:(0,uo.w5)((function(){return[(0,uo._)("span",ud,(0,po.zw)(e.createdAt),1)]})),_:1},8,["status"])],34)],4)])],2)],34)):((0,uo.wg)(),(0,uo.iD)("div",dd,[(0,uo.Wm)(d,{date:e.chatViewItem.date},null,8,["date"])]))}]]);var kd=function(){return{scrollTop:window.scrollY,scrollHeight:document.documentElement.scrollHeight,offsetHeight:window.innerHeight}};function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.ptq,Nt.A35);var Cd={components:{ChatMessage:_d,ChatTitle:Iu,PostStatusForm:yr.Z},data:function(){return{jumpToBottomButtonVisible:!1,hoveredMessageChainId:void 0,lastScrollPosition:{},scrollableContainerHeight:"100%",errorLoadingChat:!1,messageRetriers:{}}},created:function(){this.startFetching(),window.addEventListener("resize",this.handleResize)},mounted:function(){var e=this;window.addEventListener("scroll",this.handleScroll),void 0!==document.hidden&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$nextTick((function(){e.handleResize()}))},unmounted:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.dispatch("clearCurrentChat")},computed:jd(jd({recipient:function(){return this.currentChat&&this.currentChat.account},recipientId:function(){return this.$route.params.recipient_id},formPlaceholder:function(){return this.recipient?this.$t("chats.message_user",{nickname:this.recipient.screen_name_ui}):""},chatViewItems:function(){return En.getView(this.currentChatMessageService)},newMessageCount:function(){return this.currentChatMessageService&&this.currentChatMessageService.newMessageCount},streamingEnabled:function(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===h._z.JOINED}},(0,s.Se)(["currentChat","currentChatMessageService","findOpenedChatByRecipientId","mergedConfig"])),(0,s.rn)({backendInteractor:function(e){return e.api.backendInteractor},mastoUserSocketStatus:function(e){return e.api.mastoUserSocketStatus},mobileLayout:function(e){return"mobile"===e.interface.layoutType},currentUser:function(e){return e.users.currentUser}})),watch:{chatViewItems:function(){var e=this,t=this.bottomedOut(10);this.$nextTick((function(){t&&e.scrollDown()}))},$route:function(){this.startFetching()},mastoUserSocketStatus:function(e){e===h._z.JOINED&&this.fetchChat({isFirstFetch:!0})}},methods:{onMessageHover:function(e){var t=e.isHovered,n=e.messageChainId;this.hoveredMessageChainId=t?n:void 0},onFilesDropped:function(){var e=this;this.$nextTick((function(){e.handleResize()}))},handleVisibilityChange:function(){var e=this;this.$nextTick((function(){!document.hidden&&e.bottomedOut(10)&&e.scrollDown({forceRead:!0})}))},handleResize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.delayed,o=void 0!==n&&n;o?setTimeout((function(){e.handleResize(jd(jd({},t),{},{delayed:!1}))}),100):this.$nextTick((function(){var t=kd().offsetHeight,n=(void 0===t?void 0:t)-e.lastScrollPosition.offsetHeight;0===n||e.bottomedOut()||e.$nextTick((function(){window.scrollBy({top:-Math.trunc(n)})})),e.lastScrollPosition=kd()}))},scrollDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,n=void 0===t?"auto":t,o=e.forceRead,r=void 0!==o&&o;this.$nextTick((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:n})})),r&&this.readChat()},readChat:function(){if(this.currentChatMessageService&&this.currentChatMessageService.maxId&&!document.hidden){var e=this.currentChatMessageService.maxId;this.$store.dispatch("readChat",{id:this.currentChat.id,lastReadId:e})}},bottomedOut:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=window.scrollY+e;return document.documentElement.scrollHeight-window.innerHeight<=t}(e)},reachedTop:function(){return window.scrollY<=0},cullOlderCheck:function(){var e=this;window.setTimeout((function(){e.bottomedOut(10)&&e.$store.dispatch("cullOlderMessages",e.currentChatMessageService.chatId)}),5e3)},handleScroll:Ic()((function(){var e=this;this.lastScrollPosition=kd(),this.currentChat&&(this.reachedTop()?this.fetchChat({maxId:this.currentChatMessageService.minId}):this.bottomedOut(10)?(this.jumpToBottomButtonVisible=!1,this.cullOlderCheck(),this.newMessageCount>0&&window.setTimeout((function(){e.$el&&e.readChat()}),1500)):this.jumpToBottomButtonVisible=!0)}),200),handleScrollUp:function(e){var t,n,o=kd();window.scrollTo({top:(t=e,n=o,t.scrollTop+(n.scrollHeight-t.scrollHeight))})},fetchChat:function(e){var t=this,n=e.isFirstFetch,o=void 0!==n&&n,r=e.fetchLatest,i=void 0!==r&&r,s=e.maxId,a=this.currentChatMessageService;if(a&&(!i||!this.streamingEnabled)){var c=a.chatId,l=!!s,u=i&&a.maxId;return this.backendInteractor.chatMessages({id:c,maxId:s,sinceId:u}).then((function(e){o&&En.clear(a);var n=kd();t.$store.dispatch("addChatMessages",{chatId:c,messages:e}).then((function(){t.$nextTick((function(){l&&t.handleScrollUp(n),!(document.documentElement.scrollHeight>window.innerHeight)&&e.length>0&&t.fetchChat({maxId:t.currentChatMessageService.minId})}))}))}))}},startFetching:function(){var e=this;return(0,o.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.findOpenedChatByRecipientId(e.recipientId)){t.next=12;break}return t.prev=2,t.next=5,e.backendInteractor.getOrCreateChat({accountId:e.recipientId});case 5:n=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.error("Error creating or getting a chat",t.t0),e.errorLoadingChat=!0;case 12:n&&(e.$nextTick((function(){e.scrollDown({forceRead:!0})})),e.$store.dispatch("addOpenedChat",{chat:n}),e.doStartFetching());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},doStartFetching:function(){var e=this;this.$store.dispatch("startFetchingCurrentChat",{fetcher:function(){return(0,je.F)((function(){return e.fetchChat({fetchLatest:!0})}),5e3)}}),this.fetchChat({isFirstFetch:!0})},handleAttachmentPosting:function(){var e=this;this.$nextTick((function(){e.handleResize(),e.scrollDown({forceRead:!0})}))},sendMessage:function(e){var t=this,n=e.status,o=e.media,r=e.idempotencyKey,i={id:this.currentChat.id,content:n,idempotencyKey:r};o[0]&&(i.mediaId=o[0].id);var s=function(e){var t=e.attachments,n=e.userId,o=e.idempotencyKey,r={content:e.content,chat_id:e.chatId,created_at:new Date,id:"".concat((new Date).getTime()),attachments:t,account_id:n,idempotency_key:o,emojis:[],pending:!0,isNormalized:!0};return t[0]&&(r.attachment=t[0]),r}({attachments:o,chatId:this.currentChat.id,content:n,userId:this.currentUser.id,idempotencyKey:r});return this.$store.dispatch("addChatMessages",{chatId:this.currentChat.id,messages:[s]}).then((function(){t.handleAttachmentPosting()})),this.doSendMessage({params:i,fakeMessage:s,retriesLeft:10})},doSendMessage:function(e){var t=this,n=e.params,o=e.fakeMessage,r=e.retriesLeft,i=void 0===r?10:r;if(!(i<=0))return this.backendInteractor.sendChatMessage(n).then((function(e){return t.$store.dispatch("addChatMessages",{chatId:t.currentChat.id,updateMaxId:!1,messages:[jd(jd({},e),{},{fakeId:o.id})]}),e})).catch((function(e){return console.error("Error sending message",e),t.$store.dispatch("handleMessageError",{chatId:t.currentChat.id,fakeId:o.id,isRetry:10!==i}),(e.statusCode>=500&&e.statusCode<600||"Failed to fetch"===e.message)&&(t.messageRetriers[o.id]=setTimeout((function(){t.doSendMessage({params:n,fakeMessage:o,retriesLeft:i-1})}),1e3*Math.pow(2,10-i))),{}})),Promise.resolve(o)},goBack:function(){this.$router.push({name:"chats",params:{username:this.currentUser.screen_name}})}}};const Od=Cd,Pd=(0,Eo.Z)(Od,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("ChatTitle"),c=(0,uo.up)("ChatMessage"),l=(0,uo.up)("PostStatusForm");return(0,uo.wg)(),(0,uo.iD)("div",Ju,[(0,uo._)("div",Qu,[(0,uo._)("div",Xu,[(0,uo._)("div",ed,[(0,uo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){return e.goBack&&e.goBack.apply(e,arguments)})},[(0,uo.Wm)(s,{size:"lg",icon:"chevron-left"})]),(0,uo._)("div",td,[(0,uo.Wm)(a,{user:e.recipient,"with-avatar":!0},null,8,["user"])])],512),(0,uo._)("div",{class:"message-list",style:(0,po.j5)({height:e.scrollableContainerHeight})},[e.errorLoadingChat?((0,uo.wg)(),(0,uo.iD)("div",nd,[(0,uo._)("div",od,(0,po.zw)(e.$t("chats.error_loading_chat")),1)])):((0,uo.wg)(!0),(0,uo.iD)(uo.HY,{key:0},(0,uo.Ko)(e.chatViewItems,(function(t){return(0,uo.wg)(),(0,uo.j4)(c,{key:t.id,author:e.recipient,"chat-view-item":t,"hovered-message-chain":t.messageChainId===e.hoveredMessageChainId,onHover:e.onMessageHover},null,8,["author","chat-view-item","hovered-message-chain","onHover"])})),128))],4),(0,uo._)("div",rd,[(0,uo._)("div",{class:(0,po.C_)(["jump-to-bottom-button",{visible:e.jumpToBottomButtonVisible}]),onClick:t[1]||(t[1]=function(t){return e.scrollDown({behavior:"smooth"})})},[(0,uo._)("span",null,[(0,uo.Wm)(s,{icon:"chevron-down"}),e.newMessageCount?((0,uo.wg)(),(0,uo.iD)("div",id,(0,po.zw)(e.newMessageCount),1)):(0,uo.kq)("",!0)])],2),(0,uo.Wm)(l,{"disable-subject":!0,"disable-scope-selector":!0,"disable-notice":!0,"disable-lock-warning":!0,"disable-polls":!0,"disable-sensitivity-checkbox":!0,"disable-submit":e.errorLoadingChat||!e.currentChat,"disable-preview":!0,"optimistic-posting":!0,"post-handler":e.sendMessage,"submit-on-enter":!e.mobileLayout,"preserve-focus":!e.mobileLayout,"auto-focus":!e.mobileLayout,placeholder:e.formPlaceholder,"file-limit":1,"max-height":"160","emoji-picker-placement":"top",onResize:e.handleResize},null,8,["disable-submit","post-handler","submit-on-enter","preserve-focus","auto-focus","placeholder","onResize"])],512)],512)])])}]]);var zd={key:0,class:"user-profile panel panel-default"},Dd={key:0,class:"user-birthday"},Id={key:1,class:"user-profile-fields"},xd=["title"],Td=["title"],$d=["label","disabled"],Ud=["label","disabled"],Md={key:1,class:"panel user-profile-placeholder"},Ad={class:"panel-heading"},Ld={class:"title"},Ed={class:"panel-body"},Fd={key:0},Rd={class:"follow-card-content-container"},qd={key:0,class:"faint"},Nd={key:0,class:"follow-card-follow-button"},Zd=n(72895),Wd=n(34837),Bd=["disabled","title"],Hd=["textContent"];const Vd={props:["user","relationship"],data:function(){return{inProgress:!1,showingConfirmRemoveFollower:!1}},components:{ConfirmModal:ca.Z},computed:{label:function(){return this.inProgress?this.$t("user_card.follow_progress"):this.$t("user_card.remove_follower")},shouldConfirmRemoveUserFromFollowers:function(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers}},methods:{showConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!1},onClick:function(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers:function(){var e=this;this.inProgress=!0,this.$store.dispatch("removeUserFromFollowers",this.relationship.id).then((function(){e.inProgress=!1})),this.hideConfirmRemoveUserFromFollowers()}}},Kd=(0,Eo.Z)(Vd,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("i18n-t"),a=(0,uo.up)("confirm-modal");return(0,uo.wg)(),(0,uo.iD)("button",{class:(0,po.C_)(["btn button-default follow-button",{toggled:e.inProgress}]),disabled:e.inProgress,title:e.$t("user_card.remove_follower"),onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[(0,uo.Uk)((0,po.zw)(e.label)+" ",1),((0,uo.wg)(),(0,uo.j4)(uo.lR,{to:"#modal"},[e.showingConfirmRemoveFollower?((0,uo.wg)(),(0,uo.j4)(a,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(s,{keypath:"user_card.remove_follower_confirm",tag:"span"},{user:(0,uo.w5)((function(){return[(0,uo._)("span",{textContent:(0,po.zw)(e.user.screen_name_ui)},null,8,Hd)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,uo.kq)("",!0)]))],10,Bd)}]]),Gd={props:["user","noFollowsYou"],components:{BasicUserCard:qu.Z,RemoteFollow:Zd.Z,FollowButton:Wd.Z,RemoveFollowerButton:Kd},computed:{isMe:function(){return this.$store.state.users.currentUser.id===this.user.id},loggedIn:function(){return this.$store.state.users.currentUser},relationship:function(){return this.$store.getters.relationship(this.user.id)}}},Yd=(0,Eo.Z)(Gd,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("RemoteFollow"),a=(0,uo.up)("FollowButton"),c=(0,uo.up)("RemoveFollowerButton"),l=(0,uo.up)("basic-user-card");return(0,uo.wg)(),(0,uo.j4)(l,{user:e.user},{default:(0,uo.w5)((function(){return[(0,uo._)("div",Rd,[e.isMe||!e.noFollowsYou&&e.relationship.followed_by?((0,uo.wg)(),(0,uo.iD)("span",qd,(0,po.zw)(e.isMe?e.$t("user_card.its_you"):e.$t("user_card.follows_you")),1)):(0,uo.kq)("",!0),e.loggedIn?e.isMe?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:2},[(0,uo.Wm)(a,{relationship:e.relationship,"label-following":e.$t("user_card.follow_unfollow"),class:"follow-card-follow-button",user:e.user},null,8,["relationship","label-following","user"]),e.noFollowsYou&&e.relationship.followed_by?((0,uo.wg)(),(0,uo.j4)(c,{key:0,user:e.user,relationship:e.relationship,class:"follow-card-button"},null,8,["user","relationship"])):(0,uo.kq)("",!0)],64)):((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:1},[e.relationship.following?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Nd,[(0,uo.Wm)(s,{user:e.user},null,8,["user"])]))],64))])]})),_:1},8,["user"])}]]);var Jd=n(41609),Qd=n.n(Jd),Xd=n(13562);function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.IJ7);const np=function(e){var t=e.fetch,n=e.select,o=e.unmounted,r=e.childPropName,i=void 0===r?"entries":r,s=e.additionalPropNames,a=void 0===s?[]:s;return function(e){return{props:Object.keys((0,Xd.g)(e)).filter((function(e){return e!==i})).concat(a),data:function(){return{loading:!1,bottomedOut:!1,error:!1,entries:[]}},created:function(){window.addEventListener("scroll",this.scrollLoad),0===this.entries.length&&this.fetchEntries()},unmounted:function(){window.removeEventListener("scroll",this.scrollLoad),o&&o(this.$props,this.$store)},methods:{updateEntries:function(){this.entries=n(this.$props,this.$store)||[]},fetchEntries:function(){var e=this;this.loading||(this.loading=!0,this.error=!1,t(this.$props,this.$store).then((function(t){e.loading=!1,e.bottomedOut=Qd()(t)})).catch((function(){e.loading=!1,e.error=!0})).finally((function(){e.updateEntries()})))},scrollLoad:function(e){var t=document.body.getBoundingClientRect(),n=Math.max(t.height,-t.y);!1===this.loading&&!1===this.bottomedOut&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchEntries()}},render:function(){var t,n=tp(tp({},this.$props),{},(0,d.Z)({},i,this.entries)),o=this.$slots;return(0,uo.Wm)("div",{class:"with-load-more"},[(0,uo.Wm)(e,n,(t=o,"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!(0,uo.lA)(t)?o:{default:function(){return[o]}})),(0,uo.Wm)("div",{class:"with-load-more-footer"},[this.error&&(0,uo.Wm)("button",{onClick:this.fetchEntries,class:"button-unstyled -link -fullwidth alert error"},[this.$t("general.generic_error")]),!this.error&&this.loading&&(0,uo.Wm)(lo.GN,{spin:!0,icon:"circle-notch"},null),!this.error&&!this.loading&&!this.bottomedOut&&(0,uo.Wm)("a",{onClick:this.fetchEntries},[this.$t("general.more")])])])}}}};qt.vI.add(Nt.IJ7,Nt.xiy);var op=np({fetch:function(e,t){return t.dispatch("fetchFollowers",e.userId)},select:function(e,t){return Tt()(t.getters.findUser(e.userId),"followerIds",[]).map((function(e){return t.getters.findUser(e)}))},destroy:function(e,t){return t.dispatch("clearFollowers",e.userId)},childPropName:"items",additionalPropNames:["userId"]})(Na.Z),rp=np({fetch:function(e,t){return t.dispatch("fetchFriends",e.userId)},select:function(e,t){return Tt()(t.getters.findUser(e.userId),"friendIds",[]).map((function(e){return t.getters.findUser(e)}))},destroy:function(e,t){return t.dispatch("clearFriends",e.userId)},childPropName:"items",additionalPropNames:["userId"]})(Na.Z),ip="statuses";const sp={data:function(){return{error:!1,userId:null,tab:ip,footerRef:null}},created:function(){var e=this.$route.params;this.load({name:e.name,id:e.id}),this.tab=Tt()(this.$route,"query.tab",ip)},unmounted:function(){this.stopFetching()},computed:{timeline:function(){return this.$store.state.statuses.timelines.user},favorites:function(){return this.$store.state.statuses.timelines.favorites},media:function(){return this.$store.state.statuses.timelines.media},isUs:function(){return this.userId&&this.$store.state.users.currentUser.id&&this.userId===this.$store.state.users.currentUser.id},user:function(){return this.$store.getters.findUser(this.userId)},isExternal:function(){return"external-user-profile"===this.$route.name},followsTabVisible:function(){return this.isUs||!this.user.hide_follows},followersTabVisible:function(){return this.isUs||!this.user.hide_followers},formattedBirthday:function(){var e=fd.Z.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.user.birthday)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})}},methods:{setFooterRef:function(e){this.footerRef=e},load:function(e){var t=this,n=function(e,n){n!==t.$store.state.statuses.timelines[e].userId&&t.$store.commit("clearTimeline",{timeline:e}),t.$store.dispatch("startFetchingTimeline",{timeline:e,userId:n})},o=function(e){t.userId=e,n("user",e),n("media",e),t.isUs&&n("favorites",e),t.$store.dispatch("fetchPinnedStatuses",e)};this.userId=null,this.error=!1;var r=e.id,i=e.name,s=r?this.$store.getters.findUser(r):this.$store.getters.findUserByName(i);s?o(s.id):(r?this.$store.dispatch("fetchUser",r):this.$store.dispatch("fetchUserByName",i)).then((function(e){var t=e.id;return o(t)})).catch((function(e){var n=Tt()(e,"error.error");t.error="No user with such user_id"===n?t.$t("user_profile.profile_does_not_exist"):n||t.$t("user_profile.profile_loading_error")}))},stopFetching:function(){this.$store.dispatch("stopFetchingTimeline","user"),this.$store.dispatch("stopFetchingTimeline","favorites"),this.$store.dispatch("stopFetchingTimeline","media")},switchUser:function(e){this.stopFetching(),this.load(e)},onTabSwitch:function(e){this.tab=e,this.$router.replace({query:{tab:e}})},linkClicked:function(e){var t=e.target;"SPAN"===t.tagName&&(t=t.parentNode),"A"===t.tagName&&window.open(t.href,"_blank")}},watch:{"$route.params.id":function(e){e&&this.switchUser({id:e})},"$route.params.name":function(e){e&&this.switchUser({name:e})},"$route.query":function(e){this.tab=e.tab||ip}},components:{UserCard:_r.Z,Timeline:Ul,FollowerList:op,FriendList:rp,FollowCard:Yd,TabSwitcher:nu.Z,Conversation:Sl,RichContent:zu.Z}},ap=(0,Eo.Z)(sp,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("UserCard"),a=(0,uo.up)("FAIcon"),c=(0,uo.up)("RichContent"),l=(0,uo.up)("Timeline"),u=(0,uo.up)("FollowCard"),d=(0,uo.up)("FriendList"),p=(0,uo.up)("FollowerList"),m=(0,uo.up)("tab-switcher");return(0,uo.wg)(),(0,uo.iD)("div",null,[e.user?((0,uo.wg)(),(0,uo.iD)("div",zd,[(0,uo.Wm)(s,{"user-id":e.userId,switcher:!0,selected:e.timeline.viewing,"avatar-action":"zoom",rounded:"top","has-note-editor":!0},null,8,["user-id","selected"]),e.user.birthday?((0,uo.wg)(),(0,uo.iD)("span",Dd,[(0,uo.Wm)(a,{class:"fa-old-padding",icon:"birthday-cake"}),(0,uo.Uk)(" "+(0,po.zw)(e.$t("user_card.birthday",{birthday:e.formattedBirthday})),1)])):(0,uo.kq)("",!0),e.user.fields_html&&e.user.fields_html.length>0?((0,uo.wg)(),(0,uo.iD)("div",Id,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.user.fields_html,(function(t,n){return(0,uo.wg)(),(0,uo.iD)("dl",{key:n,class:"user-profile-field"},[(0,uo._)("dt",{title:e.user.fields_text[n].name,class:"user-profile-field-name"},[(0,uo.Wm)(c,{html:t.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,xd),(0,uo._)("dd",{title:e.user.fields_text[n].value,class:"user-profile-field-value"},[(0,uo.Wm)(c,{html:t.value,emoji:e.user.emoji},null,8,["html","emoji"])],8,Td)])})),128))])):(0,uo.kq)("",!0),(0,uo.Wm)(m,{"active-tab":e.tab,"render-only-focused":!0,"on-switch":e.onTabSwitch},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(l,{key:"statuses",label:e.$t("user_card.statuses"),count:e.user.statuses_count,embedded:!0,title:e.$t("user_profile.timeline_title"),timeline:e.timeline,"timeline-name":"user","user-id":e.userId,"pinned-status-ids":e.user.pinnedStatusIds,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","count","title","timeline","user-id","pinned-status-ids","footer-slipgate"]),e.followsTabVisible?((0,uo.wg)(),(0,uo.iD)("div",{key:"followees",label:e.$t("user_card.followees"),disabled:!e.user.friends_count},[(0,uo.Wm)(d,{"user-id":e.userId},{item:(0,uo.w5)((function(e){var t=e.item;return[(0,uo.Wm)(u,{user:t},null,8,["user"])]})),_:1},8,["user-id"])],8,$d)):(0,uo.kq)("",!0),e.followersTabVisible?((0,uo.wg)(),(0,uo.iD)("div",{key:"followers",label:e.$t("user_card.followers"),disabled:!e.user.followers_count},[(0,uo.Wm)(p,{"user-id":e.userId},{item:(0,uo.w5)((function(t){var n=t.item;return[(0,uo.Wm)(u,{user:n,"no-follows-you":e.isUs},null,8,["user","no-follows-you"])]})),_:1},8,["user-id"])],8,Ud)):(0,uo.kq)("",!0),(0,uo.Wm)(l,{key:"media",label:e.$t("user_card.media"),disabled:!e.media.visibleStatuses.length,embedded:!0,title:e.$t("user_card.media"),"timeline-name":"media",timeline:e.media,"user-id":e.userId,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","user-id","footer-slipgate"]),e.isUs?((0,uo.wg)(),(0,uo.j4)(l,{key:"favorites",label:e.$t("user_card.favorites"),disabled:!e.favorites.visibleStatuses.length,embedded:!0,title:e.$t("user_card.favorites"),"timeline-name":"favorites",timeline:e.favorites,"in-profile":!0,"footer-slipgate":e.footerRef},null,8,["label","disabled","title","timeline","footer-slipgate"])):(0,uo.kq)("",!0)]})),_:1},8,["active-tab","on-switch"]),(0,uo._)("div",{ref:e.setFooterRef,class:"panel-footer"},null,512)])):((0,uo.wg)(),(0,uo.iD)("div",Md,[(0,uo._)("div",Ad,[(0,uo._)("div",Ld,(0,po.zw)(e.$t("settings.profile_tab")),1)]),(0,uo._)("div",Ed,[e.error?((0,uo.wg)(),(0,uo.iD)("span",Fd,(0,po.zw)(e.error),1)):((0,uo.wg)(),(0,uo.j4)(a,{key:1,spin:"",icon:"circle-notch"}))])]))])}]]);var cp={class:"panel panel-default"},lp={class:"panel-heading"},up={class:"title"},dp={class:"search-input-container"},pp=["placeholder"],mp={key:0,class:"text-center loading-icon"},hp={key:1},fp={class:"search-nav-heading"},gp=["label"],vp=["label"],wp=["label"],bp={class:"panel-body"},yp={key:0},_p={class:"new-status-notification text-center"},kp={key:1,class:"text-center loading-icon"},Sp={key:2,class:"search-result-heading"},jp={key:1},Cp={key:0,class:"search-result-heading"},Op={key:2},Pp={key:0,class:"search-result-heading"},zp={class:"hashtag"},Dp={key:0},Ip={key:0},xp={key:1},Tp={key:0,class:"count"},$p=(0,uo._)("div",{class:"search-result-footer text-center panel-footer faint"},null,-1),Up=n(45578),Mp=n.n(Up);qt.vI.add(Nt.IJ7,Nt.wn1);const Ap={components:{FollowCard:Yd,Conversation:Sl,Status:qa.default,TabSwitcher:nu.Z},props:["query"],data:function(){return{loaded:!1,loading:!1,searchTerm:this.query||"",userIds:[],statuses:[],hashtags:[],currenResultTab:"statuses",statusesOffset:0,lastStatusFetchCount:0,lastQuery:""}},computed:{users:function(){var e=this;return this.userIds.map((function(t){return e.$store.getters.findUser(t)}))},visibleStatuses:function(){var e=this.$store.state.statuses.allStatusesObject;return this.statuses.filter((function(t){return e[t.id]&&!e[t.id].deleted}))}},mounted:function(){this.search(this.query)},watch:{query:function(e){this.searchTerm=e,this.search(e)}},methods:{newQuery:function(e){this.$router.push({name:"search",query:{query:e}}),this.$refs.searchInput.focus()},search:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?(this.loading=!0,this.$refs.searchInput.blur(),this.lastQuery!==e&&(this.userIds=[],this.hashtags=[],this.statuses=[],this.statusesOffset=0,this.lastStatusFetchCount=0),this.$store.dispatch("search",{q:e,resolve:!0,offset:this.statusesOffset,type:n}).then((function(n){t.loading=!1;var o=t.statuses.length;t.userIds=t.userIds.concat(be()(n.accounts,"id")),t.statuses=Mp()(t.statuses.concat(n.statuses),"id"),t.hashtags=t.hashtags.concat(n.hashtags),t.currenResultTab=t.getActiveTab(),t.loaded=!0,t.statusesOffset=t.statuses.length,t.lastStatusFetchCount=t.statuses.length-o,t.lastQuery=e}))):this.loading=!1},resultCount:function(e){var t=this[e].length;return 0===t?"":" (".concat(t,")")},onResultTabSwitch:function(e){this.currenResultTab=e},getActiveTab:function(){return this.visibleStatuses.length>0?"statuses":this.users.length>0?"people":this.hashtags.length>0?"hashtags":"statuses"},lastHistoryRecord:function(e){return e.history&&e.history[0]}}},Lp=(0,Eo.Z)(Ap,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("tab-switcher"),c=(0,uo.up)("Status"),l=(0,uo.up)("FollowCard"),u=(0,uo.up)("router-link");return(0,uo.wg)(),(0,uo.iD)("div",cp,[(0,uo._)("div",lp,[(0,uo._)("div",up,(0,po.zw)(e.$t("nav.search")),1)]),(0,uo._)("div",dp,[(0,uo.wy)((0,uo._)("input",{ref:"searchInput","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t}),class:"search-input",placeholder:e.$t("nav.search"),onKeyup:t[1]||(t[1]=(0,ro.D2)((function(t){return e.newQuery(e.searchTerm)}),["enter"]))},null,40,pp),[[ro.nr,e.searchTerm]]),(0,uo._)("button",{class:"btn button-default search-button",type:"submit",onClick:t[2]||(t[2]=function(t){return e.newQuery(e.searchTerm)})},[(0,uo.Wm)(s,{icon:"search"})])]),e.loading&&0==e.statusesOffset?((0,uo.wg)(),(0,uo.iD)("div",mp,[(0,uo.Wm)(s,{icon:"circle-notch",spin:"",size:"lg"})])):e.loaded?((0,uo.wg)(),(0,uo.iD)("div",hp,[(0,uo._)("div",fp,[(0,uo.Wm)(a,{ref:"tabSwitcher","on-switch":e.onResultTabSwitch,"active-tab":e.currenResultTab},{default:(0,uo.w5)((function(){return[(0,uo._)("span",{key:"statuses",label:e.$t("user_card.statuses")+e.resultCount("visibleStatuses")},null,8,gp),(0,uo._)("span",{key:"people",label:e.$t("search.people")+e.resultCount("users")},null,8,vp),(0,uo._)("span",{key:"hashtags",label:e.$t("search.hashtags")+e.resultCount("hashtags")},null,8,wp)]})),_:1},8,["on-switch","active-tab"])])])):(0,uo.kq)("",!0),(0,uo._)("div",bp,["statuses"===e.currenResultTab?((0,uo.wg)(),(0,uo.iD)("div",yp,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.visibleStatuses,(function(e){return(0,uo.wg)(),(0,uo.j4)(c,{key:e.id,collapsable:!1,expandable:!1,compact:!1,class:"search-result",statusoid:e,"no-heading":!1},null,8,["statusoid"])})),128)),!e.loading&&e.loaded&&e.lastStatusFetchCount>0?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"more-statuses-button button-unstyled -link -fullwidth",onClick:t[3]||(t[3]=(0,ro.iM)((function(t){return e.search(e.searchTerm,"statuses")}),["prevent"]))},[(0,uo._)("div",_p,(0,po.zw)(e.$t("search.load_more")),1)])):e.loading&&e.statusesOffset>0?((0,uo.wg)(),(0,uo.iD)("div",kp,[(0,uo.Wm)(s,{icon:"circle-notch",spin:"",size:"lg"})])):(0,uo.kq)("",!0),0!==e.visibleStatuses.length&&0!==e.lastStatusFetchCount||e.loading||!e.loaded?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Sp,[(0,uo._)("h4",null,(0,po.zw)(0===e.visibleStatuses.length?e.$t("search.no_results"):e.$t("search.no_more_results")),1)]))])):"people"===e.currenResultTab?((0,uo.wg)(),(0,uo.iD)("div",jp,[0===e.users.length&&!e.loading&&e.loaded?((0,uo.wg)(),(0,uo.iD)("div",Cp,[(0,uo._)("h4",null,(0,po.zw)(e.$t("search.no_results")),1)])):(0,uo.kq)("",!0),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.users,(function(e){return(0,uo.wg)(),(0,uo.j4)(l,{key:e.id,user:e,class:"list-item search-result"},null,8,["user"])})),128))])):"hashtags"===e.currenResultTab?((0,uo.wg)(),(0,uo.iD)("div",Op,[0===e.hashtags.length&&!e.loading&&e.loaded?((0,uo.wg)(),(0,uo.iD)("div",Pp,[(0,uo._)("h4",null,(0,po.zw)(e.$t("search.no_results")),1)])):(0,uo.kq)("",!0),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.hashtags,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.url,class:"status trend search-result"},[(0,uo._)("div",zp,[(0,uo.Wm)(u,{to:{name:"tag-timeline",params:{tag:t.name}}},{default:(0,uo.w5)((function(){return[(0,uo.Uk)(" #"+(0,po.zw)(t.name),1)]})),_:2},1032,["to"]),e.lastHistoryRecord(t)?((0,uo.wg)(),(0,uo.iD)("div",Dp,[1==e.lastHistoryRecord(t).accounts?((0,uo.wg)(),(0,uo.iD)("span",Ip,(0,po.zw)(e.$t("search.person_talking",{count:e.lastHistoryRecord(t).accounts})),1)):((0,uo.wg)(),(0,uo.iD)("span",xp,(0,po.zw)(e.$t("search.people_talking",{count:e.lastHistoryRecord(t).accounts})),1))])):(0,uo.kq)("",!0)]),e.lastHistoryRecord(t)?((0,uo.wg)(),(0,uo.iD)("div",Tp,(0,po.zw)(e.lastHistoryRecord(t).uses),1)):(0,uo.kq)("",!0)])})),128))])):(0,uo.kq)("",!0)]),$p])}]]);var Ep={class:"settings panel panel-default"},Fp={class:"panel-heading"},Rp={class:"panel-body"},qp={class:"container"},Np={class:"text-fields"},Zp={class:"form--label",for:"sign-up-username"},Wp=["disabled","placeholder"],Bp={key:0,class:"form-error"},Hp={key:0},Vp={class:"form--label",for:"sign-up-fullname"},Kp=["disabled","placeholder"],Gp={key:1,class:"form-error"},Yp={key:0},Jp={class:"form--label",for:"email"},Qp=["disabled","aria-required"],Xp={key:2,class:"form-error"},em={key:0},tm={class:"form-group"},nm={class:"form--label",for:"bio"},om=["disabled","placeholder"],rm={class:"form--label",for:"sign-up-password"},im=["disabled"],sm={key:3,class:"form-error"},am={key:0},cm={class:"form--label",for:"sign-up-password-confirmation"},lm=["disabled"],um={key:4,class:"form-error"},dm={key:0},pm={key:1},mm={class:"form--label",for:"sign-up-birthday"},hm=["disabled","max","aria-required"],fm={key:5,class:"form-error"},gm={key:0},vm={key:1},wm={key:6,class:"form-group"},bm={class:"form--label",for:"reason"},ym=["disabled","placeholder"],_m={key:7,id:"captcha-group",class:"form-group"},km={class:"form--label",for:"captcha-label"},Sm=["src"],jm=["disabled"],Cm={key:8,class:"form-group"},Om={for:"token"},Pm={class:"form-group"},zm=["disabled"],Dm=["innerHTML"],Im={key:0,class:"form-group"},xm={class:"alert error"},Tm=n(54028),$m=n(35332),Um=n(73414),Mm=n(27483);function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Em={setup:function(){return{v$:(0,Tm.ZP)()}},data:function(){return{user:{email:"",fullname:"",username:"",password:"",confirm:"",birthday:"",reason:"",language:[""]},captcha:{}}},components:{InterfaceLanguageSwitcher:Um.Z},validations:function(){var e=this;return{user:{email:{required:(0,$m.CF)((function(){return e.accountActivationRequired}))},username:{required:$m.C1},fullname:{required:$m.C1},password:{required:$m.C1},confirm:{required:$m.C1,sameAs:(0,$m.sH)(this.user.password)},birthday:{required:(0,$m.CF)((function(){return e.birthdayRequired})),maxValue:function(t){return!e.birthdayRequired||new Date(t).getTime()<=e.birthdayMin.getTime()}},reason:{required:(0,$m.CF)((function(){return e.accountApprovalRequired}))},language:{}}}},created:function(){(!this.registrationOpen&&!this.token||this.signedIn)&&this.$router.push({name:"root"}),this.setCaptcha()},computed:Lm({token:function(){return this.$route.params.token},bioPlaceholder:function(){return this.replaceNewlines(this.$t("registration.bio_placeholder"))},reasonPlaceholder:function(){return this.replaceNewlines(this.$t("registration.reason_placeholder"))},birthdayMin:function(){var e=this.birthdayMinAge,t=new Date;t.setUTCMilliseconds(0),t.setUTCSeconds(0),t.setUTCMinutes(0),t.setUTCHours(0);var n=new Date;return n.setTime(t.getTime()-e*Mm.x4),n},birthdayMinAttr:function(){return this.birthdayMin.toJSON().replace(/T.+$/,"")},birthdayMinFormatted:function(){var e=fd.Z.internalToBrowserLocale(this.$i18n.locale);return this.user.birthday&&new Date(Date.parse(this.birthdayMin)).toLocaleDateString(e,{timeZone:"UTC",day:"numeric",month:"long",year:"numeric"})}},(0,s.rn)({registrationOpen:function(e){return e.instance.registrationOpen},signedIn:function(e){return!!e.users.currentUser},isPending:function(e){return e.users.signUpPending},serverValidationErrors:function(e){return e.users.signUpErrors},termsOfService:function(e){return e.instance.tos},accountActivationRequired:function(e){return e.instance.accountActivationRequired},accountApprovalRequired:function(e){return e.instance.accountApprovalRequired},birthdayRequired:function(e){return e.instance.birthdayRequired},birthdayMinAge:function(e){return e.instance.birthdayMinAge}})),methods:Lm(Lm({},(0,s.nv)(["signUp","getCaptcha"])),{},{submit:function(){var e=this;return(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.user.nickname=e.user.username,e.user.token=e.token,e.user.captcha_solution=e.captcha.solution,e.user.captcha_token=e.captcha.token,e.user.captcha_answer_data=e.captcha.answer_data,e.user.language&&(e.user.language=fd.Z.internalToBackendLocaleMulti(e.user.language.filter((function(e){return e})))),e.v$.$touch(),e.v$.$invalid){t.next=18;break}return t.prev=8,t.next=11,e.signUp(e.user);case 11:e.$router.push({name:"friends"}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),console.warn("Registration failed: ",t.t0),e.setCaptcha();case 18:case"end":return t.stop()}}),t,null,[[8,14]])})))()},setCaptcha:function(){var e=this;this.getCaptcha().then((function(t){e.captcha=t}))},replaceNewlines:function(e){return e.replace(/\s*\n\s*/g," \n")}})},Fm=(0,Eo.Z)(Em,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("interface-language-switcher");return(0,uo.wg)(),(0,uo.iD)("div",Ep,[(0,uo._)("div",Fp,(0,po.zw)(e.$t("registration.registration")),1),(0,uo._)("div",Rp,[(0,uo._)("form",{class:"registration-form",onSubmit:t[12]||(t[12]=(0,ro.iM)((function(t){return e.submit(e.user)}),["prevent"]))},[(0,uo._)("div",qp,[(0,uo._)("div",Np,[(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.username.$error}])},[(0,uo._)("label",Zp,(0,po.zw)(e.$t("login.username")),1),(0,uo.wy)((0,uo._)("input",{id:"sign-up-username","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.v$.user.username.$model=t}),disabled:e.isPending,class:"form-control","aria-required":!0,placeholder:e.$t("registration.username_placeholder")},null,8,Wp),[[ro.nr,e.v$.user.username.$model,void 0,{trim:!0}]])],2),e.v$.user.username.$dirty?((0,uo.wg)(),(0,uo.iD)("div",Bp,[(0,uo._)("ul",null,[e.v$.user.username.required?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("li",Hp,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.username_required")),1)]))])])):(0,uo.kq)("",!0),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.fullname.$error}])},[(0,uo._)("label",Vp,(0,po.zw)(e.$t("registration.fullname")),1),(0,uo.wy)((0,uo._)("input",{id:"sign-up-fullname","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.v$.user.fullname.$model=t}),disabled:e.isPending,class:"form-control","aria-required":!0,placeholder:e.$t("registration.fullname_placeholder")},null,8,Kp),[[ro.nr,e.v$.user.fullname.$model,void 0,{trim:!0}]])],2),e.v$.user.fullname.$dirty?((0,uo.wg)(),(0,uo.iD)("div",Gp,[(0,uo._)("ul",null,[e.v$.user.fullname.required?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("li",Yp,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.fullname_required")),1)]))])])):(0,uo.kq)("",!0),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.email.$error}])},[(0,uo._)("label",Jp,(0,po.zw)(e.accountActivationRequired?e.$t("registration.email"):e.$t("registration.email_optional")),1),(0,uo.wy)((0,uo._)("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.v$.user.email.$model=t}),disabled:e.isPending,class:"form-control",type:"email","aria-required":e.accountActivationRequired},null,8,Qp),[[ro.nr,e.v$.user.email.$model]])],2),e.v$.user.email.$dirty?((0,uo.wg)(),(0,uo.iD)("div",Xp,[(0,uo._)("ul",null,[e.v$.user.email.required?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("li",em,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.email_required")),1)]))])])):(0,uo.kq)("",!0),(0,uo._)("div",tm,[(0,uo._)("label",nm,(0,po.zw)(e.$t("registration.bio_optional")),1),(0,uo.wy)((0,uo._)("textarea",{id:"bio","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.user.bio=t}),disabled:e.isPending,class:"form-control",placeholder:e.bioPlaceholder},null,8,om),[[ro.nr,e.user.bio]])]),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.password.$error}])},[(0,uo._)("label",rm,(0,po.zw)(e.$t("login.password")),1),(0,uo.wy)((0,uo._)("input",{id:"sign-up-password","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.user.password=t}),disabled:e.isPending,class:"form-control",type:"password","aria-required":!0},null,8,im),[[ro.nr,e.user.password]])],2),e.v$.user.password.$dirty?((0,uo.wg)(),(0,uo.iD)("div",sm,[(0,uo._)("ul",null,[e.v$.user.password.required?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("li",am,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.password_required")),1)]))])])):(0,uo.kq)("",!0),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.confirm.$error}])},[(0,uo._)("label",cm,(0,po.zw)(e.$t("registration.password_confirm")),1),(0,uo.wy)((0,uo._)("input",{id:"sign-up-password-confirmation","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.user.confirm=t}),disabled:e.isPending,class:"form-control",type:"password","aria-required":!0},null,8,lm),[[ro.nr,e.user.confirm]])],2),e.v$.user.confirm.$dirty?((0,uo.wg)(),(0,uo.iD)("div",um,[(0,uo._)("ul",null,[e.v$.user.confirm.required.$invalid?((0,uo.wg)(),(0,uo.iD)("li",dm,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.password_confirmation_required")),1)])):(0,uo.kq)("",!0),e.v$.user.confirm.sameAs.$invalid?((0,uo.wg)(),(0,uo.iD)("li",pm,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.password_confirmation_match")),1)])):(0,uo.kq)("",!0)])])):(0,uo.kq)("",!0),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.birthday.$error}])},[(0,uo._)("label",mm,(0,po.zw)(e.birthdayRequired?e.$t("registration.birthday"):e.$t("registration.birthday_optional")),1),(0,uo.wy)((0,uo._)("input",{id:"sign-up-birthday","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.user.birthday=t}),disabled:e.isPending,class:"form-control",type:"date",max:e.birthdayRequired?e.birthdayMinAttr:void 0,"aria-required":e.birthdayRequired},null,8,hm),[[ro.nr,e.user.birthday]])],2),e.v$.user.birthday.$dirty?((0,uo.wg)(),(0,uo.iD)("div",fm,[(0,uo._)("ul",null,[e.v$.user.birthday.required.$invalid?((0,uo.wg)(),(0,uo.iD)("li",gm,[(0,uo._)("span",null,(0,po.zw)(e.$t("registration.validations.birthday_required")),1)])):(0,uo.kq)("",!0),e.v$.user.birthday.maxValue.$invalid?((0,uo.wg)(),(0,uo.iD)("li",vm,[(0,uo._)("span",null,(0,po.zw)(e.$tc("registration.validations.birthday_min_age",{date:e.birthdayMinFormatted})),1)])):(0,uo.kq)("",!0)])])):(0,uo.kq)("",!0),(0,uo._)("div",{class:(0,po.C_)(["form-group",{"form-group--error":e.v$.user.language.$error}])},[(0,uo.Wm)(s,{for:"email-language","prompt-text":e.$t("registration.email_language"),language:e.v$.user.language.$model,"set-language":function(t){return e.v$.user.language.$model=t},onClick:t[7]||(t[7]=(0,ro.iM)((function(){}),["stop","prevent"]))},null,8,["prompt-text","language","set-language"])],2),e.accountApprovalRequired?((0,uo.wg)(),(0,uo.iD)("div",wm,[(0,uo._)("label",bm,(0,po.zw)(e.$t("registration.reason")),1),(0,uo.wy)((0,uo._)("textarea",{id:"reason","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.user.reason=t}),disabled:e.isPending,class:"form-control",placeholder:e.reasonPlaceholder},null,8,ym),[[ro.nr,e.user.reason]])])):(0,uo.kq)("",!0),"none"!=e.captcha.type?((0,uo.wg)(),(0,uo.iD)("div",_m,[(0,uo._)("label",km,(0,po.zw)(e.$t("registration.captcha")),1),["kocaptcha","native"].includes(e.captcha.type)?((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:0},[(0,uo._)("img",{src:e.captcha.url,onClick:t[9]||(t[9]=function(){return e.setCaptcha&&e.setCaptcha.apply(e,arguments)})},null,8,Sm),(0,uo._)("sub",null,(0,po.zw)(e.$t("registration.new_captcha")),1),(0,uo.wy)((0,uo._)("input",{id:"captcha-answer","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.captcha.solution=t}),disabled:e.isPending,class:"form-control",type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,8,jm),[[ro.nr,e.captcha.solution]])],64)):(0,uo.kq)("",!0)])):(0,uo.kq)("",!0),e.token?((0,uo.wg)(),(0,uo.iD)("div",Cm,[(0,uo._)("label",Om,(0,po.zw)(e.$t("registration.token")),1),(0,uo.wy)((0,uo._)("input",{id:"token","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.token=t}),disabled:"true",class:"form-control",type:"text"},null,512),[[ro.nr,e.token]])])):(0,uo.kq)("",!0),(0,uo._)("div",Pm,[(0,uo._)("button",{disabled:e.isPending,type:"submit",class:"btn button-default"},(0,po.zw)(e.$t("registration.register")),9,zm)])]),(0,uo._)("div",{class:"terms-of-service",innerHTML:e.termsOfService},null,8,Dm)]),e.serverValidationErrors.length?((0,uo.wg)(),(0,uo.iD)("div",Im,[(0,uo._)("div",xm,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.serverValidationErrors,(function(e){return(0,uo.wg)(),(0,uo.iD)("span",{key:e},(0,po.zw)(e),1)})),128))])])):(0,uo.kq)("",!0)],32)])])}]]);var Rm={class:"settings panel panel-default"},qm={class:"panel-heading"},Nm={class:"panel-body"},Zm={class:"container"},Wm={key:0},Bm={key:0},Hm={key:1},Vm={key:1},Km={key:0},Gm={class:"form-group text-center"},Ym={key:2},Jm={key:0,class:"password-reset-required error"},Qm={class:"form-group"},Xm=["disabled","placeholder"],eh={class:"form-group"},th=["disabled"],nh={key:3,class:"alert error notice-dismissible"};function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.NBC);var ih={data:function(){return{user:{email:""},isPending:!1,success:!1,throttled:!1,error:null}},computed:rh(rh({},(0,s.rn)({signedIn:function(e){return!!e.users.currentUser},instance:function(e){return e.instance}})),{},{mailerEnabled:function(){return this.instance.mailerEnabled}}),created:function(){this.signedIn&&this.$router.push({name:"root"})},props:{passwordResetRequested:{default:!1,type:Boolean}},methods:{dismissError:function(){this.error=null},submit:function(){var e=this;this.isPending=!0;var t=this.user.email;(function(e){var t=e.instance,n={email:e.email},o=Ee()(n,(function(e,t,n){var o="".concat(n,"=").concat(encodeURIComponent(t));return"".concat(e,"&").concat(o)}),""),r="".concat(t).concat("/auth/password","?").concat(o);return window.fetch(r,{method:"POST"})})({instance:this.instance.server,email:t}).then((function(t){var n=t.status;e.isPending=!1,e.user.email="",204===n?(e.success=!0,e.error=null):429===n&&(e.throttled=!0,e.error=e.$t("password_reset.too_many_requests"))})).catch((function(){e.isPending=!1,e.user.email="",e.error=e.$t("general.generic_error")}))}}};const sh=ih,ah=(0,Eo.Z)(sh,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link"),a=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",Rm,[(0,uo._)("div",qm,(0,po.zw)(e.$t("password_reset.password_reset")),1),(0,uo._)("div",Nm,[(0,uo._)("form",{class:"password-reset-form",onSubmit:t[2]||(t[2]=(0,ro.iM)((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[(0,uo._)("div",Zm,[e.mailerEnabled?e.success||e.throttled?((0,uo.wg)(),(0,uo.iD)("div",Vm,[e.success?((0,uo.wg)(),(0,uo.iD)("p",Km,(0,po.zw)(e.$t("password_reset.check_email")),1)):(0,uo.kq)("",!0),(0,uo._)("div",Gm,[(0,uo.Wm)(s,{to:{name:"root"}},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("password_reset.return_home")),1)]})),_:1})])])):((0,uo.wg)(),(0,uo.iD)("div",Ym,[e.passwordResetRequested?((0,uo.wg)(),(0,uo.iD)("p",Jm,(0,po.zw)(e.$t("password_reset.password_reset_required")),1)):(0,uo.kq)("",!0),(0,uo._)("p",null,(0,po.zw)(e.$t("password_reset.instruction")),1),(0,uo._)("div",Qm,[(0,uo.wy)((0,uo._)("input",{ref:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.email=t}),disabled:e.isPending,placeholder:e.$t("password_reset.placeholder"),class:"form-control",type:"input"},null,8,Xm),[[ro.nr,e.user.email]])]),(0,uo._)("div",eh,[(0,uo._)("button",{disabled:e.isPending,type:"submit",class:"btn button-default btn-block"},(0,po.zw)(e.$t("settings.save")),9,th)])])):((0,uo.wg)(),(0,uo.iD)("div",Wm,[e.passwordResetRequested?((0,uo.wg)(),(0,uo.iD)("p",Bm,(0,po.zw)(e.$t("password_reset.password_reset_required_but_mailer_is_disabled")),1)):((0,uo.wg)(),(0,uo.iD)("p",Hm,(0,po.zw)(e.$t("password_reset.password_reset_disabled")),1))])),e.error?((0,uo.wg)(),(0,uo.iD)("p",nh,[(0,uo._)("span",null,(0,po.zw)(e.error),1),(0,uo._)("a",{class:"fa-scale-110 fa-old-padding dismiss",onClick:t[1]||(t[1]=(0,ro.iM)((function(t){return e.dismissError()}),["prevent"]))},[(0,uo.Wm)(a,{icon:"times"})])])):(0,uo.kq)("",!0)])],32)])])}]]);var ch={class:"settings panel panel-default"},lh={class:"panel-heading"},uh={class:"title"},dh={class:"panel-body"},ph={class:"follow-request-card-content-container"};const mh={props:["user"],components:{BasicUserCard:qu.Z,ConfirmModal:ca.Z},data:function(){return{showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},methods:{findFollowRequestNotificationId:function(){var e=this,t=(0,K.Bt)(this.$store).find((function(t){return t.from_profile.id===e.user.id&&"follow_request"===t.type}));return t&&t.id},showApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!1},approveUser:function(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove:function(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user);var e=this.findFollowRequestNotificationId();this.$store.dispatch("markSingleNotificationAsSeen",{id:e}),this.$store.dispatch("updateNotification",{id:e,updater:function(e){e.type="follow"}}),this.hideApproveConfirmDialog()},denyUser:function(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny:function(){var e=this,t=this.findFollowRequestNotificationId();this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){e.$store.dispatch("dismissNotificationLocal",{id:t}),e.$store.dispatch("removeFollowRequest",e.user)})),this.hideDenyConfirmDialog()}},computed:{mergedConfig:function(){return this.$store.getters.mergedConfig},shouldConfirmApprove:function(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny:function(){return this.mergedConfig.modalOnDenyFollow}}},hh={components:{FollowRequestCard:(0,Eo.Z)(mh,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("confirm-modal"),a=(0,uo.up)("basic-user-card");return(0,uo.wg)(),(0,uo.j4)(a,{user:e.user},{default:(0,uo.w5)((function(){return[(0,uo._)("div",ph,[(0,uo._)("button",{class:"btn button-default",onClick:t[0]||(t[0]=function(){return e.approveUser&&e.approveUser.apply(e,arguments)})},(0,po.zw)(e.$t("user_card.approve")),1),(0,uo._)("button",{class:"btn button-default",onClick:t[1]||(t[1]=function(){return e.denyUser&&e.denyUser.apply(e,arguments)})},(0,po.zw)(e.$t("user_card.deny")),1)]),((0,uo.wg)(),(0,uo.j4)(uo.lR,{to:"#modal"},[e.showingApproveConfirmDialog?((0,uo.wg)(),(0,uo.j4)(s,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,uo.kq)("",!0),e.showingDenyConfirmDialog?((0,uo.wg)(),(0,uo.j4)(s,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,uo.kq)("",!0)]))]})),_:1},8,["user"])}]])},computed:{requests:function(){return this.$store.state.api.followRequests}}},fh=(0,Eo.Z)(hh,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FollowRequestCard");return(0,uo.wg)(),(0,uo.iD)("div",ch,[(0,uo._)("div",lh,[(0,uo._)("div",uh,(0,po.zw)(e.$t("nav.friend_requests")),1)]),(0,uo._)("div",dh,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.requests,(function(e){return(0,uo.wg)(),(0,uo.j4)(s,{key:e.id,user:e,class:"list-item"},null,8,["user"])})),128))])])}]]),gh={props:["code"],mounted:function(){var e=this;if(this.code){var t=this.$store.state.oauth,n=t.clientId,o=t.clientSecret;Ze.getToken({clientId:n,clientSecret:o,instance:this.$store.state.instance.server,code:this.code}).then((function(t){e.$store.commit("setToken",t.access_token),e.$store.dispatch("loginUser",t.access_token),e.$router.push({name:"friends"})}))}}},vh=(0,Eo.Z)(gh,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("h1",null,"...")}]]);var wh={class:"panel panel-default"},bh={class:"panel-heading"},yh={class:"panel-body"};const _h={components:{FollowCard:Yd},data:function(){return{users:[]}},mounted:function(){this.getWhoToFollow()},methods:{showWhoToFollow:function(e){var t=this;e.forEach((function(e,n){t.$store.state.api.backendInteractor.fetchUser({id:e.acct}).then((function(e){e.error||(t.$store.commit("addNewUsers",[e]),t.users.push(e))}))}))},getWhoToFollow:function(){var e=this,t=this.$store.state.users.currentUser.credentials;t&&h.ZP.suggestions({credentials:t}).then((function(t){e.showWhoToFollow(t)}))}}},kh=(0,Eo.Z)(_h,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FollowCard");return(0,uo.wg)(),(0,uo.iD)("div",wh,[(0,uo._)("div",bh,(0,po.zw)(e.$t("who_to_follow.who_to_follow")),1),(0,uo._)("div",yh,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.users,(function(e){return(0,uo.wg)(),(0,uo.j4)(s,{key:e.id,user:e,class:"list-item"},null,8,["user"])})),128))])])}]]);var Sh={class:"column-inner"},jh={class:"panel panel-default"},Ch={class:"panel-body"},Oh=["innerHTML"];const Ph={computed:{content:function(){return this.$store.state.instance.tos}}},zh=(0,Eo.Z)(Ph,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("div",null,[(0,uo._)("div",jh,[(0,uo._)("div",Ch,[(0,uo._)("div",{class:"tos-content",innerHTML:e.content},null,8,Oh)])])])}]]);var Dh={class:"staff-panel"},Ih={class:"panel panel-default base01-background"},xh={class:"panel-heading timeline-heading base02-background"},Th={class:"title"},$h={class:"panel-body"};function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ah={created:function(){var e=this;this.$store.state.instance.staffAccounts.forEach((function(t){return e.$store.dispatch("fetchUserIfMissing",t)}))},components:{BasicUserCard:qu.Z},computed:Mh(Mh({groupedStaffAccounts:function(){var e=be()(this.staffAccounts,this.findUserByName).filter((function(e){return e})),t=Ot()(e,"role");return[{role:"admin",users:t.admin},{role:"moderator",users:t.moderator}].filter((function(e){return e.users}))}},(0,s.Se)(["findUserByName"])),(0,s.rn)({staffAccounts:function(e){return e.instance.staffAccounts}}))},Lh=(0,Eo.Z)(Ah,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("basic-user-card");return(0,uo.wg)(),(0,uo.iD)("div",Dh,[(0,uo._)("div",Ih,[(0,uo._)("div",xh,[(0,uo._)("div",Th,(0,po.zw)(e.$t("about.staff")),1)]),(0,uo._)("div",$h,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.groupedStaffAccounts,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.role,class:"staff-group"},[(0,uo._)("h4",null,(0,po.zw)(e.$t("general.role."+t.role)),1),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(t.users,(function(e){return(0,uo.wg)(),(0,uo.j4)(s,{key:e.screen_name,user:e},null,8,["user"])})),128))])})),128))])])])}]]);var Eh={key:0,class:"mrf-transparency-panel"},Fh={class:"panel panel-default base01-background"},Rh={class:"panel-heading timeline-heading base02-background"},qh={class:"title"},Nh={class:"panel-body"},Zh={class:"mrf-section"},Wh=["textContent"],Bh={key:0},Hh={key:1},Vh={key:0},Kh={key:1},Gh={key:2},Yh={key:0},Jh={key:1},Qh={key:3},Xh={key:0},ef={key:1},tf={key:4},nf={key:0},of={key:1},rf={key:5},sf={key:0},af={key:1},cf={key:6},lf={key:0},uf={key:1},df={key:7},pf={key:8},mf=["textContent"],hf={key:9},ff=["textContent"],gf={key:10};function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bf=function(e,t,n){return e.map((function(e){return t[n]&&t[n][e]&&t[n][e].reason?{instance:e,reason:t[n][e].reason}:{instance:e,reason:""}}))};const yf={computed:wf(wf({},(0,s.rn)({federationPolicy:function(e){return Tt()(e,"instance.federationPolicy")},mrfPolicies:function(e){return Tt()(e,"instance.federationPolicy.mrf_policies",[])},quarantineInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.quarantined_instances",[]),Tt()(e,"instance.federationPolicy.quarantined_instances_info",[]),"quarantined_instances")},acceptInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.mrf_simple.accept",[]),Tt()(e,"instance.federationPolicy.mrf_simple_info",[]),"accept")},rejectInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.mrf_simple.reject",[]),Tt()(e,"instance.federationPolicy.mrf_simple_info",[]),"reject")},ftlRemovalInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.mrf_simple.federated_timeline_removal",[]),Tt()(e,"instance.federationPolicy.mrf_simple_info",[]),"federated_timeline_removal")},mediaNsfwInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.mrf_simple.media_nsfw",[]),Tt()(e,"instance.federationPolicy.mrf_simple_info",[]),"media_nsfw")},mediaRemovalInstances:function(e){return bf(Tt()(e,"instance.federationPolicy.mrf_simple.media_removal",[]),Tt()(e,"instance.federationPolicy.mrf_simple_info",[]),"media_removal")},keywordsFtlRemoval:function(e){return Tt()(e,"instance.federationPolicy.mrf_keyword.federated_timeline_removal",[])},keywordsReject:function(e){return Tt()(e,"instance.federationPolicy.mrf_keyword.reject",[])},keywordsReplace:function(e){return Tt()(e,"instance.federationPolicy.mrf_keyword.replace",[])}})),{},{hasInstanceSpecificPolicies:function(){return this.quarantineInstances.length||this.acceptInstances.length||this.rejectInstances.length||this.ftlRemovalInstances.length||this.mediaNsfwInstances.length||this.mediaRemovalInstances.length},hasKeywordPolicies:function(){return this.keywordsFtlRemoval.length||this.keywordsReject.length||this.keywordsReplace.length}})},_f={components:{InstanceSpecificPanel:hi,FeaturesPanel:Pi,TermsOfServicePanel:zh,StaffPanel:Lh,MRFTransparencyPanel:(0,Eo.Z)(yf,[["render",function(e,t,n,o,r,i){return e.federationPolicy?((0,uo.wg)(),(0,uo.iD)("div",Eh,[(0,uo._)("div",Fh,[(0,uo._)("div",Rh,[(0,uo._)("div",qh,(0,po.zw)(e.$t("about.mrf.federation")),1)]),(0,uo._)("div",Nh,[(0,uo._)("div",Zh,[(0,uo._)("h2",null,(0,po.zw)(e.$t("about.mrf.mrf_policies")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.mrf_policies_desc")),1),(0,uo._)("ul",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.mrfPolicies,(function(e){return(0,uo.wg)(),(0,uo.iD)("li",{key:e,textContent:(0,po.zw)(e)},null,8,Wh)})),128))]),e.hasInstanceSpecificPolicies?((0,uo.wg)(),(0,uo.iD)("h2",Bh,(0,po.zw)(e.$t("about.mrf.simple.simple_policies")),1)):(0,uo.kq)("",!0),e.acceptInstances.length?((0,uo.wg)(),(0,uo.iD)("div",Hh,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.accept")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.accept_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.acceptInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_accept"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",Vh,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",Kh,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.rejectInstances.length?((0,uo.wg)(),(0,uo.iD)("div",Gh,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.reject")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.reject_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.rejectInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_reject"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",Yh,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",Jh,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.quarantineInstances.length?((0,uo.wg)(),(0,uo.iD)("div",Qh,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.quarantine")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.quarantine_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.quarantineInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_quarantine"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",Xh,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",ef,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.ftlRemovalInstances.length?((0,uo.wg)(),(0,uo.iD)("div",tf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.ftl_removal")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.ftl_removal_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.ftlRemovalInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_ftl_removal"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",nf,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",of,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.mediaNsfwInstances.length?((0,uo.wg)(),(0,uo.iD)("div",rf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.media_nsfw")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.media_nsfw_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.mediaNsfwInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_media_nsfw"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",sf,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",af,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.mediaRemovalInstances.length?((0,uo.wg)(),(0,uo.iD)("div",cf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.simple.media_removal")),1),(0,uo._)("p",null,(0,po.zw)(e.$t("about.mrf.simple.media_removal_desc")),1),(0,uo._)("table",null,[(0,uo._)("tr",null,[(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.instance")),1),(0,uo._)("th",null,(0,po.zw)(e.$t("about.mrf.simple.reason")),1)]),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.mediaRemovalInstances,(function(t){return(0,uo.wg)(),(0,uo.iD)("tr",{key:t.instance+"_media_removal"},[(0,uo._)("td",null,(0,po.zw)(t.instance),1),""===t.reason?((0,uo.wg)(),(0,uo.iD)("td",lf,(0,po.zw)(e.$t("about.mrf.simple.not_applicable")),1)):((0,uo.wg)(),(0,uo.iD)("td",uf,(0,po.zw)(t.reason),1))])})),128))])])):(0,uo.kq)("",!0),e.hasKeywordPolicies?((0,uo.wg)(),(0,uo.iD)("h2",df,(0,po.zw)(e.$t("about.mrf.keyword.keyword_policies")),1)):(0,uo.kq)("",!0),e.keywordsFtlRemoval.length?((0,uo.wg)(),(0,uo.iD)("div",pf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.keyword.ftl_removal")),1),(0,uo._)("ul",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.keywordsFtlRemoval,(function(e){return(0,uo.wg)(),(0,uo.iD)("li",{key:e,textContent:(0,po.zw)(e)},null,8,mf)})),128))])])):(0,uo.kq)("",!0),e.keywordsReject.length?((0,uo.wg)(),(0,uo.iD)("div",hf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.keyword.reject")),1),(0,uo._)("ul",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.keywordsReject,(function(e){return(0,uo.wg)(),(0,uo.iD)("li",{key:e,textContent:(0,po.zw)(e)},null,8,ff)})),128))])])):(0,uo.kq)("",!0),e.keywordsReplace.length?((0,uo.wg)(),(0,uo.iD)("div",gf,[(0,uo._)("h4",null,(0,po.zw)(e.$t("about.mrf.keyword.replace")),1),(0,uo._)("ul",null,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.keywordsReplace,(function(t){return(0,uo.wg)(),(0,uo.iD)("li",{key:t},(0,po.zw)(t.pattern)+" "+(0,po.zw)(e.$t("about.mrf.keyword.is_replaced_by"))+" "+(0,po.zw)(t.replacement),1)})),128))])])):(0,uo.kq)("",!0)])])])])):(0,uo.kq)("",!0)}]])},computed:{showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent}}},kf=(0,Eo.Z)(_f,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("instance-specific-panel"),a=(0,uo.up)("staff-panel"),c=(0,uo.up)("terms-of-service-panel"),l=(0,uo.up)("MRFTransparencyPanel"),u=(0,uo.up)("features-panel");return(0,uo.wg)(),(0,uo.iD)("div",Sh,[e.showInstanceSpecificPanel?((0,uo.wg)(),(0,uo.j4)(s,{key:0})):(0,uo.kq)("",!0),(0,uo.Wm)(a),(0,uo.Wm)(c),(0,uo.Wm)(l),e.showFeaturesPanel?((0,uo.wg)(),(0,uo.j4)(u,{key:1})):(0,uo.kq)("",!0)])}]]);var Sf={class:"panel panel-default"},jf={class:"panel-heading"},Cf={class:"panel-body"},Of={key:0};const Pf={data:function(){return{error:!1}},mounted:function(){this.redirect()},methods:{redirect:function(){var e=this,t=this.$route.params.username+"@"+this.$route.params.hostname;this.$store.state.api.backendInteractor.fetchUser({id:t}).then((function(t){if(t.error)e.error=!0;else{e.$store.commit("addNewUsers",[t]);var n=t.id;e.$router.replace({name:"external-user-profile",params:{id:n}})}})).catch((function(){e.error=!0}))}}},zf=(0,Eo.Z)(Pf,[["render",function(e,t,n,o,r,i){return(0,uo.wg)(),(0,uo.iD)("div",Sf,[(0,uo._)("div",jf,(0,po.zw)(e.$t("remote_user_resolver.remote_user_resolver")),1),(0,uo._)("div",Cf,[(0,uo._)("p",null,(0,po.zw)(e.$t("remote_user_resolver.searching_for"))+" @"+(0,po.zw)(e.$route.params.username)+"@"+(0,po.zw)(e.$route.params.hostname),1),e.error?((0,uo.wg)(),(0,uo.iD)("p",Of,(0,po.zw)(e.$t("remote_user_resolver.error")),1)):(0,uo.kq)("",!0)])])}]]);var Df={class:"Lists panel panel-default"},If={class:"panel-heading"},xf={class:"title"},Tf={class:"panel-body"},$f={class:"list-card"};qt.vI.add(Nt.cNd);const Uf={props:["list"]},Mf={data:function(){return{isNew:!1}},components:{ListsCard:(0,Eo.Z)(Uf,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link"),a=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",$f,[(0,uo.Wm)(s,{to:{name:"lists-timeline",params:{id:e.list.id}},class:"list-name"},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.list.title),1)]})),_:1},8,["to"]),(0,uo.Wm)(s,{to:{name:"lists-edit",params:{id:e.list.id}},class:"button-list-edit"},{default:(0,uo.w5)((function(){return[(0,uo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"ellipsis-h"})]})),_:1},8,["to"])])}]])},computed:{lists:function(){return this.$store.state.lists.allLists}},methods:{cancelNewList:function(){this.isNew=!1},newList:function(){this.isNew=!0}}},Af=(0,Eo.Z)(Mf,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("router-link"),a=(0,uo.up)("ListsCard");return(0,uo.wg)(),(0,uo.iD)("div",Df,[(0,uo._)("div",If,[(0,uo._)("div",xf,(0,po.zw)(e.$t("lists.lists")),1),(0,uo.Wm)(s,{to:{name:"lists-new"},class:"button-default btn new-list-button"},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("lists.new")),1)]})),_:1})]),(0,uo._)("div",Tf,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.lists.slice().reverse(),(function(e){return(0,uo.wg)(),(0,uo.j4)(a,{key:e,list:e,class:"list-item"},null,8,["list"])})),128))])])}]]),Lf=Af,Ef={data:function(){return{listId:null}},components:{Timeline:Ul},computed:{timeline:function(){return this.$store.state.statuses.timelines.list}},watch:{$route:function(e){"lists-timeline"===e.name&&e.params.id!==this.listId&&(this.listId=e.params.id,this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"}),this.$store.dispatch("fetchList",{listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId}))}},created:function(){this.listId=this.$route.params.id,this.$store.dispatch("fetchList",{listId:this.listId}),this.$store.dispatch("startFetchingTimeline",{timeline:"list",listId:this.listId})},unmounted:function(){this.$store.dispatch("stopFetchingTimeline","list"),this.$store.commit("clearTimeline",{timeline:"list"})}},Ff=(0,Eo.Z)(Ef,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Timeline");return(0,uo.wg)(),(0,uo.j4)(s,{title:"list.name",timeline:e.timeline,"list-id":e.listId,"timeline-name":"list"},null,8,["timeline","list-id"])}]]);var Rf={class:"panel-default panel ListEdit"},qf={ref:"header",class:"panel-heading list-edit-heading"},Nf={class:"title"},Zf={class:"panel-body"},Wf={class:"input-wrap"},Bf={for:"list-edit-title"},Hf=["label"],Vf={class:"users-list"},Kf=["onClick"],Gf=["label"],Yf={key:0,class:"loading"},Jf={key:1,class:"users-list"},Qf={key:0},Xf=["onClick"],eg=["onClick"],tg={class:"panel-footer"},ng=(0,uo._)("span",{class:"spacer"},null,-1),og={class:"ListsUserSearch"},rg={class:"input-wrap"},ig={class:"input-search"},sg=["placeholder"],ag={class:"input-wrap"};qt.vI.add(Nt.wn1,Nt.A35);const cg={components:{Checkbox:ri.Z},emits:["loading","loadingDone","results"],data:function(){return{loading:!1,query:"",followingOnly:!0}},methods:{onInput:Bs()((function(){this.search(this.query)}),2e3),search:function(e){var t=this;e?(this.loading=!0,this.$emit("loading"),this.userIds=[],this.$store.dispatch("search",{q:e,resolve:!0,type:"accounts",following:this.followingOnly}).then((function(e){t.$emit("results",e.accounts.map((function(e){return e.id})))})).finally((function(){t.loading=!1,t.$emit("loadingDone")}))):this.loading=!1}}},lg=(0,Eo.Z)(cg,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("Checkbox");return(0,uo.wg)(),(0,uo.iD)("div",og,[(0,uo._)("div",rg,[(0,uo._)("div",ig,[(0,uo.Wm)(s,{class:"search-icon fa-scale-110 fa-old-padding",icon:"search"})]),(0,uo.wy)((0,uo._)("input",{ref:"search","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.query=t}),placeholder:e.$t("lists.search"),onInput:t[1]||(t[1]=function(){return e.onInput&&e.onInput.apply(e,arguments)})},null,40,sg),[[ro.nr,e.query]])]),(0,uo._)("div",ag,[(0,uo.Wm)(a,{modelValue:e.followingOnly,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.followingOnly=t}),onChange:e.onInput},{default:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.$t("lists.following_only")),1)]})),_:1},8,["modelValue","onChange"])])])}]]);var ug=n(29187);function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qt.vI.add(Nt.wn1,Nt.A35);var mg={components:{BasicUserCard:qu.Z,UserAvatar:ju.default,ListsUserSearch:lg,TabSwitcher:nu.Z,PanelLoading:ug.Z},data:function(){return{title:"",titleDraft:"",membersUserIds:[],removedUserIds:new Set([]),searchUserIds:[],addedUserIds:new Set([]),searchLoading:!1,reallyDelete:!1}},created:function(){var e=this;this.id&&(this.$store.dispatch("fetchList",{listId:this.id}).then((function(){e.title=e.findListTitle(e.id),e.titleDraft=e.title})),this.$store.dispatch("fetchListAccounts",{listId:this.id}).then((function(){e.membersUserIds=e.findListAccounts(e.id),e.membersUserIds.forEach((function(t){e.$store.dispatch("fetchUserIfMissing",t)}))})))},computed:pg(pg({id:function(){return this.$route.params.id},membersUsers:function(){var e=this;return[].concat((0,u.Z)(this.membersUserIds),(0,u.Z)(this.addedUserIds)).map((function(t){return e.findUser(t)})).filter((function(e){return e}))},searchUsers:function(){var e=this;return this.searchUserIds.map((function(t){return e.findUser(t)})).filter((function(e){return e}))}},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),(0,s.Se)(["findUser","findListTitle","findListAccounts"])),methods:{onInput:function(){this.search(this.query)},toggleRemoveMember:function(e){this.removedUserIds.has(e.id)?(this.id&&this.addUser(e),this.removedUserIds.delete(e.id)):(this.id&&this.removeUser(e.id),this.removedUserIds.add(e.id))},toggleAddFromSearch:function(e){this.addedUserIds.has(e.id)?(this.id&&this.removeUser(e.id),this.addedUserIds.delete(e.id)):(this.id&&this.addUser(e),this.addedUserIds.add(e.id))},isRemoved:function(e){return this.removedUserIds.has(e.id)},isAdded:function(e){return this.addedUserIds.has(e.id)},addUser:function(e){this.$store.dispatch("addListAccount",{accountId:e.id,listId:this.id})},removeUser:function(e){this.$store.dispatch("removeListAccount",{accountId:e,listId:this.id})},onSearchLoading:function(e){this.searchLoading=!0},onSearchLoadingDone:function(e){this.searchLoading=!1},onSearchResults:function(e){this.searchLoading=!1,this.searchUserIds=e},updateListTitle:function(){var e=this;this.$store.dispatch("setList",{listId:this.id,title:this.titleDraft}).then((function(){e.title=e.findListTitle(e.id)}))},createList:function(){var e=this;this.$store.dispatch("createList",{title:this.titleDraft}).then((function(t){return e.$store.dispatch("setListAccounts",{listId:t.id,accountIds:(0,u.Z)(e.addedUserIds)}).then((function(){return t.id}))})).then((function(t){e.$router.push({name:"lists-timeline",params:{id:t}})})).catch((function(t){e.$store.dispatch("pushGlobalNotice",{messageKey:"lists.error",messageArgs:[t.message],level:"error"})}))},deleteList:function(){this.$store.dispatch("deleteList",{listId:this.id}),this.$router.push({name:"lists"})}}};const hg=mg,fg=(0,Eo.Z)(hg,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("FAIcon"),a=(0,uo.up)("i18n-t"),c=(0,uo.up)("BasicUserCard"),l=(0,uo.up)("ListsUserSearch"),u=(0,uo.up)("PanelLoading"),d=(0,uo.up)("tab-switcher");return(0,uo.wg)(),(0,uo.iD)("div",Rf,[(0,uo._)("div",qf,[(0,uo._)("button",{class:"button-unstyled go-back-button",onClick:t[0]||(t[0]=function(){var t;return e.$router.back&&(t=e.$router).back.apply(t,arguments)})},[(0,uo.Wm)(s,{size:"lg",icon:"chevron-left"})]),(0,uo._)("div",Nf,[e.id?((0,uo.wg)(),(0,uo.j4)(a,{key:0,keypath:"lists.editing_list"},{listTitle:(0,uo.w5)((function(){return[(0,uo.Uk)((0,po.zw)(e.title),1)]})),_:1})):((0,uo.wg)(),(0,uo.j4)(a,{key:1,keypath:"lists.creating_list"}))])],512),(0,uo._)("div",Zf,[(0,uo._)("div",Wf,[(0,uo._)("label",Bf,(0,po.zw)(e.$t("lists.title")),1),(0,uo.Uk)(" "+(0,po.zw)(" ")+" "),(0,uo.wy)((0,uo._)("input",{id:"list-edit-title",ref:"title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.titleDraft=t})},null,512),[[ro.nr,e.titleDraft]]),e.id?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"btn button-default follow-button",onClick:t[2]||(t[2]=function(){return e.updateListTitle&&e.updateListTitle.apply(e,arguments)})},(0,po.zw)(e.$t("lists.update_title")),1)):(0,uo.kq)("",!0)]),(0,uo.Wm)(d,{class:"list-member-management","scrollable-tabs":!0},{default:(0,uo.w5)((function(){return[e.id||e.addedUserIds.size>0?((0,uo.wg)(),(0,uo.iD)("div",{key:0,label:e.$t("lists.manage_members"),class:"members-list"},[(0,uo._)("div",Vf,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.membersUsers,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.id,class:"member"},[(0,uo.Wm)(c,{user:t},{default:(0,uo.w5)((function(){return[(0,uo._)("button",{class:"btn button-default follow-button",onClick:function(n){return e.toggleRemoveMember(t)}},(0,po.zw)(e.isRemoved(t)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,Kf)]})),_:2},1032,["user"])])})),128))])],8,Hf)):(0,uo.kq)("",!0),(0,uo._)("div",{class:"search-list",label:e.$t("lists.add_members")},[(0,uo.Wm)(l,{onResults:e.onSearchResults,onLoading:e.onSearchLoading,onLoadingDone:e.onSearchLoadingDone},null,8,["onResults","onLoading","onLoadingDone"]),e.searchLoading?((0,uo.wg)(),(0,uo.iD)("div",Yf,[(0,uo.Wm)(u)])):((0,uo.wg)(),(0,uo.iD)("div",Jf,[((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.searchUsers,(function(t){return(0,uo.wg)(),(0,uo.iD)("div",{key:t.id,class:"member"},[(0,uo.Wm)(c,{user:t},{default:(0,uo.w5)((function(){return[e.membersUserIds.includes(t.id)?((0,uo.wg)(),(0,uo.iD)("span",Qf,(0,po.zw)(e.$t("lists.is_in_list")),1)):(0,uo.kq)("",!0),e.membersUserIds.includes(t.id)?((0,uo.wg)(),(0,uo.iD)("button",{key:2,class:"btn button-default follow-button",onClick:function(n){return e.toggleRemoveMember(t)}},(0,po.zw)(e.isRemoved(t)?e.$t("general.undo"):e.$t("lists.remove_from_list")),9,eg)):((0,uo.wg)(),(0,uo.iD)("button",{key:1,class:"btn button-default follow-button",onClick:function(n){return e.toggleAddFromSearch(t)}},(0,po.zw)(e.isAdded(t)?e.$t("general.undo"):e.$t("lists.add_to_list")),9,Xf))]})),_:2},1032,["user"])])})),128))]))],8,Gf)]})),_:1})]),(0,uo._)("div",tg,[ng,e.id?e.reallyDelete?((0,uo.wg)(),(0,uo.iD)(uo.HY,{key:2},[(0,uo.Uk)((0,po.zw)(e.$t("lists.really_delete"))+" ",1),(0,uo._)("button",{class:"btn button-default footer-button",onClick:t[5]||(t[5]=function(){return e.deleteList&&e.deleteList.apply(e,arguments)})},(0,po.zw)(e.$t("general.yes")),1),(0,uo._)("button",{class:"btn button-default footer-button",onClick:t[6]||(t[6]=function(t){return e.reallyDelete=!1})},(0,po.zw)(e.$t("general.no")),1)],64)):((0,uo.wg)(),(0,uo.iD)("button",{key:1,class:"btn button-default footer-button",onClick:t[4]||(t[4]=function(t){return e.reallyDelete=!0})},(0,po.zw)(e.$t("lists.delete")),1)):((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:"btn button-default footer-button",onClick:t[3]||(t[3]=function(){return e.createList&&e.createList.apply(e,arguments)})},(0,po.zw)(e.$t("lists.create")),1))])])}]]);var gg={class:"panel panel-default announcements-page"},vg={class:"panel-heading"},wg={class:"panel-body"},bg={key:0},yg={class:"post-form"},_g={class:"heading"},kg={class:"body"},Sg={class:"footer"},jg=["disabled"],Cg={key:0,class:"alert error"},Og={class:"announcement"},Pg={class:"heading"},zg={class:"body"},Dg={class:"footer"},Ig={key:0,class:"times"},xg={key:0},Tg={key:1},$g={key:2},Ug={key:1,class:"actions"},Mg=["disabled","title"],Ag={key:2,class:"actions"},Lg={key:0,class:"alert error"},Eg={class:"announcement-editor"},Fg=["placeholder","disabled"],Rg={class:"announcement-metadata"},qg={for:"announcement-start-time"},Ng=["type","disabled"],Zg={class:"announcement-metadata"},Wg={for:"announcement-end-time"},Bg=["type","disabled"],Hg={class:"announcement-metadata"},Vg={for:"announcement-all-day"};const Kg={components:{Checkbox:ri.Z},props:{announcement:Object,disabled:Boolean}},Gg=(0,Eo.Z)(Kg,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("Checkbox");return(0,uo.wg)(),(0,uo.iD)("div",Eg,[(0,uo.wy)((0,uo._)("textarea",{ref:"textarea","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.announcement.content=t}),class:"post-textarea",rows:"1",cols:"1",placeholder:e.$t("announcements.post_placeholder"),disabled:e.disabled},null,8,Fg),[[ro.nr,e.announcement.content]]),(0,uo._)("span",Rg,[(0,uo._)("label",qg,(0,po.zw)(e.$t("announcements.start_time_prompt")),1),(0,uo.wy)((0,uo._)("input",{id:"announcement-start-time","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.announcement.startsAt=t}),type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,Ng),[[ro.YZ,e.announcement.startsAt]])]),(0,uo._)("span",Zg,[(0,uo._)("label",Wg,(0,po.zw)(e.$t("announcements.end_time_prompt")),1),(0,uo.wy)((0,uo._)("input",{id:"announcement-end-time","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.announcement.endsAt=t}),type:e.announcement.allDay?"date":"datetime-local",disabled:e.disabled},null,8,Bg),[[ro.YZ,e.announcement.endsAt]])]),(0,uo._)("span",Hg,[(0,uo.Wm)(s,{id:"announcement-all-day",modelValue:e.announcement.allDay,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.announcement.allDay=t}),disabled:e.disabled},null,8,["modelValue","disabled"]),(0,uo._)("label",Vg,(0,po.zw)(e.$t("announcements.all_day_prompt")),1)])])}]]);function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qg={components:{AnnouncementEditor:Gg,RichContent:zu.Z},data:function(){return{editing:!1,editedAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:void 0},editError:""}},props:{announcement:Object},computed:Jg(Jg({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{canEditAnnouncement:function(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")},content:function(){return this.announcement.content},isRead:function(){return this.announcement.read},publishedAt:function(){var e=this.announcement.published_at;if(e)return this.formatTimeOrDate(e,fd.Z.internalToBrowserLocale(this.$i18n.locale))},startsAt:function(){var e=this.announcement.starts_at;if(e)return this.formatTimeOrDate(e,fd.Z.internalToBrowserLocale(this.$i18n.locale))},endsAt:function(){var e=this.announcement.ends_at;if(e)return this.formatTimeOrDate(e,fd.Z.internalToBrowserLocale(this.$i18n.locale))},inactive:function(){return this.announcement.inactive}}),methods:{markAsRead:function(){if(!this.isRead)return this.$store.dispatch("markAnnouncementAsRead",this.announcement.id)},deleteAnnouncement:function(){return this.$store.dispatch("deleteAnnouncement",this.announcement.id)},formatTimeOrDate:function(e,t){var n=new Date(e);return this.announcement.all_day?n.toLocaleDateString(t):n.toLocaleString(t)},enterEditMode:function(){this.editedAnnouncement.content=this.announcement.pleroma.raw_content,this.editedAnnouncement.startsAt=this.announcement.starts_at,this.editedAnnouncement.endsAt=this.announcement.ends_at,this.editedAnnouncement.allDay=this.announcement.all_day,this.editing=!0},submitEdit:function(){var e=this;this.$store.dispatch("editAnnouncement",Jg({id:this.announcement.id},this.editedAnnouncement)).then((function(){e.editing=!1})).catch((function(t){e.editError=t.error}))},cancelEdit:function(){this.editing=!1},clearError:function(){this.editError=void 0}}};function Xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xg(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const tv={components:{Announcement:(0,Eo.Z)(Qg,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("rich-content"),a=(0,uo.up)("announcement-editor"),c=(0,uo.up)("FAIcon");return(0,uo.wg)(),(0,uo.iD)("div",Og,[(0,uo._)("div",Pg,[(0,uo._)("h4",null,(0,po.zw)(e.$t("announcements.title")),1)]),(0,uo._)("div",zg,[e.editing?((0,uo.wg)(),(0,uo.j4)(a,{key:1,announcement:e.editedAnnouncement},null,8,["announcement"])):((0,uo.wg)(),(0,uo.j4)(s,{key:0,html:e.content,emoji:e.announcement.emojis,"handle-links":!0},null,8,["html","emoji"]))]),(0,uo._)("div",Dg,[e.editing?(0,uo.kq)("",!0):((0,uo.wg)(),(0,uo.iD)("div",Ig,[e.publishedAt?((0,uo.wg)(),(0,uo.iD)("span",xg,(0,po.zw)(e.$t("announcements.published_time_display",{time:e.publishedAt})),1)):(0,uo.kq)("",!0),e.startsAt?((0,uo.wg)(),(0,uo.iD)("span",Tg,(0,po.zw)(e.$t("announcements.start_time_display",{time:e.startsAt})),1)):(0,uo.kq)("",!0),e.endsAt?((0,uo.wg)(),(0,uo.iD)("span",$g,(0,po.zw)(e.$t("announcements.end_time_display",{time:e.endsAt})),1)):(0,uo.kq)("",!0)])),e.editing?((0,uo.wg)(),(0,uo.iD)("div",Ag,[(0,uo._)("button",{class:"btn button-default",onClick:t[3]||(t[3]=function(){return e.submitEdit&&e.submitEdit.apply(e,arguments)})},(0,po.zw)(e.$t("announcements.submit_edit_action")),1),(0,uo._)("button",{class:"btn button-default",onClick:t[4]||(t[4]=function(){return e.cancelEdit&&e.cancelEdit.apply(e,arguments)})},(0,po.zw)(e.$t("announcements.cancel_edit_action")),1),e.editing&&e.editError?((0,uo.wg)(),(0,uo.iD)("div",Lg,[(0,uo.Uk)((0,po.zw)(e.$t("announcements.edit_error",{error:e.error}))+" ",1),(0,uo._)("button",{class:"button-unstyled",onClick:t[5]||(t[5]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,uo.Wm)(c,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):(0,uo.kq)("",!0)])):((0,uo.wg)(),(0,uo.iD)("div",Ug,[e.currentUser?((0,uo.wg)(),(0,uo.iD)("button",{key:0,class:(0,po.C_)(["btn button-default",{toggled:e.isRead}]),disabled:e.inactive,title:e.inactive?e.$t("announcements.inactive_message"):"",onClick:t[0]||(t[0]=function(){return e.markAsRead&&e.markAsRead.apply(e,arguments)})},(0,po.zw)(e.$t("announcements.mark_as_read_action")),11,Mg)):(0,uo.kq)("",!0),e.canEditAnnouncement?((0,uo.wg)(),(0,uo.iD)("button",{key:1,class:"btn button-default",onClick:t[1]||(t[1]=function(){return e.enterEditMode&&e.enterEditMode.apply(e,arguments)})},(0,po.zw)(e.$t("announcements.edit_action")),1)):(0,uo.kq)("",!0),e.canEditAnnouncement?((0,uo.wg)(),(0,uo.iD)("button",{key:2,class:"btn button-default",onClick:t[2]||(t[2]=function(){return e.deleteAnnouncement&&e.deleteAnnouncement.apply(e,arguments)})},(0,po.zw)(e.$t("announcements.delete_action")),1)):(0,uo.kq)("",!0)]))])])}]]),AnnouncementEditor:Gg},data:function(){return{newAnnouncement:{content:"",startsAt:void 0,endsAt:void 0,allDay:!1},posting:!1,error:void 0}},mounted:function(){this.$store.dispatch("fetchAnnouncements")},computed:ev(ev({},(0,s.rn)({currentUser:function(e){return e.users.currentUser}})),{},{announcements:function(){return this.$store.state.announcements.announcements},canPostAnnouncement:function(){return this.currentUser&&this.currentUser.privileges.includes("announcements_manage_announcements")}}),methods:{postAnnouncement:function(){var e=this;this.posting=!0,this.$store.dispatch("postAnnouncement",this.newAnnouncement).then((function(){e.newAnnouncement.content="",e.startsAt=void 0,e.endsAt=void 0})).catch((function(t){e.error=t.error})).finally((function(){e.posting=!1}))},clearError:function(){this.error=void 0}}},nv=(0,Eo.Z)(tv,[["render",function(e,t,n,o,r,i){var s=(0,uo.up)("announcement-editor"),a=(0,uo.up)("FAIcon"),c=(0,uo.up)("announcement");return(0,uo.wg)(),(0,uo.iD)("div",gg,[(0,uo._)("div",vg,[(0,uo._)("span",null,(0,po.zw)(e.$t("announcements.page_header")),1)]),(0,uo._)("div",wg,[e.canPostAnnouncement?((0,uo.wg)(),(0,uo.iD)("section",bg,[(0,uo._)("div",yg,[(0,uo._)("div",_g,[(0,uo._)("h4",null,(0,po.zw)(e.$t("announcements.post_form_header")),1)]),(0,uo._)("div",kg,[(0,uo.Wm)(s,{announcement:e.newAnnouncement,disabled:e.posting},null,8,["announcement","disabled"])]),(0,uo._)("div",Sg,[(0,uo._)("button",{class:"btn button-default post-button",disabled:e.posting,onClick:t[0]||(t[0]=(0,ro.iM)((function(){return e.postAnnouncement&&e.postAnnouncement.apply(e,arguments)}),["prevent"]))},(0,po.zw)(e.$t("announcements.post_action")),9,jg),e.error?((0,uo.wg)(),(0,uo.iD)("div",Cg,[(0,uo.Uk)((0,po.zw)(e.$t("announcements.post_error",{error:e.error}))+" ",1),(0,uo._)("button",{class:"button-unstyled",onClick:t[1]||(t[1]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,uo.Wm)(a,{class:"fa-scale-110 fa-old-padding",icon:"times",title:e.$t("announcements.close_error")},null,8,["title"])])])):(0,uo.kq)("",!0)])])])):(0,uo.kq)("",!0),((0,uo.wg)(!0),(0,uo.iD)(uo.HY,null,(0,uo.Ko)(e.announcements,(function(e){return(0,uo.wg)(),(0,uo.iD)("section",{key:e.id},[(0,uo.Wm)(c,{announcement:e},null,8,["announcement"])])})),128))])])}]]),ov=function(e){var t=function(t,n,o){e.state.users.currentUser?o():o(e.state.instance.redirectRootNoLogin||"/main/all")},n=[{name:"root",path:"/",redirect:function(t){return(e.state.users.currentUser?e.state.instance.redirectRootLogin:e.state.instance.redirectRootNoLogin)||"/main/all"}},{name:"public-external-timeline",path:"/main/all",component:El},{name:"public-timeline",path:"/main/public",component:Al},{name:"friends",path:"/main/friends",component:Rl,beforeEnter:t},{name:"tag-timeline",path:"/tag/:tag",component:Nl},{name:"bookmarks",path:"/bookmarks",component:Wl},{name:"conversation",path:"/notice/:id",component:Hl,meta:{dontScroll:!0}},{name:"remote-user-profile-acct",path:"/remote-users/:_(@)?:username([^/@]+)@:hostname([^/@]+)",component:zf,beforeEnter:t},{name:"remote-user-profile",path:"/remote-users/:hostname/:username",component:zf,beforeEnter:t},{name:"external-user-profile",path:"/users/$:id",component:ap},{name:"interactions",path:"/users/:username/interactions",component:iu,beforeEnter:t},{name:"dms",path:"/users/:username/dms",component:au,beforeEnter:t},{name:"registration",path:"/registration",component:Fm},{name:"password-reset",path:"/password-reset",component:ah,props:!0},{name:"registration-token",path:"/registration/:token",component:Fm},{name:"friend-requests",path:"/friend-requests",component:fh,beforeEnter:t},{name:"notifications",path:"/:username/notifications",component:aa.default,props:function(){return{disableTeleport:!0}},beforeEnter:t},{name:"login",path:"/login",component:br},{name:"shout-panel",path:"/shout-panel",component:ns,props:function(){return{floating:!1}}},{name:"oauth-callback",path:"/oauth-callback",component:vh,props:function(e){return{code:e.query.code}}},{name:"search",path:"/search",component:Lp,props:function(e){return{query:e.query.query}}},{name:"who-to-follow",path:"/who-to-follow",component:kh,beforeEnter:t},{name:"about",path:"/about",component:kf},{name:"announcements",path:"/announcements",component:nv},{name:"user-profile",path:"/users/:name",component:ap},{name:"legacy-user-profile",path:"/:name",component:ap},{name:"lists",path:"/lists",component:Lf},{name:"lists-timeline",path:"/lists/:id",component:Ff},{name:"lists-edit",path:"/lists/:id/edit",component:fg},{name:"lists-new",path:"/lists/new",component:fg},{name:"edit-navigation",path:"/nav-edit",component:ci,props:function(){return{forceExpand:!0,forceEditMode:!0}},beforeEnter:t}];return e.state.instance.pleromaChatMessagesAvailable&&(n=n.concat([{name:"chat",path:"/users/:username/chats/:recipient_id",component:Pd,meta:{dontScroll:!1},beforeEnter:t},{name:"chats",path:"/users/:username/chats",component:Yu,meta:{dontScroll:!1},beforeEnter:t}])),n};var rv,iv,sv=n(58509),av=new Set([]),cv=function(e){var t=window.innerWidth-document.documentElement.clientWidth;sv.Qp(e,{reserveScrollBarGap:!0}),av.add(e),setTimeout((function(){if(av.size<=1){if(void 0===rv){var e=document.getElementById("nav");rv=window.getComputedStyle(e).getPropertyValue("padding-right"),e.style.paddingRight=rv?"calc(".concat(rv," + ").concat(t,"px)"):"".concat(t,"px")}if(void 0===iv){var n=document.getElementById("app_bg_wrapper");iv=window.getComputedStyle(n).getPropertyValue("right"),n.style.right=iv?"calc(".concat(iv," + ").concat(t,"px)"):"".concat(t,"px")}document.body.classList.add("scroll-locked")}}))},lv=function(e){av.delete(e),setTimeout((function(){0===av.size&&(void 0!==rv&&(document.getElementById("nav").style.paddingRight=rv,rv=void 0),void 0!==iv&&(document.getElementById("app_bg_wrapper").style.right=iv,iv=void 0),document.body.classList.remove("scroll-locked"))})),sv.tG(e)},uv={mounted:function(e,t){t.value&&cv(e)},updated:function(e,t){t.oldValue!==t.value&&(t.value?cv(e):lv(e))},unmounted:function(e){lv(e)}};const dv=function(e){e.directive("body-scroll-lock",uv)};var pv=n(49753);function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fv=null,gv=function(e){var t=atob(e),n=Uint8Array.from((0,u.Z)(t).map((function(e){return e.charCodeAt(0)})));return(new TextDecoder).decode(n)},vv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.getElementById("initial-results")?(fv||(fv=JSON.parse(document.getElementById("initial-results").textContent)),fv):null)&&n[t]){e.next=3;break}return e.abrupt("return",window.fetch(t));case 3:return o=gv(n[t]),r=JSON.parse(o),e.abrupt("return",{ok:!0,json:function(){return r},text:function(){return r}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,vv("/api/v1/instance");case 4:if(!(o=e.sent).ok){e.next=18;break}return e.next=8,o.json();case 8:r=e.sent,s=r.max_toot_chars,a=r.pleroma.vapid_public_key,n.dispatch("setInstanceOption",{name:"textlimit",value:s}),n.dispatch("setInstanceOption",{name:"accountApprovalRequired",value:r.approval_required}),n.dispatch("setInstanceOption",{name:"birthdayRequired",value:!!r.pleroma.metadata.birthday_required}),n.dispatch("setInstanceOption",{name:"birthdayMinAge",value:r.pleroma.metadata.birthday_min_age||0}),a&&n.dispatch("setInstanceOption",{name:"vapidPublicKey",value:a}),e.next=19;break;case 18:throw o;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.error("Could not load instance config, potentially fatal"),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),bv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.store,e.prev=1,e.next=4,window.fetch("/api/pleroma/frontend_configurations");case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:return o=e.sent,e.abrupt("return",o.pleroma_fe);case 12:throw n;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Could not load backend-provided frontend config, potentially fatal"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),yv=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.fetch("/static/config.json");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.json());case 8:throw t;case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("Failed to load static/config.json, continuing without it."),console.warn(e.t0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),_v=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiConfig,o=t.staticConfig,r=t.store,s=window.___pleromafe_dev_overrides||{},a=window.___pleromafe_mode.NODE_ENV,c={},s.staticConfigPreference&&"development"===a?(console.warn("OVERRIDING API CONFIG WITH STATIC CONFIG"),c=Object.assign({},n,o)):c=Object.assign({},o,n),(l=function(e){r.dispatch("setInstanceOption",{name:e,value:c[e]})})("nsfwCensorImage"),l("background"),l("hidePostStats"),l("hideBotIndication"),l("hideUserStats"),l("hideFilteredStatuses"),l("logo"),r.dispatch("setInstanceOption",{name:"logoMask",value:void 0===c.logoMask||c.logoMask}),r.dispatch("setInstanceOption",{name:"logoMargin",value:void 0===c.logoMargin?0:c.logoMargin}),l("logoLeft"),r.commit("authFlow/setInitialStrategy",c.loginMethod),l("redirectRootNoLogin"),l("redirectRootLogin"),l("showInstanceSpecificPanel"),l("minimalScopesMode"),l("hideMutedPosts"),l("collapseMessageWithSubject"),l("scopeCopy"),l("subjectLineBehavior"),l("postContentType"),l("alwaysShowSubjectInput"),l("showFeaturesPanel"),l("hideSitename"),l("sidebarRight"),e.abrupt("return",r.dispatch("setTheme",c.theme));case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,window.fetch("/static/terms-of-service.html");case 4:if(!(o=e.sent).ok){e.next=12;break}return e.next=8,o.text();case 8:r=e.sent,n.dispatch("setInstanceOption",{name:"tos",value:r}),e.next=13;break;case 12:throw o;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.warn("Can't load TOS"),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),Sv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,vv("/instance/panel.html");case 4:if(!(o=e.sent).ok){e.next=12;break}return e.next=8,o.text();case 8:r=e.sent,n.dispatch("setInstanceOption",{name:"instanceSpecificPanelContent",value:r}),e.next=13;break;case 12:throw o;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.warn("Can't load instance panel"),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),jv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,window.fetch("/static/stickers.json");case 4:if(!(r=e.sent).ok){e.next=15;break}return e.next=8,r.json();case 8:return s=e.sent,e.next=11,Promise.all(Object.entries(s).map(function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.Z)(t,2),o=n[0],r=n[1],e.next=3,window.fetch(r+"pack.json");case 3:if(s=e.sent,a={},!s.ok){e.next=9;break}return e.next=8,s.json();case 8:a=e.sent;case 9:return e.abrupt("return",{pack:o,path:r,meta:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:a=e.sent.sort((function(e,t){return e.meta.title.localeCompare(t.meta.title)})),n.dispatch("setInstanceOption",{name:"stickers",value:a}),e.next=16;break;case 15:throw r;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.warn("Can't load stickers"),console.warn(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),Cv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,o=n.state,r=n.commit,s=o.oauth,a=o.instance,e.abrupt("return",Re(hv(hv({},s),{},{instance:a.server,commit:r})).then((function(e){return qe(hv(hv({},e),{},{instance:a.server}))})).then((function(e){r("setAppToken",e.access_token),r("setBackendInteractor",Ue(n.getters.getToken()))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ov=function(e){var t=e.store,n=e.accounts.map((function(e){return e.split("/").pop()}));t.dispatch("setInstanceOption",{name:"staffAccounts",value:n})},Pv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,c,l,u,d,p,m,h,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.prev=1,e.next=4,vv("/nodeinfo/2.0.json");case 4:if(!(o=e.sent).ok){e.next=50;break}return e.next=8,o.json();case 8:r=e.sent,s=r.metadata,a=s.features,n.dispatch("setInstanceOption",{name:"name",value:s.nodeName}),n.dispatch("setInstanceOption",{name:"registrationOpen",value:r.openRegistrations}),n.dispatch("setInstanceOption",{name:"mediaProxyAvailable",value:a.includes("media_proxy")}),n.dispatch("setInstanceOption",{name:"safeDM",value:a.includes("safe_dm_mentions")}),n.dispatch("setInstanceOption",{name:"shoutAvailable",value:a.includes("chat")}),n.dispatch("setInstanceOption",{name:"pleromaChatMessagesAvailable",value:a.includes("pleroma_chat_messages")}),n.dispatch("setInstanceOption",{name:"gopherAvailable",value:a.includes("gopher")}),n.dispatch("setInstanceOption",{name:"pollsAvailable",value:a.includes("polls")}),n.dispatch("setInstanceOption",{name:"editingAvailable",value:a.includes("editing")}),n.dispatch("setInstanceOption",{name:"pollLimits",value:s.pollLimits}),n.dispatch("setInstanceOption",{name:"mailerEnabled",value:s.mailerEnabled}),c=s.uploadLimits,n.dispatch("setInstanceOption",{name:"uploadlimit",value:parseInt(c.general)}),n.dispatch("setInstanceOption",{name:"avatarlimit",value:parseInt(c.avatar)}),n.dispatch("setInstanceOption",{name:"backgroundlimit",value:parseInt(c.background)}),n.dispatch("setInstanceOption",{name:"bannerlimit",value:parseInt(c.banner)}),n.dispatch("setInstanceOption",{name:"fieldsLimits",value:s.fieldsLimits}),n.dispatch("setInstanceOption",{name:"restrictedNicknames",value:s.restrictedNicknames}),n.dispatch("setInstanceOption",{name:"postFormats",value:s.postFormats}),l=s.suggestions,n.dispatch("setInstanceOption",{name:"suggestionsEnabled",value:l.enabled}),n.dispatch("setInstanceOption",{name:"suggestionsWeb",value:l.web}),u=r.software,n.dispatch("setInstanceOption",{name:"backendVersion",value:u.version}),n.dispatch("setInstanceOption",{name:"pleromaBackend",value:"pleroma"===u.name}),d=s.private,n.dispatch("setInstanceOption",{name:"private",value:d}),p=window.___pleromafe_commit_hash,n.dispatch("setInstanceOption",{name:"frontendVersion",value:p}),m=s.federation,n.dispatch("setInstanceOption",{name:"tagPolicyAvailable",value:void 0!==m.mrf_policies&&s.federation.mrf_policies.includes("TagPolicy")}),n.dispatch("setInstanceOption",{name:"federationPolicy",value:m}),n.dispatch("setInstanceOption",{name:"federating",value:void 0===m.enabled||m.enabled}),h=s.accountActivationRequired,n.dispatch("setInstanceOption",{name:"accountActivationRequired",value:h}),f=s.staffAccounts,Ov({store:n,accounts:f}),e.next=51;break;case 50:throw o;case 51:e.next=57;break;case 53:e.prev=53,e.t0=e.catch(1),console.warn("Could not load nodeinfo"),console.warn(e.t0);case 57:case"end":return e.stop()}}),e,null,[[1,53]])})));return function(t){return e.apply(this,arguments)}}(),zv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,Promise.all([bv({store:n}),yv()]);case 3:return o=e.sent,r=o[0],s=o[1],e.next=8,_v({store:n,apiConfig:r,staticConfig:s}).then(Cv({store:n}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dv=function(){var e=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.abrupt("return",new Promise(function(){var e=(0,o.Z)(i().mark((function e(t,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.getters.getUserToken()){e.next=9;break}return e.prev=1,e.next=4,n.dispatch("loginUser",n.getters.getUserToken());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:t();case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Iv=function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,r,s,a,c,l,u,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,o=t.i18n,n.dispatch("setLayoutWidth",Me()),n.dispatch("setLayoutHeight",Ae()),pv.Z.initFaviconService(),r=window.___pleromafe_dev_overrides||{},s=void 0!==r.target?r.target:window.location.origin,n.dispatch("setInstanceOption",{name:"server",value:s}),e.next=9,zv({store:n});case 9:return a=n.state.config,c=a.customTheme,l=a.customThemeSource,u=n.state.instance.theme,l||c?l&&l.themeEngineVersion===m.we?(0,p._v)(l):(0,p._v)(c):u||console.error("Failed to load any theme!"),(0,p.mg)(n.state.config),e.next=16,Promise.all([Dv({store:n}),Sv({store:n}),Pv({store:n}),wv({store:n})]);case 16:return n.dispatch("fetchMutes"),n.dispatch("startFetchingAnnouncements"),kv({store:n}),jv({store:n}),d=(0,io.p7)({history:(0,io.PO)(),routes:ov(n),scrollBehavior:function(e,t,n){return!e.matched.some((function(e){return e.meta.dontScroll}))&&(n||{left:0,top:0})}}),(h=(0,ro.ri)(fc)).use(d),h.use(n),h.use(o),h.use(ao()),h.use(dv),h.use(co.ZP),h.component("FAIcon",lo.GN),h.component("FALayers",lo.NH),h.config.unwrapInjectedRef=!0,h.mount("#app"),e.abrupt("return",h);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var xv=(window.navigator.language||"en").split("-")[0],Tv=(0,Vn.o)({locale:"en",fallbackLocale:"en",messages:oo.Z.default});oo.Z.setLanguage(Tv,xv);var $v={paths:["serverSideStorage.cache","config","users.lastLoginName","oauth"]};(0,o.Z)(i().mark((function e(){var t,n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n=[no],e.prev=2,e.next=5,to($v);case 5:o=e.sent,n.push(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),t=!0;case 13:r=(0,s.MT)({modules:{i18n:{getters:{i18n:function(){return Tv.global}}},interface:c,instance:S,users:st,statuses:ae,lists:ue,api:vt,config:f.ZP,serverSideConfig:wt.ZP,serverSideStorage:rn,shout:sn,oauth:an,authFlow:mn,mediaViewer:vn,oauthTokens:wn,reports:kn,polls:Sn,postStatus:jn,editStatus:Cn,statusHistory:On,chats:Bn,announcements:Hn},plugins:n,strict:!1}),t&&r.dispatch("pushGlobalNotice",{messageKey:"errors.storage_unavailable",level:"error"}),Iv({store:r,i18n:Tv});case 16:case"end":return e.stop()}}),e,null,[[2,9]])})))(),window.___pleromafe_mode={NODE_ENV:"production"},window.___pleromafe_commit_hash="eec27700\n",window.___pleromafe_dev_overrides=void 0},85565:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>m,W2:()=>p,ZP:()=>h});var o=n(4942),r=n(29439),i=n(6258),s=n(77394),a=n(72617),c=n(39776);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={expertLevel:0,colors:{},theme:void 0,customTheme:void 0,customThemeSource:void 0,hideISP:!1,hideInstanceWallpaper:!1,hideShoutbox:!1,hideMutedPosts:void 0,hideMutedThreads:void 0,hideWordFilteredPosts:void 0,muteBotStatuses:void 0,collapseMessageWithSubject:void 0,padEmoji:!0,hideAttachments:!1,hideAttachmentsInConv:!1,maxThumbnails:16,hideNsfw:!0,preloadImage:!0,loopVideo:!0,loopVideoSilentOnly:!0,streaming:!1,emojiReactionsOnTimeline:!0,alwaysShowNewPostButton:!1,autohideFloatingPostButton:!1,pauseOnUnfocused:!0,stopGifs:!0,replyVisibility:"all",thirdColumnMode:"notifications",notificationVisibility:{follows:!0,mentions:!0,likes:!0,repeats:!0,moves:!0,emojiReactions:!0,followRequest:!0,reports:!0,chatMention:!0,polls:!0},webPushNotifications:!1,muteWords:[],highlight:{},interfaceLanguage:(window.navigator.language||"en").split("-")[0],hideScopeNotice:!1,useStreamingApi:!1,sidebarRight:void 0,scopeCopy:void 0,subjectLineBehavior:void 0,alwaysShowSubjectInput:void 0,postContentType:void 0,minimalScopesMode:void 0,hideFilteredStatuses:void 0,modalOnRepeat:void 0,modalOnUnfollow:void 0,modalOnBlock:void 0,modalOnMute:void 0,modalOnDelete:void 0,modalOnLogout:void 0,modalOnApproveFollow:void 0,modalOnDenyFollow:void 0,modalOnRemoveUserFromFollowers:void 0,playVideosInModal:!1,useOneClickNsfw:!1,useContainFit:!0,disableStickyHeaders:!1,showScrollbars:!1,userPopoverAvatarAction:"open",userPopoverOverlay:!1,sidebarColumnWidth:"25rem",contentColumnWidth:"45rem",notifsColumnWidth:"25rem",navbarColumnStretch:!1,greentext:void 0,useAtIcon:void 0,mentionLinkDisplay:void 0,mentionLinkShowTooltip:void 0,mentionLinkShowAvatar:void 0,mentionLinkFadeDomain:void 0,mentionLinkShowYous:void 0,mentionLinkBoldenYou:void 0,hidePostStats:void 0,hideBotIndication:void 0,hideUserStats:void 0,virtualScrolling:void 0,sensitiveByDefault:void 0,conversationDisplay:void 0,conversationTreeAdvanced:void 0,conversationOtherRepliesButton:void 0,conversationTreeFadeAncestors:void 0,maxDepthInThread:void 0},m=Object.entries(p).filter((function(e){var t=(0,r.Z)(e,2);return t[0],void 0===t[1]})).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return t[1],n}));const h={state:d({},p),getters:{defaultConfig:function(e,t,n,o){var r=n.instance;return d(d({},p),Object.fromEntries(m.map((function(e){return[e,r[e]]}))))},mergedConfig:function(e,t,n,o){return d(d({},o.defaultConfig),Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,r.Z)(e,2);return t[0],void 0!==t[1]}))))}},mutations:{setOption:function(e,t){var n=t.name,o=t.value;e[n]=o},setHighlight:function(e,t){var n=t.user,o=t.color,r=t.type,i=this.state.config.highlight[n];o||r?e.highlight[n]={color:o||i.color,type:r||i.type}:delete e.highlight[n]}},actions:{loadSettings:function(e,t){var n,o=e.dispatch,r=new Set(Object.keys(p)),i=new Set(Object.keys(t)),s=new Set,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(i);try{for(a.s();!(n=a.n()).done;){var c=n.value;r.has(c)&&s.add(c)}}catch(e){a.e(e)}finally{a.f()}s.forEach((function(e){return o("setOption",{name:e,value:t[e]})}))},setHighlight:function(e,t){var n=e.commit;e.dispatch,n("setHighlight",{user:t.user,color:t.color,type:t.type})},setOption:function(e,t){var n=e.commit,o=e.dispatch,r=e.state,l=t.name,u=t.value;switch(n("setOption",{name:l,value:u}),l){case"theme":(0,s.bY)(u);break;case"sidebarColumnWidth":case"contentColumnWidth":case"notifsColumnWidth":(0,s.mg)(r);break;case"customTheme":case"customThemeSource":(0,s._v)(u);break;case"interfaceLanguage":a.Z.setLanguage(this.getters.i18n,u),o("loadUnicodeEmojiData",u),i.Z.set("userLanguage",c.Z.internalToBackendLocaleMulti(u));break;case"thirdColumnMode":o("setLayoutWidth",void 0)}}}}},65405:(e,t,n)=>{"use strict";n.d(t,{W2:()=>m,ZP:()=>h});var o=n(29439),r=n(4942),i=n(36968),s=n.n(i),a=n(27361),c=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var u=function(e,t){var n=e.rootState,o=e.commit,r=t.path,i=t.value,a={};return s()(a,r,i),n.api.backendInteractor.updateProfile({params:a}).then((function(e){o("addNewUsers",[e]),o("setCurrentUser",e)}))},d=function(e,t){var n=e.rootState,o=e.commit,r=t.path,i=t.value,a=t.oldValue,c={};return s()(c,r,i),n.api.backendInteractor.updateNotificationSettings({settings:c}).then((function(e){"success"===e.status?o("confirmServerSideOption",{name,value:i}):o("confirmServerSideOption",{name,value:a})}))},p={defaultScope:"source.privacy",defaultNSFW:"source.sensitive",stripRichContent:{get:"source.pleroma.no_rich_text",set:"no_rich_text"},locked:"locked",acceptChatMessages:{get:"pleroma.accepts_chat_messages",set:"accepts_chat_messages"},allowFollowingMove:{get:"pleroma.allow_following_move",set:"allow_following_move"},discoverable:{get:"source.pleroma.discoverable",set:"discoverable"},hideFavorites:{get:"pleroma.hide_favorites",set:"hide_favorites"},hideFollowers:{get:"pleroma.hide_followers",set:"hide_followers"},hideFollows:{get:"pleroma.hide_follows",set:"hide_follows"},hideFollowersCount:{get:"pleroma.hide_followers_count",set:"hide_followers_count"},hideFollowsCount:{get:"pleroma.hide_follows_count",set:"hide_follows_count"},webPushHideContents:{get:"pleroma.notification_settings.hide_notification_contents",set:"hide_notification_contents",api:d},blockNotificationsFromStrangers:{get:"pleroma.notification_settings.block_from_strangers",set:"block_from_strangers",api:d}},m=Object.fromEntries(Object.keys(p).map((function(e){return[e,null]})));const h={state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m),mutations:{confirmServerSideOption:function(e,t){var n=t.name,o=t.value;s()(e,n,o)},wipeServerSideOption:function(e,t){var n=t.name;s()(e,n,null)},wipeAllServerSideOptions:function(e){Object.keys(p).forEach((function(t){s()(e,t,null)}))},setCurrentUser:function(e,t){Object.entries(p).forEach((function(n){var r=(0,o.Z)(n,2),i=r[0],a=r[1],l=a.get,u=void 0===l?a:l;s()(e,i,c()(t._original,u))}))}},actions:{setServerSideOption:function(e,t){var n=e.rootState,o=e.state,r=e.commit,i=(e.dispatch,t.name),s=t.value,a=c()(o,i),l=p[i];if(!l)throw new Error("Invalid server-side setting");var d=l.set,m=void 0===d?l:d,h=l.api,f=void 0===h?u:h;r("wipeServerSideOption",{name:i}),f({rootState:n,commit:r},{path:m,value:s,oldValue:a}).catch((function(e){console.warn("Error setting server-side option:",e),r("confirmServerSideOption",{name:i,value:a})}))},logout:function(e){(0,e.commit)("wipeAllServerSideOptions")}}}},77776:(e,t,n)=>{"use strict";n.d(t,{ro:()=>Ue,_z:()=>Ae,ZP:()=>Le,pR:()=>xe});var o=n(15861),r=n(44925),i=n(29439),s=n(4942),a=n(27361),c=n.n(a),l=n(10928),u=n.n(l),d=n(57043),p=n.n(d),m=n(35161),h=n.n(m),f=n(66073),g=n.n(f),v=n(64687),w=n.n(v),b=n(27742),y=n(71002),_=n(43144),k=n(15671),S=n(97326),j=n(60136),C=n(82963),O=n(61120),P=n(72407),z=n(93433),D=n(48403),I=n.n(D);function x(e,t,n,o){this.name="StatusCodeError",this.statusCode=e,this.message=e+" - "+(JSON&&JSON.stringify?JSON.stringify(t):t),this.error=t,this.options=n,this.response=o,Error.captureStackTrace&&Error.captureStackTrace(this)}x.prototype=Object.create(Error.prototype),x.prototype.constructor=x;var T=function(e){(0,j.Z)(r,e);var t,n,o=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,O.Z)(t);if(n){var r=(0,O.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,C.Z)(this,e)});function r(e){var t,n;(0,k.Z)(this,r),t=o.call(this),Error.captureStackTrace&&Error.captureStackTrace((0,S.Z)(t));try{if("string"==typeof e&&(e=JSON.parse(e)).hasOwnProperty("error")&&(e=JSON.parse(e.error)),"object"===(0,y.Z)(e)){var s=JSON.parse(e.error);s.ap_id&&(s.username=s.ap_id,delete s.ap_id),t.message=(n=s,Object.entries(n).reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],r=n[1].reduce((function(e,t){return e+[I()(o.replace(/_/g," ")),t].join(" ")+". "}),"");return[].concat((0,z.Z)(e),[r])}),[]))}else t.message=e}catch(n){t.message=e}return t}return(0,_.Z)(r)}((0,P.Z)(Error)),$=["nickname"],U=["id","credentials"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L="/api/pleroma/aliases",E="/api/pleroma/admin/users/tag",F=function(e,t){return"/api/pleroma/admin/users/".concat(e,"/permission_group/").concat(t)},R=function(e){return"/api/v1/notifications/".concat(e,"/dismiss")},q=function(e){return"/api/v1/statuses/".concat(e,"/favourite")},N=function(e){return"/api/v1/statuses/".concat(e,"/unfavourite")},Z=function(e){return"/api/v1/statuses/".concat(e,"/reblog")},W=function(e){return"/api/v1/statuses/".concat(e,"/unreblog")},B="/api/v1/timelines/public",H=function(e){return"/api/v1/statuses/".concat(e)},V=function(e){return"/api/v1/accounts/".concat(e,"/statuses")},K=function(e){return"/api/v1/lists/".concat(e)},G=function(e){return"/api/v1/timelines/list/".concat(e)},Y=function(e){return"/api/v1/lists/".concat(e,"/accounts")},J=function(e){return"/api/v1/timelines/tag/".concat(e)},Q=function(e){return"/api/v1/accounts/".concat(e,"/mute")},X=function(e){return"/api/v1/accounts/".concat(e,"/unmute")},ee=function(e){return"/api/v1/pleroma/accounts/".concat(e,"/subscribe")},te=function(e){return"/api/v1/pleroma/accounts/".concat(e,"/unsubscribe")},ne=function(e){return"/api/v1/accounts/".concat(e,"/note")},oe=function(e){return"/api/v1/statuses/".concat(e,"/bookmark")},re=function(e){return"/api/v1/statuses/".concat(e,"/unbookmark")},ie="/api/v1/media",se=function(e){return"/api/v1/statuses/".concat(e,"/favourited_by")},ae=function(e){return"/api/v1/statuses/".concat(e,"/reblogged_by")},ce="/api/v1/accounts/update_credentials",le=function(e){return"/api/v1/statuses/".concat(e,"/pin")},ue=function(e){return"/api/v1/statuses/".concat(e,"/unpin")},de=function(e){return"/api/v1/statuses/".concat(e,"/mute")},pe=function(e){return"/api/v1/statuses/".concat(e,"/unmute")},me="/api/v1/domain_blocks",he=function(e){return"/api/v1/announcements/".concat(e,"/dismiss")},fe=function(e){return"/api/v1/pleroma/statuses/".concat(e,"/reactions")},ge=function(e,t){return"/api/v1/pleroma/statuses/".concat(e,"/reactions/").concat(t)},ve=function(e,t){return"/api/v1/pleroma/statuses/".concat(e,"/reactions/").concat(t)},we=function(e){return"/api/v1/pleroma/chats/".concat(e,"/messages")},be=function(e){return"/api/v1/pleroma/chats/".concat(e,"/read")},ye=function(e,t){return"/api/v1/pleroma/chats/".concat(e,"/messages/").concat(t)},_e="/api/v1/pleroma/backups",ke=function(e){return"/api/v1/pleroma/admin/announcements/".concat(e)},Se=function(e){return"/api/v1/pleroma/admin/announcements/".concat(e)},je=window.fetch,Ce=function(e,t){var n=""+e;return(t=t||{}).credentials="same-origin",je(n,t)},Oe=function(e){var t=e.method,n=e.url,o=e.params,r=e.payload,s=e.credentials,a=e.headers,c={method:t,headers:A({Accept:"application/json","Content-Type":"application/json"},void 0===a?{}:a)};return o&&(n+="?"+Object.entries(o).map((function(e){var t=(0,i.Z)(e,2),n=t[0],o=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(o)})).join("&")),r&&(c.body=JSON.stringify(r)),s&&(c.headers=A(A({},c.headers),Pe(s))),Ce(n,c).then((function(e){return new Promise((function(t,o){return e.json().then((function(r){return e.ok?t(r):o(new x(e.status,r,{url:n,options:c},e))})).catch((function(t){return o(new x(e.status,t,{url:n,options:c},e))}))}))}))},Pe=function(e){return e?{Authorization:"Bearer ".concat(e)}:{}},ze=function(e){var t=e.id,n=e.credentials,o="".concat("/api/v1/accounts","/").concat(t);return Oe({url:o,credentials:n}).then((function(e){return(0,b.nL)(e)}))},De=function(e){var t=e.id,n=e.maxId,o=e.sinceId,r=e.limit,i=void 0===r?20:r,s=e.credentials,a=function(e){return"/api/v1/accounts/".concat(e,"/following")}(t),c=[n&&"max_id=".concat(n),o&&"since_id=".concat(o),i&&"limit=".concat(i),"with_relationships=true"].filter((function(e){return e})).join("&");return Ce(a+=c?"?"+c:"",{headers:Pe(s)}).then((function(e){return e.json()})).then((function(e){return e.map(b.nL)}))},Ie=function(e){var t=e.content,n=e.startsAt,o=e.endsAt,r=e.allDay,i={content:t};return void 0!==n&&(i.starts_at=n?new Date(n).toISOString():null),void 0!==o&&(i.ends_at=o?new Date(o).toISOString():null),void 0!==r&&(i.all_day=r),i},xe=function(e){var t=e.credentials,n=e.stream,o=e.args,r=void 0===o?{}:o;return Object.entries(A(A({},t?{access_token:t}:{}),{},{stream:n},r)).reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],r=n[1];return e+"".concat(o,"=").concat(r,"&")}),"/api/v1/streaming?")},Te=new Set(["update","notification","delete","filters_changed","status.update"]),$e=new Set(["pleroma:chat_update"]),Ue=function(e){var t=e.url,n=e.preprocessor,o=void 0===n?Me:n,r=e.id,i=void 0===r?"Unknown":r,s=new EventTarget,a=new WebSocket(t);if(!a)throw new Error("Failed to create socket ".concat(i));var c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};e.addEventListener(t,(function(e){s.dispatchEvent(new CustomEvent(t,{detail:n(e)}))}))};return a.addEventListener("open",(function(e){console.debug("[WS][".concat(i,"] Socket connected"),e)})),a.addEventListener("error",(function(e){console.debug("[WS][".concat(i,"] Socket errored"),e)})),a.addEventListener("close",(function(e){console.debug("[WS][".concat(i,"] Socket disconnected with code ").concat(e.code),e)})),c(a,"open"),c(a,"close"),c(a,"message",o),c(a,"error"),s.close=function(){a.close(1e3,"Shutting down socket")},s.getState=function(){return a.readyState},s},Me=function(e){var t=e.data;if(t){var n=JSON.parse(t),o=n.event,r=n.payload;if(!Te.has(o)&&!$e.has(o))return console.warn("Unknown event",e),null;if("delete"===o)return{event:o,id:r};var i=r?JSON.parse(r):null;return"update"===o||"status.update"===o?{event:o,status:(0,b.Wn)(i)}:"notification"===o?{event:o,notification:(0,b.eM)(i)}:"pleroma:chat_update"===o?{event:o,chatUpdate:(0,b._J)(i)}:void 0}},Ae=Object.freeze({JOINED:1,CLOSED:2,ERROR:3,DISABLED:4,STARTING:5,STARTING_INITIAL:6});const Le={verifyCredentials:function(e){return Ce("/api/v1/accounts/verify_credentials",{headers:Pe(e)}).then((function(e){return e.ok?e.json():{error:e}})).then((function(e){return e.error?e:(0,b.nL)(e)}))},fetchTimeline:function(e){var t=e.timeline,n=e.credentials,r=e.since,i=void 0!==r&&r,s=e.until,a=void 0!==s&&s,c=e.userId,l=void 0!==c&&c,u=e.listId,d=void 0!==u&&u,p=e.tag,m=void 0!==p&&p,f=e.withMuted,g=void 0!==f&&f,v=e.replyVisibility,y=void 0===v?"all":v,_=e.includeTypes,k=void 0===_?[]:_,S="notifications"===t,j=[],C={public:B,friends:"/api/v1/timelines/home",dms:"/api/v1/timelines/direct",notifications:"/api/v1/notifications",publicAndExternal:B,user:V,media:V,list:G,favorites:"/api/v1/favourites",tag:J,bookmarks:"/api/v1/bookmarks"}[t];"user"!==t&&"media"!==t||(C=C(l)),"list"===t&&(C=C(d)),i&&j.push(["since_id",i]),a&&j.push(["max_id",a]),m&&(C=C(m)),"media"===t&&j.push(["only_media",1]),"public"===t&&j.push(["local",!0]),"public"!==t&&"publicAndExternal"!==t||j.push(["only_media",!1]),"favorites"!==t&&"bookmarks"!==t&&j.push(["with_muted",g]),"all"!==y&&j.push(["reply_visibility",y]),k.length>0&&k.forEach((function(e){j.push(["include_types[]",e])})),j.push(["limit",20]);var O=h()(j,(function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return C+="?".concat(O),Ce(C,{headers:Pe(n)}).then(function(){var e=(0,o.Z)(w().mark((function e(n){var o,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.ok,e.next=3,n.json();case 3:if(r=e.sent,!o||r.errors){e.next=9;break}return i=(0,b.Nw)(n.headers.get("Link"),{flakeId:"bookmarks"!==t&&"notifications"!==t}),e.abrupt("return",{data:r.map(S?b.eM:b.Wn),pagination:i});case 9:return r.errors||(r.errors=[]),r.status=n.status,r.statusText=n.statusText,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchPinnedStatuses:function(e){var t=e.id,n=e.credentials,o=V(t)+"?pinned=true";return Oe({url:o,credentials:n}).then((function(e){return e.map(b.Wn)}))},fetchConversation:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/statuses/".concat(e,"/context")}(t);return Ce(o,{headers:Pe(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching timeline",e)})).then((function(e){return e.json()})).then((function(e){var t=e.ancestors,n=e.descendants;return{ancestors:t.map(b.Wn),descendants:n.map(b.Wn)}}))},fetchStatus:function(e){var t=e.id,n=e.credentials,o=H(t);return Ce(o,{headers:Pe(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching timeline",e)})).then((function(e){return e.json()})).then((function(e){return(0,b.Wn)(e)}))},fetchStatusSource:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/statuses/".concat(e,"/source")}(t);return Ce(o,{headers:Pe(n)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching source",e)})).then((function(e){return e.json()})).then((function(e){return(0,b.P7)(e)}))},fetchStatusHistory:function(e){var t,n=e.status,o=e.credentials,r=(t=n.id,"/api/v1/statuses/".concat(t,"/history"));return Oe({url:r,credentials:o}).then((function(e){return e.reverse(),e.map((function(e){return e.originalStatus=n,(0,b.Wn)(e)}))}))},fetchFriends:De,exportFriends:function(e){var t=e.id,n=e.credentials;return new Promise(function(){var e=(0,o.Z)(w().mark((function e(o,r){var i,s,a,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=[],s=!0;case 3:if(!s){e.next=12;break}return a=i.length>0?u()(i).id:void 0,e.next=7,De({id:t,maxId:a,credentials:n});case 7:c=e.sent,i=p()(i,c),0===c.length&&(s=!1),e.next=3;break;case 12:o(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}())},fetchFollowers:function(e){var t=e.id,n=e.maxId,o=e.sinceId,r=e.limit,i=void 0===r?20:r,s=e.credentials,a=function(e){return"/api/v1/accounts/".concat(e,"/followers")}(t),c=[n&&"max_id=".concat(n),o&&"since_id=".concat(o),i&&"limit=".concat(i),"with_relationships=true"].filter((function(e){return e})).join("&");return Ce(a+=c?"?"+c:"",{headers:Pe(s)}).then((function(e){return e.json()})).then((function(e){return e.map(b.nL)}))},followUser:function(e){var t=e.id,n=e.credentials,o=(0,r.Z)(e,U),i=function(e){return"/api/v1/accounts/".concat(e,"/follow")}(t),s={};return void 0!==o.reblogs&&(s.reblogs=o.reblogs),Ce(i,{body:JSON.stringify(s),headers:A(A({},Pe(n)),{},{"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))},unfollowUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/accounts/".concat(e,"/unfollow")}(t);return Ce(o,{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},pinOwnStatus:function(e){var t=e.id,n=e.credentials;return Oe({url:le(t),credentials:n,method:"POST"}).then((function(e){return(0,b.Wn)(e)}))},unpinOwnStatus:function(e){var t=e.id,n=e.credentials;return Oe({url:ue(t),credentials:n,method:"POST"}).then((function(e){return(0,b.Wn)(e)}))},muteConversation:function(e){var t=e.id,n=e.credentials;return Oe({url:de(t),credentials:n,method:"POST"}).then((function(e){return(0,b.Wn)(e)}))},unmuteConversation:function(e){var t=e.id,n=e.credentials;return Oe({url:pe(t),credentials:n,method:"POST"}).then((function(e){return(0,b.Wn)(e)}))},blockUser:function(e){var t=e.id,n=e.credentials;return Ce(function(e){return"/api/v1/accounts/".concat(e,"/block")}(t),{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},unblockUser:function(e){var t=e.id,n=e.credentials;return Ce(function(e){return"/api/v1/accounts/".concat(e,"/unblock")}(t),{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},removeUserFromFollowers:function(e){var t=e.id,n=e.credentials;return Ce(function(e){return"/api/v1/accounts/".concat(e,"/remove_from_followers")}(t),{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},editUserNote:function(e){var t=e.id,n=e.credentials,o=e.comment;return Oe({url:ne(t),credentials:n,payload:{comment:o},method:"POST"})},fetchUser:ze,fetchUserByName:function(e){var t=e.name,n=e.credentials;return Oe({url:"/api/v1/accounts/lookup",credentials:n,params:{acct:t}}).then((function(e){return e.id})).catch((function(e){if(e&&404===e.statusCode)return t;throw e})).then((function(e){return ze({id:e,credentials:n})}))},fetchUserRelationship:function(e){var t=e.id,n=e.credentials,o="".concat("/api/v1/accounts/relationships","/?id=").concat(t);return Ce(o,{headers:Pe(n)}).then((function(e){return new Promise((function(t,n){return e.json().then((function(r){return e.ok?t(r):n(new x(e.status,r,{url:o},e))}))}))}))},favorite:function(e){var t=e.id,n=e.credentials;return Oe({url:q(t),method:"POST",credentials:n}).then((function(e){return(0,b.Wn)(e)}))},unfavorite:function(e){var t=e.id,n=e.credentials;return Oe({url:N(t),method:"POST",credentials:n}).then((function(e){return(0,b.Wn)(e)}))},retweet:function(e){var t=e.id,n=e.credentials;return Oe({url:Z(t),method:"POST",credentials:n}).then((function(e){return(0,b.Wn)(e)}))},unretweet:function(e){var t=e.id,n=e.credentials;return Oe({url:W(t),method:"POST",credentials:n}).then((function(e){return(0,b.Wn)(e)}))},bookmarkStatus:function(e){var t=e.id,n=e.credentials;return Oe({url:oe(t),headers:Pe(n),method:"POST"})},unbookmarkStatus:function(e){var t=e.id,n=e.credentials;return Oe({url:re(t),headers:Pe(n),method:"POST"})},postStatus:function(e){var t=e.credentials,n=e.status,o=e.spoilerText,r=e.visibility,i=e.sensitive,s=e.poll,a=e.mediaIds,c=void 0===a?[]:a,l=e.inReplyToStatusId,u=e.contentType,d=e.preview,p=e.idempotencyKey,m=new FormData,h=s.options||[];if(m.append("status",n),m.append("source","Pleroma FE"),o&&m.append("spoiler_text",o),r&&m.append("visibility",r),i&&m.append("sensitive",i),u&&m.append("content_type",u),c.forEach((function(e){m.append("media_ids[]",e)})),h.some((function(e){return""!==e}))){var f={expires_in:s.expiresIn,multiple:s.multiple};Object.keys(f).forEach((function(e){m.append("poll[".concat(e,"]"),f[e])})),h.forEach((function(e){m.append("poll[options][]",e)}))}l&&m.append("in_reply_to_id",l),d&&m.append("preview","true");var g=Pe(t);return p&&(g["idempotency-key"]=p),Ce("/api/v1/statuses",{body:m,method:"POST",headers:g}).then((function(e){return e.json()})).then((function(e){return e.error?e:(0,b.Wn)(e)}))},editStatus:function(e){var t=e.id,n=e.credentials,o=e.status,r=e.spoilerText,i=e.sensitive,s=e.poll,a=e.mediaIds,c=void 0===a?[]:a,l=e.contentType,u=new FormData,d=s.options||[];if(u.append("status",o),r&&u.append("spoiler_text",r),i&&u.append("sensitive",i),l&&u.append("content_type",l),c.forEach((function(e){u.append("media_ids[]",e)})),d.some((function(e){return""!==e}))){var p={expires_in:s.expiresIn,multiple:s.multiple};Object.keys(p).forEach((function(e){u.append("poll[".concat(e,"]"),p[e])})),d.forEach((function(e){u.append("poll[options][]",e)}))}var m=Pe(n);return Ce(H(t),{body:u,method:"PUT",headers:m}).then((function(e){return e.json()})).then((function(e){return e.error?e:(0,b.Wn)(e)}))},deleteStatus:function(e){var t=e.id,n=e.credentials;return Ce(function(e){return"/api/v1/statuses/".concat(e)}(t),{headers:Pe(n),method:"DELETE"})},uploadMedia:function(e){var t=e.formData,n=e.credentials;return Ce(ie,{body:t,method:"POST",headers:Pe(n)}).then((function(e){return e.json()})).then((function(e){return(0,b.cO)(e)}))},setMediaDescription:function(e){var t=e.id,n=e.description,o=e.credentials;return Oe({url:"".concat(ie,"/").concat(t),method:"PUT",headers:Pe(o),payload:{description:n}}).then((function(e){return(0,b.cO)(e)}))},fetchMutes:function(e){var t=e.credentials;return Oe({url:"/api/v1/mutes/",credentials:t}).then((function(e){return e.map(b.nL)}))},muteUser:function(e){var t=e.id,n=e.expiresIn,o=e.credentials,r={};return n&&(r.expires_in=n),Oe({url:Q(t),credentials:o,method:"POST",payload:r})},unmuteUser:function(e){var t=e.id,n=e.credentials;return Oe({url:X(t),credentials:n,method:"POST"})},subscribeUser:function(e){var t=e.id,n=e.credentials;return Oe({url:ee(t),credentials:n,method:"POST"})},unsubscribeUser:function(e){var t=e.id,n=e.credentials;return Oe({url:te(t),credentials:n,method:"POST"})},fetchBlocks:function(e){var t=e.credentials;return Oe({url:"/api/v1/blocks/",credentials:t}).then((function(e){return e.map(b.nL)}))},fetchOAuthTokens:function(e){var t=e.credentials;return Ce("/api/oauth_tokens.json",{headers:Pe(t)}).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching auth tokens",e)}))},revokeOAuthToken:function(e){var t=e.id,n=e.credentials,o="/api/oauth_tokens/".concat(t);return Ce(o,{headers:Pe(n),method:"DELETE"})},tagUser:function(e){var t=e.tag,n=e.credentials,o={nicknames:[e.user.screen_name],tags:[t]},r=Pe(n);return r["Content-Type"]="application/json",Ce(E,{method:"PUT",headers:r,body:JSON.stringify(o)})},untagUser:function(e){var t=e.tag,n=e.credentials,o={nicknames:[e.user.screen_name],tags:[t]},r=Pe(n);return r["Content-Type"]="application/json",Ce(E,{method:"DELETE",headers:r,body:JSON.stringify(o)})},deleteUser:function(e){var t=e.credentials,n=e.user.screen_name,o=Pe(t);return Ce("".concat("/api/pleroma/admin/users","?nickname=").concat(n),{method:"DELETE",headers:o})},addRight:function(e){var t=e.right,n=e.credentials,o=e.user.screen_name;return Ce(F(o,t),{method:"POST",headers:Pe(n),body:{}})},deleteRight:function(e){var t=e.right,n=e.credentials,o=e.user.screen_name;return Ce(F(o,t),{method:"DELETE",headers:Pe(n),body:{}})},activateUser:function(e){var t=e.credentials,n=e.user.screen_name;return Oe({url:"/api/pleroma/admin/users/activate",method:"PATCH",credentials:t,payload:{nicknames:[n]}}).then((function(e){return c()(e,"users.0")}))},deactivateUser:function(e){var t=e.credentials,n=e.user.screen_name;return Oe({url:"/api/pleroma/admin/users/deactivate",method:"PATCH",credentials:t,payload:{nicknames:[n]}}).then((function(e){return c()(e,"users.0")}))},register:function(e){var t=e.params,n=e.credentials,o=t.nickname,i=(0,r.Z)(t,$);return Ce("/api/v1/accounts",{method:"POST",headers:A(A({},Pe(n)),{},{"Content-Type":"application/json"}),body:JSON.stringify(A({nickname:o,locale:"en_US",agreement:!0},i))}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new T(e)}))}))},getCaptcha:function(){return Ce("/api/pleroma/captcha").then((function(e){return e.json()}))},updateProfileImages:function(e){var t=e.credentials,n=e.avatar,o=void 0===n?null:n,r=e.avatarName,i=void 0===r?null:r,s=e.banner,a=void 0===s?null:s,c=e.background,l=void 0===c?null:c,u=new FormData;return null!==o&&(null!==i?u.append("avatar",o,i):u.append("avatar",o)),null!==a&&u.append("header",a),null!==l&&u.append("pleroma_background_image",l),Ce(ce,{headers:Pe(t),method:"PATCH",body:u}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error);return(0,b.nL)(e)}))},updateProfile:function(e){var t=e.credentials,n=e.params;return Oe({url:ce,method:"PATCH",payload:n,credentials:t}).then((function(e){return(0,b.nL)(e)}))},importMutes:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Ce("/api/pleroma/mutes_import",{body:o,method:"POST",headers:Pe(n)}).then((function(e){return e.ok}))},importBlocks:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Ce("/api/pleroma/blocks_import",{body:o,method:"POST",headers:Pe(n)}).then((function(e){return e.ok}))},importFollows:function(e){var t=e.file,n=e.credentials,o=new FormData;return o.append("list",t),Ce("/api/pleroma/follow_import",{body:o,method:"POST",headers:Pe(n)}).then((function(e){return e.ok}))},deleteAccount:function(e){var t=e.credentials,n=e.password,o=new FormData;return o.append("password",n),Ce("/api/pleroma/delete_account",{body:o,method:"POST",headers:Pe(t)}).then((function(e){return e.json()}))},changeEmail:function(e){var t=e.credentials,n=e.email,o=e.password,r=new FormData;return r.append("email",n),r.append("password",o),Ce("/api/pleroma/change_email",{body:r,method:"POST",headers:Pe(t)}).then((function(e){return e.json()}))},moveAccount:function(e){var t=e.credentials,n=e.password,o=e.targetAccount,r=new FormData;return r.append("password",n),r.append("target_account",o),Ce("/api/pleroma/move_account",{body:r,method:"POST",headers:Pe(t)}).then((function(e){return e.json()}))},addAlias:function(e){var t=e.credentials,n=e.alias;return Oe({url:L,method:"PUT",credentials:t,payload:{alias:n}})},deleteAlias:function(e){var t=e.credentials,n=e.alias;return Oe({url:L,method:"DELETE",credentials:t,payload:{alias:n}})},listAliases:function(e){var t=e.credentials;return Oe({url:L,method:"GET",credentials:t,params:{_cacheBooster:(new Date).getTime()}})},changePassword:function(e){var t=e.credentials,n=e.password,o=e.newPassword,r=e.newPasswordConfirmation,i=new FormData;return i.append("password",n),i.append("new_password",o),i.append("new_password_confirmation",r),Ce("/api/pleroma/change_password",{body:i,method:"POST",headers:Pe(t)}).then((function(e){return e.json()}))},settingsMFA:function(e){var t=e.credentials;return Ce("/api/pleroma/accounts/mfa",{headers:Pe(t),method:"GET"}).then((function(e){return e.json()}))},mfaDisableOTP:function(e){var t=e.credentials,n=e.password,o=new FormData;return o.append("password",n),Ce("/api/pleroma/accounts/mfa/totp",{body:o,method:"DELETE",headers:Pe(t)}).then((function(e){return e.json()}))},generateMfaBackupCodes:function(e){var t=e.credentials;return Ce("/api/pleroma/accounts/mfa/backup_codes",{headers:Pe(t),method:"GET"}).then((function(e){return e.json()}))},mfaSetupOTP:function(e){var t=e.credentials;return Ce("/api/pleroma/accounts/mfa/setup/totp",{headers:Pe(t),method:"GET"}).then((function(e){return e.json()}))},mfaConfirmOTP:function(e){var t=e.credentials,n=e.password,o=e.token,r=new FormData;return r.append("password",n),r.append("code",o),Ce("/api/pleroma/accounts/mfa/confirm/totp",{body:r,headers:Pe(t),method:"POST"}).then((function(e){return e.json()}))},addBackup:function(e){var t=e.credentials;return Oe({url:_e,method:"POST",credentials:t})},listBackups:function(e){var t=e.credentials;return Oe({url:_e,method:"GET",credentials:t,params:{_cacheBooster:(new Date).getTime()}})},fetchFollowRequests:function(e){var t=e.credentials;return Ce("/api/v1/follow_requests",{headers:Pe(t)}).then((function(e){return e.json()})).then((function(e){return e.map(b.nL)}))},fetchLists:function(e){var t=e.credentials;return Ce("/api/v1/lists",{headers:Pe(t)}).then((function(e){return e.json()}))},createList:function(e){var t=e.title,n=e.credentials,o=Pe(n);return o["Content-Type"]="application/json",Ce("/api/v1/lists",{headers:o,method:"POST",body:JSON.stringify({title:t})}).then((function(e){return e.json()}))},getList:function(e){var t=e.listId,n=e.credentials,o=K(t);return Ce(o,{headers:Pe(n)}).then((function(e){return e.json()}))},updateList:function(e){var t=e.listId,n=e.title,o=e.credentials,r=K(t),i=Pe(o);return i["Content-Type"]="application/json",Ce(r,{headers:i,method:"PUT",body:JSON.stringify({title:n})})},getListAccounts:function(e){var t=e.listId,n=e.credentials,o=Y(t);return Ce(o,{headers:Pe(n)}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return e.id}))}))},addAccountsToList:function(e){var t=e.listId,n=e.accountIds,o=e.credentials,r=Y(t),i=Pe(o);return i["Content-Type"]="application/json",Ce(r,{headers:i,method:"POST",body:JSON.stringify({account_ids:n})})},removeAccountsFromList:function(e){var t=e.listId,n=e.accountIds,o=e.credentials,r=Y(t),i=Pe(o);return i["Content-Type"]="application/json",Ce(r,{headers:i,method:"DELETE",body:JSON.stringify({account_ids:n})})},deleteList:function(e){var t=e.listId,n=e.credentials,o=K(t);return Ce(o,{method:"DELETE",headers:Pe(n)})},approveUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/follow_requests/".concat(e,"/authorize")}(t);return Ce(o,{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},denyUser:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/follow_requests/".concat(e,"/reject")}(t);return Ce(o,{headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},suggestions:function(e){var t=e.credentials;return Ce("/api/v1/suggestions",{headers:Pe(t)}).then((function(e){return e.json()}))},markNotificationsAsSeen:function(e){var t=e.id,n=e.credentials,o=e.single,r=void 0!==o&&o,i=new FormData;return r?i.append("id",t):i.append("max_id",t),Ce("/api/v1/pleroma/notifications/read",{body:i,headers:Pe(n),method:"POST"}).then((function(e){return e.json()}))},dismissNotification:function(e){var t=e.credentials,n=e.id;return Oe({url:R(n),method:"POST",payload:{id:n},credentials:t})},vote:function(e){var t,n=e.pollId,o=e.choices,r=e.credentials;return(new FormData).append("choices",o),Oe({url:(t=encodeURIComponent(n),"/api/v1/polls/".concat(t,"/votes")),method:"POST",credentials:r,payload:{choices:o}})},fetchPoll:function(e){var t,n=e.pollId,o=e.credentials;return Oe({url:(t=encodeURIComponent(n),"/api/v1/polls/".concat(t)),method:"GET",credentials:o})},fetchFavoritedByUsers:function(e){var t=e.id,n=e.credentials;return Oe({url:se(t),method:"GET",credentials:n}).then((function(e){return e.map(b.nL)}))},fetchRebloggedByUsers:function(e){var t=e.id,n=e.credentials;return Oe({url:ae(t),method:"GET",credentials:n}).then((function(e){return e.map(b.nL)}))},fetchEmojiReactions:function(e){var t=e.id,n=e.credentials;return Oe({url:fe(t),credentials:n}).then((function(e){return e.map((function(e){return e.accounts=e.accounts.map(b.nL),e}))}))},reactWithEmoji:function(e){var t=e.id,n=e.emoji,o=e.credentials;return Oe({url:ge(t,n),method:"PUT",credentials:o}).then(b.Wn)},unreactWithEmoji:function(e){var t=e.id,n=e.emoji,o=e.credentials;return Oe({url:ve(t,n),method:"DELETE",credentials:o}).then(b.Wn)},reportUser:function(e){var t=e.credentials,n=e.userId,o=e.statusIds,r=e.comment,i=e.forward;return Oe({url:"/api/v1/reports",method:"POST",payload:{account_id:n,status_ids:o,comment:r,forward:i},credentials:t})},updateNotificationSettings:function(e){var t=e.credentials,n=e.settings,o=new FormData;return g()(n,(function(e,t){o.append(t,e)})),Ce("".concat("/api/pleroma/notification_settings","?").concat(new URLSearchParams(n)),{headers:Pe(t),method:"PUT",body:o}).then((function(e){return e.json()}))},search2:function(e){var t=e.credentials,n=e.q,o=e.resolve,r=e.limit,i=e.offset,s=e.following,a=e.type,c="/api/v2/search",l=[];n&&l.push(["q",encodeURIComponent(n)]),o&&l.push(["resolve",o]),r&&l.push(["limit",r]),i&&l.push(["offset",i]),s&&l.push(["following",!0]),a&&l.push(["following",a]),l.push(["with_relationships",!0]);var u=h()(l,(function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return c+="?".concat(u),Ce(c,{headers:Pe(t)}).then((function(e){if(e.ok)return e;throw new Error("Error fetching search result",e)})).then((function(e){return e.json()})).then((function(e){return e.accounts=e.accounts.slice(0,r).map((function(e){return(0,b.nL)(e)})),e.statuses=e.statuses.slice(0,r).map((function(e){return(0,b.Wn)(e)})),e}))},searchUsers:function(e){var t=e.credentials,n=e.query;return Oe({url:"/api/v1/accounts/search",params:{q:n,resolve:!0},credentials:t}).then((function(e){return e.map(b.nL)}))},fetchKnownDomains:function(e){var t=e.credentials;return Oe({url:"/api/v1/instance/peers",credentials:t})},fetchDomainMutes:function(e){var t=e.credentials;return Oe({url:me,credentials:t})},muteDomain:function(e){var t=e.domain,n=e.credentials;return Oe({url:me,method:"POST",payload:{domain:t},credentials:n})},unmuteDomain:function(e){var t=e.domain,n=e.credentials;return Oe({url:me,method:"DELETE",payload:{domain:t},credentials:n})},chats:function(e){var t=e.credentials;return Ce("/api/v1/pleroma/chats",{headers:Pe(t)}).then((function(e){return e.json()})).then((function(e){return{chats:e.map(b._J).filter((function(e){return e}))}}))},getOrCreateChat:function(e){var t,n=e.accountId,o=e.credentials;return Oe({url:(t=n,"/api/v1/pleroma/chats/by-account-id/".concat(t)),method:"POST",credentials:o})},chatMessages:function(e){var t=e.id,n=e.credentials,o=e.maxId,r=e.sinceId,i=e.limit,s=void 0===i?20:i,a=we(t),c=[o&&"max_id=".concat(o),r&&"since_id=".concat(r),s&&"limit=".concat(s)].filter((function(e){return e})).join("&");return Oe({url:a+=c?"?"+c:"",method:"GET",credentials:n})},sendChatMessage:function(e){var t=e.id,n=e.content,o=e.mediaId,r=void 0===o?null:o,i=e.idempotencyKey,s=e.credentials,a={content:n};r&&(a.media_id=r);var c={};return i&&(c["idempotency-key"]=i),Oe({url:we(t),method:"POST",payload:a,credentials:s,headers:c})},readChat:function(e){var t=e.id,n=e.lastReadId,o=e.credentials;return Oe({url:be(t),method:"POST",payload:{last_read_id:n},credentials:o})},deleteChatMessage:function(e){var t=e.chatId,n=e.messageId,o=e.credentials;return Oe({url:ye(t,n),method:"DELETE",credentials:o})},setReportState:function(e){var t=e.id,n=e.state,o=e.credentials;return Ce("/api/pleroma/admin/reports",{headers:A(A({},Pe(o)),{},{Accept:"application/json","Content-Type":"application/json"}),method:"PATCH",body:JSON.stringify({reports:[{id:t,state:n}]})}).then((function(e){if(e.status>=500)throw Error(e.statusText);return e.status>=400?e.json():e})).then((function(e){if(e.errors)throw Error(e.errors[0].message)}))},fetchUserInLists:function(e){var t=e.id,n=e.credentials,o=function(e){return"/api/v1/accounts/".concat(e,"/lists")}(t);return Ce(o,{headers:Pe(n)}).then((function(e){return e.json()}))},fetchAnnouncements:function(e){var t=e.credentials;return Oe({url:"/api/v1/announcements",credentials:t})},dismissAnnouncement:function(e){var t=e.id,n=e.credentials;return Oe({url:he(t),credentials:n,method:"POST"})},postAnnouncement:function(e){var t=e.credentials,n=e.content,o=e.startsAt,r=e.endsAt,i=e.allDay;return Oe({url:"/api/v1/pleroma/admin/announcements",credentials:t,method:"POST",payload:Ie({content:n,startsAt:o,endsAt:r,allDay:i})})},editAnnouncement:function(e){var t=e.id,n=e.credentials,o=e.content,r=e.startsAt,i=e.endsAt,s=e.allDay;return Oe({url:ke(t),credentials:n,method:"PATCH",payload:Ie({content:o,startsAt:r,endsAt:i,allDay:s})})},deleteAnnouncement:function(e){var t=e.id,n=e.credentials;return Oe({url:Se(t),credentials:n,method:"DELETE"})},adminFetchAnnouncements:function(e){var t=e.credentials;return Oe({url:"/api/v1/pleroma/admin/announcements",credentials:t})}}},37230:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var o=n(21804),r=n.n(o),i=function(e){return Object.keys(e).reduce((function(t,n){return t[r()(n)]=e[n],t}),{})}},21865:(e,t,n)=>{"use strict";n.d(t,{CO:()=>l,Rx:()=>h,Tj:()=>m,_I:()=>v,a4:()=>g,aj:()=>p,ov:()=>u,pP:()=>b,uu:()=>w,wK:()=>f});var o=n(4942),r=n(29439),i=n(71002),s=n(97332);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){if(null!=e){if("#"===e[0]||"transparent"===e)return e;if("object"===(0,i.Z)(e)){var o=e;e=o.r,t=o.g,n=o.b}var s=[e,t,n].map((function(e){return(e=(e=Math.ceil(e))<0?0:e)>255?255:e})),a=(0,r.Z)(s,3);return e=a[0],t=a[1],n=a[2],"#".concat(((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1))}},u=function(e){var t=function(e){return"rgb".split("").reduce((function(t,n){return t[n]=function(e){var t=e/255;return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}(e[n]),t}),{})}(e);return.2126*t.r+.7152*t.g+.0722*t.b},d=function(e,t){var n=u(e),o=u(t),i=n>o?[n,o]:[o,n],s=(0,r.Z)(i,2);return(s[0]+.05)/(s[1]+.05)},p=function(e,t,n){return d(h(n,t),e)},m=function(e,t,n){return 1===t||void 0===t?e:"rgb".split("").reduce((function(o,r){return o[r]=e[r]*t+n[r]*(1-t),o}),{})},h=function(e,t){return t.reduce((function(e,t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];return m(o,i,e)}),e)},f=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},g=function(e,t){return"rgb".split("").reduce((function(n,o){return n[o]=(e[o]+t[o])/2,n}),{})},v=function(e){return"rgba(".concat(Math.floor(e.r),", ").concat(Math.floor(e.g),", ").concat(Math.floor(e.b),", ").concat(e.a,")")},w=function(e,t,n){if(d(e,t)<4.5){var o=void 0!==t.a?{a:t.a}:{},r=Object.assign(o,(0,s.Xp)(t).rgb);return!n&&d(e,r)<4.5?(0,s.wo)(e,t).rgb:r}return t},b=function(e,t){var n={};if("object"===(0,i.Z)(e))n=e;else if("string"==typeof e){if(!e.startsWith("#"))return e;n=f(e)}return v(c(c({},n),{},{a:t}))}},13562:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var o=n(23560),r=n.n(o),i=function(e){return function(e){return r()(e)?e.options:e}(e).props}},27483:(e,t,n)=>{"use strict";n.d(t,{GV:()=>u,_F:()=>d,cC:()=>p,dX:()=>m,x4:()=>s});var o=1e3,r=6e4,i=36e5,s=24*i,a=7*s,c=30*s,l=365.25*s,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"string"==typeof e&&(e=Date.parse(e));var n=Date.now()>e?Math.floor:Math.ceil,u=Math.abs(Date.now()-e),d={num:n(u/l),key:"time.unit.years"};return u<t*o?(d.num=0,d.key="time.now"):u<r?(d.num=n(u/o),d.key="time.unit.seconds"):u<i?(d.num=n(u/r),d.key="time.unit.minutes"):u<s?(d.num=n(u/i),d.key="time.unit.hours"):u<a?(d.num=n(u/s),d.key="time.unit.days"):u<c?(d.num=n(u/a),d.key="time.unit.weeks"):u<l&&(d.num=n(u/c),d.key="time.unit.months"),d},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=u(e,t);return n.key+="_short",n},p=function(e,t){switch(e){case"minutes":return.001*t*r;case"hours":return.001*t*i;case"days":return.001*t*s}},m=function(e,t){switch(e){case"minutes":return 1e3*t/r;case"hours":return 1e3*t/i;case"days":return 1e3*t/s}}},64689:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var o=function(e,t){if("Notification"in window&&"granted"===window.Notification.permission&&!e.statuses.notifications.desktopNotificationSilence){var n=new window.Notification(t.title,t);setTimeout(n.close.bind(n),5e3)}}},27742:(e,t,n)=>{"use strict";n.d(t,{Nw:()=>w,P7:()=>h,UB:()=>y,Wn:()=>f,_J:()=>b,cO:()=>m,eM:()=>g,nL:()=>p});var o=n(4942),r=n(95573),i=n.n(r),s=n(28490),a=n.n(s),c=n(52230),l=n(35748);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t={},n=Object.prototype.hasOwnProperty.call(e,"acct"),o=n&&!Object.prototype.hasOwnProperty.call(e,"avatar");if(t.inLists=null,t.id=String(e.id),t._original=e,n){if(t.screen_name=e.acct,t.fqn=e.fqn,t.statusnet_profile_url=e.url,o)return t;if(t.emoji=e.emojis,t.name=i()(e.display_name),t.name_html=t.name,t.name_unescaped=e.display_name,t.description=e.note,t.description_html=e.note,t.fields=e.fields,t.fields_html=e.fields.map((function(e){return{name:i()(e.name),value:e.value}})),t.fields_text=e.fields.map((function(e){return{name:unescape(e.name.replace(/<[^>]*>/g,"")),value:unescape(e.value.replace(/<[^>]*>/g,""))}})),t.profile_image_url=e.avatar,t.profile_image_url_original=e.avatar,t.cover_photo=e.header,t.friends_count=e.following_count,t.bot=e.bot,e.pleroma){e.pleroma.settings_store&&(t.storage=e.pleroma.settings_store["pleroma-fe"]);var r=e.pleroma.relationship;t.background_image=e.pleroma.background_image,t.favicon=e.pleroma.favicon,t.token=e.pleroma.chat_token,r&&(t.relationship=r),t.allow_following_move=e.pleroma.allow_following_move,t.hide_follows=e.pleroma.hide_follows,t.hide_followers=e.pleroma.hide_followers,t.hide_follows_count=e.pleroma.hide_follows_count,t.hide_followers_count=e.pleroma.hide_followers_count,t.rights={moderator:e.pleroma.is_moderator,admin:e.pleroma.is_admin},t.rights.admin?t.role="admin":t.rights.moderator?t.role="moderator":t.role="member",t.birthday=e.pleroma.birthday,e.pleroma.privileges?t.privileges=e.pleroma.privileges:e.pleroma.is_admin?t.privileges=["users_read","users_manage_invites","users_manage_activation_state","users_manage_tags","users_manage_credentials","users_delete","messages_read","messages_delete","instances_delete","reports_manage_reports","moderation_log_read","announcements_manage_announcements","emoji_manage_emoji","statistics_read"]:e.pleroma.is_moderator?t.privileges=["messages_delete","reports_manage_reports"]:t.privileges=[]}e.source&&(t.description=e.source.note,t.default_scope=e.source.privacy,t.fields=e.source.fields,e.source.pleroma&&(t.no_rich_text=e.source.pleroma.no_rich_text,t.show_role=e.source.pleroma.show_role,t.discoverable=e.source.pleroma.discoverable,t.show_birthday=e.pleroma.show_birthday)),t.is_local=!t.screen_name.includes("@")}else t.screen_name=e.screen_name,t.name=e.name,t.name_html=e.name_html,t.description=e.description,t.description_html=e.description_html,t.profile_image_url=e.profile_image_url,t.profile_image_url_original=e.profile_image_url_original,t.cover_photo=e.cover_photo,t.friends_count=e.friends_count,t.statusnet_profile_url=e.statusnet_profile_url,t.is_local=e.is_local,t.role=e.role,t.show_role=e.show_role,e.rights&&(t.rights={moderator:e.rights.delete_others_notice,admin:e.rights.admin}),t.no_rich_text=e.no_rich_text,t.default_scope=e.default_scope,t.hide_follows=e.hide_follows,t.hide_followers=e.hide_followers,t.hide_follows_count=e.hide_follows_count,t.hide_followers_count=e.hide_followers_count,t.background_image=e.background_image,t.token=e.token,t.relationship={muting:e.muted,blocking:e.statusnet_blocking,followed_by:e.follows_you,following:e.following};if(t.created_at=new Date(e.created_at),t.locked=e.locked,t.followers_count=e.followers_count,t.statuses_count=e.statuses_count,e.pleroma&&(t.follow_request_count=e.pleroma.follow_request_count,t.tags=e.pleroma.tags,t.deactivated=void 0!==e.pleroma.is_active?!e.pleroma.is_active:e.pleroma.deactivated,t.notification_settings=e.pleroma.notification_settings,t.unread_chat_count=e.pleroma.unread_chat_count),t.tags=t.tags||[],t.rights=t.rights||{},t.notification_settings=t.notification_settings||{},t.screen_name_ui=t.screen_name,t.screen_name&&t.screen_name.includes("@")){var s=t.screen_name.split("@"),a=l.ZP.toUnicode(s[1]);a!==s[1]?(t.screen_name_ui_contains_non_ascii=!0,t.screen_name_ui=[s[0],a].join("@")):t.screen_name_ui_contains_non_ascii=!1}return t},m=function(e){var t={};return Object.prototype.hasOwnProperty.call(e,"oembed")?t.mimetype=e.mimetype:(t.mimetype=e.pleroma?e.pleroma.mime_type:e.type,t.meta=e.meta,t.id=e.id),t.url=e.url,t.large_thumb_url=e.preview_url,t.description=e.description,t},h=function(e){var t={};return t.text=e.text,t.spoiler_text=e.spoiler_text,t.content_type=e.content_type,t},f=function e(t){var n={},o=Object.prototype.hasOwnProperty.call(t,"account");if(o){if(n.favorited=t.favourited,n.fave_num=t.favourites_count,n.repeated=t.reblogged,n.repeat_num=t.reblogs_count,n.bookmarked=t.bookmarked,n.type=t.reblog?"retweet":"status",n.nsfw=t.sensitive,n.raw_html=t.content,n.emojis=t.emojis,n.tags=t.tags,n.edited_at=t.edited_at,t.pleroma){var r=t.pleroma;n.text=r.content?t.pleroma.content["text/plain"]:t.content,n.summary=r.spoiler_text?t.pleroma.spoiler_text["text/plain"]:t.spoiler_text,n.statusnet_conversation_id=t.pleroma.conversation_id,n.is_local=r.local,n.in_reply_to_screen_name=t.pleroma.in_reply_to_account_acct,n.thread_muted=r.thread_muted,n.emoji_reactions=r.emoji_reactions,n.parent_visible=void 0===r.parent_visible||r.parent_visible}else n.text=t.content,n.summary=t.spoiler_text;n.in_reply_to_status_id=t.in_reply_to_id,n.in_reply_to_user_id=t.in_reply_to_account_id,n.replies_count=t.replies_count,"retweet"===n.type&&(n.retweeted_status=e(t.reblog)),n.summary_raw_html=i()(t.spoiler_text),n.external_url=t.url,n.poll=t.poll,n.poll&&(n.poll.options=(n.poll.options||[]).map((function(e){return d(d({},e),{},{title_html:i()(e.title)})}))),n.pinned=t.pinned,n.muted=t.muted}else n.favorited=t.favorited,n.fave_num=t.fave_num,n.repeated=t.repeated,n.repeat_num=t.repeat_num,n.type=function(e){return e.is_post_verb?"status":e.retweeted_status?"retweet":"string"==typeof e.uri&&e.uri.match(/(fave|objectType=Favourite)/)||"string"==typeof e.text&&e.text.match(/favorited/)?"favorite":e.text.match(/deleted notice {{tag/)||e.qvitter_delete_notice?"deletion":e.text.match(/started following/)||"follow"===e.activity_type?"follow":"unknown"}(t),void 0===t.nsfw?(n.nsfw=v(t),t.retweeted_status&&(n.nsfw=t.retweeted_status.nsfw)):n.nsfw=t.nsfw,n.raw_html=t.statusnet_html,n.text=t.text,n.in_reply_to_status_id=t.in_reply_to_status_id,n.in_reply_to_user_id=t.in_reply_to_user_id,n.in_reply_to_screen_name=t.in_reply_to_screen_name,n.statusnet_conversation_id=t.statusnet_conversation_id,"retweet"===n.type&&(n.retweeted_status=e(t.retweeted_status)),n.summary=t.summary,n.summary_html=t.summary_html,n.external_url=t.external_url,n.is_local=t.is_local;n.id=String(t.id),n.visibility=t.visibility,n.card=t.card,n.created_at=new Date(t.created_at),n.in_reply_to_status_id=n.in_reply_to_status_id?String(n.in_reply_to_status_id):null,n.in_reply_to_user_id=n.in_reply_to_user_id?String(n.in_reply_to_user_id):null,n.user=p(o?t.account:t.user),n.attentions=((o?t.mentions:t.attentions)||[]).map(p),n.attachments=((o?t.media_attachments:t.attachments)||[]).map(m);var s=o?t.reblog:t.retweeted_status;return s&&(n.retweeted_status=e(s)),n.favoritedBy=[],n.rebloggedBy=[],Object.prototype.hasOwnProperty.call(t,"originalStatus")&&Object.assign(n,t.originalStatus),n},g=function(e){var t={};if(Object.prototype.hasOwnProperty.call(e,"ntype")){var n=f(e.notice);t.type=e.ntype,t.seen=Boolean(e.is_seen),t.status="like"===t.type?f(e.notice.favorited_status):n,t.action=n,t.from_profile="pleroma:chat_mention"===t.type?p(e.account):p(e.from_profile)}else t.type={favourite:"like",reblog:"repeat"}[e.type]||e.type,t.seen=e.pleroma.is_seen,t.status=(0,c.Gr)(t.type)?f(e.status):null,t.action=t.status,t.target="move"!==t.type?null:p(e.target),t.from_profile=p(e.account),t.emoji=e.emoji,e.report&&(t.report=e.report,t.report.content=e.report.content,t.report.acct=p(e.report.account),t.report.actor=p(e.report.actor),t.report.statuses=e.report.statuses.map(f));return t.created_at=new Date(e.created_at),t.id=parseInt(e.id),t},v=function(e){return(e.tags||[]).includes("nsfw")||!!(e.text||"").match(/#nsfw/i)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.flakeId,o=a()(e);if(o){var r=o.next.max_id,i=o.prev.min_id;return{maxId:n?r:parseInt(r,10),minId:n?i:parseInt(i,10)}}},b=function(e){var t={};return t.id=e.id,t.account=p(e.account),t.unread=e.unread,t.lastMessage=y(e.last_message),t.updated_at=new Date(e.updated_at),t},y=function(e){if(e){if(e.isNormalized)return e;var t=e;return t.id=e.id,t.created_at=new Date(e.created_at),t.chat_id=e.chat_id,t.emojis=e.emojis,t.content=e.content,e.attachment?t.attachments=[m(e.attachment)]:t.attachments=[],t.pending=!!e.pending,t.error=!1,t.idempotency_key=e.idempotency_key,t.isNormalized=!0,t}}},49753:(e,t,n)=>{"use strict";var o,r,i,s,a;n.d(t,{Z:()=>c});const c=(o=[],r=128,i=128,s=function(e){return e.complete&&0!==e.naturalHeight},{initFaviconService:function(){document.querySelectorAll('link[rel="icon"]').forEach((function(e){if(e){var t=document.createElement("canvas");t.width=r,t.height=i;var n=new Image;n.crossOrigin="anonymous",n.src=e.href;var s=t.getContext("2d");o.push({favcanvas:t,favimg:n,favcontext:s,favicon:e})}}))},clearFaviconBadge:a=function(){0!==o.length&&o.forEach((function(e){var t=e.favimg,n=e.favcanvas,o=e.favcontext,a=e.favicon;t&&o&&a&&(o.clearRect(0,0,r,i),s(t)&&o.drawImage(t,0,0,t.width,t.height,0,0,r,i),a.href=n.toDataURL("image/png"))}))},drawFaviconBadge:function(){0!==o.length&&(a(),o.forEach((function(e){var t=e.favimg,n=e.favcanvas,o=e.favcontext,a=e.favicon;if(t&&o&&o){var c=getComputedStyle(document.body),l="".concat(c.getPropertyValue("--badgeNotification")||"rgb(240, 100, 100)");s(t)&&o.drawImage(t,0,0,t.width,t.height,0,0,r,i),o.fillStyle=l,o.beginPath(),o.arc(96,32,32,0,2*Math.PI,!1),o.fill(),a.href=n.toDataURL("image/png")}})))}})},65079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={fileSizeFormat:function(e){var t=["B","KiB","MiB","GiB","TiB"],n=e;if(n<1)return n+" "+t[0];var o=Math.min(Math.floor(Math.log(n)/Math.log(1024)),t.length-1);return{num:n=1*(n/Math.pow(1024,o)).toFixed(2),unit:t[o]}}}},58394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=function(e){return e.match(/flash/)?"flash":e.match(/text\/html/)?"html":e.match(/image/)?"image":e.match(/video/)?"video":e.match(/audio/)?"audio":"unknown"};const r={fileType:o,fileMatchesSomeType:function(e,t){return e.some((function(e){return o(t.mimetype)===e}))}}},39776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(35161),r=n.n(o),i=n(72617),s=n(2900),a={ja_easy:"ja",zh_Hant:"zh-HANT",zh:"zh-Hans"},c=function(e){return a[e]||e},l=function(e){return c(e).replace("_","-")},u=function(e){var t={ja_easy:"やさしいにほんご",zh:"简体中文",zh_Hant:"繁體中文"}[e]||s.Z.getNativeName(e),n=c(e);return t.charAt(0).toLocaleUpperCase(n)+t.slice(1)},d=r()(i.Z.languages,(function(e){return{code:e,name:u(e)}})).sort((function(e,t){return e.name.localeCompare(t.name)}));const p={internalToBrowserLocale:c,internalToBackendLocale:l,internalToBackendLocaleMulti:function(e){return(Array.isArray(e)?e:[e]).map(l).join(",")},languages:d,getLanguageName:u}},52230:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>d,G2:()=>w,Gr:()=>h,Km:()=>b,nJ:()=>v,nU:()=>f});var o=n(64721),r=n.n(o),i=n(89734),s=n.n(i),a=n(63105),c=n.n(a),l=n(67828),u=n(64689),d=function(e){return e.state.statuses.notifications.data},p=function(e){var t=e.rootState||e.state;return[t.config.notificationVisibility.likes&&"like",t.config.notificationVisibility.mentions&&"mention",t.config.notificationVisibility.repeats&&"repeat",t.config.notificationVisibility.follows&&"follow",t.config.notificationVisibility.followRequest&&"follow_request",t.config.notificationVisibility.moves&&"move",t.config.notificationVisibility.emojiReactions&&"pleroma:emoji_reaction",t.config.notificationVisibility.reports&&"pleroma:report",t.config.notificationVisibility.polls&&"poll"].filter((function(e){return e}))},m=["like","mention","repeat","pleroma:emoji_reaction","poll"],h=function(e){return r()(m,e)},f=function(e){return!(h(e.type)&&!e.status)},g=function(e,t){var n=Number(e.id),o=Number(t.id),r=!Number.isNaN(n),i=!Number.isNaN(o);return r&&i?n>o?-1:1:r&&!i?1:!r&&i||e.id>t.id?-1:1},v=function(e,t){var n=e.rootState||e.state;if(!t.seen&&p(e).includes(t.type)&&("mention"!==t.type||!function(e,t){if(t.status)return t.status.muted||(0,l.u)(t.status,e.rootGetters.mergedConfig.muteWords).length>0}(e,t))){var o=y(t,e.rootGetters.i18n);(0,u.w)(n,o)}},w=function(e,t){var n=d(e).map((function(e){return e})).sort(g);return(n=s()(n,"seen")).filter((function(n){return(t||p(e)).includes(n.type)}))},b=function(e){return c()(w(e),(function(e){return!e.seen}))},y=function(e,t){var n,o={tag:e.id},r=e.status,i=e.from_profile.name;switch(o.title=i,o.icon=e.from_profile.profile_image_url,e.type){case"like":n="favorited_you";break;case"repeat":n="repeated_you";break;case"follow":n="followed_you";break;case"move":n="migrated_to";break;case"follow_request":n="follow_request";break;case"pleroma:report":n="submitted_report";break;case"poll":n="poll_ended"}return"pleroma:emoji_reaction"===e.type?o.body=t.t("notifications.reacted_with",[e.emoji]):n?o.body=t.t("notifications."+n):h(e.type)&&(o.body=e.status.text),r&&r.attachments&&r.attachments.length>0&&!r.nsfw&&r.attachments[0].mimetype.startsWith("image/")&&(o.image=r.attachments[0].url),o}},15568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(93433),r=n(77776),i=n(22626),s=["mention","favourite","reblog","follow","move","pleroma:emoji_reaction","pleroma:report"],a=function(e){var t=e.store,n=e.credentials,r=e.older,i=void 0!==r&&r,a=e.since,l={credentials:n},u=t.getters,d=(t.rootState||t.state).statuses.notifications,p=u.mergedConfig.hideMutedPosts;if(l.includeTypes=s,l.withMuted=!p,l.timeline="notifications",i)return d.minId!==Number.POSITIVE_INFINITY&&(l.until=d.minId),c({store:t,args:l,older:i});void 0===a&&d.maxId!==Number.POSITIVE_INFINITY?l.since=d.maxId:null!==a&&(l.since=a);var m=c({store:t,args:l,older:i}),h=d.data,f=h.filter((function(e){return e.seen})).map((function(e){return e.id}));return h.length-f.length>0&&f.length>0&&(l.since=Math.max.apply(Math,(0,o.Z)(f)),c({store:t,args:l,older:i})),m},c=function(e){var t=e.store,n=e.args,o=e.older;return r.ZP.fetchTimeline(n).then((function(e){if(e.errors)throw new Error("".concat(e.status," ").concat(e.statusText));var n=e.data;return function(e){var t=e.notifications,n=e.older;e.store.dispatch("addNewNotifications",{notifications:t,older:n})}({store:t,notifications:n,older:o}),n})).catch((function(e){t.dispatch("pushGlobalNotice",{level:"error",messageKey:"notifications.error",messageArgs:[e.message],timeout:5e3}),console.error(e)}))};const l={fetchAndUpdate:a,startFetching:function(e){var t=e.credentials,n=e.store;setTimeout((function(){return n.dispatch("setNotificationsSilence",!1)}),1e4);var o=function(){return a({credentials:t,store:n})};return o(),(0,i.F)(o,1e4)}}},67952:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var o=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.top,s=void 0===i?0:i,a=o.left,c=void 0===a?0:a,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u={top:s+t.offsetTop,left:c+t.offsetLeft};if(!l&&t!==window){var d=r(t),p=d.topPadding,m=d.leftPadding;u.top+=l?0:p,u.left+=l?0:m}if(t.offsetParent&&"sticky"!==window.getComputedStyle(t.offsetParent).position&&(n===window||n.contains(t.offsetParent)||n===t.offsetParent))return e(t.offsetParent,n,u,!1);if(n!==window){var h=r(n),f=h.topPadding,g=h.leftPadding;u.top+=f,u.left+=g}return u},r=function(e){var t=window.getComputedStyle(e)["padding-top"],n=Number(t.substring(0,t.length-2)),o=window.getComputedStyle(e)["padding-left"];return{topPadding:n,leftPadding:Number(o.substring(0,o.length-2))}}},22626:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var o=function(e,t){var n=!1,o=null;return o=window.setTimeout((function r(){var i=e();i&&i.finally?i.finally((function(){n||(o=window.setTimeout(r,t))})):console.warn("promiseInterval: promise call did not return a promise, stopping interval.")}),t),{stop:function(){n=!0,window.clearTimeout(o)}}}},67828:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var o=n(63105),r=n.n(o),i=function(e,t){var n=e.text.toLowerCase(),o=e.summary.toLowerCase();return r()(t,(function(e){return n.includes(e.toLowerCase())||o.includes(e.toLowerCase())}))}},7257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(35161),r=n.n(o),i=n(77776);const s={postStatus:function(e){var t=e.store,n=e.status,o=e.spoilerText,s=e.visibility,a=e.sensitive,c=e.poll,l=e.media,u=void 0===l?[]:l,d=e.inReplyToStatusId,p=void 0===d?void 0:d,m=e.contentType,h=void 0===m?"text/plain":m,f=e.preview,g=void 0!==f&&f,v=e.idempotencyKey,w=void 0===v?"":v,b=r()(u,"id");return i.ZP.postStatus({credentials:t.state.users.currentUser.credentials,status:n,spoilerText:o,visibility:s,sensitive:a,mediaIds:b,inReplyToStatusId:p,contentType:h,poll:c,preview:g,idempotencyKey:w}).then((function(e){return e.error||g||t.dispatch("addNewStatuses",{statuses:[e],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),e})).catch((function(e){return{error:e.message}}))},editStatus:function(e){var t=e.store,n=e.statusId,o=e.status,s=e.spoilerText,a=e.sensitive,c=e.poll,l=e.media,u=void 0===l?[]:l,d=e.contentType,p=void 0===d?"text/plain":d,m=r()(u,"id");return i.ZP.editStatus({id:n,credentials:t.state.users.currentUser.credentials,status:o,spoilerText:s,sensitive:a,poll:c,mediaIds:m,contentType:p}).then((function(e){return e.error||t.dispatch("addNewStatuses",{statuses:[e],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),e})).catch((function(e){return console.error("Error editing status",e),{error:e.message}}))},uploadMedia:function(e){var t=e.store,n=e.formData,o=t.state.users.currentUser.credentials;return i.ZP.uploadMedia({credentials:o,formData:n})},setMediaDescription:function(e){var t=e.store,n=e.id,o=e.description,r=t.state.users.currentUser.credentials;return i.ZP.setMediaDescription({credentials:r,id:n,description:o})}}},77394:(e,t,n)=>{"use strict";n.d(t,{H2:()=>P,I3:()=>$,LP:()=>b,Ot:()=>v,RC:()=>I,_v:()=>m,bY:()=>U,dE:()=>x,gm:()=>z,l9:()=>T,lD:()=>y,m:()=>_,mg:()=>g,vp:()=>O});var o=n(71002),r=n(93433),i=n(4942),s=n(29439),a=n(97332),c=n(21865),l=n(40454),u=n(85565);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=D(e).rules,n=document.head,o=document.body;o.classList.add("hidden");var r=document.createElement("style");n.appendChild(r);var i=r.sheet;i.toString(),i.insertRule(":root { ".concat(t.radii," }"),"index-max"),i.insertRule(":root { ".concat(t.colors," }"),"index-max"),i.insertRule(":root { ".concat(t.shadows," }"),"index-max"),i.insertRule(":root { ".concat(t.fonts," }"),"index-max"),o.classList.remove("hidden")},h=function(e){return{sidebarColumnWidth:e.sidebarColumnWidth,contentColumnWidth:e.contentColumnWidth,notifsColumnWidth:e.notifsColumnWidth}},f=h(u.W2),g=function(e){var t=h(e);if(t!==f){var n=document.head,o=document.body;o.classList.add("hidden");var r=Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,": ").concat(o)})).join(";"),i=document.createElement("style");n.appendChild(i);var a=i.sheet;a.toString(),a.insertRule(":root { ".concat(r," }"),"index-max"),o.classList.remove("hidden")}},v=function(e,t){return 0===e.length?"none":e.filter((function(e){return t?e.inset:e})).map((function(e){return[e.x,e.y,e.blur,e.spread].map((function(e){return e+"px"})).concat([(0,c.pP)(e.color,e.alpha),e.inset?"inset":""]).join(" ")})).join(", ")},w=function(e){return 0===e.length?"none":e.filter((function(e){return!e.inset&&0===Number(e.spread)})).map((function(e){return[e.x,e.y,e.blur/2].map((function(e){return e+"px"})).concat([(0,c.pP)(e.color,e.alpha)]).join(" ")})).map((function(e){return"drop-shadow(".concat(e,")")})).join(" ")},b=function(e){var t=e.themeEngineVersion?e.colors||e:x(e.colors||e),n=(0,l.EC)(t,e.opacity||{}),o=n.colors,r=n.opacity,i=Object.entries(o).reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];return r?(e.solid[o]=(0,c.CO)(r),e.complete[o]=void 0===r.a?(0,c.CO)(r):(0,c._I)(r),e):e}),{complete:{},solid:{}});return{rules:{colors:Object.entries(i.complete).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,": ").concat(o)})).join(";")},theme:{colors:i.solid,opacity:r}}},y=function(e){var t=e.radii||{};void 0!==e.btnRadius&&(t=Object.entries(e).filter((function(e){var t=(0,s.Z)(e,2),n=t[0];return t[1],n.endsWith("Radius")})).reduce((function(e,t){return e[t[0].split("Radius")[0]]=t[1],e}),{}));var n=Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];return e[o]=r,e}),{btn:4,input:4,checkbox:2,panel:10,avatar:5,avatarAlt:50,tooltip:2,attachment:5,chatMessage:t.panel});return{rules:{radii:Object.entries(n).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,"Radius: ").concat(o,"px")})).join(";")},theme:{radii:n}}},_=function(e){var t=Object.entries(e.fonts||{}).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];return e[o]=Object.entries(r).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];return e[o]=r,e}),e[o]),e}),{interface:{family:"sans-serif"},input:{family:"inherit"},post:{family:"inherit"},postCode:{family:"monospace"}});return{rules:{fonts:Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];return"--".concat(n,"Font: ").concat(o.family)})).join(";")},theme:{fonts:t}}},k=function(e,t){return{x:0,y:e?1:-1,blur:0,spread:0,color:t?"#000000":"#FFFFFF",alpha:.2,inset:!0}},S=[k(!0,!1),k(!1,!0)],j=[k(!0,!0),k(!1,!1)],C={x:0,y:0,blur:4,spread:0,color:"--faint",alpha:1},O={panel:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],topBar:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}],popup:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}],avatar:[{x:0,y:1,blur:8,spread:0,color:"#000000",alpha:.7}],avatarStatus:[],panelHeader:[],button:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1}].concat(S),buttonHover:[C].concat(S),buttonPressed:[C].concat(j),input:[].concat(j,[{x:0,y:0,blur:2,inset:!0,spread:0,color:"#000000",alpha:1}])},P=function(e,t){var n={button:"btn",panel:"bg",top:"topBar",popup:"popover",avatar:"bg",panelHeader:"panel",input:"input"},o=Object.fromEntries(Object.entries(e.shadows||{}).map((function(e){var t=(0,s.Z)(e,2);return[t[0],t[1].map((function(e){return p({color:"#000000"},e)}))]}))),u=o&&!e.themeEngineVersion?T(o,e.opacity):o||{},d=Object.entries(p(p({},O),u)).reduce((function(e,o){var u=(0,s.Z)(o,2),d=u[0],m=u[1],h=d.replace(/[A-Z].*$/,""),f=n[h],g=(0,c.ov)((0,a.OQ)(t[f]).rgb)<.5?1:-1,v=m.reduce((function(e,n){return[].concat((0,r.Z)(e),[p(p({},n),{},{color:(0,c.CO)((0,l.NI)(n.color,(function(e){return(0,a.OQ)(t[e]).rgb}),g))})])}),[]);return p(p({},e),{},(0,i.Z)({},d,v))}),{});return{rules:{shadows:Object.entries(d).map((function(e){var t=(0,s.Z)(e,2),n=t[0],o=t[1];return["--".concat(n,"Shadow: ").concat(v(o)),"--".concat(n,"ShadowFilter: ").concat(w(o)),"--".concat(n,"ShadowInset: ").concat(v(o,!0))].join(";")})).join(";")},theme:{shadows:d}}},z=function(e,t,n,o){return{rules:p(p(p(p({},n.rules),e.rules),t.rules),o.rules),theme:p(p(p(p({},n.theme),e.theme),t.theme),o.theme)}},D=function(e){var t=b(e);return z(t,y(e),P(e,t.theme.colors,t.mod),_(e))},I=function(){var e="no-store";return window.fetch("/static/styles.json",{cache:e}).then((function(e){return e.json()})).then((function(t){return Object.entries(t).map((function(t){var n=(0,s.Z)(t,2),r=n[0],i=n[1],a=null;return"object"===(0,o.Z)(i)?a=Promise.resolve(i):"string"==typeof i&&(a=window.fetch(i,{cache:e}).then((function(e){return e.json()})).catch((function(e){return console.error(e),null}))),[r,a]}))})).then((function(e){return e.reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];return e[o]=r,e}),{})}))},x=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,s.Z)(t,2),o=n[0],r=n[1];switch(o){case"lightBg":return p(p({},e),{},{highlight:r});case"btnText":return p(p({},e),["","Panel","TopBar"].reduce((function(e,t){return p(p({},e),{},(0,i.Z)({},"btn"+t+"Text",r))}),{}));default:return p(p({},e),{},(0,i.Z)({},o,r))}}),{})},T=function(e,t){return Object.entries(e).reduce((function(e,n){var o=(0,s.Z)(n,2),a=o[0],c=o[1].reduce((function(e,n){return[].concat((0,r.Z)(e),[p(p({},n),{},{alpha:(s=n,a=s.color,(void 0===a?"#000000":a).startsWith("--")?(o=n,i=o.color,t[(0,l.AV)(i.substring(2).split(",")[0])]||1):n.alpha)})]);var o,i,s,a}),[]);return p(p({},e),{},(0,i.Z)({},a,c))}),{})},$=function(e){return I().then((function(t){return t[e]?t[e]:t["pleroma-dark"]})).then((function(e){var t=Array.isArray(e),n=t?{}:e.theme;if(t){var o=(0,c.wK)(e[1]),r=(0,c.wK)(e[2]),i=(0,c.wK)(e[3]),s=(0,c.wK)(e[4]),a=(0,c.wK)(e[5]||"#FF0000"),l=(0,c.wK)(e[6]||"#00FF00"),u=(0,c.wK)(e[7]||"#0000FF"),d=(0,c.wK)(e[8]||"#E3FF00");n.colors={bg:o,fg:r,text:i,link:s,cRed:a,cBlue:u,cGreen:l,cOrange:d}}return{theme:n,source:e.source}}))},U=function(e){return $(e).then((function(e){return m(e.theme)}))}},44551:(e,t,n)=>{"use strict";n.d(t,{em:()=>a,k0:()=>i,wB:()=>s});var o=n(97332),r=n(21865),i={undelay:null,topBar:null,badge:null,profileTint:null,fg:null,bg:"underlay",highlight:"bg",panel:"bg",popover:"bg",selectedMenu:"popover",btn:"bg",btnPanel:"panel",btnTopBar:"topBar",input:"bg",inputPanel:"panel",inputTopBar:"topBar",alert:"bg",alertPanel:"panel",poll:"bg",chatBg:"underlay",chatMessage:"chatBg"},s={profileTint:.5,alert:.5,input:.5,faint:.5,underlay:.15,alertPopup:.95},a={bg:{depends:[],opacity:"bg",priority:1},wallpaper:{depends:["bg"],color:function(e,t){return(0,o.Xu)(-2*e,t).rgb}},fg:{depends:[],priority:1},text:{depends:[],layer:"bg",opacity:null,priority:1},underlay:{default:"#000000",opacity:"underlay"},link:{depends:["accent"],priority:1},accent:{depends:["link"],priority:1},faint:{depends:["text"],opacity:"faint"},faintLink:{depends:["link"],opacity:"faint"},postFaintLink:{depends:["postLink"],opacity:"faint"},cBlue:"#0000ff",cRed:"#FF0000",cGreen:"#00FF00",cOrange:"#E3FF00",profileBg:{depends:["bg"],color:function(e,t){return{r:Math.floor(.53*t.r),g:Math.floor(.56*t.g),b:Math.floor(.59*t.b)}}},profileTint:{depends:["bg"],layer:"profileTint",opacity:"profileTint"},highlight:{depends:["bg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},highlightLightText:{depends:["lightText"],layer:"highlight",textColor:!0},highlightPostLink:{depends:["postLink"],layer:"highlight",textColor:"preserve"},highlightFaintText:{depends:["faint"],layer:"highlight",textColor:!0},highlightFaintLink:{depends:["faintLink"],layer:"highlight",textColor:"preserve"},highlightPostFaintLink:{depends:["postFaintLink"],layer:"highlight",textColor:"preserve"},highlightText:{depends:["text"],layer:"highlight",textColor:!0},highlightLink:{depends:["link"],layer:"highlight",textColor:"preserve"},highlightIcon:{depends:["highlight","highlightText"],color:function(e,t,n){return(0,r.a4)(t,n)}},popover:{depends:["bg"],opacity:"popover"},popoverLightText:{depends:["lightText"],layer:"popover",textColor:!0},popoverPostLink:{depends:["postLink"],layer:"popover",textColor:"preserve"},popoverFaintText:{depends:["faint"],layer:"popover",textColor:!0},popoverFaintLink:{depends:["faintLink"],layer:"popover",textColor:"preserve"},popoverPostFaintLink:{depends:["postFaintLink"],layer:"popover",textColor:"preserve"},popoverText:{depends:["text"],layer:"popover",textColor:!0},popoverLink:{depends:["link"],layer:"popover",textColor:"preserve"},popoverIcon:{depends:["popover","popoverText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedPost:"--highlight",selectedPostFaintText:{depends:["highlightFaintText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLightText:{depends:["highlightLightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostPostLink:{depends:["highlightPostLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostFaintLink:{depends:["highlightFaintLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostText:{depends:["highlightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLink:{depends:["highlightLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostIcon:{depends:["selectedPost","selectedPostText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedMenu:{depends:["bg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},selectedMenuLightText:{depends:["highlightLightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintText:{depends:["highlightFaintText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintLink:{depends:["highlightFaintLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuText:{depends:["highlightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuLink:{depends:["highlightLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuIcon:{depends:["selectedMenu","selectedMenuText"],color:function(e,t,n){return(0,r.a4)(t,n)}},selectedMenuPopover:{depends:["popover"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},selectedMenuPopoverLightText:{depends:["selectedMenuLightText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintText:{depends:["selectedMenuFaintText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintLink:{depends:["selectedMenuFaintLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverText:{depends:["selectedMenuText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverLink:{depends:["selectedMenuLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverIcon:{depends:["selectedMenuPopover","selectedMenuText"],color:function(e,t,n){return(0,r.a4)(t,n)}},lightText:{depends:["text"],layer:"bg",textColor:"preserve",color:function(e,t){return(0,o.Xu)(20*e,t).rgb}},postLink:{depends:["link"],layer:"bg",textColor:"preserve"},postGreentext:{depends:["cGreen"],layer:"bg",textColor:"preserve"},postCyantext:{depends:["cBlue"],layer:"bg",textColor:"preserve"},border:{depends:["fg"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}},poll:{depends:["accent","bg"],copacity:"poll",color:function(e,t,n){return(0,r.Tj)(t,.4,n)}},pollText:{depends:["text"],layer:"poll",textColor:!0},icon:{depends:["bg","text"],inheritsOpacity:!1,color:function(e,t,n){return(0,r.a4)(t,n)}},fgText:{depends:["text"],layer:"fg",textColor:!0},fgLink:{depends:["link"],layer:"fg",textColor:"preserve"},panel:{depends:["fg"],opacity:"panel"},panelText:{depends:["text"],layer:"panel",textColor:!0},panelFaint:{depends:["fgText"],layer:"panel",opacity:"faint",textColor:!0},panelLink:{depends:["fgLink"],layer:"panel",textColor:"preserve"},topBar:"--fg",topBarText:{depends:["fgText"],layer:"topBar",textColor:!0},topBarLink:{depends:["fgLink"],layer:"topBar",textColor:"preserve"},tab:{depends:["btn"]},tabText:{depends:["btnText"],layer:"btn",textColor:!0},tabActiveText:{depends:["text"],layer:"bg",textColor:!0},btn:{depends:["fg"],variant:"btn",opacity:"btn"},btnText:{depends:["fgText"],layer:"btn",textColor:!0},btnPanelText:{depends:["btnText"],layer:"btnPanel",variant:"btn",textColor:!0},btnTopBarText:{depends:["btnText"],layer:"btnTopBar",variant:"btn",textColor:!0},btnPressed:{depends:["btn"],layer:"btn"},btnPressedText:{depends:["btnText"],layer:"btn",variant:"btnPressed",textColor:!0},btnPressedPanel:{depends:["btnPressed"],layer:"btn"},btnPressedPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnPressed",textColor:!0},btnPressedTopBar:{depends:["btnPressed"],layer:"btn"},btnPressedTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnPressed",textColor:!0},btnToggled:{depends:["btn"],layer:"btn",color:function(e,t){return(0,o.Xu)(20*e,t).rgb}},btnToggledText:{depends:["btnText"],layer:"btn",variant:"btnToggled",textColor:!0},btnToggledPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnToggled",textColor:!0},btnToggledTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnToggled",textColor:!0},btnDisabled:{depends:["btn","bg"],color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledText:{depends:["btnText","btnDisabled"],layer:"btn",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledPanelText:{depends:["btnPanelText","btnDisabled"],layer:"btnPanel",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},btnDisabledTopBarText:{depends:["btnTopBarText","btnDisabled"],layer:"btnTopBar",variant:"btnDisabled",color:function(e,t,n){return(0,r.Tj)(t,.25,n)}},input:{depends:["fg"],opacity:"input"},inputText:{depends:["text"],layer:"input",textColor:!0},inputPanelText:{depends:["panelText"],layer:"inputPanel",variant:"input",textColor:!0},inputTopbarText:{depends:["topBarText"],layer:"inputTopBar",variant:"input",textColor:!0},alertError:{depends:["cRed"],opacity:"alert"},alertErrorText:{depends:["text"],layer:"alert",variant:"alertError",textColor:!0},alertErrorPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertError",textColor:!0},alertWarning:{depends:["cOrange"],opacity:"alert"},alertWarningText:{depends:["text"],layer:"alert",variant:"alertWarning",textColor:!0},alertWarningPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertWarning",textColor:!0},alertSuccess:{depends:["cGreen"],opacity:"alert"},alertSuccessText:{depends:["text"],layer:"alert",variant:"alertSuccess",textColor:!0},alertSuccessPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertSuccess",textColor:!0},alertNeutral:{depends:["text"],opacity:"alert"},alertNeutralText:{depends:["text"],layer:"alert",variant:"alertNeutral",color:function(e,t){return(0,o.Xp)(t).rgb},textColor:!0},alertNeutralPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertNeutral",textColor:!0},alertPopupError:{depends:["alertError"],opacity:"alertPopup"},alertPopupErrorText:{depends:["alertErrorText"],layer:"popover",variant:"alertPopupError",textColor:!0},alertPopupWarning:{depends:["alertWarning"],opacity:"alertPopup"},alertPopupWarningText:{depends:["alertWarningText"],layer:"popover",variant:"alertPopupWarning",textColor:!0},alertPopupSuccess:{depends:["alertSuccess"],opacity:"alertPopup"},alertPopupSuccessText:{depends:["alertSuccessText"],layer:"popover",variant:"alertPopupSuccess",textColor:!0},alertPopupNeutral:{depends:["alertNeutral"],opacity:"alertPopup"},alertPopupNeutralText:{depends:["alertNeutralText"],layer:"popover",variant:"alertPopupNeutral",textColor:!0},badgeNotification:"--cRed",badgeNotificationText:{depends:["text","badgeNotification"],layer:"badge",variant:"badgeNotification",textColor:"bw"},badgeNeutral:"--cGreen",badgeNeutralText:{depends:["text","badgeNeutral"],layer:"badge",variant:"badgeNeutral",textColor:"bw"},chatBg:{depends:["bg"]},chatMessageIncomingBg:{depends:["chatBg"]},chatMessageIncomingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:!0},chatMessageIncomingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:"preserve"},chatMessageIncomingBorder:{depends:["border"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}},chatMessageOutgoingBg:{depends:["chatMessageIncomingBg"],color:function(e,t){return(0,o.Xu)(5*e,t).rgb}},chatMessageOutgoingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:!0},chatMessageOutgoingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:"preserve"},chatMessageOutgoingBorder:{depends:["chatMessageOutgoingBg"],opacity:"border",color:function(e,t){return(0,o.Xu)(2*e,t).rgb}}}},40454:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>y,AV:()=>v,EC:()=>k,NI:()=>_,we:()=>p,xb:()=>h});var o=n(4942),r=n(29439),i=n(71002),s=n(93433),a=n(97332),c=n(21865),l=n(44551);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=3,m=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.k0,n=[e],o=t[e];o;)n.unshift(o),o=t[o];return n},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return m(e).map((function(i){return[i===e?o[t]:o[i],i===e?r[n]||1:r[i]]}))},f=function(e,t){var n=t[e];if("string"==typeof n&&n.startsWith("--"))return[n.substring(2)];if(null===n)return[];var o=n.depends,r=n.layer,i=n.variant,a=r?m(r).map((function(e){return e===r?i||r:e})):[];return Array.isArray(o)?[].concat((0,s.Z)(o),(0,s.Z)(a)):(0,s.Z)(a)},g=function(e){return"object"===(0,i.Z)(e)?e:{depends:e.startsWith("--")?[e.substring(2)]:[],default:e.startsWith("#")?e:void 0}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.em,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,o=g(t[e]);if(null!==o.opacity){if(o.opacity)return o.opacity;var r=function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],a=n(r,t)[0];if(void 0!==a){var c=t[a];if(void 0!==c)return c.opacity||null===c?c.opacity:c.depends&&i.includes(a)?o(a,[].concat((0,s.Z)(i),[a])):null}};return o.depends?r(e):void 0}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.em,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,o=g(t[e]);if(l.k0[e])return e;if(null!==o.layer){if(o.layer)return o.layer;var r=function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],a=n(r,t)[0];if(void 0!==a){var c=t[a];if(void 0!==c)return c.layer||null===c?c.layer:c.depends?o(c,[].concat((0,s.Z)(i),[a])):null}};return o.depends?r(e):void 0}},b=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.em,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=Object.keys(e),o=new Set(n),r=new Set,i=new Set,s=[].concat(n),a=[],c=function n(s){if(o.has(s))o.delete(s),r.add(s),t(s,e).forEach(n),r.delete(s),i.add(s),a.push(s);else if(r.has(s))console.debug("Cyclic depenency in topoSort, ignoring"),a.push(s);else if(!i.has(s))throw new Error("Unintended condition in topoSort!")};s.length>0;)c(s.pop());return a.map((function(e,t){return{data:e,index:t}})).sort((function(n,o){var r=n.data,i=n.index,s=o.data,a=o.index,c=t(r,e).length,l=t(s,e).length;return c===l||0!==l&&0!==c?i-a:0===c&&0!==l?-1:0===l&&0!==c?1:0})).map((function(e){return e.data}))}(Object.entries(l.em).sort((function(e,t){var n=(0,r.Z)(e,2),o=(n[0],n[1]),i=(0,r.Z)(t,2),s=(i[0],i[1]);return(o&&o.priority||0)-(s&&s.priority||0)})).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],s=n[1];return d(d({},e),{},(0,o.Z)({},i,s))}),{})),y=Object.entries(l.em).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=(n[1],v(i,l.em,f));return a?d(d({},e),{},(0,o.Z)({},a,{defaultValue:l.wB[a]||1,affectedSlots:[].concat((0,s.Z)(e[a]&&e[a].affectedSlots||[]),[i])})):e}),{}),_=function(e,t,n){if("string"!=typeof e||!e.startsWith("--"))return e;var o=null,i=e.split(/,/g).map((function(e){return e.trim()})),s=(0,r.Z)(i,2),c=s[0],l=s[1];return o=t(c.substring(2)),l&&(o=(0,a.Xu)(Number.parseFloat(l)*n,o).rgb),o},k=function(e,t){return b.reduce((function(n,r){var i,u=n.colors,p=n.opacity,m=e[r],b=g(l.em[r]),k=f(r,l.em),S=!!b.textColor,j=b.variant||b.layer;i=S?(0,c.Rx)(d({},u[k[0]]||(0,a.OQ)(e[r]||"#FF00FF").rgb),h(w(r)||"bg",j||"bg",v(j),u,p)):j&&j!==r?u[j]||(0,a.OQ)(e[j]).rgb:u.bg||(0,a.OQ)(e.bg);var C=(0,c.ov)(i)<.5?1:-1,O=null;if(m){var P=m;if("transparent"===P){var z=h(w(r),r,v(r)||r,u,p).slice(0,-1);P=d(d({},(0,c.Rx)((0,a.OQ)("#FF00FF").rgb,z)),{},{a:0})}else"string"==typeof m&&m.startsWith("--")?P=_(m,(function(t){return u[t]||e[t]}),C):"string"==typeof m&&m.startsWith("#")&&(P=(0,a.OQ)(P).rgb);O=d({},P)}else if(b.default)O=(0,a.OQ)(b.default).rgb;else{var D=b.color||function(e,t){return d({},t)};if(b.textColor)if("bw"===b.textColor)O=(0,a.wo)(i).rgb;else{var I=d({},u[k[0]]);b.color&&(I=D.apply(void 0,[C].concat((0,s.Z)(k.map((function(e){return d({},u[e])})))))),O=(0,c.uu)(i,d({},I),"preserve"===b.textColor)}else O=D.apply(void 0,[C].concat((0,s.Z)(k.map((function(e){return d({},u[e])})))))}if(!O)throw new Error("Couldn't generate color for "+r);var x=b.opacity||v(r),T=b.opacity;if(null===T)O.a=1;else if("transparent"===m)O.a=0;else{var $=T&&void 0!==t[x],U=k[0],M=U&&u[U];T||!M||b.textColor||null===T?M||x?M&&0===M.a?O.a=0:O.a=Number($?t[x]:(y[x]||{}).defaultValue):delete O.a:O.a=M.a}return(Number.isNaN(O.a)||void 0===O.a)&&(O.a=1),x?{colors:d(d({},u),{},(0,o.Z)({},r,O)),opacity:d(d({},p),{},(0,o.Z)({},x,O.a))}:{colors:d(d({},u),{},(0,o.Z)({},r,O)),opacity:p}}),{colors:{},opacity:{}})}},95052:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,q:()=>a});var o=n(4942),r=n(21865);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){if(void 0!==e){var t=e.color,n=e.type;if("string"==typeof t){var o=(0,r.wK)(t);if(null!=o){var i="rgb(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),")"),a="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .1)"),c="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .2)"),l={"--____highlight-solidColor":i,"--____highlight-tintColor":a,"--____highlight-tintColor2":c};return"striped"===n?s({backgroundImage:["repeating-linear-gradient(135deg,","".concat(a," ,"),"".concat(a," 20px,"),"".concat(c," 20px,"),"".concat(c," 40px")].join(" "),backgroundPosition:"0 0"},l):"solid"===n?s({backgroundColor:c},l):"side"===n?s({backgroundImage:["linear-gradient(to right,","".concat(i," ,"),"".concat(i," 2px,"),"transparent 6px"].join(" "),backgroundPosition:"0 0"},l):void 0}}}},c=function(e){return"USER____"+e.screen_name.replace(/\./g,"_").replace(/@/g,"_AT_")}},4493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(64721),r=n.n(o);const i=function(e,t,n){var o=!t||function(e){return e&&e.includes("@")}(t)||r()(n,t);return{name:o?"external-user-profile":"user-profile",params:o?{id:e}:{name:t}}}},66596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var o=n(66252),r=n(3577),i=n(49963),s=["href","alt","title"],a={key:1,class:"attachment-buttons"},c=["placeholder"],l={key:1},u={class:"attachment-wrapper"},d=["href","alt","title"],p=["src"],m={key:1,class:"attachment-buttons"},h=["title"],f=["title"],g=["title"],v=["title"],w=["title"],b=["title"],y=["title"],_=["href"],k=["href"],S={key:0},j=["href"],C=["src","alt","title"],O={key:0,class:"image"},P=["src"],z={class:"text"},D=["href"],I=["innerHTML"],x=["href"],T=["placeholder"],$={key:1},U=n(4942),M=n(32140),A=n(72884),L=n(34133);const E=n.p+"static/img/nsfw.2958239.png";var F=n(58394),R=n(989),q=n(9382),N=n(84131);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}q.vI.add(N.gMD,N.Xig,N.VmB,N.IyC,N.aQp,N.NBC,N.Bg$,N.N7g,N.I7k,N.UJf,N.S3c);const W={props:["attachment","compact","description","hideDescription","nsfw","size","setMedia","remove","shiftUp","shiftDn","edit"],data:function(){return{localDescription:this.description||this.attachment.description,nsfwImage:this.$store.state.instance.nsfwCensorImage||E,hideNsfwLocal:this.$store.getters.mergedConfig.hideNsfw,preloadImage:this.$store.getters.mergedConfig.preloadImage,loading:!1,img:"image"===F.Z.fileType(this.attachment.mimetype)&&document.createElement("img"),modalOpen:!1,showHidden:!1,flashLoaded:!1,showDescription:!1}},components:{Flash:A.Z,StillImage:M.Z,VideoAttachment:L.Z},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,U.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({classNames:function(){return[{"-loading":this.loading,"-nsfw-placeholder":this.hidden,"-editable":void 0!==this.edit,"-compact":this.compact},"-type-"+this.type,this.size&&"-size-"+this.size,"-".concat(this.useContainFit?"contain":"cover","-fit")]},usePlaceholder:function(){return"hide"===this.size},useContainFit:function(){return this.$store.getters.mergedConfig.useContainFit},placeholderName:function(){return""!==this.attachment.description&&this.attachment.description?this.attachment.description:this.type.toUpperCase()},placeholderIconClass:function(){return"image"===this.type?"image":"video"===this.type?"video":"audio"===this.type?"music":"file"},referrerpolicy:function(){return this.$store.state.instance.mediaProxyAvailable?"":"no-referrer"},type:function(){return F.Z.fileType(this.attachment.mimetype)},hidden:function(){return this.nsfw&&this.hideNsfwLocal&&!this.showHidden},isEmpty:function(){return"html"===this.type&&!this.attachment.oembed},useModal:function(){var e=[];switch(this.size){case"hide":case"small":e=["image","video","audio","flash"];break;default:e=this.mergedConfig.playVideosInModal?["image","video","flash"]:["image"]}return e.includes(this.type)},videoTag:function(){return this.useModal?"button":"span"}},(0,R.Se)(["mergedConfig"])),watch:{"attachment.description":function(e){this.localDescription=e},localDescription:function(e){this.onEdit(e)}},methods:{linkClicked:function(e){var t=e.target;"A"===t.tagName&&window.open(t.href,"_blank")},openModal:function(e){this.useModal?(this.$emit("setMedia"),this.$store.dispatch("setCurrentMedia",this.attachment)):"unknown"===this.type&&window.open(this.attachment.url)},openModalForce:function(e){this.$emit("setMedia"),this.$store.dispatch("setCurrentMedia",this.attachment)},onEdit:function(e){this.edit&&this.edit(this.attachment,e)},onRemove:function(){this.remove&&this.remove(this.attachment)},onShiftUp:function(){this.shiftUp&&this.shiftUp(this.attachment)},onShiftDn:function(){this.shiftDn&&this.shiftDn(this.attachment)},stopFlash:function(){this.$refs.flash.closePlayer()},setFlashLoaded:function(e){this.flashLoaded=e},toggleDescription:function(){this.showDescription=!this.showDescription},toggleHidden:function(e){var t=this;!this.mergedConfig.useOneClickNsfw||this.showHidden||"video"===this.type&&!this.mergedConfig.playVideosInModal?this.img&&!this.preloadImage?this.img.onload?this.img.onload():(this.loading=!0,this.img.src=this.attachment.url,this.img.onload=function(){t.loading=!1,t.showHidden=!t.showHidden}):this.showHidden=!this.showHidden:this.openModal(e)},onImageLoad:function(e){var t=e.naturalWidth,n=e.naturalHeight;this.$emit("naturalSizeLoad",{id:this.attachment.id,width:t,height:n})}}},B=(0,n(83744).Z)(W,[["render",function(e,t,n,U,M,A){var L=(0,o.up)("FAIcon"),E=(0,o.up)("StillImage"),F=(0,o.up)("VideoAttachment"),R=(0,o.up)("Flash");return e.usePlaceholder?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["Attachment -placeholder button-unstyled",e.classNames]),onClick:t[4]||(t[4]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},["html"!==e.type?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"placeholder",target:"_blank",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[0]||(t[0]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)(L,{icon:e.placeholderIconClass},null,8,["icon"]),(0,o._)("b",null,(0,r.zw)(e.nsfw?"NSFW / ":""),1),(0,o.Uk)((0,r.zw)(e.edit?"":e.placeholderName),1)],8,s)):(0,o.kq)("",!0),e.edit||e.remove?((0,o.wg)(),(0,o.iD)("div",a,[e.remove?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled attachment-button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.onRemove&&e.onRemove.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"trash-alt"})])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),"hide"!==e.size&&!e.hideDescription&&(e.edit||e.localDescription||e.showDescription)?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,r.C_)(["description-container",{"-static":!e.edit}])},[e.edit?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.localDescription=t}),type:"text",class:"description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[3]||(t[3]=(0,i.D2)((0,i.iM)((function(){}),["prevent"]),["enter"]))},null,40,c)),[[i.nr,e.localDescription]]):((0,o.wg)(),(0,o.iD)("p",l,(0,r.zw)(e.localDescription),1))],2)):(0,o.kq)("",!0)],2)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["Attachment",e.classNames])},[(0,o.wy)((0,o._)("div",u,[e.hidden?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"image-container",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,onClick:t[5]||(t[5]=(0,i.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent","stop"]))},[((0,o.wg)(),(0,o.iD)("img",{key:e.nsfwImage,class:"nsfw",src:e.nsfwImage},null,8,p)),"video"===e.type?((0,o.wg)(),(0,o.j4)(L,{key:0,class:"play-icon",icon:"play-circle"})):(0,o.kq)("",!0)],8,d)):(0,o.kq)("",!0),e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",m,["flash"===e.type&&e.flashLoaded?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled attachment-button",title:e.$t("status.attachment_stop_flash"),onClick:t[6]||(t[6]=(0,i.iM)((function(){return e.stopFlash&&e.stopFlash.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"stop"})],8,h)):(0,o.kq)("",!0),e.attachment.description&&"small"!==e.size&&!e.edit&&"unknown"!==e.type?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled attachment-button",title:e.$t("status.show_attachment_description"),onClick:t[7]||(t[7]=(0,i.iM)((function(){return e.toggleDescription&&e.toggleDescription.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"align-right"})],8,f)):(0,o.kq)("",!0),e.useModal||"unknown"===e.type?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled attachment-button",title:e.$t("status.show_attachment_in_modal"),onClick:t[8]||(t[8]=(0,i.iM)((function(){return e.openModalForce&&e.openModalForce.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"search-plus"})],8,g)),e.nsfw&&e.hideNsfwLocal?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"button-unstyled attachment-button",title:e.$t("status.hide_attachment"),onClick:t[9]||(t[9]=(0,i.iM)((function(){return e.toggleHidden&&e.toggleHidden.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"times"})],8,v)):(0,o.kq)("",!0),e.shiftUp?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled attachment-button",title:e.$t("status.move_up"),onClick:t[10]||(t[10]=(0,i.iM)((function(){return e.onShiftUp&&e.onShiftUp.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"chevron-left"})],8,w)):(0,o.kq)("",!0),e.shiftDn?((0,o.wg)(),(0,o.iD)("button",{key:5,class:"button-unstyled attachment-button",title:e.$t("status.move_down"),onClick:t[11]||(t[11]=(0,i.iM)((function(){return e.onShiftDn&&e.onShiftDn.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"chevron-right"})],8,b)):(0,o.kq)("",!0),e.remove?((0,o.wg)(),(0,o.iD)("button",{key:6,class:"button-unstyled attachment-button",title:e.$t("status.remove_attachment"),onClick:t[12]||(t[12]=(0,i.iM)((function(){return e.onRemove&&e.onRemove.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(L,{icon:"trash-alt"})],8,y)):(0,o.kq)("",!0)])),"image"!==e.type||e.hidden&&!e.preloadImage?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:2,class:(0,r.C_)(["image-container",{"-hidden":e.hidden&&e.preloadImage}]),href:e.attachment.url,target:"_blank",onClick:t[13]||(t[13]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Wm)(E,{class:"image",referrerpolicy:e.referrerpolicy,mimetype:e.attachment.mimetype,src:e.attachment.large_thumb_url||e.attachment.url,"image-load-handler":e.onImageLoad,alt:e.attachment.description},null,8,["referrerpolicy","mimetype","src","image-load-handler","alt"])],10,_)),"unknown"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:3,class:"placeholder-container",href:e.attachment.url,target:"_blank"},[(0,o.Wm)(L,{size:e.compact?"2x":"5x",icon:e.placeholderIconClass,title:e.localDescription},null,8,["size","icon","title"]),e.compact?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",S,(0,r.zw)(e.localDescription),1))],8,k)),"video"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,o.LL)(e.videoTag),{key:4,class:(0,r.C_)(["video-container",{"button-unstyled":"isModal"}]),href:e.attachment.url,onClick:(0,i.iM)(e.openModal,["stop","prevent"])},{default:(0,o.w5)((function(){return[(0,o.Wm)(F,{class:"video",attachment:e.attachment,controls:!e.useModal,onPlay:t[14]||(t[14]=function(t){return e.$emit("play")}),onPause:t[15]||(t[15]=function(t){return e.$emit("pause")})},null,8,["attachment","controls"]),e.useModal?((0,o.wg)(),(0,o.j4)(L,{key:0,class:"play-icon",icon:"play-circle"})):(0,o.kq)("",!0)]})),_:1},8,["href","onClick"])),"audio"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:5,class:"audio-container",href:e.attachment.url,onClick:t[18]||(t[18]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},["audio"===e.type?((0,o.wg)(),(0,o.iD)("audio",{key:0,src:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,controls:"",onPlay:t[16]||(t[16]=function(t){return e.$emit("play")}),onPause:t[17]||(t[17]=function(t){return e.$emit("pause")})},null,40,C)):(0,o.kq)("",!0)],8,j)),"html"===e.type&&e.attachment.oembed?((0,o.wg)(),(0,o.iD)("div",{key:6,class:"oembed-container",onClick:t[19]||(t[19]=(0,i.iM)((function(){return e.linkClicked&&e.linkClicked.apply(e,arguments)}),["prevent"]))},[e.attachment.thumb_url?((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("img",{src:e.attachment.thumb_url},null,8,P)])):(0,o.kq)("",!0),(0,o._)("div",z,[(0,o._)("h1",null,[(0,o._)("a",{href:e.attachment.url},(0,r.zw)(e.attachment.oembed.title),9,D)]),(0,o._)("div",{innerHTML:e.attachment.oembed.oembedHTML},null,8,I)])])):(0,o.kq)("",!0),"flash"!==e.type||e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",{key:7,class:"flash-container",href:e.attachment.url,onClick:t[22]||(t[22]=(0,i.iM)((function(){return e.openModal&&e.openModal.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Wm)(R,{ref:"flash",class:"flash",src:e.attachment.large_thumb_url||e.attachment.url,onPlayerOpened:t[20]||(t[20]=function(t){return e.setFlashLoaded(!0)}),onPlayerClosed:t[21]||(t[21]=function(t){return e.setFlashLoaded(!1)})},null,8,["src"])],8,x))],512),[[i.F8,!e.isEmpty]]),"hide"!==e.size&&!e.hideDescription&&(e.edit||e.localDescription&&e.showDescription)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["description-container",{"-static":!e.edit}])},[e.edit?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.localDescription=t}),type:"text",class:"description-field",placeholder:e.$t("post_status.media_description"),onKeydown:t[24]||(t[24]=(0,i.D2)((0,i.iM)((function(){}),["prevent"]),["enter"]))},null,40,T)),[[i.nr,e.localDescription]]):((0,o.wg)(),(0,o.iD)("p",$,(0,r.zw)(e.localDescription),1))],2)):(0,o.kq)("",!0)],2))}]])},19066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r={class:"avatars"},i=n(48173),s=n(4493);const a={props:["users"],computed:{slicedUsers:function(){return this.users?this.users.slice(0,15):[]}},components:{UserAvatar:i.default},methods:{userProfileLink:function(e){return(0,s.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},c=(0,n(83744).Z)(a,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("UserAvatar"),l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.slicedUsers,(function(t){return(0,o.wg)(),(0,o.j4)(l,{key:t.id,to:e.userProfileLink(t),class:"avatars-item"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{user:t,class:"avatar-small"},null,8,["user"])]})),_:2},1032,["to"])})),128))])}]])},29076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(66252),r=n(49963),i={class:"basic-user-card"},s={class:"basic-user-card-collapsed-content"},a=["title"],c=n(22588),l=n(48173),u=n(12061),d=n(92820),p=n(4493);const m={props:["user"],components:{UserPopover:c.default,UserAvatar:l.default,RichContent:d.Z,UserLink:u.Z},methods:{userProfileLink:function(e){return(0,p.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,c,l,u){var d=(0,o.up)("UserAvatar"),p=(0,o.up)("UserPopover"),m=(0,o.up)("router-link"),h=(0,o.up)("RichContent"),f=(0,o.up)("user-link");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(m,{to:e.userProfileLink(e.user),onClick:t[1]||(t[1]=(0,r.iM)((function(){}),["prevent"]))},{default:(0,o.w5)((function(){return[(0,o.Wm)(p,{"user-id":e.user.id,"overlay-centers":!0,"overlay-centers-selector":".avatar"},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{class:"user-avatar avatar",user:e.user,onClick:t[0]||(t[0]=(0,r.iM)((function(){}),["prevent"]))},null,8,["user"])]})),_:1},8,["user-id"])]})),_:1},8,["to"]),(0,o._)("div",s,[(0,o._)("div",{title:e.user.name,class:"basic-user-card-user-name"},[(0,o.Wm)(h,{class:"basic-user-card-user-name-value",html:e.user.name,emoji:e.user.emoji},null,8,["html","emoji"])],8,a),(0,o._)("div",null,[(0,o.Wm)(f,{class:"basic-user-card-screen-name",user:e.user},null,8,["user"])]),(0,o.WI)(e.$slots,"default")])])}]])},90350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(3577),i=["disabled","checked","indeterminate"],s=(0,o._)("i",{class:"checkbox-indicator","aria-hidden":!0},null,-1),a={key:0,class:"label"};const c={props:["modelValue","indeterminate","disabled"],emits:["update:modelValue"]},l=(0,n(83744).Z)(c,[["render",function(e,t,n,c,l,u){return(0,o.wg)(),(0,o.iD)("label",{class:(0,r.C_)(["checkbox",{disabled:n.disabled,indeterminate:n.indeterminate}])},[(0,o._)("input",{type:"checkbox",class:"visible-for-screenreader-only",disabled:n.disabled,checked:n.modelValue,indeterminate:n.indeterminate,onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.checked)})},null,40,i),s,e.$slots.default?((0,o.wg)(),(0,o.iD)("span",a,[(0,o.WI)(e.$slots,"default")])):(0,o.kq)("",!0)],2)}]])},1447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i=n(49963),s=["textContent"],a=["textContent"],c=["textContent"];const l={components:{DialogModal:n(71113).Z},props:{title:{type:String},cancelText:{type:String},confirmText:{type:String}},computed:{},methods:{onCancel:function(){this.$emit("cancelled")},onAccept:function(){this.$emit("accepted")}}},u=(0,n(83744).Z)(l,[["render",function(e,t,n,l,u,d){var p=(0,o.up)("dialog-modal"),m=(0,o.Q2)("body-scroll-lock");return(0,o.wy)(((0,o.wg)(),(0,o.j4)(p,{class:"confirm-modal","on-cancel":e.onCancel},{header:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.title)},null,8,s)]})),footer:(0,o.w5)((function(){return[(0,o._)("button",{class:"btn button-default",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.onAccept&&e.onAccept.apply(e,arguments)}),["prevent"])),textContent:(0,r.zw)(e.confirmText)},null,8,a),(0,o._)("button",{class:"btn button-default",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.onCancel&&e.onCancel.apply(e,arguments)}),["prevent"])),textContent:(0,r.zw)(e.cancelText)},null,8,c)]})),default:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),_:3},8,["on-cancel"])),[[m,!0]])}]])},71113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(66252),r=n(3577),i=n(49963),s={class:"panel-heading dialog-modal-heading"},a={class:"title"},c={class:"dialog-modal-content"},l={class:"dialog-modal-footer user-interactions panel-footer"};const u={props:{darkOverlay:{default:!0,type:Boolean},onCancel:{default:function(){},type:Function}}},d=(0,n(83744).Z)(u,[["render",function(e,t,n,u,d,p){return(0,o.wg)(),(0,o.iD)("span",{class:(0,r.C_)({"dark-overlay":e.darkOverlay}),onClick:t[1]||(t[1]=(0,i.iM)((function(t){return e.onCancel()}),["self","stop"]))},[(0,o._)("div",{class:"dialog-modal panel panel-default",onClick:t[0]||(t[0]=(0,i.iM)((function(){}),["stop"]))},[(0,o._)("div",s,[(0,o._)("div",a,[(0,o.WI)(e.$slots,"header")])]),(0,o._)("div",c,[(0,o.WI)(e.$slots,"default")]),(0,o._)("div",l,[(0,o.WI)(e.$slots,"footer")])])],2)}]])},86319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ze});var o=n(66252),r=n(3577),i=n(49963),s={ref:"hiddenOverlayCaret",class:"caret"},a=["title"],c=["id"],l=["id","aria-label","aria-selected","onClick"],u={class:"image"},d=["src"],p={key:1},m={class:"label"},h={key:0,class:"displayText"},f={key:1,class:"displayText"},g={class:"detailText"},v=n(4942),w=n(44925),b=n(15861),y=n(93433),_=n(69572),k=n.n(_),S=n(64687),j=n.n(S),C=n(13311),O=n.n(C),P=n(54061),z=n.n(P),D=function(e){return z()(e,(function(e,t){var n={word:t,start:0,end:t.length};if(e.length>0){var o=e.pop();n.start+=o.end,n.end+=o.end,e.push(o)}return e.push(n),e}),[])},I=function(e){for(var t=[],n="",o=0;o<e.length;o++){var r=e[o];n?!!r.trim()==!!n.trim()?n+=r:(t.push(n),n=r):n=r}return n&&t.push(n),t};const x=function(e,t){var n=I(e),o=D(n);return O()(o,(function(e){var n=e.start,o=e.end;return n<=t&&o>t}))},T=function(e,t,n){return e.slice(0,t.start)+n+e.slice(t.end)};var $={class:"heading"},U={ref:"header",class:"emoji-tabs"},M=["title","onClick"],A={key:0,class:"emoji-picker-header-image"},L={key:0,class:"additional-tabs"},E=["title"],F={key:0,class:"content"},R={class:"emoji-search"},q=["placeholder"],N={class:"emoji-group"},Z={key:0,class:"emoji-group-title"},W=["title","onClick"],B={key:0,class:"emoji-picker-emoji -unicode"},H={class:"keep-open"},V={key:0,class:"stickers-content"},K=n(29439),G=n(8400),Y=n.n(G),J=n(92742),Q=n.n(J),X=n(23279),ee=n.n(X),te=n(90350),ne=n(91447),oe=n(32140),re=n(8312),ie=n(9382),se=n(84131);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ie.vI.add(se.IA$,se.L4e,se.RKn,se.ctA,se.ILF,se.kQp,se.E1P,se.k0d,se.Elv,se.X8G,se.dT$,se.RrC);var de={"smileys-and-emotion":"smile","people-and-body":"user","animals-and-nature":"paw","food-and-drink":"ice-cream","travel-and-places":"bus",activities:"basketball-ball",objects:"lightbulb",symbols:"code",flags:"flag"},pe=function(e,t,n){var o=[e.displayText,n(e)];return e.annotations&&t.forEach((function(t){var n,r,i=(null===(n=e.annotations[t])||void 0===n?void 0:n.keywords)||[],s=null===(r=e.annotations[t])||void 0===r?void 0:r.name;o.push.apply(o,(0,y.Z)(i.concat([s]).filter((function(e){return e}))))})),o};const me={props:{enableStickerPicker:{required:!1,type:Boolean,default:!1}},data:function(){return{keyword:"",activeGroup:"custom",showingStickers:!1,groupsScrolledClass:"scrolled-top",keepOpen:!1,customEmojiTimeout:null,contentLoaded:!1,groupRefs:{},emojiRefs:{},filteredEmojiGroups:[],width:0}},components:{StickerPicker:(0,o.RC)((function(){return n.e(159).then(n.bind(n,30159))})),Checkbox:te.Z,StillImage:oe.Z,Popover:ne.default},methods:{showPicker:function(){this.$refs.popover.showPopover(),this.onShowing()},hidePicker:function(){this.$refs.popover.hidePopover()},setAnchorEl:function(e){this.$refs.popover.setAnchorEl(e)},setGroupRef:function(e){var t=this;return function(n){t.groupRefs[e]=n}},onPopoverShown:function(){this.$emit("show")},onPopoverClosed:function(){this.$emit("close")},onStickerUploaded:function(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed:function(e){this.$emit("sticker-upload-failed",e)},onEmoji:function(e){var t=e.imageUrl?":".concat(e.displayText,":"):e.replacement;this.keepOpen||this.$refs.popover.hidePopover(),this.$emit("emoji",{insertion:t,keepOpen:this.keepOpen})},onScroll:function(e,t,n,o){var r=this.$refs["emoji-groups"].$el;this.scrolledGroup(r,n,o)},scrolledGroup:function(e,t,n){var o=this,r=e.scrollTop+5;this.$nextTick((function(){o.emojiItems.slice(t,n+1).forEach((function(e){var t=e.id.replace(/^row-\d+-/,""),n=o.groupRefs["group-"+e.id];if(n){var i=n.$el.parentElement;i&&i&&function(e){var t=e.style.transform,n=/translateY\((\d+)px\)/.exec(t);return n?n[1]:0}(i)<=r&&(o.activeGroup=t)}})),o.scrollHeader()}))},scrollHeader:function(){var e=this.groupRefs["group-header-"+this.activeGroup],t=e.offsetLeft,n=t+e.offsetWidth,o=this.$refs.header,r=o.scrollLeft,i=r+o.clientWidth,s=function(e){o.scrollLeft=e};t-7<r?s(t-7):n+7>i&&s(n+7-o.clientWidth)},highlight:function(e){this.setShowStickers(!1);var t=this.emojiItems.findIndex((function(t){return t.id===e}));this.$refs["emoji-groups"].scrollToItem(t)},updateScrolledClass:function(e){e.scrollTop<=5?this.groupsScrolledClass="scrolled-top":e.scrollTop>=e.scrollTopMax-5?this.groupsScrolledClass="scrolled-bottom":this.groupsScrolledClass="scrolled-middle"},toggleStickers:function(){this.showingStickers=!this.showingStickers},setShowStickers:function(e){this.showingStickers=e},filterByKeyword:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(""===t)return e;var r,i=t.toLowerCase(),s=[],a=le(e);try{for(a.s();!(r=a.n()).done;){var c=r.value,l=pe(c,n,o).map((function(e){return e.toLowerCase().indexOf(i)})).filter((function(e){return e>-1})),u=l.length?Math.min.apply(Math,(0,y.Z)(l)):-1;u>-1&&(Array.isArray(s[u])||(s[u]=[]),s[u].push(c))}}catch(e){a.e(e)}finally{a.f()}return s.flat()}(e,t,this.languages,this.maybeLocalizedEmojiName)},onShowing:function(){var e=this,t=this.contentLoaded;this.recalculateItemPerRow(),this.$nextTick((function(){e.$refs.search.focus()})),this.contentLoaded=!0,this.filteredEmojiGroups=this.getFilteredEmojiGroups(),t||this.$nextTick((function(){e.defaultGroup&&e.highlight(e.defaultGroup)}))},getFilteredEmojiGroups:function(){var e=this;return this.allEmojiGroups.map((function(t){return ce(ce({},t),{},{emojis:e.filterByKeyword(t.emojis,Q()(e.keyword))})})).filter((function(e){return e.emojis.length>0}))},recalculateItemPerRow:function(){var e=this;this.$nextTick((function(){e.$refs["emoji-groups"]&&(e.width=e.$refs["emoji-groups"].$el.clientWidth)}))}},watch:{keyword:function(){this.onScroll(),this.debouncedHandleKeywordChange()},allCustomGroups:function(){this.filteredEmojiGroups=this.getFilteredEmojiGroups()}},computed:{minItemSize:function(){return this.emojiHeight},emojiHeight:function(){return 36},emojiWidth:function(){return 36},itemPerRow:function(){return this.width?Math.floor(this.width/this.emojiWidth-1):6},activeGroupView:function(){return this.showingStickers?"":this.activeGroup},stickersAvailable:function(){return this.$store.state.instance.stickers?this.$store.state.instance.stickers.length>0:0},allCustomGroups:function(){var e=this.$store.getters.groupedCustomEmojis;return e.unpacked&&(e.unpacked.text=this.$t("emoji.unpacked")),e},defaultGroup:function(){return Object.keys(this.allCustomGroups)[0]},unicodeEmojiGroups:function(){var e=this;return this.$store.getters.standardEmojiGroupList.map((function(t){return{id:"standard-".concat(t.id),text:e.$t("emoji.unicode_groups.".concat(t.id)),icon:de[t.id],emojis:t.emojis}}))},allEmojiGroups:function(){return Object.entries(this.allCustomGroups).map((function(e){var t=(0,K.Z)(e,2);return t[0],t[1]})).concat(this.unicodeEmojiGroups)},stickerPickerEnabled:function(){return 0!==(this.$store.state.instance.stickers||[]).length},debouncedHandleKeywordChange:function(){var e=this;return ee()((function(){e.filteredEmojiGroups=e.getFilteredEmojiGroups()}),500)},emojiItems:function(){var e=this;return this.filteredEmojiGroups.map((function(t){return Y()(t.emojis,e.itemPerRow).map((function(e,n){return ce(ce({},t),{},{id:0===n?t.id:"row-".concat(n,"-").concat(t.id),emojis:e,isFirstRow:0===n})}))})).reduce((function(e,t){return e.concat(t)}),[])},languages:function(){return(0,re.ensureFinalFallback)(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiName:function(){var e=this;return function(t){if(!t.annotations)return t.displayText;if(t.displayTextI18n)return e.$t(t.displayTextI18n.key,t.displayTextI18n.args);var n,o=le(e.languages);try{for(o.s();!(n=o.n()).done;){var r,i=n.value;if(null!==(r=t.annotations[i])&&void 0!==r&&r.name)return t.annotations[i].name}}catch(e){o.e(e)}finally{o.f()}return t.displayText}}}};var he=n(83744);const fe=(0,he.Z)(me,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("still-image"),u=(0,o.up)("FAIcon"),d=(0,o.up)("DynamicScrollerItem"),p=(0,o.up)("DynamicScroller"),m=(0,o.up)("Checkbox"),h=(0,o.up)("sticker-picker"),f=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(f,{ref:"popover",trigger:"click","popover-class":"emoji-picker popover-default","trigger-attrs":{"aria-hidden":!0},onShow:e.onPopoverShown,onClose:e.onPopoverClosed},{content:(0,o.w5)((function(){return[(0,o._)("div",$,[(0,o._)("span",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filteredEmojiGroups,(function(t){return(0,o.wg)(),(0,o.iD)("span",{ref_for:!0,ref:e.setGroupRef("group-header-"+t.id),key:t.id,class:(0,r.C_)(["emoji-tabs-item",{active:e.activeGroupView===t.id}]),title:t.text,onClick:(0,i.iM)((function(n){return e.highlight(t.id)}),["prevent"])},[t.image?((0,o.wg)(),(0,o.iD)("span",A,[(0,o.Wm)(l,{alt:t.text,src:t.image},null,8,["alt","src"])])):((0,o.wg)(),(0,o.j4)(u,{key:1,icon:t.icon,"fixed-width":""},null,8,["icon"]))],10,M)})),128))],512),e.stickerPickerEnabled?((0,o.wg)(),(0,o.iD)("span",L,[(0,o._)("span",{class:(0,r.C_)(["stickers-tab-icon additional-tabs-item",{active:e.showingStickers}]),title:e.$t("emoji.stickers"),onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.toggleStickers&&e.toggleStickers.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(u,{icon:"sticky-note","fixed-width":""})],10,E)])):(0,o.kq)("",!0)]),e.contentLoaded?((0,o.wg)(),(0,o.iD)("div",F,[(0,o._)("div",{class:(0,r.C_)(["emoji-content",{hidden:e.showingStickers}])},[(0,o._)("div",R,[(0,o.wy)((0,o._)("input",{ref:"search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.keyword=t}),type:"text",class:"form-control",placeholder:e.$t("emoji.search_emoji"),onInput:t[2]||(t[2]=function(e){return e.target.composing=!1})},null,40,q),[[i.nr,e.keyword]])]),(0,o.Wm)(p,{ref:"emoji-groups",class:(0,r.C_)(["emoji-groups",e.groupsScrolledClass]),"min-item-size":e.minItemSize,items:e.emojiItems,"emit-update":!0,onUpdate:e.onScroll,onVisible:e.recalculateItemPerRow,onResize:e.recalculateItemPerRow},{default:(0,o.w5)((function(t){var n=t.item,s=t.index,a=t.active;return[(0,o.Wm)(d,{ref:e.setGroupRef("group-"+n.id),item:n,active:a,"data-index":s,"size-dependencies":[n.emojis.length]},{default:(0,o.w5)((function(){return[(0,o._)("div",N,[n.isFirstRow?((0,o.wg)(),(0,o.iD)("h6",Z,(0,r.zw)(n.text),1)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.emojis,(function(t){return(0,o.wg)(),(0,o.iD)("span",{key:n.id+t.displayText,title:e.maybeLocalizedEmojiName(t),class:"emoji-item",onClick:(0,i.iM)((function(n){return e.onEmoji(t)}),["stop","prevent"])},[t.imageUrl?((0,o.wg)(),(0,o.j4)(l,{key:1,class:"emoji-picker-emoji -custom",loading:"lazy",src:t.imageUrl,"data-emoji-name":n.id+t.displayText},null,8,["src","data-emoji-name"])):((0,o.wg)(),(0,o.iD)("span",B,(0,r.zw)(t.replacement),1))],8,W)})),128))])]})),_:2},1032,["item","active","data-index","size-dependencies"])]})),_:1},8,["class","min-item-size","items","onUpdate","onVisible","onResize"]),(0,o._)("div",H,[(0,o.Wm)(m,{modelValue:e.keepOpen,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.keepOpen=t})},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("emoji.keep_open")),1)]})),_:1},8,["modelValue"])])],2),e.showingStickers?((0,o.wg)(),(0,o.iD)("div",V,[(0,o.Wm)(h,{onUploaded:e.onStickerUploaded,onUploadFailed:e.onStickerUploadFailed},null,8,["onUploaded","onUploadFailed"])])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)]})),_:1},8,["onShow","onClose"])}]]);var ge=["aria-live"];const ve={props:{ariaLive:{type:String,defualt:"assertive"}},data:function(){return{currentText:""}},methods:{announce:function(e){var t=this;this.currentText=e,setTimeout((function(){t.currentText=""}),1e3)}}},we=(0,he.Z)(ve,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",{class:"visible-for-screenreader-only","aria-live":e.ariaLive},(0,r.zw)(e.currentText),9,ge)}]]);var be,ye=n(42262),_e=n(67952),ke=n(5737),Se=["imageUrl"];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ie.vI.add(ke.RKn);const Pe={emits:["update:modelValue","shown"],props:{suggest:{required:!0,type:Function},modelValue:{required:!0,type:String},enableEmojiPicker:{required:!1,type:Boolean,default:!1},hideEmojiButton:{required:!1,type:Boolean,default:!1},enableStickerPicker:{required:!1,type:Boolean,default:!1},placement:{required:!1,type:String,default:"auto"},newlineOnCtrlEnter:{required:!1,type:Boolean,default:!1}},data:function(){return{randomSeed:"".concat(Math.random()).replace(".","-"),input:void 0,caretEl:void 0,highlighted:-1,caret:0,focused:!1,blurTimeout:null,temporarilyHideSuggestions:!1,disableClickOutside:!1,suggestions:[],overlayStyle:{},pickerShown:!1}},components:{Popover:ne.default,EmojiPicker:fe,UnicodeDomainIndicator:ye.Z,ScreenReaderNotice:we},computed:{padEmoji:function(){return this.$store.getters.mergedConfig.padEmoji},preText:function(){return this.modelValue.slice(0,this.caret)},postText:function(){return this.modelValue.slice(this.caret)},showSuggestions:function(){return this.focused&&this.suggestions&&this.suggestions.length>0&&!this.pickerShown&&!this.temporarilyHideSuggestions},textAtCaret:function(){var e;return null===(e=this.wordAtCaret)||void 0===e?void 0:e.word},wordAtCaret:function(){if(this.modelValue&&this.caret)return x(this.modelValue,this.caret-1)||{}},languages:function(){return(0,re.ensureFinalFallback)(this.$store.getters.mergedConfig.interfaceLanguage)},maybeLocalizedEmojiNamesAndKeywords:function(){var e=this;return function(t){var n=[t.displayText],o=[];return t.displayTextI18n&&n.push(e.$t(t.displayTextI18n.key,t.displayTextI18n.args)),t.annotations&&e.languages.forEach((function(e){var r,i;n.push(null===(r=t.annotations[e])||void 0===r?void 0:r.name),o.push.apply(o,(0,y.Z)((null===(i=t.annotations[e])||void 0===i?void 0:i.keywords)||[]))})),{names:n.filter((function(e){return e})),keywords:o.filter((function(e){return e}))}}},maybeLocalizedEmojiName:function(){var e=this;return function(t){if(!t.annotations)return t.displayText;if(t.displayTextI18n)return e.$t(t.displayTextI18n.key,t.displayTextI18n.args);var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e.languages);try{for(o.s();!(n=o.n()).done;){var r,i=n.value;if(null!==(r=t.annotations[i])&&void 0!==r&&r.name)return t.annotations[i].name}}catch(e){o.e(e)}finally{o.f()}return t.displayText}},onInputScroll:function(){this.$refs.hiddenOverlay.scrollTo({top:this.input.scrollTop,left:this.input.scrollLeft})},suggestionListId:function(){return"suggestions-".concat(this.randomSeed)},suggestionItemId:function(){var e=this;return function(t){return"suggestion-item-".concat(t,"-").concat(e.randomSeed)}}},mounted:function(){var e=this.$refs,t=e.root,n=e.hiddenOverlayCaret,o=e.suggestorPopover,r=t.querySelector(".emoji-input > input")||t.querySelector(".emoji-input > textarea");if(r){this.input=r,this.caretEl=n,o.setAnchorEl?(o.setAnchorEl(this.caretEl),this.$refs.picker.setAnchorEl(this.caretEl)):console.warn("setAnchorEl not found, are we in a unit test?");var i=getComputedStyle(this.input);this.overlayStyle.padding=i.padding,this.overlayStyle.border=i.border,this.overlayStyle.margin=i.margin,this.overlayStyle.lineHeight=i.lineHeight,this.overlayStyle.fontFamily=i.fontFamily,this.overlayStyle.fontSize=i.fontSize,this.overlayStyle.wordWrap=i.wordWrap,this.overlayStyle.whiteSpace=i.whiteSpace,this.resize(),r.addEventListener("blur",this.onBlur),r.addEventListener("focus",this.onFocus),r.addEventListener("paste",this.onPaste),r.addEventListener("keyup",this.onKeyUp),r.addEventListener("keydown",this.onKeyDown),r.addEventListener("click",this.onClickInput),r.addEventListener("transitionend",this.onTransition),r.addEventListener("input",this.onInput),r.addEventListener("scroll",this.onInputScroll)}},unmounted:function(){var e=this.input;e&&(e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.removeEventListener("paste",this.onPaste),e.removeEventListener("keyup",this.onKeyUp),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("click",this.onClickInput),e.removeEventListener("transitionend",this.onTransition),e.removeEventListener("input",this.onInput),e.removeEventListener("scroll",this.onInputScroll))},watch:{showSuggestions:function(e,t){this.$emit("shown",e),e?this.$refs.suggestorPopover.showPopover():this.$refs.suggestorPopover.hidePopover()},textAtCaret:(be=(0,b.Z)(j().mark((function e(t){var n,o;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.charAt(0),t!==n){e.next=6;break}return this.suggestions=[],e.abrupt("return");case 6:return e.next=8,this.suggest(t,this.maybeLocalizedEmojiNamesAndKeywords);case 8:if(o=e.sent,!(this.textAtCaret!==t||o.length<=0)){e.next=12;break}return this.suggestions=[],e.abrupt("return");case 12:this.suggestions=k()(o,5).map((function(e){var t=e.imageUrl;return Ce(Ce({},(0,w.Z)(e,Se)),{},{img:t||""})})),this.highlighted=-1,this.$refs.screenReaderNotice.announce(this.$tc("tool_tip.autocomplete_available",this.suggestions.length,{number:this.suggestions.length}));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return be.apply(this,arguments)})},methods:{triggerShowPicker:function(){var e=this;this.$nextTick((function(){e.$refs.picker.showPicker(),e.scrollIntoView()})),this.disableClickOutside=!0,setTimeout((function(){e.disableClickOutside=!1}),0)},togglePicker:function(){this.input.focus(),this.pickerShown?this.$refs.picker.hidePicker():(this.scrollIntoView(),this.$refs.picker.showPicker(),this.$refs.picker.startEmojiLoad())},replace:function(e){var t=T(this.modelValue,this.wordAtCaret,e);this.$emit("update:modelValue",t),this.caret=0},insert:function(e){var t=e.insertion,n=e.keepOpen,o=e.surroundingSpace,r=void 0===o||o,i=this.modelValue.substring(0,this.caret)||"",s=this.modelValue.substring(this.caret)||"",a=/\s/,c=r&&!a.exec(i.slice(-1))&&i.length&&this.padEmoji>0?" ":"",l=r&&!a.exec(s[0])&&this.padEmoji?" ":"",u=[i,c,t,l,s].join("");this.$emit("update:modelValue",u);var d=this.caret+(t+l+c).length;n||this.input.focus(),this.$nextTick((function(){this.input.setSelectionRange(d,d),this.caret=d}))},replaceText:function(e,t){var n=this.suggestions.length||0;if(1!==this.textAtCaret.length&&(n>0||t)){var o=(t||this.suggestions[this.highlighted]).replacement,r=T(this.modelValue,this.wordAtCaret,o);this.$emit("update:modelValue",r),this.highlighted=0;var i=this.wordAtCaret.start+o.length;this.$nextTick((function(){this.input.focus(),this.input.setSelectionRange(i,i),this.caret=i})),e.preventDefault()}},cycleBackward:function(e){var t=this.suggestions.length||0;this.highlighted-=1,-1===this.highlighted?this.input.focus():this.highlighted<-1&&(this.highlighted=t-1),t>0&&e.preventDefault()},cycleForward:function(e){var t=this.suggestions.length||0;this.highlighted+=1,this.highlighted>=t&&(this.highlighted=-1,this.input.focus()),t>0&&e.preventDefault()},scrollIntoView:function(){var e=this,t=this.$refs.picker.$el,n=this.$el.closest(".sidebar-scroller")||this.$el.closest(".post-form-modal-view")||window,o=n===window?n.scrollY:n.scrollTop,r=o+(n===window?n.innerHeight:n.offsetHeight),i=t.offsetHeight+(0,_e.y)(t,n).top,s=o+Math.max(0,i-r);n===window?n.scroll(0,s):n.scrollTop=s,this.$nextTick((function(){var t=e.input.offsetHeight,n=e.$refs.picker;n.$el.getBoundingClientRect().bottom>window.innerHeight&&(n.$el.style.top="auto",n.$el.style.bottom=t+"px")}))},onPickerShown:function(){this.pickerShown=!0},onPickerClosed:function(){this.pickerShown=!1},onBlur:function(e){var t=this;this.blurTimeout=setTimeout((function(){t.focused=!1,t.setCaret(e)}),200)},onClick:function(e,t){this.replaceText(e,t)},onFocus:function(e){this.blurTimeout&&(clearTimeout(this.blurTimeout),this.blurTimeout=null),this.focused=!0,this.setCaret(e),this.temporarilyHideSuggestions=!1},onKeyUp:function(e){var t=e.key;this.setCaret(e),this.temporarilyHideSuggestions="Escape"===t},onPaste:function(e){this.setCaret(e)},onKeyDown:function(e){var t=this,n=e.ctrlKey,o=e.shiftKey,r=e.key;this.newlineOnCtrlEnter&&n&&"Enter"===r&&(this.insert({insertion:"\n",surroundingSpace:!1}),e.stopPropagation(),e.preventDefault(),this.$nextTick((function(){t.input.blur(),t.input.focus()}))),this.temporarilyHideSuggestions||("Tab"===r&&(o?this.cycleBackward(e):this.cycleForward(e)),"ArrowUp"===r?this.cycleBackward(e):"ArrowDown"===r&&this.cycleForward(e),"Enter"===r&&(n||this.replaceText(e))),"Escape"===r&&(this.temporarilyHideSuggestions||this.input.focus())},onInput:function(e){this.setCaret(e),this.$emit("update:modelValue",e.target.value)},onStickerUploaded:function(e){this.$emit("sticker-uploaded",e)},onStickerUploadFailed:function(e){this.$emit("sticker-upload-Failed",e)},setCaret:function(e){var t=this,n=e.target.selectionStart;this.caret=n,this.$nextTick((function(){t.$refs.suggestorPopover.updateStyles()}))},resize:function(){},autoCompleteItemLabel:function(e){return e.user?e.displayText+" "+e.detailText:this.maybeLocalizedEmojiName(e)}}},ze=(0,he.Z)(Pe,[["render",function(e,t,n,v,w,b){var y=(0,o.up)("screen-reader-notice"),_=(0,o.up)("FAIcon"),k=(0,o.up)("EmojiPicker"),S=(0,o.up)("UnicodeDomainIndicator"),j=(0,o.up)("Popover");return(0,o.wg)(),(0,o.iD)("div",{ref:"root",class:(0,r.C_)(["emoji-input",{"with-picker":!e.hideEmojiButton}])},[(0,o.WI)(e.$slots,"default",{id:"textbox-"+e.randomSeed,ariaOwns:e.suggestionListId,ariaAutocomplete:"both",ariaExpanded:e.showSuggestions,ariaActivedescendant:e.showSuggestions&&-1!==e.highlighted?e.suggestionItemId(e.highlighted):""}),(0,o._)("div",{ref:"hiddenOverlay",class:"hidden-overlay",style:(0,r.j5)(e.overlayStyle),"aria-hidden":!0},[(0,o._)("span",null,(0,r.zw)(e.preText),1),(0,o._)("span",s,"x",512),(0,o._)("span",null,(0,r.zw)(e.postText),1)],4),(0,o.Wm)(y,{ref:"screenReaderNotice","aria-live":"assertive"},null,512),e.enableEmojiPicker?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.hideEmojiButton?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled emoji-picker-icon",type:"button",title:e.$t("emoji.add_emoji"),onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.togglePicker&&e.togglePicker.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(_,{icon:["far","smile-beam"]})],8,a)),e.enableEmojiPicker?((0,o.wg)(),(0,o.j4)(k,{key:1,ref:"picker","enable-sticker-picker":e.enableStickerPicker,class:"emoji-picker-panel",onEmoji:e.insert,onStickerUploaded:e.onStickerUploaded,onStickerUploadFailed:e.onStickerUploadFailed,onShow:e.onPickerShown,onClose:e.onPickerClosed},null,8,["enable-sticker-picker","onEmoji","onStickerUploaded","onStickerUploadFailed","onShow","onClose"])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),(0,o.Wm)(j,{ref:"suggestorPopover",class:"autocomplete-panel",placement:"bottom","trigger-attrs":{"aria-hidden":!0}},{content:(0,o.w5)((function(){return[(0,o._)("div",{id:e.suggestionListId,ref:"panel-body",class:"autocomplete-panel-body",role:"listbox"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.suggestions,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{id:e.suggestionItemId(n),key:n,class:(0,r.C_)(["autocomplete-item",{highlighted:n===e.highlighted}]),role:"option","aria-label":e.autoCompleteItemLabel(t),"aria-selected":n===e.highlighted,onClick:(0,i.iM)((function(n){return e.onClick(n,t)}),["stop","prevent"])},[(0,o._)("span",u,[t.img?((0,o.wg)(),(0,o.iD)("img",{key:0,src:t.img},null,8,d)):((0,o.wg)(),(0,o.iD)("span",p,(0,r.zw)(t.replacement),1))]),(0,o._)("div",m,[t.user?((0,o.wg)(),(0,o.iD)("span",h,[(0,o.Uk)((0,r.zw)(t.displayText),1),(0,o.Wm)(S,{user:t.user,at:!1},null,8,["user"])])):(0,o.kq)("",!0),t.user?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",f,(0,r.zw)(e.maybeLocalizedEmojiName(t)),1)),(0,o._)("span",g,(0,r.zw)(t.detailText),1)])],10,l)})),128))],8,c)]})),_:1},512)],2)}]])},72884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o,r=n(66252),i=n(3577),s={class:"Flash"},a={key:0,class:"label"},c={key:1,class:"label"},l={key:2,class:"label"};const u=(o=null,{getRuffle:function(){return new Promise((function(e,t){if(o)e(o);else{window.RufflePlayer={},window.RufflePlayer.config={polyfills:!1,publicPath:"/static/ruffle"};var n=document.createElement("script");n.src="/static/ruffle/ruffle.js",n.type="text/javascript",n.onerror=function(e){t(e)},n.onabort=function(e){t(e)},n.oncancel=function(e){t(e)},n.onload=function(){o=window.RufflePlayer,e(o)},document.body.appendChild(n)}}))}});var d=n(9382),p=n(84131);d.vI.add(p.Bg$,p.eHv);const m={props:["src"],data:function(){return{player:!1,loaded:!1,ruffleInstance:null}},methods:{openPlayer:function(){var e=this;this.player||(this.player="hidden",u.getRuffle().then((function(t){var n=t.newest().createPlayer();n.config={letterbox:"on"},e.$refs.container.appendChild(n),n.style.width="100%",n.style.height="100%",n.load(e.src).then((function(){e.player=!0})).catch((function(t){console.error("Error loading ruffle",t),e.player="error"})),e.ruffleInstance=n,e.$emit("playerOpened")})))},closePlayer:function(){this.ruffleInstance&&this.ruffleInstance.remove(),this.player=!1,this.$emit("playerClosed")}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,o,u,d){var p=(0,r.up)("FAIcon");return(0,r.wg)(),(0,r.iD)("div",s,[!0===e.player||"hidden"===e.player?((0,r.wg)(),(0,r.iD)("div",{key:0,ref:"container",class:(0,i.C_)(["player",{hidden:"hidden"===e.player}])},null,2)):(0,r.kq)("",!0),!0!==e.player?((0,r.wg)(),(0,r.iD)("button",{key:1,class:"button-unstyled placeholder",onClick:t[0]||(t[0]=function(){return e.openPlayer&&e.openPlayer.apply(e,arguments)})},["hidden"===e.player?((0,r.wg)(),(0,r.iD)("span",a,(0,i.zw)(e.$t("general.loading")),1)):(0,r.kq)("",!0),"error"===e.player?((0,r.wg)(),(0,r.iD)("span",c,(0,i.zw)(e.$t("general.flash_fail")),1)):((0,r.wg)(),(0,r.iD)("span",l,[(0,r._)("p",null,(0,i.zw)(e.$t("general.flash_content")),1),(0,r._)("p",null,[(0,r.Wm)(p,{icon:"exclamation-triangle"}),(0,r.Uk)(" "+(0,i.zw)(e.$t("general.flash_security")),1)])]))])):(0,r.kq)("",!0)])}]])},34837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(66252),r=n(3577),i=["disabled","title"],s=["textContent"],a=n(1447),c=n(29439),l=function e(t,n,o){return new Promise((function(e,r){setTimeout((function(){o.state.api.backendInteractor.fetchUserRelationship({id:n}).then((function(e){return o.commit("updateUserRelationship",[e]),e})).then((function(n){return e([n.following,n.requested,n.locked,t])})).catch((function(e){return r(e)}))}),500)})).then((function(t){var r=(0,c.Z)(t,4),i=r[0],s=r[1],a=r[2],l=r[3];i||a&&s||!(l<=3)||e(++l,n,o)}))},u=function(e,t){return new Promise((function(n,o){t.state.api.backendInteractor.followUser({id:e}).then((function(e){if(t.commit("updateUserRelationship",[e]),!(e.following||e.locked&&e.requested))return l(1,e,t).then((function(){n()}));n()}))}))};const d={props:["relationship","user","labelFollowing","buttonClass"],components:{ConfirmModal:a.Z},data:function(){return{inProgress:!1,showingConfirmUnfollow:!1}},computed:{shouldConfirmUnfollow:function(){return this.$store.getters.mergedConfig.modalOnUnfollow},isPressed:function(){return this.inProgress||this.relationship.following},title:function(){return this.inProgress||this.relationship.following?this.$t("user_card.follow_unfollow"):this.relationship.requested?this.$t("user_card.follow_cancel"):this.$t("user_card.follow")},label:function(){return this.inProgress?this.$t("user_card.follow_progress"):this.relationship.following?this.labelFollowing||this.$t("user_card.following"):this.relationship.requested?this.$t("user_card.follow_sent"):this.$t("user_card.follow")},disabled:function(){return this.inProgress||this.user.deactivated}},methods:{showConfirmUnfollow:function(){this.showingConfirmUnfollow=!0},hideConfirmUnfollow:function(){this.showingConfirmUnfollow=!1},onClick:function(){this.relationship.following||this.relationship.requested?this.unfollow():this.follow()},follow:function(){var e=this;this.inProgress=!0,u(this.relationship.id,this.$store).then((function(){e.inProgress=!1}))},unfollow:function(){this.shouldConfirmUnfollow?this.showConfirmUnfollow():this.doUnfollow()},doUnfollow:function(){var e=this,t=this.$store;this.inProgress=!0,function(e,t){return new Promise((function(n,o){t.state.api.backendInteractor.unfollowUser({id:e}).then((function(e){t.commit("updateUserRelationship",[e]),n({updated:e})}))}))}(this.relationship.id,t).then((function(){e.inProgress=!1,t.commit("removeStatus",{timeline:"friends",userId:e.relationship.id})})),this.hideConfirmUnfollow()}}},p=(0,n(83744).Z)(d,[["render",function(e,t,n,a,c,l){var u=(0,o.up)("i18n-t"),d=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("button",{class:(0,r.C_)(["btn button-default follow-button",{toggled:e.isPressed}]),disabled:e.disabled,title:e.title,onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[(0,o.Uk)((0,r.zw)(e.label)+" ",1),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmUnfollow?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("user_card.unfollow_confirm_title"),"confirm-text":e.$t("user_card.unfollow_confirm_accept_button"),"cancel-text":e.$t("user_card.unfollow_confirm_cancel_button"),onAccepted:e.doUnfollow,onCancelled:e.hideConfirmUnfollow},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{keypath:"user_card.unfollow_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,s)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))],10,i)}]])},67671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var o=n(66252),r=n(3577),i={class:"gallery-rows"},s={key:0,class:"many-attachments"},a={class:"many-attachments-text"},c={class:"many-attachments-buttons"},l={key:0,class:"many-attachments-button"},u={key:1,class:"many-attachments-button"},d={key:2,class:"many-attachments-button"},p=n(93433),m=n(36968),h=n.n(m),f=n(73303),g=n.n(f);const v={props:["attachments","compact","limitRows","descriptions","limit","nsfw","setMedia","size","editable","removeAttachment","shiftUpAttachment","shiftDnAttachment","editAttachment","grid"],data:function(){return{sizes:{},hidingLong:!0}},components:{Attachment:n(66596).Z},computed:{rows:function(){var e=this;if(!this.attachments)return[];var t=this.limit>0?this.attachments.slice(0,this.limit):this.attachments;return"hide"===this.size?t.map((function(e){return{minimal:!0,items:[e]}})):this.grid?[{grid:!0,items:t}]:t.reduce((function(t,n,o){if(n.mimetype.includes("audio"))return[].concat((0,p.Z)(t),[{audio:!0,items:[n]},{items:[]}]);if(!(n.mimetype.includes("image")||n.mimetype.includes("video")||n.mimetype.includes("flash")))return[].concat((0,p.Z)(t),[{minimal:!0,items:[n]},{items:[]}]);var r=e.attachments.length-o+1,i=t[t.length-1].items;return i.push(n),i.length>=3&&r>3?[].concat((0,p.Z)(t),[{items:[]}]):t}),[{items:[]}]).filter((function(e){return e.items.length>0}))},attachmentsDimensionalScore:function(){return this.rows.reduce((function(e,t){var n=0;return t.minimal?n+=1/8:t.audio?n+=1/4:n+=1/(t.items.length+.6),e+n}),0)},tooManyAttachments:function(){return!this.editable&&"small"!==this.size&&("hide"===this.size?this.attachments.length>8:this.attachmentsDimensionalScore>1)}},methods:{onNaturalSizeLoad:function(e){var t=e.id,n=e.width,o=e.height;h()(this.sizes,t,{width:n,height:o})},rowStyle:function(e){return e.audio?{"padding-bottom":"25%"}:e.minimal||e.grid?void 0:{"padding-bottom":"".concat(100/(e.items.length+.6),"%")}},itemStyle:function(e,t){var n=this,o=g()(t,(function(e){return n.getAspectRatio(e.id)}));return{flex:"".concat(this.getAspectRatio(e)/o," 1 0%")}},getAspectRatio:function(e){var t=this.sizes[e];return t?t.width/t.height:1},toggleHidingLong:function(e){this.hidingLong=e},openGallery:function(){this.$store.dispatch("setMedia",this.attachments),this.$store.dispatch("setCurrentMedia",this.attachments[0])},onMedia:function(){this.$store.dispatch("setMedia",this.attachments)}}},w=(0,n(83744).Z)(v,[["render",function(e,t,n,p,m,h){var f=(0,o.up)("Attachment");return(0,o.wg)(),(0,o.iD)("div",{ref:"galleryContainer",class:(0,r.C_)(["Gallery",{"-long":e.tooManyAttachments&&e.hidingLong}])},[(0,o._)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.rows,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{key:n,class:(0,r.C_)(["gallery-row",{"-audio":t.audio,"-minimal":t.minimal,"-grid":e.grid}]),style:(0,r.j5)(e.rowStyle(t))},[(0,o._)("div",{class:(0,r.C_)(["gallery-row-inner",{"-grid":e.grid}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.items,(function(i,s){return(0,o.wg)(),(0,o.j4)(f,{key:i.id,class:"gallery-item",compact:e.compact,nsfw:e.nsfw,attachment:i,size:e.size,editable:e.editable,remove:e.removeAttachment,"shift-up":!(0===s&&0===n)&&e.shiftUpAttachment,"shift-dn":!(s===t.items.length-1&&n===e.rows.length-1)&&e.shiftDnAttachment,edit:e.editAttachment,description:e.descriptions&&e.descriptions[i.id],"hide-description":"small"===e.size||e.tooManyAttachments&&e.hidingLong,style:(0,r.j5)(e.itemStyle(i.id,t.items)),onSetMedia:e.onMedia,onNaturalSizeLoad:e.onNaturalSizeLoad},null,8,["compact","nsfw","attachment","size","editable","remove","shift-up","shift-dn","edit","description","hide-description","style","onSetMedia","onNaturalSizeLoad"])})),128))],2)],6)})),128))]),e.tooManyAttachments?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,(0,r.zw)(e.$t("status.many_attachments",{number:e.attachments.length})),1),(0,o._)("div",c,[e.hidingLong?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",l,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=function(t){return e.toggleHidingLong(!0)})},(0,r.zw)(e.$t("status.collapse_attachments")),1)])),e.hidingLong?((0,o.wg)(),(0,o.iD)("span",u,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[1]||(t[1]=function(t){return e.toggleHidingLong(!1)})},(0,r.zw)(e.$t("status.show_all_attachments")),1)])):(0,o.kq)("",!0),e.hidingLong?((0,o.wg)(),(0,o.iD)("span",d,[(0,o._)("button",{class:"button-unstyled -link",onClick:t[2]||(t[2]=function(){return e.openGallery&&e.openGallery.apply(e,arguments)})},(0,r.zw)(e.$t("status.open_gallery")),1)])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)],2)}]])},73414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(66252),r=n(3577),i={class:"interface-language-switcher"},s={class:"setting-list"},a=["value"],c=["onClick"],l=n(93433),u=n(39776);const d={components:{Select:n(76990).Z},props:{promptText:{type:String,required:!0},language:{type:[Array,String],required:!0},setLanguage:{type:Function,required:!0}},computed:{languages:function(){return u.Z.languages},controlledLanguage:{get:function(){return Array.isArray(this.language)?this.language:[this.language]},set:function(e){this.setLanguage(e)}}},methods:{getLanguageName:function(e){return u.Z.getLanguageName(e)},addLanguage:function(){this.controlledLanguage=[].concat((0,l.Z)(this.controlledLanguage),[""])},setLanguageAt:function(e,t){var n=(0,l.Z)(this.controlledLanguage);n[e]=t,this.controlledLanguage=n},removeLanguageAt:function(e){var t=(0,l.Z)(this.controlledLanguage);t.splice(e,1),this.controlledLanguage=t}}},p=(0,n(83744).Z)(d,[["render",function(e,t,n,l,u,d){var p=(0,o.up)("Select");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("label",null,(0,r.zw)(n.promptText),1),(0,o._)("ul",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.controlledLanguage.keys(),(function(t){return(0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("label",null,[(0,o.Uk)((0,r.zw)(0===t?e.$t("settings.primary_language"):e.$tc("settings.fallback_language",t,{index:t}))+" ",1),(0,o.Wm)(p,{class:"language-select","model-value":d.controlledLanguage[t],"onUpdate:modelValue":function(e){return d.setLanguageAt(t,e)}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.languages,(function(e){return(0,o.wg)(),(0,o.iD)("option",{key:e.code,value:e.code},(0,r.zw)(e.name),9,a)})),128))]})),_:2},1032,["model-value","onUpdate:modelValue"])]),d.controlledLanguage.length>1&&0!==t?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-default btn",onClick:function(){return d.removeLanguageAt(t)}},(0,r.zw)(e.$t("settings.remove_language")),9,c)):(0,o.kq)("",!0)])})),128)),(0,o._)("li",null,[(0,o._)("button",{class:"button-default btn",onClick:t[0]||(t[0]=function(){return d.addLanguage&&d.addLanguage.apply(d,arguments)})},(0,r.zw)(e.$t("settings.add_language")),1)])])])}]])},92798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var o=n(66252),r=n(3577),i=["href"],s={key:0,class:"card-image"},a=["src"],c={class:"card-content"},l={class:"card-host faint"},u={key:0,class:"nsfw-alert alert warning"},d={class:"card-title"},p={key:0,class:"card-description"},m=n(4942);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const f={name:"LinkPreview",props:["card","size","nsfw"],data:function(){return{imageLoaded:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({useImage:function(){return this.card.image&&!this.censored&&"hide"!==this.size},censored:function(){return this.nsfw&&this.hideNsfwConfig},useDescription:function(){return this.card.description&&/\S/.test(this.card.description)},hideNsfwConfig:function(){return this.mergedConfig.hideNsfw}},(0,n(989).Se)(["mergedConfig"])),created:function(){var e=this;if(this.useImage){var t=new Image;t.onload=function(){e.imageLoaded=!0},t.src=this.card.image}}},g=(0,n(83744).Z)(f,[["render",function(e,t,n,m,h,f){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("a",{class:"link-preview-card",href:e.card.url,target:"_blank",rel:"noopener"},[e.useImage&&e.imageLoaded?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("img",{src:e.card.image},null,8,a)])):(0,o.kq)("",!0),(0,o._)("div",c,[(0,o._)("span",l,[e.censored?((0,o.wg)(),(0,o.iD)("span",u,(0,r.zw)(e.$t("status.nsfw")),1)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(e.card.provider_name),1)]),(0,o._)("h4",d,(0,r.zw)(e.card.title),1),e.useDescription?((0,o.wg)(),(0,o.iD)("p",p,(0,r.zw)(e.card.description),1)):(0,o.kq)("",!0)])],8,i)])}]])},56773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r={class:"list"},i={key:0,class:"list-empty-content faint"};const s={props:{items:{type:Array,default:function(){return[]}},getKey:{type:Function,default:function(e){return e.id}}}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,s,a,c){return(0,o.wg)(),(0,o.iD)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,(function(t){return(0,o.wg)(),(0,o.iD)("div",{key:n.getKey(t),class:"list-item"},[(0,o.WI)(e.$slots,"item",{item:t})])})),128)),0===n.items.length&&e.$slots.empty?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.WI)(e.$slots,"empty")])):(0,o.kq)("",!0)])}]])},20460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var o=n(66252),r=n(3577),i=n(49963),s={class:"MentionLink"},a=["href","innerHTML"],c=["href"],l={class:"shortName"},u=["innerHTML"],d=["innerHTML"],p={ref:"full",class:"full"},m=["innerHTML"],h=["innerHTML"],f=n(44925),g=n(4942),v=n(4493),w=n(989),b=n(95052),y=n(48173),_=n(42262),k=n(9382),S=n(84131),j=["backgroundColor","backgroundPosition","backgroundImage"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}k.vI.add(S.IBq);const P={name:"MentionLink",components:{UserAvatar:y.default,UnicodeDomainIndicator:_.Z,UserPopover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,22588))}))},props:{url:{required:!0,type:String},content:{required:!0,type:String},userId:{required:!1,type:String},userScreenName:{required:!1,type:String}},data:function(){return{hasSelection:!1}},methods:{onClick:function(){if(!this.shouldShowTooltip){var e=(0,v.Z)(this.userId||this.user.id,this.userScreenName||this.user.screen_name);this.$router.push(e)}},handleSelection:function(){this.hasSelection=document.getSelection().containsNode(this.$refs.full,!0)}},mounted:function(){document.addEventListener("selectionchange",this.handleSelection)},unmounted:function(){document.removeEventListener("selectionchange",this.handleSelection)},computed:O(O({user:function(){return this.url&&this.$store&&this.$store.getters.findUserByUrl(this.url)},isYou:function(){return this.user&&this.user.id===this.currentUser.id},userName:function(){return this.user&&this.userNameFullUi.split("@")[0]},serverName:function(){return this.user&&(this.userNameFullUi.split("@")[1]||this.$store.getters.instanceDomain)},userNameFull:function(){return this.user&&this.user.screen_name},userNameFullUi:function(){return this.user&&this.user.screen_name_ui},highlight:function(){return this.user&&this.mergedConfig.highlight[this.user.screen_name]},highlightType:function(){return this.highlight&&"-"+this.highlight.type},highlightClass:function(){if(this.highlight)return(0,b.M)(this.user)},style:function(){if(this.highlight){var e=(0,b.q)(this.highlight);return e.backgroundColor,e.backgroundPosition,e.backgroundImage,(0,f.Z)(e,j)}},classnames:function(){return[{"-you":this.isYou&&this.shouldBoldenYou,"-highlighted":this.highlight,"-has-selection":this.hasSelection},this.highlightType]},useAtIcon:function(){return this.mergedConfig.useAtIcon},isRemote:function(){return this.userName!==this.userNameFull},shouldShowFullUserName:function(){var e=this.mergedConfig.mentionLinkDisplay;return"short"!==e&&("full"===e||this.isRemote)},shouldShowTooltip:function(){return this.mergedConfig.mentionLinkShowTooltip},shouldShowAvatar:function(){return this.mergedConfig.mentionLinkShowAvatar},shouldShowYous:function(){return this.mergedConfig.mentionLinkShowYous},shouldBoldenYou:function(){return this.mergedConfig.mentionLinkBoldenYou},shouldFadeDomain:function(){return this.mergedConfig.mentionLinkFadeDomain}},(0,w.Se)(["mergedConfig"])),(0,w.rn)({currentUser:function(e){return e.users.currentUser}}))},z=(0,n(83744).Z)(P,[["render",function(e,t,n,f,g,v){var w=(0,o.up)("UserAvatar"),b=(0,o.up)("FAIcon"),y=(0,o.up)("UnicodeDomainIndicator"),_=(0,o.up)("UserPopover");return(0,o.wg)(),(0,o.iD)("span",s,[e.user?((0,o.wg)(),(0,o.j4)(_,{key:1,"user-id":e.user.id,disabled:!e.shouldShowTooltip},{default:(0,o.w5)((function(){return[e.user?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,r.C_)(["new",e.classnames]),style:(0,r.j5)(e.style)},[(0,o._)("a",{class:(0,r.C_)(["short button-unstyled",{"-with-tooltip":e.shouldShowTooltip}]),href:e.url,onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.onClick&&e.onClick.apply(e,arguments)}),["prevent"]))},[e.shouldShowAvatar?((0,o.wg)(),(0,o.j4)(w,{key:0,class:"mention-avatar",user:e.user},null,8,["user"])):(0,o.kq)("",!0),(0,o._)("span",l,[e.useAtIcon?((0,o.wg)(),(0,o.j4)(b,{key:0,size:"sm",icon:"at",class:"at"})):(0,o.kq)("",!0),(0,o.Uk)((0,r.zw)(e.useAtIcon?"":"@"),1),(0,o._)("span",{class:"userName",innerHTML:e.userName},null,8,u),e.shouldShowFullUserName?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,r.C_)(["serverName",{"-faded":e.shouldFadeDomain}]),innerHTML:"@"+e.serverName},null,10,d)):(0,o.kq)("",!0),e.shouldShowFullUserName?((0,o.wg)(),(0,o.j4)(y,{key:2,user:e.user},null,8,["user"])):(0,o.kq)("",!0)]),e.isYou&&e.shouldShowYous?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,r.C_)({"-you":e.shouldBoldenYou})},(0,r.zw)(" "+e.$t("status.you")),3)):(0,o.kq)("",!0)],10,c),(0,o._)("span",p,[(0,o.Uk)(" @"),(0,o._)("span",{innerHTML:e.userName},null,8,m),(0,o._)("span",{innerHTML:"@"+e.serverName},null,8,h)],512)],6)):(0,o.kq)("",!0)]})),_:1},8,["user-id","disabled"])):((0,o.wg)(),(0,o.iD)("a",{key:0,href:e.url,class:"original",target:"_blank",innerHTML:e.content},null,8,a))])}]])},21268:(e,t,n)=>{"use strict";n.d(t,{d:()=>p,Z:()=>h});var o=n(66252),r=n(3577),i={class:"MentionsLine"},s={key:0,class:"extraMentions"},a={key:0,class:"fullExtraMentions"},c=n(4942),l=n(20460),u=n(989);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var p=5;const m={name:"MentionsLine",props:{mentions:{required:!0,type:Array}},data:function(){return{expanded:!1}},components:{MentionLink:l.Z},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mentionsComputed:function(){return this.mentions.slice(0,p)},extraMentions:function(){return this.mentions.slice(p)},manyMentions:function(){return this.extraMentions.length>0}},(0,u.Se)(["mergedConfig"])),methods:{toggleShowMore:function(){this.expanded=!this.expanded}}},h=(0,n(83744).Z)(m,[["render",function(e,t,n,c,l,u){var d=(0,o.up)("MentionLink");return(0,o.wg)(),(0,o.iD)("span",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.mentionsComputed,(function(e){return(0,o.wg)(),(0,o.j4)(d,{key:e.index,class:"mention-link",content:e.content,url:e.url},null,8,["content","url"])})),128)),e.manyMentions?((0,o.wg)(),(0,o.iD)("span",s,[e.expanded?((0,o.wg)(),(0,o.iD)("span",a,[(0,o.Uk)((0,r.zw)(" ")),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.extraMentions,(function(e){return(0,o.wg)(),(0,o.j4)(d,{key:e.index,class:"mention-link",content:e.content,url:e.url},null,8,["content","url"])})),128))])):(0,o.kq)("",!0),e.expanded?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled showMoreLess",onClick:t[0]||(t[0]=function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)})},(0,r.zw)(e.$t("status.plus_more",{number:e.extraMentions.length})),1)),e.expanded?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled showMoreLess",onClick:t[1]||(t[1]=function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)})},(0,r.zw)(e.$t("general.show_less")),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}]])},48328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(3577),i=n(49963);const s={provide:{popoversZLayer:"modals"},props:{isOpen:{type:Boolean,default:!0},noBackground:{type:Boolean,default:!1}},computed:{classes:function(){return{"modal-background":!this.noBackground,open:this.isOpen}}}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,s,a,c){var l=(0,o.Q2)("body-scroll-lock");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["modal-view",c.classes]),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.$emit("backdropClicked")}),["self"]))},[(0,o.WI)(e.$slots,"default")],2)),[[i.F8,n.isOpen],[l,n.isOpen&&!n.noBackground]])}]])},50332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ae});var o=n(66252),r=n(3577),i=n(49963),s={key:0,class:"notifications-heading panel-heading -sticky"},a={class:"title"},c={key:0,class:"badge badge-notification unseen-count"},l={key:0,class:"rightside-button"},u=["title"],d={class:"panel-body",role:"feed"},p=(0,o._)("div",{class:"notification-overlay"},null,-1),m={class:"panel-footer"},h={key:0,class:"new-status-notification text-center faint"},f={class:"new-status-notification text-center"},g={key:2,class:"new-status-notification text-center"},v=n(4942),w=n(989),b={key:0},y={key:1},_={key:0,class:"Notification container -muted"},k=["href"],S={class:"notification-right"},j={class:"notification-details"},C={class:"name-and-action"},O={key:0},P=["title"],z={key:2},D={key:3},I={key:4},x={key:5},T={key:6},$={key:7},U={class:"emoji-reaction-emoji"},M={key:8},A={key:9},L={key:0,class:"timeago"},E=["title","aria-expanded"],F={key:1,class:"timeago"},R={class:"faint"},q=["title","aria-expanded"],N={key:0,class:"follow-text"},Z={key:0,style:{"white-space":"nowrap"}},W=["title"],B=["title"],H={key:1,class:"move-text"},V=n(38146),K=n(75245),G=n(48173),Y=n(20392),J=n(1840),Q={class:"Report"},X={class:"reported-user"},ee={class:"reporter"},te={class:"report-state"},ne=["value"],oe={key:0},re={class:"reported-status-heading"},ie={class:"reported-status-name"},se={key:1},ae=n(76990),ce=n(4493);const le={props:["reportId"],components:{Select:ae.Z,StatusContent:V.Z,Timeago:J.Z},computed:{report:function(){return this.$store.state.reports.reports[this.reportId]||{}},state:{get:function(){return this.report.state},set:function(e){this.setReportState(e)}}},methods:{generateUserProfileLink:function(e){return(0,ce.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},setReportState:function(e){return this.$store.dispatch("setReportState",{id:this.report.id,state:e})}}};var ue=n(83744);const de=(0,ue.Z)(le,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("router-link"),l=(0,o.up)("Select"),u=(0,o.up)("RichContent"),d=(0,o.up)("Timeago"),p=(0,o.up)("status-content");return(0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("div",X,[(0,o._)("span",null,(0,r.zw)(e.$t("report.reported_user")),1),(0,o.Wm)(c,{to:e.generateUserProfileLink(e.report.acct)},{default:(0,o.w5)((function(){return[(0,o.Uk)(" @"+(0,r.zw)(e.report.acct.screen_name),1)]})),_:1},8,["to"])]),(0,o._)("div",ee,[(0,o._)("span",null,(0,r.zw)(e.$t("report.reporter")),1),(0,o.Wm)(c,{to:e.generateUserProfileLink(e.report.actor)},{default:(0,o.w5)((function(){return[(0,o.Uk)(" @"+(0,r.zw)(e.report.actor.screen_name),1)]})),_:1},8,["to"])]),(0,o._)("div",te,[(0,o._)("span",null,(0,r.zw)(e.$t("report.state")),1),(0,o.Wm)(l,{id:e.report-e.state,modelValue:e.state,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.state=t}),class:"form-control"},{default:(0,o.w5)((function(){return[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["open","closed","resolved"],(function(t){return(0,o._)("option",{key:t,value:t},(0,r.zw)(e.$t("report.state_"+t)),9,ne)})),64))]})),_:1},8,["id","modelValue"])]),(0,o.Wm)(u,{class:"report-content",html:e.report.content,emoji:[]},null,8,["html"]),e.report.statuses.length?((0,o.wg)(),(0,o.iD)("div",oe,[(0,o._)("small",null,(0,r.zw)(e.$t("report.reported_statuses")),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.report.statuses,(function(e){return(0,o.wg)(),(0,o.j4)(c,{key:e.id,to:{name:"conversation",params:{id:e.id}},class:"reported-status"},{default:(0,o.w5)((function(){return[(0,o._)("div",re,[(0,o._)("span",ie,(0,r.zw)(e.user.name),1),(0,o.Wm)(d,{time:e.created_at,"auto-update":240,class:"faint"},null,8,["time"])]),(0,o.Wm)(p,{status:e},null,8,["status"])]})),_:2},1032,["to"])})),128))])):(0,o.kq)("",!0),e.report.notes.length?((0,o.wg)(),(0,o.iD)("div",se,[(0,o._)("small",null,(0,r.zw)(e.$t("report.notes")),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.report.notes,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"note"},[(0,o._)("span",null,(0,r.zw)(e.content),1),(0,o.Wm)(d,{time:e.created_at,"auto-update":240,class:"faint"},null,8,["time"])])})),128))])):(0,o.kq)("",!0)])}]]);var pe=n(12061),me=n(92820),he=n(22588),fe=n(1447),ge=n(52230),ve=n(95052),we=n(9382),be=n(84131);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}we.vI.add(be.LEp,be.NBC,be.Tab,be.x5v,be.FKd,be.ILF,be.Aq,be.gmr,be.TTL,be.V9$);var _e={data:function(){return{statusExpanded:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter,unmuted:!1,showingApproveConfirmDialog:!1,showingDenyConfirmDialog:!1}},props:["notification"],components:{StatusContent:V.Z,UserAvatar:G.default,UserCard:Y.Z,Timeago:J.Z,Status:K.default,Report:de,RichContent:me.Z,UserPopover:he.default,UserLink:pe.Z,ConfirmModal:fe.Z},methods:{toggleStatusExpanded:function(){this.statusExpanded=!this.statusExpanded},generateUserProfileLink:function(e){return(0,ce.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},getUser:function(e){return this.$store.state.users.usersObject[e.from_profile.id]},toggleMute:function(){this.unmuted=!this.unmuted},showApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!0},hideApproveConfirmDialog:function(){this.showingApproveConfirmDialog=!1},showDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!0},hideDenyConfirmDialog:function(){this.showingDenyConfirmDialog=!1},approveUser:function(){this.shouldConfirmApprove?this.showApproveConfirmDialog():this.doApprove()},doApprove:function(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user),this.$store.dispatch("markSingleNotificationAsSeen",{id:this.notification.id}),this.$store.dispatch("updateNotification",{id:this.notification.id,updater:function(e){e.type="follow"}}),this.hideApproveConfirmDialog()},denyUser:function(){this.shouldConfirmDeny?this.showDenyConfirmDialog():this.doDeny()},doDeny:function(){var e=this;this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){e.$store.dispatch("dismissNotificationLocal",{id:e.notification.id}),e.$store.dispatch("removeFollowRequest",e.user)})),this.hideDenyConfirmDialog()}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userClass:function(){return(0,ve.M)(this.notification.from_profile)},userStyle:function(){var e=this.$store.getters.mergedConfig.highlight,t=this.notification.from_profile;return(0,ve.q)(e[t.screen_name])},user:function(){return this.$store.getters.findUser(this.notification.from_profile.id)},userProfileLink:function(){return this.generateUserProfileLink(this.user)},targetUser:function(){return this.$store.getters.findUser(this.notification.target.id)},targetUserProfileLink:function(){return this.generateUserProfileLink(this.targetUser)},needMute:function(){return this.$store.getters.relationship(this.user.id).muting},isStatusNotification:function(){return(0,ge.Gr)(this.notification.type)},mergedConfig:function(){return this.$store.getters.mergedConfig},shouldConfirmApprove:function(){return this.mergedConfig.modalOnApproveFollow},shouldConfirmDeny:function(){return this.mergedConfig.modalOnDenyFollow}},(0,w.rn)({currentUser:function(e){return e.users.currentUser}}))};const ke=_e,Se=(0,ue.Z)(ke,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("Status"),u=(0,o.up)("user-link"),d=(0,o.up)("FAIcon"),p=(0,o.up)("UserAvatar"),m=(0,o.up)("UserPopover"),h=(0,o.up)("RichContent"),f=(0,o.up)("i18n-t"),g=(0,o.up)("Timeago"),v=(0,o.up)("router-link"),w=(0,o.up)("Report"),V=(0,o.up)("StatusContent"),K=(0,o.up)("confirm-modal");return"mention"===e.notification.type?((0,o.wg)(),(0,o.iD)("article",b,[(0,o.Wm)(l,{class:"Notification",compact:!0,statusoid:e.notification.status},null,8,["statusoid"])])):((0,o.wg)(),(0,o.iD)("article",y,[e.needMute&&!e.unmuted?((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("small",null,[(0,o.Wm)(u,{user:e.notification.from_profile,at:!1},null,8,["user"])]),(0,o._)("button",{class:"button-unstyled unmute",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(d,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})])])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["Notification non-mention",[e.userClass,{highlighted:e.userStyle},"-type--"+e.notification.type]]),style:(0,r.j5)([e.userStyle])},[(0,o._)("a",{class:"avatar-container",href:e.$router.resolve(e.userProfileLink).href,onClick:t[1]||(t[1]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)(m,{"user-id":e.notification.from_profile.id,"overlay-centers":!0},{default:(0,o.w5)((function(){return[(0,o.Wm)(p,{class:"post-avatar",bot:e.botIndicator,compact:!0,"better-shadow":e.betterShadow,user:e.notification.from_profile},null,8,["bot","better-shadow","user"])]})),_:1},8,["user-id"])],8,k),(0,o._)("div",S,[(0,o._)("span",j,[(0,o._)("div",C,[e.notification.from_profile.name_html?((0,o.wg)(),(0,o.iD)("bdi",O,[(0,o.Wm)(h,{class:"username",title:"@"+e.notification.from_profile.screen_name_ui,html:e.notification.from_profile.name_html,emoji:e.notification.from_profile.emoji},null,8,["title","html","emoji"])])):((0,o.wg)(),(0,o.iD)("span",{key:1,class:"username",title:"@"+e.notification.from_profile.screen_name_ui},(0,r.zw)(e.notification.from_profile.name),9,P)),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),"like"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",z,[(0,o.Wm)(d,{class:"type-icon",icon:"star"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.favorited_you")),1)])):(0,o.kq)("",!0),"repeat"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",D,[(0,o.Wm)(d,{class:"type-icon",icon:"retweet",title:e.$t("tool_tip.repeat")},null,8,["title"]),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.repeated_you")),1)])):(0,o.kq)("",!0),"follow"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",I,[(0,o.Wm)(d,{class:"type-icon",icon:"user-plus"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.followed_you")),1)])):(0,o.kq)("",!0),"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",x,[(0,o.Wm)(d,{class:"type-icon",icon:"user"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.follow_request")),1)])):(0,o.kq)("",!0),"move"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",T,[(0,o.Wm)(d,{class:"type-icon",icon:"suitcase-rolling"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.migrated_to")),1)])):(0,o.kq)("",!0),"pleroma:emoji_reaction"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",$,[(0,o._)("small",null,[(0,o.Wm)(f,{scope:"global",keypath:"notifications.reacted_with"},{default:(0,o.w5)((function(){return[(0,o._)("span",U,(0,r.zw)(e.notification.emoji),1)]})),_:1})])])):(0,o.kq)("",!0),"pleroma:report"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",M,[(0,o._)("small",null,(0,r.zw)(e.$t("notifications.submitted_report")),1)])):(0,o.kq)("",!0),"poll"===e.notification.type?((0,o.wg)(),(0,o.iD)("span",A,[(0,o.Wm)(d,{class:"type-icon",icon:"poll-h"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("small",null,(0,r.zw)(e.$t("notifications.poll_ended")),1)])):(0,o.kq)("",!0)]),e.isStatusNotification?((0,o.wg)(),(0,o.iD)("div",L,[e.notification.status?((0,o.wg)(),(0,o.j4)(v,{key:0,to:{name:"conversation",params:{id:e.notification.status.id}},class:"timeago-link faint-link"},{default:(0,o.w5)((function(){return[(0,o.Wm)(g,{time:e.notification.created_at,"auto-update":240},null,8,["time"])]})),_:1},8,["to"])):(0,o.kq)("",!0),(0,o._)("button",{class:"button-unstyled expand-icon",onClick:t[2]||(t[2]=(0,i.iM)((function(){return e.toggleStatusExpanded&&e.toggleStatusExpanded.apply(e,arguments)}),["prevent"])),title:e.$t("tool_tip.toggle_expand"),"aria-expanded":e.statusExpanded},[(0,o.Wm)(d,{class:"fa-scale-110","fixed-width":"",icon:e.statusExpanded?"compress-alt":"expand-alt"},null,8,["icon"])],8,E)])):((0,o.wg)(),(0,o.iD)("div",F,[(0,o._)("span",R,[(0,o.Wm)(g,{time:e.notification.created_at,"auto-update":240},null,8,["time"])])])),e.needMute?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled",title:e.$t("tool_tip.toggle_mute"),"aria-expanded":!e.unmuted,onClick:t[3]||(t[3]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(d,{class:"fa-scale-110 fa-old-padding",icon:"eye-slash"})],8,q)):(0,o.kq)("",!0)]),"follow"===e.notification.type||"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",N,[(0,o.Wm)(u,{class:"follow-name",user:e.notification.from_profile},null,8,["user"]),"follow_request"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("button",{class:"button-unstyled",title:e.$t("tool_tip.accept_follow_request"),onClick:t[4]||(t[4]=function(t){return e.approveUser()})},[(0,o.Wm)(d,{icon:"check",class:"fa-scale-110 fa-old-padding follow-request-accept"})],8,W),(0,o._)("button",{class:"button-unstyled",title:e.$t("tool_tip.reject_follow_request"),onClick:t[5]||(t[5]=function(t){return e.denyUser()})},[(0,o.Wm)(d,{icon:"times",class:"fa-scale-110 fa-old-padding follow-request-reject"})],8,B)])):(0,o.kq)("",!0)])):"move"===e.notification.type?((0,o.wg)(),(0,o.iD)("div",H,[(0,o.Wm)(u,{user:e.notification.target},null,8,["user"])])):"pleroma:report"===e.notification.type?((0,o.wg)(),(0,o.j4)(w,{key:2,"report-id":e.notification.report.id},null,8,["report-id"])):((0,o.wg)(),(0,o.j4)(V,{key:3,class:(0,r.C_)({faint:!e.statusExpanded}),compact:!e.statusExpanded,status:e.notification.action},null,8,["class","compact","status"]))])],6)),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingApproveConfirmDialog?((0,o.wg)(),(0,o.j4)(K,{key:0,title:e.$t("user_card.approve_confirm_title"),"confirm-text":e.$t("user_card.approve_confirm_accept_button"),"cancel-text":e.$t("user_card.approve_confirm_cancel_button"),onAccepted:e.doApprove,onCancelled:e.hideApproveConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.approve_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0),e.showingDenyConfirmDialog?((0,o.wg)(),(0,o.j4)(K,{key:1,title:e.$t("user_card.deny_confirm_title"),"confirm-text":e.$t("user_card.deny_confirm_accept_button"),"cancel-text":e.$t("user_card.deny_confirm_cancel_button"),onAccepted:e.doDeny,onCancelled:e.hideDenyConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.deny_confirm",{user:e.user.screen_name_ui})),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))]))}]]);var je={class:"dropdown-menu"},Ce={class:"filter-trigger-button button-unstyled"},Oe=n(91447);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}we.vI.add(be.G_j);const De={components:{Popover:Oe.default},computed:{filters:function(){return this.$store.getters.mergedConfig.notificationVisibility}},methods:{toggleNotificationFilter:function(e){this.$store.dispatch("setOption",{name:"notificationVisibility",value:ze(ze({},this.filters),{},(0,v.Z)({},e,!this.filters[e]))})}}},Ie=(0,ue.Z)(De,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("FAIcon"),l=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(l,{trigger:"click",class:"NotificationFilters",placement:"bottom","bound-to":{x:"container"}},{content:(0,o.w5)((function(){return[(0,o._)("div",je,[(0,o._)("button",{class:"button-default dropdown-item",onClick:t[0]||(t[0]=function(e){return a.toggleNotificationFilter("likes")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.likes}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_likes")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[1]||(t[1]=function(e){return a.toggleNotificationFilter("repeats")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.repeats}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_repeats")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[2]||(t[2]=function(e){return a.toggleNotificationFilter("follows")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.follows}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_follows")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[3]||(t[3]=function(e){return a.toggleNotificationFilter("mentions")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.mentions}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_mentions")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[4]||(t[4]=function(e){return a.toggleNotificationFilter("emojiReactions")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.emojiReactions}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_emoji_reactions")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[5]||(t[5]=function(e){return a.toggleNotificationFilter("moves")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.moves}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_moves")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[6]||(t[6]=function(e){return a.toggleNotificationFilter("polls")})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":a.filters.polls}])},null,2),(0,o.Uk)((0,r.zw)(e.$t("settings.notification_visibility_polls")),1)])])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",Ce,[(0,o.Wm)(c,{icon:"filter"})])]})),_:1})}]]);var xe=n(15568),Te=n(49753);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}we.vI.add(be.IJ7,be.FPD,be.Kl4);const Ue={components:{Notification:Se,NotificationFilters:Ie},props:{minimalMode:Boolean,filterMode:Array,disableTeleport:Boolean},data:function(){return{showScrollTop:!1,bottomedOut:!1,seenToDisplayCount:30}},provide:function(){var e=this;return{popoversZLayer:(0,o.Fl)((function(){return e.popoversZLayer}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mainClass:function(){return this.minimalMode?"":"panel panel-default"},notifications:function(){return(0,ge.Bt)(this.$store)},error:function(){return this.$store.state.statuses.notifications.error},unseenNotifications:function(){return(0,ge.Km)(this.$store)},filteredNotifications:function(){return(0,ge.G2)(this.$store,this.filterMode)},unseenCount:function(){return this.unseenNotifications.length},unseenCountTitle:function(){return this.unseenCount+this.unreadChatCount+this.unreadAnnouncementCount},loading:function(){return this.$store.state.statuses.notifications.loading},noHeading:function(){var e=this.$store.state.interface.layoutType;return this.minimalMode||"mobile"===e},teleportTarget:function(){return{wide:"#notifs-column",mobile:"#mobile-notifications"}[this.$store.state.interface.layoutType]||"#notifs-sidebar"},popoversZLayer:function(){return"mobile"===this.$store.state.interface.layoutType?"navbar":null},notificationsToDisplay:function(){return this.filteredNotifications.slice(0,this.unseenCount+this.seenToDisplayCount)},noSticky:function(){return this.$store.getters.mergedConfig.disableStickyHeaders}},(0,w.Se)(["unreadChatCount","unreadAnnouncementCount"])),mounted:function(){this.scrollerRef=this.$refs.root.closest(".column.-scrollable"),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".mobile-notifications")),this.scrollerRef||(this.scrollerRef=this.$refs.root.closest(".column.main")),this.scrollerRef.addEventListener("scroll",this.updateScrollPosition)},unmounted:function(){this.scrollerRef&&this.scrollerRef.removeEventListener("scroll",this.updateScrollPosition)},watch:{unseenCountTitle:function(e){e>0?(Te.Z.drawFaviconBadge(),this.$store.dispatch("setPageTitle","(".concat(e,")"))):(Te.Z.clearFaviconBadge(),this.$store.dispatch("setPageTitle",""))},teleportTarget:function(){var e=this;this.$nextTick((function(){e.scrollerRef.removeEventListener("scroll",e.updateScrollPosition),e.scrollerRef=e.$refs.root.closest(".column.-scrollable"),e.scrollerRef||(e.scrollerRef=e.$refs.root.closest(".mobile-notifications")),e.scrollerRef.addEventListener("scroll",e.updateScrollPosition),e.updateScrollPosition()}))}},methods:{scrollToTop:function(){this.scrollerRef.scrollTo({top:this.$refs.root.offsetTop})},updateScrollPosition:function(){this.showScrollTop=this.$refs.root.offsetTop<this.scrollerRef.scrollTop},markAsSeen:function(){this.$store.dispatch("markNotificationsAsSeen"),this.seenToDisplayCount=30},fetchOlderNotifications:function(){var e=this;if(!this.loading){var t=this.filteredNotifications.length-this.unseenCount;if(this.seenToDisplayCount<t)this.seenToDisplayCount=Math.min(this.seenToDisplayCount+20,t);else{this.seenToDisplayCount>t&&(this.seenToDisplayCount=t);var n=this.$store,o=n.state.users.currentUser.credentials;n.commit("setNotificationsLoading",{value:!0}),xe.Z.fetchAndUpdate({store:n,credentials:o,older:!0}).then((function(t){n.commit("setNotificationsLoading",{value:!1}),0===t.length&&(e.bottomedOut=!0),e.seenToDisplayCount+=t.length}))}}}}},Me=(0,ue.Z)(Ue,[["render",function(e,t,n,v,w,b){var y=(0,o.up)("FAIcon"),_=(0,o.up)("FALayers"),k=(0,o.up)("NotificationFilters"),S=(0,o.up)("notification");return(0,o.wg)(),(0,o.j4)(o.lR,{disabled:e.minimalMode||e.disableTeleport,to:e.teleportTarget},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.noHeading?"div":"aside"),{ref:"root",class:(0,r.C_)([{minimal:e.minimalMode},"Notifications"])},{default:(0,o.w5)((function(){return[(0,o._)("div",{class:(0,r.C_)(e.mainClass)},[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[(0,o.Uk)((0,r.zw)(e.$t("notifications.notifications"))+" ",1),e.unseenCount?((0,o.wg)(),(0,o.iD)("span",c,(0,r.zw)(e.unseenCount),1)):(0,o.kq)("",!0)]),e.showScrollTop?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("button",{class:"button-unstyled scroll-to-top-button",type:"button",title:e.$t("general.scroll_to_top"),onClick:t[0]||(t[0]=function(){return e.scrollToTop&&e.scrollToTop.apply(e,arguments)})},[(0,o.Wm)(_,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(y,{icon:"arrow-up"}),(0,o.Wm)(y,{icon:"minus",transform:"up-7"})]})),_:1})],8,u)])):(0,o.kq)("",!0),e.unseenCount?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default read-button",type:"button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.markAsSeen&&e.markAsSeen.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("notifications.read")),1)):(0,o.kq)("",!0),(0,o.Wm)(k,{class:"rightside-button"})])),(0,o._)("div",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.notificationsToDisplay,(function(t){return(0,o.wg)(),(0,o.iD)("div",{key:t.id,role:"listitem",class:(0,r.C_)(["notification",{unseen:!e.minimalMode&&!t.seen}])},[p,(0,o.Wm)(S,{notification:t},null,8,["notification"])],2)})),128))]),(0,o._)("div",m,[e.bottomedOut?((0,o.wg)(),(0,o.iD)("div",h,(0,r.zw)(e.$t("notifications.no_more_notifications")),1)):e.loading?((0,o.wg)(),(0,o.iD)("div",g,[(0,o.Wm)(y,{icon:"circle-notch",spin:"",size:"lg"})])):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled -link -fullwidth",onClick:t[2]||(t[2]=(0,i.iM)((function(t){return e.fetchOlderNotifications()}),["prevent"]))},[(0,o._)("div",f,(0,r.zw)(e.minimalMode?e.$t("interactions.load_older"):e.$t("notifications.load_older")),1)]))])],2)]})),_:1},8,["class"]))],8,["disabled","to"])}]]),Ae=Me},29187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(66252),r=n(3577),i={class:"panel-loading"},s={class:"loading-text"},a=n(9382),c=n(84131);a.vI.add(c.IJ7);const l={},u=(0,n(83744).Z)(l,[["render",function(e,t,n,a,c,l){var u=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("span",s,[(0,o.Wm)(u,{icon:"circle-notch",spin:"",size:"3x"}),(0,o.Uk)(" "+(0,r.zw)(e.$t("general.loading")),1)])])}]])},91447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(66252),r=n(49963),i=n(3577);const s={name:"Popover",props:{trigger:String,placement:String,boundTo:Object,boundToSelector:String,margin:Object,offset:Object,popoverClass:String,removePadding:Boolean,disabled:Boolean,overlayCenters:Boolean,overlayCentersSelector:String,stayOnClick:Boolean,triggerAttrs:{type:Object,default:{}}},inject:["popoversZLayer"],data:function(){return{anchorEl:null,teleport:!1,lockReEntry:!1,hidden:!0,styles:{},oldSize:{width:0,height:0},scrollable:null,graceTimeout:null,parentPopover:null,disableClickOutside:!1,childrenShown:new Set}},methods:{setAnchorEl:function(e){this.anchorEl=e,this.updateStyles()},containerBoundingClientRect:function(){return(this.boundToSelector?this.$el.closest(this.boundToSelector):this.$el.offsetParent).getBoundingClientRect()},updateStyles:function(){if(this.hidden)this.styles={};else{var e=this.anchorEl||this.$refs.trigger&&this.$refs.trigger.children[0]||this.$el,t=e.offsetHeight||e.clientHeight,n=e.offsetWidth||e.clientWidth,o=e.getBoundingClientRect(),r=getComputedStyle(e),i=parseFloat(r.paddingTop),s=parseFloat(r.paddingBottom),a=parseFloat(r.paddingRight),c=parseFloat(r.paddingLeft),l=o.left+.5*n,u=o.top+.5*t,d=this.$refs.content,p=this.overlayCenters?this.$refs.content.querySelector(this.overlayCentersSelector):null,m=this.boundTo&&("container"===this.boundTo.x||"container"===this.boundTo.y)&&this.containerBoundingClientRect(),h=this.margin||{},f=this.boundTo&&"container"===this.boundTo.x?{min:m.left+(h.left||0),max:m.right-(h.right||0)}:{min:0+(h.left||10),max:window.innerWidth-(h.right||10)},g=this.boundTo&&"container"===this.boundTo.y?{min:m.top+(h.top||0),max:m.bottom-(h.bottom||0)}:{min:0+(h.top||50),max:window.innerHeight-(h.bottom||5)},v=0,w=0;if(p){var b=d.getBoundingClientRect(),y=p.getBoundingClientRect(),_=y.left-b.left,k=y.top-b.top;v=-_-.5*p.offsetWidth,w=-k-.5*p.offsetHeight}else v=-.5*d.offsetWidth,w=-.5*d.offsetHeight;var S=l+v,j=S+d.offsetWidth,C=u+w,O=C+d.offsetHeight;S<f.min&&(v+=f.min-S),j>f.max&&(v-=j-f.max),C<g.min&&(w+=g.min-C),O>g.max&&(w-=O-g.max);var P=0,z=0;if(p)P=l+v,z=u+w;else if("right"!==this.placement&&"left"!==this.placement){var D="bottom"!==this.placement,I=u-.5*t+(this.removePadding?i:0),x=u+.5*t-(this.removePadding?s:0);x+d.offsetHeight>g.max&&(D=!0),I-d.offsetHeight<g.min&&(D=!1);var T=this.offset&&this.offset.y||0;z=D?I-T-d.offsetHeight:x+T,P=l+v+(this.offset&&this.offset.x||0)}else{var $="left"!==this.placement,U=l-.5*n+(this.removePadding?a:0),M=l+.5*n-(this.removePadding?c:0);M+d.offsetWidth>f.max&&($=!0),U-d.offsetWidth<f.min&&($=!1);var A=this.offset&&this.offset.x||0;P=$?U-A-d.offsetWidth:M+A,z=u+w+(this.offset&&this.offset.y||0)}this.styles={left:"".concat(Math.round(P),"px"),top:"".concat(Math.round(z),"px")},this.popoversZLayer&&(this.styles["--ZI_popover_override"]="var(--ZI_".concat(this.popoversZLayer,"_popovers)")),m&&(this.styles.maxWidth="".concat(Math.round(m.width),"px"))}},showPopover:function(){var e=this;if(!this.disabled){this.disableClickOutside=!0,setTimeout((function(){e.disableClickOutside=!1}),0);var t=this.hidden;this.hidden=!1,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!0),("click"===this.trigger||this.stayOnClick)&&document.addEventListener("click",this.onClickOutside),this.scrollable.addEventListener("scroll",this.onScroll),this.scrollable.addEventListener("resize",this.onResize),this.$nextTick((function(){t&&e.$emit("show"),e.updateStyles()}))}},hidePopover:function(){this.disabled||(this.hidden||this.$emit("close"),this.hidden=!0,this.parentPopover&&this.parentPopover.onChildPopoverState(this,!1),"click"===this.trigger&&document.removeEventListener("click",this.onClickOutside),this.scrollable.removeEventListener("scroll",this.onScroll),this.scrollable.removeEventListener("resize",this.onResize))},onMouseenter:function(e){"hover"===this.trigger&&(this.lockReEntry=!1,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleave:function(e){var t=this;"hover"===this.trigger&&0===this.childrenShown.size&&(this.graceTimeout=setTimeout((function(){return t.hidePopover()}),1))},onMouseenterContent:function(e){"hover"!==this.trigger||this.lockReEntry||(this.lockReEntry=!0,clearTimeout(this.graceTimeout),this.graceTimeout=null,this.showPopover())},onMouseleaveContent:function(e){var t=this;"hover"===this.trigger&&0===this.childrenShown.size&&(this.graceTimeout=setTimeout((function(){return t.hidePopover()}),1))},onClick:function(e){"click"===this.trigger&&(this.hidden?this.showPopover():this.hidePopover())},onClickOutside:function(e){this.disableClickOutside||this.hidden||this.$refs.content&&this.$refs.content.contains(e.target)||this.$el.contains(e.target)||this.childrenShown.size>0||(this.hidePopover(),this.parentPopover&&this.parentPopover.onClickOutside(e))},onScroll:function(e){this.updateStyles()},onResize:function(e){this.updateStyles()},onChildPopoverState:function(e,t){t?this.childrenShown.add(e):this.childrenShown.delete(e)}},updated:function(){var e=this.$refs.content;e&&(this.oldSize.width===e.offsetWidth&&this.oldSize.height===e.offsetHeight||(this.updateStyles(),this.oldSize={width:e.offsetWidth,height:e.offsetHeight}))},mounted:function(){this.teleport=!0;var e=this.$refs.trigger.closest(".column.-scrollable")||this.$refs.trigger.closest(".mobile-notifications");e||(e=window),this.scrollable=e;for(var t=this.$parent;t&&"Popover"!==t.$.type.name;)t=t.$parent;this.parentPopover=t},beforeUnmount:function(){this.hidePopover()}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,s,a,c){return(0,o.wg)(),(0,o.iD)("span",{onMouseenter:t[4]||(t[4]=function(){return e.onMouseenter&&e.onMouseenter.apply(e,arguments)}),onMouseleave:t[5]||(t[5]=function(){return e.onMouseleave&&e.onMouseleave.apply(e,arguments)})},[(0,o._)("button",(0,o.dG)({ref:"trigger",class:"button-unstyled popover-trigger-button",type:"button"},e.triggerAttrs,{onClick:t[0]||(t[0]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[(0,o.WI)(e.$slots,"trigger")],16),((0,o.wg)(),(0,o.j4)(o.lR,{disabled:!e.teleport,to:"#popovers"},[(0,o.Wm)(r.uT,{name:"fade"},{default:(0,o.w5)((function(){return[e.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,ref:"content",style:(0,i.j5)(e.styles),class:(0,i.C_)(["popover",e.popoverClass||"popover-default"]),onMouseenter:t[1]||(t[1]=function(){return e.onMouseenterContent&&e.onMouseenterContent.apply(e,arguments)}),onMouseleave:t[2]||(t[2]=function(){return e.onMouseleaveContent&&e.onMouseleaveContent.apply(e,arguments)}),onClick:t[3]||(t[3]=function(){return e.onClickContent&&e.onClickContent.apply(e,arguments)})},[(0,o.WI)(e.$slots,"content",{class:"popover-inner",close:e.hidePopover})],38))]})),_:3})],8,["disabled"]))],32)}]])},58508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Re});var o=n(66252),r=n(49963),i=n(3577),s={ref:"form",class:"post-status-form"},a={class:"form-group"},c={key:1,class:"visibility-notice notice-dismissible"},l=["title"],u={key:2,class:"visibility-notice notice-dismissible"},d=["title"],p={key:3,class:"visibility-notice notice-dismissible"},m=["title"],h={key:4,class:"visibility-notice"},f={key:0},g={key:1},v={key:5,class:"visibility-notice edit-warning"},w={key:6,class:"preview-heading faint"},b={class:"preview-spinner"},y={key:7,class:"preview-container"},_={key:0,class:"preview-status"},k={key:1,class:"preview-status preview-error"},S=["placeholder","disabled"],j=["placeholder","disabled"],C={key:9,class:"visibility-tray"},O={key:1,class:"text-format"},P=["value"],z={key:2,class:"text-format"},D={class:"only-format"},I={ref:"bottom",class:"form-bottom"},x={class:"form-bottom-left"},T=["title"],$=["title"],U={key:0,disabled:"",class:"btn button-default"},M={key:1,disabled:"",class:"btn button-default"},A=["disabled"],L={key:1,class:"alert error"},E={key:3,class:"upload_settings"},F=n(15861),R=n(4942),q=n(93433),N=n(23279),Z=n.n(N),W=n(45578),B=n.n(W),H=n(35161),V=n.n(H),K=n(43063),G=n.n(K),Y=n(64687),J=n.n(Y),Q=n(7257),X=["title"],ee=["disabled"],te=n(65079),ne=n(9382),oe=n(84131);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ne.vI.add(oe.cf$,oe.IJ7);const ie={data:function(){return{uploadCount:0,uploadReady:!0}},computed:{uploading:function(){return this.uploadCount>0}},methods:{uploadFile:function(e){var t=this,n=this.$store;if(e.size>n.state.instance.uploadlimit){var o=te.Z.fileSizeFormat(e.size),r=te.Z.fileSizeFormat(n.state.instance.uploadlimit);t.$emit("upload-failed","file_too_big",{filesize:o.num,filesizeunit:o.unit,allowedsize:r.num,allowedsizeunit:r.unit})}else{var i=new FormData;i.append("file",e),t.$emit("uploading"),t.uploadCount++,Q.Z.uploadMedia({store:n,formData:i}).then((function(e){t.$emit("uploaded",e),t.decreaseUploadCount()}),(function(e){console.error("Error uploading file",e),t.$emit("upload-failed","default"),t.decreaseUploadCount()}))}},decreaseUploadCount:function(){this.uploadCount--,0===this.uploadCount&&this.$emit("all-uploaded")},clearFile:function(){var e=this;this.uploadReady=!1,this.$nextTick((function(){e.uploadReady=!0}))},multiUpload:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.uploadFile(o)}}catch(e){n.e(e)}finally{n.f()}},change:function(e){var t=e.target;this.multiUpload(t.files)}},props:["dropFiles","disabled"],watch:{dropFiles:function(e){this.uploading||this.multiUpload(e)}}};var se=n(83744);const ae=(0,se.Z)(ie,[["render",function(e,t,n,r,s,a){var c=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("label",{class:(0,i.C_)(["media-upload",{disabled:e.disabled}]),title:e.$t("tool_tip.media_upload")},[e.uploading?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"progress-icon",icon:"circle-notch",spin:""})):(0,o.kq)("",!0),e.uploading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"new-icon",icon:"upload"})),e.uploadReady?((0,o.wg)(),(0,o.iD)("input",{key:2,class:"hidden-input-file",disabled:e.disabled,type:"file",multiple:"true",onChange:t[0]||(t[0]=function(){return e.change&&e.change.apply(e,arguments)})},null,40,ee)):(0,o.kq)("",!0)],10,X)}]]);var ce=n(54110),le=n(86319),ue={key:0,class:"poll-form"},de={class:"input-container"},pe=["id","onUpdate:modelValue","placeholder","maxlength","onKeydown"],me=["onClick"],he={class:"poll-type-expiry"},fe=["title"],ge={value:"single"},ve={value:"multiple"},we=["title"],be=["min","max"],ye=["value"],_e=n(44908),ke=n.n(_e),Se=n(27483),je=n(76990);ne.vI.add(oe.NBC,oe.r8p);const Ce={components:{Select:je.Z},name:"PollForm",props:["visible"],data:function(){return{pollType:"single",options:["",""],expiryAmount:10,expiryUnit:"minutes"}},computed:{pollLimits:function(){return this.$store.state.instance.pollLimits},maxOptions:function(){return this.pollLimits.max_options},maxLength:function(){return this.pollLimits.max_option_chars},expiryUnits:function(){var e=this,t=this.convertExpiryFromUnit;return["minutes","hours","days"].filter((function(n){return e.pollLimits.max_expiration>=t(n,1)}))},minExpirationInCurrentUnit:function(){return Math.ceil(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.min_expiration))},maxExpirationInCurrentUnit:function(){return Math.floor(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.max_expiration))}},methods:{clear:function(){this.pollType="single",this.options=["",""],this.expiryAmount=10,this.expiryUnit="minutes"},nextOption:function(e){var t=this.$el.querySelector("#poll-".concat(e+1));t?t.focus():this.addOption()&&this.$nextTick((function(){this.nextOption(e)}))},addOption:function(){return this.options.length<this.maxOptions&&(this.options.push(""),!0)},deleteOption:function(e,t){this.options.length>2&&(this.options.splice(e,1),this.updatePollToParent())},convertExpiryToUnit:function(e,t){return Se.dX(e,t)},convertExpiryFromUnit:function(e,t){return Se.cC(e,t)},expiryAmountChange:function(){this.expiryAmount=Math.max(this.minExpirationInCurrentUnit,this.expiryAmount),this.expiryAmount=Math.min(this.maxExpirationInCurrentUnit,this.expiryAmount),this.updatePollToParent()},updatePollToParent:function(){var e=this.convertExpiryFromUnit(this.expiryUnit,this.expiryAmount),t=ke()(this.options.filter((function(e){return""!==e})));t.length<2?this.$emit("update-poll",{error:this.$t("polls.not_enough_options")}):this.$emit("update-poll",{options:t,multiple:"multiple"===this.pollType,expiresIn:e})}}},Oe=(0,se.Z)(Ce,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("Select");return e.visible?((0,o.wg)(),(0,o.iD)("div",ue,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(function(n,i){return(0,o.wg)(),(0,o.iD)("div",{key:i,class:"poll-option"},[(0,o._)("div",de,[(0,o.wy)((0,o._)("input",{id:"poll-".concat(i),"onUpdate:modelValue":function(t){return e.options[i]=t},size:"1",class:"poll-option-input",type:"text",placeholder:e.$t("polls.option"),maxlength:e.maxLength,onChange:t[0]||(t[0]=function(){return e.updatePollToParent&&e.updatePollToParent.apply(e,arguments)}),onKeydown:(0,r.D2)((0,r.iM)((function(t){return e.nextOption(i)}),["stop","prevent"]),["enter"])},null,40,pe),[[r.nr,e.options[i]]])]),e.options.length>2?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"delete-option button-unstyled -hover-highlight",onClick:function(t){return e.deleteOption(i)}},[(0,o.Wm)(l,{icon:"times"})],8,me)):(0,o.kq)("",!0)])})),128)),e.options.length<e.maxOptions?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"add-option faint button-unstyled -hover-highlight",onClick:t[1]||(t[1]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},[(0,o.Wm)(l,{icon:"plus",size:"sm"}),(0,o.Uk)(" "+(0,i.zw)(e.$t("polls.add_option")),1)])):(0,o.kq)("",!0),(0,o._)("div",he,[(0,o._)("div",{class:"poll-type",title:e.$t("polls.type")},[(0,o.Wm)(u,{modelValue:e.pollType,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pollType=t}),class:"poll-type-select",unstyled:"true",onChange:e.updatePollToParent},{default:(0,o.w5)((function(){return[(0,o._)("option",ge,(0,i.zw)(e.$t("polls.single_choice")),1),(0,o._)("option",ve,(0,i.zw)(e.$t("polls.multiple_choices")),1)]})),_:1},8,["modelValue","onChange"])],8,fe),(0,o._)("div",{class:"poll-expiry",title:e.$t("polls.expiry")},[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.expiryAmount=t}),type:"number",class:"expiry-amount hide-number-spinner",min:e.minExpirationInCurrentUnit,max:e.maxExpirationInCurrentUnit,onChange:t[4]||(t[4]=function(){return e.expiryAmountChange&&e.expiryAmountChange.apply(e,arguments)})},null,40,be),[[r.nr,e.expiryAmount]]),(0,o.Uk)(" "+(0,i.zw)(" ")+" "),(0,o.Wm)(u,{modelValue:e.expiryUnit,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.expiryUnit=t}),unstyled:"true",class:"expiry-unit",onChange:e.expiryAmountChange},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.expiryUnits,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,i.zw)(e.$tc("time.unit.".concat(t,"_short"),e.expiryAmount,[""])),9,ye)})),128))]})),_:1},8,["modelValue","onChange"])],8,we)])])):(0,o.kq)("",!0)}]]);var Pe=n(66596),ze=n(67671),De=n(38146),Ie=n(58394),xe=n(67952),Te=n(37230),$e=n(19003),Ue=n(989),Me=n(90350);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ne.vI.add(oe.RKn,oe.Mm7,oe.cf$,oe.gPx,oe.NBC,oe.IJ7);var Ee=function(e){return Number(e.substring(0,e.length-2))};const Fe={props:["statusId","statusText","statusIsSensitive","statusPoll","statusFiles","statusMediaDescriptions","statusScope","statusContentType","replyTo","repliedUser","attentions","copyMessageScope","subject","disableSubject","disableScopeSelector","disableVisibilitySelector","disableNotice","disableLockWarning","disablePolls","disableSensitivityCheckbox","disableSubmit","disablePreview","placeholder","maxHeight","postHandler","preserveFocus","autoFocus","fileLimit","submitOnEnter","emojiPickerPlacement","optimisticPosting"],emits:["posted","resize","mediaplay","mediapause"],components:{MediaUpload:ae,EmojiInput:le.Z,PollForm:Oe,ScopeSelector:ce.Z,Checkbox:Me.Z,Select:je.Z,Attachment:Pe.Z,StatusContent:De.Z,Gallery:ze.Z},mounted:function(){if(this.updateIdempotencyKey(),this.resize(this.$refs.textarea),this.replyTo){var e=this.$refs.textarea.value.length;this.$refs.textarea.setSelectionRange(e,e)}(this.replyTo||this.autoFocus)&&this.$refs.textarea.focus()},data:function(){var e=this.$route.query.message||"",t=this.$store.getters.mergedConfig.scopeCopy;if(this.replyTo){var n=this.$store.state.users.currentUser;e=function(e,t){var n=e.user,o=e.attentions,r=void 0===o?[]:o,i=(0,q.Z)(r);i.unshift(n),i=B()(i,"id"),i=G()(i,{id:t.id});var s=V()(i,(function(e){return"@".concat(e.screen_name)}));return s.length>0?s.join(" ")+" ":""}({user:this.repliedUser,attentions:this.attentions},n)}var o=this.copyMessageScope&&t||"direct"===this.copyMessageScope?this.copyMessageScope:this.$store.state.users.currentUser.default_scope,r=this.$store.getters.mergedConfig,i=r.postContentType,s=r.sensitiveByDefault,a={spoilerText:this.subject||"",status:e,nsfw:!!s,files:[],poll:{},mediaDescriptions:{},visibility:o,contentType:i};if(this.statusId){var c=this.statusContentType||i;a={spoilerText:this.subject||"",status:this.statusText||"",nsfw:this.statusIsSensitive||!!s,files:this.statusFiles||[],poll:this.statusPoll||{},mediaDescriptions:this.statusMediaDescriptions||{},visibility:this.statusScope||o,contentType:c}}return{dropFiles:[],uploadingFiles:!1,error:null,posting:!1,highlighted:0,newStatus:a,caret:0,pollFormVisible:!1,showDropIcon:"hide",dropStopTimeout:null,preview:null,previewLoading:!1,emojiInputShown:!1,idempotencyKey:""}},computed:Le(Le({users:function(){return this.$store.state.users.users},userDefaultScope:function(){return this.$store.state.users.currentUser.default_scope},showAllScopes:function(){return!this.mergedConfig.minimalScopesMode},emojiUserSuggestor:function(){return(0,$e.ZP)({emoji:[].concat((0,q.Z)(this.$store.getters.standardEmojiList),(0,q.Z)(this.$store.state.instance.customEmoji)),store:this.$store})},emojiSuggestor:function(){return(0,$e.ZP)({emoji:[].concat((0,q.Z)(this.$store.getters.standardEmojiList),(0,q.Z)(this.$store.state.instance.customEmoji))})},emoji:function(){return this.$store.getters.standardEmojiList||[]},customEmoji:function(){return this.$store.state.instance.customEmoji||[]},statusLength:function(){return this.newStatus.status.length},spoilerTextLength:function(){return this.newStatus.spoilerText.length},statusLengthLimit:function(){return this.$store.state.instance.textlimit},hasStatusLengthLimit:function(){return this.statusLengthLimit>0},charactersLeft:function(){return this.statusLengthLimit-(this.statusLength+this.spoilerTextLength)},isOverLengthLimit:function(){return this.hasStatusLengthLimit&&this.charactersLeft<0},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},alwaysShowSubject:function(){return this.mergedConfig.alwaysShowSubjectInput},postFormats:function(){return this.$store.state.instance.postFormats||[]},safeDMEnabled:function(){return this.$store.state.instance.safeDM},pollsAvailable:function(){return this.$store.state.instance.pollsAvailable&&this.$store.state.instance.pollLimits.max_options>=2&&!0!==this.disablePolls},hideScopeNotice:function(){return this.disableNotice||this.$store.getters.mergedConfig.hideScopeNotice},pollContentError:function(){return this.pollFormVisible&&this.newStatus.poll&&this.newStatus.poll.error},showPreview:function(){return!this.disablePreview&&(!!this.preview||this.previewLoading)},emptyStatus:function(){return""===this.newStatus.status.trim()&&0===this.newStatus.files.length},uploadFileLimitReached:function(){return this.newStatus.files.length>=this.fileLimit},isEdit:function(){return void 0!==this.statusId&&""!==this.statusId.trim()}},(0,Ue.Se)(["mergedConfig"])),(0,Ue.rn)({mobileLayout:function(e){return e.interface.mobileLayout}})),watch:{newStatus:{deep:!0,handler:function(){this.statusChanged()}}},methods:{statusChanged:function(){this.autoPreview(),this.updateIdempotencyKey()},clearStatus:function(){var e=this,t=this.newStatus;this.newStatus={status:"",spoilerText:"",files:[],visibility:t.visibility,contentType:t.contentType,poll:{},mediaDescriptions:{}},this.pollFormVisible=!1,this.$refs.mediaUpload&&this.$refs.mediaUpload.clearFile(),this.clearPollForm(),this.preserveFocus&&this.$nextTick((function(){e.$refs.textarea.focus()}));var n=this.$el.querySelector("textarea");n.style.height="auto",n.style.height=void 0,this.error=null,this.preview&&this.previewStatus()},postStatus:function(e,t){var n=arguments,o=this;return(0,F.Z)(J().mark((function r(){var i,s;return J().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.length>2&&void 0!==n[2]&&n[2],!o.posting||o.optimisticPosting){r.next=3;break}return r.abrupt("return");case 3:if(!o.disableSubmit){r.next=5;break}return r.abrupt("return");case 5:if(!o.emojiInputShown){r.next=7;break}return r.abrupt("return");case 7:if(o.submitOnEnter&&(e.stopPropagation(),e.preventDefault()),!o.optimisticPosting||!o.emptyStatus&&!o.isOverLengthLimit){r.next=10;break}return r.abrupt("return");case 10:if(!o.emptyStatus){r.next=13;break}return o.error=o.$t("post_status.empty_status_error"),r.abrupt("return");case 13:if(i=o.pollFormVisible?o.newStatus.poll:{},!o.pollContentError){r.next=17;break}return o.error=o.pollContentError,r.abrupt("return");case 17:return o.posting=!0,r.prev=18,r.next=21,o.setAllMediaDescriptions();case 21:r.next=28;break;case 23:return r.prev=23,r.t0=r.catch(18),o.error=o.$t("post_status.media_description_error"),o.posting=!1,r.abrupt("return");case 28:s={status:t.status,spoilerText:t.spoilerText||null,visibility:t.visibility,sensitive:t.nsfw,media:t.files,store:o.$store,inReplyToStatusId:o.replyTo,contentType:t.contentType,poll:i,idempotencyKey:o.idempotencyKey},(o.postHandler?o.postHandler:Q.Z.postStatus)(s).then((function(e){e.error?o.error=e.error:(o.clearStatus(),o.$emit("posted",e)),o.posting=!1}));case 31:case"end":return r.stop()}}),r,null,[[18,23]])})))()},previewStatus:function(){var e=this;if(this.emptyStatus&&""===this.newStatus.spoilerText.trim())return this.preview={error:this.$t("post_status.preview_empty")},void(this.previewLoading=!1);var t=this.newStatus;this.previewLoading=!0,Q.Z.postStatus({status:t.status,spoilerText:t.spoilerText||null,visibility:t.visibility,sensitive:t.nsfw,media:[],store:this.$store,inReplyToStatusId:this.replyTo,contentType:t.contentType,poll:{},preview:!0}).then((function(t){e.previewLoading&&(t.error?e.preview={error:t.error}:e.preview=t)})).catch((function(t){e.preview={error:t}})).finally((function(){e.previewLoading=!1}))},debouncePreviewStatus:Z()((function(){this.previewStatus()}),500),autoPreview:function(){this.preview&&(this.previewLoading=!0,this.debouncePreviewStatus())},closePreview:function(){this.preview=null,this.previewLoading=!1},togglePreview:function(){this.showPreview?this.closePreview():this.previewStatus()},addMediaFile:function(e){this.newStatus.files.push(e),this.$emit("resize",{delayed:!0})},removeMediaFile:function(e){var t=this.newStatus.files.indexOf(e);this.newStatus.files.splice(t,1),this.$emit("resize")},editAttachment:function(e,t){this.newStatus.mediaDescriptions[e.id]=t},shiftUpMediaFile:function(e){var t=this.newStatus.files,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n-1,0,e)},shiftDnMediaFile:function(e){var t=this.newStatus.files,n=this.newStatus.files.indexOf(e);t.splice(n,1),t.splice(n+1,0,e)},uploadFailed:function(e,t){t=t||{},this.error=this.$t("upload.error.base")+" "+this.$t("upload.error."+e,t)},startedUploadingFiles:function(){this.uploadingFiles=!0},finishedUploadingFiles:function(){this.$emit("resize"),this.uploadingFiles=!1},type:function(e){return Ie.Z.fileType(e.mimetype)},paste:function(e){this.autoPreview(),this.resize(e),e.clipboardData.files.length>0&&(e.preventDefault(),this.dropFiles=[e.clipboardData.files[0]])},fileDrop:function(e){e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),this.dropFiles=e.dataTransfer.files,clearTimeout(this.dropStopTimeout),this.showDropIcon="hide")},fileDragStop:function(e){var t=this;clearTimeout(this.dropStopTimeout),this.showDropIcon="fade",this.dropStopTimeout=setTimeout((function(){return t.showDropIcon="hide"}),500)},fileDrag:function(e){e.dataTransfer.dropEffect=this.uploadFileLimitReached?"none":"copy",e.dataTransfer&&e.dataTransfer.types.includes("Files")&&(clearTimeout(this.dropStopTimeout),this.showDropIcon="show")},onEmojiInputInput:function(e){var t=this;this.$nextTick((function(){t.resize(t.$refs.textarea)}))},resize:function(e){var t=e.target||e;if(t instanceof window.Element){if(""===t.value)return t.style.height=null,void this.$emit("resize");var n=this.$refs.form,o=this.$refs.bottom,r=window.getComputedStyle(o)["padding-bottom"],i=Ee(r),s=this.$el.closest(".column.-scrollable")||this.$el.closest(".post-form-modal-view")||window,a=window.getComputedStyle(t)["padding-top"],c=window.getComputedStyle(t)["padding-bottom"],l=Ee(a)+Ee(c),u=Ee(t.style.height),d=s===window?s.scrollY:s.scrollTop,p=s===window?s.innerHeight:s.offsetHeight,m=d+p;t.style.height="auto";var h=Math.floor(t.scrollHeight-l),f=this.maxHeight?Math.min(h,this.maxHeight):h;Math.abs(f-u)<=1&&(f=u),t.style.height="".concat(f,"px"),this.$emit("resize",f);var g=o.offsetHeight+(0,xe.y)(o,s).top+i,v=m<g,w=p<n.offsetHeight,b=g-m,y=!v||w&&this.$refs.textarea.selectionStart!==this.$refs.textarea.value.length?0:b,_=Math.round(d+y);s===window?s.scroll(0,_):s.scrollTop=_}},showEmojiPicker:function(){this.$refs.textarea.focus(),this.$refs["emoji-input"].triggerShowPicker()},clearError:function(){this.error=null},changeVis:function(e){this.newStatus.visibility=e},togglePollForm:function(){this.pollFormVisible=!this.pollFormVisible},setPoll:function(e){this.newStatus.poll=e},clearPollForm:function(){this.$refs.pollForm&&this.$refs.pollForm.clear()},dismissScopeNotice:function(){this.$store.dispatch("setOption",{name:"hideScopeNotice",value:!0})},setMediaDescription:function(e){var t=this.newStatus.mediaDescriptions[e];if(t&&""!==t.trim())return Q.Z.setMediaDescription({store:this.$store,id:e,description:t})},setAllMediaDescriptions:function(){var e=this,t=this.newStatus.files.map((function(e){return e.id}));return Promise.all(t.map((function(t){return e.setMediaDescription(t)})))},handleEmojiInputShow:function(e){this.emojiInputShown=e},updateIdempotencyKey:function(){this.idempotencyKey=Date.now().toString()},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")},propsToNative:function(e){return(0,Te.X)(e)}}},Re=(0,se.Z)(Fe,[["render",function(e,t,n,F,R,q){var N=(0,o.up)("i18n-t"),Z=(0,o.up)("FAIcon"),W=(0,o.up)("StatusContent"),B=(0,o.up)("EmojiInput"),H=(0,o.up)("scope-selector"),V=(0,o.up)("Select"),K=(0,o.up)("poll-form"),G=(0,o.up)("media-upload"),Y=(0,o.up)("gallery"),J=(0,o.up)("Checkbox");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("form",{autocomplete:"off",onSubmit:t[26]||(t[26]=(0,r.iM)((function(){}),["prevent"])),onDragover:t[27]||(t[27]=(0,r.iM)((function(){return e.fileDrag&&e.fileDrag.apply(e,arguments)}),["prevent"]))},[(0,o._)("div",a,[e.$store.state.users.currentUser.locked||"private"!=e.newStatus.visibility||e.disableLockWarning?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(N,{key:0,keypath:"post_status.account_not_locked_warning",tag:"p",class:"visibility-notice",scope:"global"},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link",onClick:t[0]||(t[0]=function(){return e.openProfileTab&&e.openProfileTab.apply(e,arguments)})},(0,i.zw)(e.$t("post_status.account_not_locked_warning_link")),1)]})),_:1})),e.hideScopeNotice||"public"!==e.newStatus.visibility?e.hideScopeNotice||"unlisted"!==e.newStatus.visibility?!e.hideScopeNotice&&"private"===e.newStatus.visibility&&e.$store.state.users.currentUser.locked?((0,o.wg)(),(0,o.iD)("p",p,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.private")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[3]||(t[3]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(Z,{icon:"times"})],8,m)])):"direct"===e.newStatus.visibility?((0,o.wg)(),(0,o.iD)("p",h,[e.safeDMEnabled?((0,o.wg)(),(0,o.iD)("span",f,(0,i.zw)(e.$t("post_status.direct_warning_to_first_only")),1)):((0,o.wg)(),(0,o.iD)("span",g,(0,i.zw)(e.$t("post_status.direct_warning_to_all")),1))])):(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",u,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.unlisted")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[2]||(t[2]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(Z,{icon:"times"})],8,d)])):((0,o.wg)(),(0,o.iD)("p",c,[(0,o._)("span",null,(0,i.zw)(e.$t("post_status.scope_notice.public")),1),(0,o._)("a",{class:"fa-scale-110 fa-old-padding dismiss",title:e.$t("post_status.scope_notice_dismiss"),role:"button",tabindex:"0",onClick:t[1]||(t[1]=(0,r.iM)((function(t){return e.dismissScopeNotice()}),["prevent"]))},[(0,o.Wm)(Z,{icon:"times"})],8,l)])),e.isEdit?((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("p",null,(0,i.zw)(e.$t("post_status.edit_remote_warning")),1),(0,o._)("p",null,(0,i.zw)(e.$t("post_status.edit_unsupported_warning")),1)])):(0,o.kq)("",!0),e.disablePreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("a",{class:"preview-toggle faint",onClick:t[4]||(t[4]=(0,r.iM)((function(){return e.togglePreview&&e.togglePreview.apply(e,arguments)}),["stop","prevent"]))},[(0,o.Uk)((0,i.zw)(e.$t("post_status.preview"))+" ",1),(0,o.Wm)(Z,{icon:e.showPreview?"chevron-left":"chevron-right"},null,8,["icon"])]),(0,o.wy)((0,o._)("div",b,[(0,o.Wm)(Z,{class:"fa-old-padding",spin:"",icon:"circle-notch"})],512),[[r.F8,e.previewLoading]])])),e.showPreview?((0,o.wg)(),(0,o.iD)("div",y,[e.preview?e.preview.error?((0,o.wg)(),(0,o.iD)("div",k,(0,i.zw)(e.preview.error),1)):((0,o.wg)(),(0,o.j4)(W,{key:2,status:e.preview,class:"preview-status"},null,8,["status"])):((0,o.wg)(),(0,o.iD)("div",_,(0,i.zw)(e.$t("general.loading")),1))])):(0,o.kq)("",!0),e.disableSubject||!e.newStatus.spoilerText&&!e.alwaysShowSubject?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(B,{key:8,modelValue:e.newStatus.spoilerText,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.newStatus.spoilerText=t}),"enable-emoji-picker":"",suggest:e.emojiSuggestor,class:"form-control"},{default:(0,o.w5)((function(n){return[(0,o.wy)((0,o._)("input",(0,o.dG)({"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.newStatus.spoilerText=t}),type:"text",placeholder:e.$t("post_status.content_warning"),disabled:e.posting&&!e.optimisticPosting},e.propsToNative(n),{size:"1",class:"form-post-subject"}),null,16,S),[[r.nr,e.newStatus.spoilerText]])]})),_:1},8,["modelValue","suggest"])),(0,o.Wm)(B,{ref:"emoji-input",modelValue:e.newStatus.status,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.newStatus.status=t}),suggest:e.emojiUserSuggestor,placement:e.emojiPickerPlacement,class:"form-control main-input","enable-emoji-picker":"","hide-emoji-button":"","newline-on-ctrl-enter":e.submitOnEnter,"enable-sticker-picker":"",onInput:e.onEmojiInputInput,onStickerUploaded:e.addMediaFile,onStickerUploadFailed:e.uploadFailed,onShown:e.handleEmojiInputShow},{default:(0,o.w5)((function(n){return[(0,o.wy)((0,o._)("textarea",(0,o.dG)({ref:"textarea","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.newStatus.status=t}),placeholder:e.placeholder||e.$t("post_status.default"),rows:"1",cols:"1",disabled:e.posting&&!e.optimisticPosting,class:["form-post-body",{"scrollable-form":!!e.maxHeight}]},e.propsToNative(n),{onKeydown:[t[8]||(t[8]=(0,r.D2)((0,r.iM)((function(t){return e.submitOnEnter&&e.postStatus(t,e.newStatus)}),["exact"]),["enter"])),t[9]||(t[9]=(0,r.D2)((0,r.iM)((function(t){return e.postStatus(t,e.newStatus)}),["meta"]),["enter"])),t[10]||(t[10]=(0,r.D2)((0,r.iM)((function(t){return!e.submitOnEnter&&e.postStatus(t,e.newStatus)}),["ctrl"]),["enter"]))],onInput:t[11]||(t[11]=function(){return e.resize&&e.resize.apply(e,arguments)}),onCompositionupdate:t[12]||(t[12]=function(){return e.resize&&e.resize.apply(e,arguments)}),onPaste:t[13]||(t[13]=function(){return e.paste&&e.paste.apply(e,arguments)})}),null,16,j),[[r.nr,e.newStatus.status]]),e.hasStatusLengthLimit?((0,o.wg)(),(0,o.iD)("p",{key:0,class:(0,i.C_)(["character-counter faint",{error:e.isOverLengthLimit}])},(0,i.zw)(e.charactersLeft),3)):(0,o.kq)("",!0)]})),_:1},8,["modelValue","suggest","placement","newline-on-ctrl-enter","onInput","onStickerUploaded","onStickerUploadFailed","onShown"]),e.disableScopeSelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",C,[e.disableVisibilitySelector?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(H,{key:0,"show-all":e.showAllScopes,"user-default":e.userDefaultScope,"original-scope":e.copyMessageScope,"initial-scope":e.newStatus.visibility,"on-scope-change":e.changeVis},null,8,["show-all","user-default","original-scope","initial-scope","on-scope-change"])),e.postFormats.length>1?((0,o.wg)(),(0,o.iD)("div",O,[(0,o.Wm)(V,{id:"post-content-type",modelValue:e.newStatus.contentType,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.newStatus.contentType=t}),class:"form-control",attrs:{"aria-label":e.$t("post_status.content_type_selection")}},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.postFormats,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,i.zw)(e.$t('post_status.content_type["'.concat(t,'"]'))),9,P)})),128))]})),_:1},8,["modelValue","attrs"])])):(0,o.kq)("",!0),1===e.postFormats.length&&"text/plain"!==e.postFormats[0]?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("span",D,(0,i.zw)(e.$t('post_status.content_type["'.concat(e.postFormats[0],'"]'))),1)])):(0,o.kq)("",!0)]))]),e.pollsAvailable?((0,o.wg)(),(0,o.j4)(K,{key:0,ref:"pollForm",visible:e.pollFormVisible,onUpdatePoll:e.setPoll},null,8,["visible","onUpdatePoll"])):(0,o.kq)("",!0),(0,o._)("div",I,[(0,o._)("div",x,[(0,o.Wm)(G,{ref:"mediaUpload",class:"media-upload-icon","drop-files":e.dropFiles,disabled:e.uploadFileLimitReached,onUploading:e.startedUploadingFiles,onUploaded:e.addMediaFile,onUploadFailed:e.uploadFailed,onAllUploaded:e.finishedUploadingFiles},null,8,["drop-files","disabled","onUploading","onUploaded","onUploadFailed","onAllUploaded"]),(0,o._)("button",{class:"emoji-icon button-unstyled",title:e.$t("emoji.add_emoji"),onClick:t[16]||(t[16]=function(){return e.showEmojiPicker&&e.showEmojiPicker.apply(e,arguments)})},[(0,o.Wm)(Z,{icon:"smile-beam"})],8,T),e.pollsAvailable?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,i.C_)(["poll-icon button-unstyled",{selected:e.pollFormVisible}]),title:e.$t("polls.add_poll"),onClick:t[17]||(t[17]=function(){return e.togglePollForm&&e.togglePollForm.apply(e,arguments)})},[(0,o.Wm)(Z,{icon:"poll-h"})],10,$)):(0,o.kq)("",!0)]),e.posting?((0,o.wg)(),(0,o.iD)("button",U,(0,i.zw)(e.$t("post_status.posting")),1)):e.isOverLengthLimit?((0,o.wg)(),(0,o.iD)("button",M,(0,i.zw)(e.$t("post_status.post")),1)):((0,o.wg)(),(0,o.iD)("button",{key:2,disabled:e.uploadingFiles||e.disableSubmit,class:"btn button-default",onTouchstart:t[18]||(t[18]=(0,r.iM)((function(t){return e.postStatus(t,e.newStatus)}),["stop","prevent"])),onClick:t[19]||(t[19]=(0,r.iM)((function(t){return e.postStatus(t,e.newStatus)}),["stop","prevent"]))},(0,i.zw)(e.$t("post_status.post")),41,A))],512),(0,o.wy)((0,o._)("div",{style:(0,i.j5)({animation:"show"===e.showDropIcon?"fade-in 0.25s":"fade-out 0.5s"}),class:"drop-indicator",onDragleave:t[20]||(t[20]=function(){return e.fileDragStop&&e.fileDragStop.apply(e,arguments)}),onDrop:t[21]||(t[21]=(0,r.iM)((function(){return e.fileDrop&&e.fileDrop.apply(e,arguments)}),["stop"]))},[(0,o.Wm)(Z,{icon:e.uploadFileLimitReached?"ban":"upload"},null,8,["icon"])],36),[[r.F8,"hide"!==e.showDropIcon]]),e.error?((0,o.wg)(),(0,o.iD)("div",L,[(0,o.Uk)(" Error: "+(0,i.zw)(e.error)+" ",1),(0,o._)("button",{class:"button-unstyled",onClick:t[22]||(t[22]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,o.Wm)(Z,{class:"fa-scale-110 fa-old-padding",icon:"times"})])])):(0,o.kq)("",!0),e.newStatus.files&&e.newStatus.files.length>0?((0,o.wg)(),(0,o.j4)(Y,{key:2,class:"attachments",grid:!0,nsfw:!1,attachments:e.newStatus.files,descriptions:e.newStatus.mediaDescriptions,"set-media":function(){return e.$store.dispatch("setMedia",e.newStatus.files)},editable:!0,"edit-attachment":e.editAttachment,"remove-attachment":e.removeMediaFile,"shift-up-attachment":e.newStatus.files.length>1&&e.shiftUpMediaFile,"shift-dn-attachment":e.newStatus.files.length>1&&e.shiftDnMediaFile,onPlay:t[23]||(t[23]=function(t){return e.$emit("mediaplay",e.attachment.id)}),onPause:t[24]||(t[24]=function(t){return e.$emit("mediapause",e.attachment.id)})},null,8,["attachments","descriptions","set-media","edit-attachment","remove-attachment","shift-up-attachment","shift-dn-attachment"])):(0,o.kq)("",!0),e.newStatus.files.length>0&&!e.disableSensitivityCheckbox?((0,o.wg)(),(0,o.iD)("div",E,[(0,o.Wm)(J,{modelValue:e.newStatus.nsfw,"onUpdate:modelValue":t[25]||(t[25]=function(t){return e.newStatus.nsfw=t})},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,i.zw)(e.$t("post_status.attachments_sensitive")),1)]})),_:1},8,["modelValue"])])):(0,o.kq)("",!0)],32)],512)}]])},99507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=["disabled"];const i={props:{disabled:{type:Boolean},click:{type:Function,default:function(){return Promise.resolve()}}},data:function(){return{progress:!1}},methods:{onClick:function(){var e=this;this.progress=!0,this.click().then((function(){e.progress=!1}))}}},s=(0,n(83744).Z)(i,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("button",{disabled:s.progress||n.disabled,onClick:t[0]||(t[0]=function(){return a.onClick&&a.onClick.apply(a,arguments)})},[s.progress&&e.$slots.progress?(0,o.WI)(e.$slots,"progress",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})],8,r)}]])},72895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(66252),r=n(3577),i={class:"remote-follow"},s=["action"],a=["value"],c=(0,o._)("input",{type:"hidden",name:"profile",value:""},null,-1),l={click:"submit",class:"button-default remote-button"};const u={props:["user"],computed:{subscribeUrl:function(){var e=new URL(this.user.statusnet_profile_url);return"".concat(e.protocol,"//").concat(e.host,"/main/ostatus")}}},d=(0,n(83744).Z)(u,[["render",function(e,t,n,u,d,p){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("form",{method:"POST",action:e.subscribeUrl},[(0,o._)("input",{type:"hidden",name:"nickname",value:e.user.screen_name},null,8,a),c,(0,o._)("button",l,(0,r.zw)(e.$t("user_card.remote_follow")),1)],8,s)])}]])},54110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o=n(66252),r=n(3577),i={key:0,class:"ScopeSelector"},s=["title"],a=["title"],c=["title"],l=["title"],u=n(9382),d=n(84131);u.vI.add(d.FU$,d.g4A,d.byT,d._1N);const p={props:["showAll","userDefault","originalScope","initialScope","onScopeChange"],data:function(){return{currentScope:this.initialScope}},computed:{showNothing:function(){return!(this.showPublic||this.showUnlisted||this.showPrivate||this.showDirect)},showPublic:function(){return"direct"!==this.originalScope&&this.shouldShow("public")},showUnlisted:function(){return"direct"!==this.originalScope&&this.shouldShow("unlisted")},showPrivate:function(){return"direct"!==this.originalScope&&this.shouldShow("private")},showDirect:function(){return this.shouldShow("direct")},css:function(){return{public:{selected:"public"===this.currentScope},unlisted:{selected:"unlisted"===this.currentScope},private:{selected:"private"===this.currentScope},direct:{selected:"direct"===this.currentScope}}}},methods:{shouldShow:function(e){return this.showAll||this.currentScope===e||this.originalScope===e||this.userDefault===e||"direct"===e},changeVis:function(e){this.currentScope=e,this.onScopeChange&&this.onScopeChange(e)}}},m=(0,n(83744).Z)(p,[["render",function(e,t,n,u,d,p){var m=(0,o.up)("FAIcon");return e.showNothing?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",i,[e.showDirect?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled scope",e.css.direct]),title:e.$t("post_status.scope.direct"),type:"button",onClick:t[0]||(t[0]=function(t){return e.changeVis("direct")})},[(0,o.Wm)(m,{icon:"envelope",class:"fa-scale-110 fa-old-padding"})],10,s)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showPrivate?((0,o.wg)(),(0,o.iD)("button",{key:1,class:(0,r.C_)(["button-unstyled scope",e.css.private]),title:e.$t("post_status.scope.private"),type:"button",onClick:t[1]||(t[1]=function(t){return e.changeVis("private")})},[(0,o.Wm)(m,{icon:"lock",class:"fa-scale-110 fa-old-padding"})],10,a)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showUnlisted?((0,o.wg)(),(0,o.iD)("button",{key:2,class:(0,r.C_)(["button-unstyled scope",e.css.unlisted]),title:e.$t("post_status.scope.unlisted"),type:"button",onClick:t[2]||(t[2]=function(t){return e.changeVis("unlisted")})},[(0,o.Wm)(m,{icon:"lock-open",class:"fa-scale-110 fa-old-padding"})],10,c)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.showPublic?((0,o.wg)(),(0,o.iD)("button",{key:3,class:(0,r.C_)(["button-unstyled scope",e.css.public]),title:e.$t("post_status.scope.public"),type:"button",onClick:t[3]||(t[3]=function(t){return e.changeVis("public")})},[(0,o.Wm)(m,{icon:"globe",class:"fa-scale-110 fa-old-padding"})],10,l)):(0,o.kq)("",!0)]))}]])},76990:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(3577),i=["disabled","value"],s=n(9382),a=n(84131);s.vI.add(a.ptq);const c={emits:["update:modelValue"],props:["modelValue","disabled","unstyled","kind","attrs"]},l=(0,n(83744).Z)(c,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("label",{class:(0,r.C_)(["Select input",{disabled:e.disabled,unstyled:e.unstyled}])},[(0,o._)("select",(0,o.dG)({disabled:e.disabled,value:e.modelValue},e.attrs,{onChange:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})}),[(0,o.WI)(e.$slots,"default")],16,i),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(l,{class:"select-down-icon",icon:"chevron-down"})],2)}]])},75245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Qt});var o=n(66252),r=n(3577),i=n(49963),s={key:0,class:"alert error"},a={key:1,class:"status-container muted"},c={class:"status-username"},l={key:0,class:"mute-thread"},u={key:1,class:"mute-thread"},d=["title"],p={key:0,class:"pin"},m={class:"faint"},h={class:"right-side faint"},f=["title"],g=["data-tags"],v={key:0,class:"left-side"},w=["href"],b={class:"right-side"},y={key:0,class:"status-heading"},_={class:"heading-name-row"},k={class:"heading-left"},S=["title"],j=["title"],C=["src"],O={class:"heading-right"},P=["title"],z=["title"],D=["title","aria-expanded"],I=["title"],x={key:0,class:"heading-reply-row"},T={key:0,class:"glued-label reply-glued-label"},$=["aria-label"],U={class:"reply-to-text"},M={key:1,class:"reply-to-no-popover"},A={class:"reply-to-text"},L={key:1,class:"glued-label"},E=["aria-label"],F={class:"mentions-text"},R={key:1,class:"heading-edited-row"},q={key:1,class:"replies"},N=["title"],Z={key:1,class:"faint"},W=["onClick"],B={key:0,class:"favs-repeated-users"},H={class:"stats"},V={class:"stat-count"},K={class:"stat-title"},G={class:"stat-number"},Y={class:"stat-count"},J={class:"stat-title"},Q={class:"stat-number"},X={class:"avatar-row"},ee={key:3,class:"status-actions"},te={key:3,class:"gravestone"},ne={class:"left-side"},oe={class:"right-side"},re={class:"deleted-text"},ie={key:4,class:"status-container reply-form"},se=n(4942),ae=n(45578),ce=n.n(ae),le=n(27955),ue=n.n(le),de={class:"ReplyButton"},pe=["title"],me=["href","title"],he={key:2,class:"action-counter"},fe=n(9382),ge=n(84131);fe.vI.add(ge.Lh7,ge.r8p,ge.NBC);const ve={name:"ReplyButton",props:["status","replying"],computed:{loggedIn:function(){return!!this.$store.state.users.currentUser},remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}}};var we=n(83744);const be=(0,we.Z)(ve,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("FALayers");return(0,o.wg)(),(0,o.iD)("div",de,[e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",{"-active":e.replying}]),title:e.$t("tool_tip.reply"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.$emit("toggle")}),["prevent"]))},[(0,o.Wm)(u,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:"reply"}),e.replying?((0,o.wg)(),(0,o.j4)(l,{key:1,class:"focus-marker",transform:"shrink-6 up-8 right-11",icon:"times"})):((0,o.wg)(),(0,o.j4)(l,{key:0,class:"focus-marker",transform:"shrink-6 up-8 right-11",icon:"plus"}))]})),_:1})],10,pe)):((0,o.wg)(),(0,o.iD)("a",{key:1,class:"button-unstyled interactive",target:"_blank",role:"button",href:e.remoteInteractionLink,title:e.$t("tool_tip.reply")},[(0,o.Wm)(u,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:"reply"}),e.replying?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(l,{key:0,class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"plus"}))]})),_:1})],8,me)),e.status.replies_count>0?((0,o.wg)(),(0,o.iD)("span",he,(0,r.zw)(e.status.replies_count),1)):(0,o.kq)("",!0)])}]]);var ye={class:"FavoriteButton"},_e=["title"],ke=["title","href"],Se={key:2,class:"action-counter"},je=n(989),Ce=n(5737);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}fe.vI.add(ge.Tab,Ce.Tab,ge.r8p,ge.Kl4,ge.LEp);const ze={props:["status","loggedIn"],data:function(){return{animated:!1}},methods:{favorite:function(){var e=this;this.status.favorited?this.$store.dispatch("unfavorite",{id:this.status.id}):this.$store.dispatch("favorite",{id:this.status.id}),this.animated=!0,setTimeout((function(){e.animated=!1}),500)}},computed:Pe(Pe({},(0,je.Se)(["mergedConfig"])),{},{remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})}})},De=(0,we.Z)(ze,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("FALayers");return(0,o.wg)(),(0,o.iD)("div",ye,[e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",e.status.favorited&&"-favorited"]),title:e.$t("tool_tip.favorite"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.favorite()}),["prevent"]))},[(0,o.Wm)(u,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:[e.status.favorited?"fas":"far","star"],spin:e.animated},null,8,["icon","spin"]),e.status.favorited?((0,o.wg)(),(0,o.j4)(l,{key:0,class:"active-marker",transform:"shrink-6 up-9 right-12",icon:"check"})):(0,o.kq)("",!0),e.status.favorited?((0,o.wg)(),(0,o.j4)(l,{key:2,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"minus"})):((0,o.wg)(),(0,o.j4)(l,{key:1,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"}))]})),_:1})],10,_e)):((0,o.wg)(),(0,o.iD)("a",{key:1,class:"button-unstyled interactive",target:"_blank",role:"button",title:e.$t("tool_tip.favorite"),href:e.remoteInteractionLink},[(0,o.Wm)(u,{class:"fa-scale-110 fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:["far","star"]}),(0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"})]})),_:1})],8,ke)),!e.mergedConfig.hidePostStats&&e.status.fave_num>0?((0,o.wg)(),(0,o.iD)("span",Se,(0,r.zw)(e.status.fave_num),1)):(0,o.kq)("",!0)])}]]);var Ie={class:"reaction-picker-filter"},xe=["placeholder"],Te={class:"reaction-picker"},$e=["title","onClick"],Ue=(0,o._)("div",{class:"reaction-picker-divider"},null,-1),Me=["title","onClick"],Ae=(0,o._)("div",{class:"reaction-bottom-fader"},null,-1),Le=["title"],Ee=n(93433),Fe=n(92742),Re=n.n(Fe),qe=n(91447),Ne=n(8312);function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}fe.vI.add(ge.r8p,ge.NBC,Ce.RKn);const Be={props:["status"],data:function(){return{filterWord:"",expanded:!1}},components:{Popover:qe.default},methods:{addReaction:function(e,t,n){var o=this.status.emoji_reactions.find((function(e){return e.name===t}));o&&o.me?this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:t}):this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:t}),n()},onShow:function(){this.expanded=!0,this.focusInput()},onClose:function(){this.expanded=!1},focusInput:function(){this.$nextTick((function(){var e=document.querySelector(".reaction-picker-filter > input");e&&e.focus()}))},maybeLocalizedEmojiNamesAndKeywords:function(e){var t=[e.displayText],n=[];return e.displayTextI18n&&t.push(this.$t(e.displayTextI18n.key,e.displayTextI18n.args)),e.annotations&&this.languages.forEach((function(o){var r,i;t.push(null===(r=e.annotations[o])||void 0===r?void 0:r.name),n.push.apply(n,(0,Ee.Z)((null===(i=e.annotations[o])||void 0===i?void 0:i.keywords)||[]))})),{names:t.filter((function(e){return e})),keywords:n.filter((function(e){return e}))}},maybeLocalizedEmojiName:function(e){if(!e.annotations)return e.displayText;if(e.displayTextI18n)return this.$t(e.displayTextI18n.key,e.displayTextI18n.args);var t,n=Ze(this.languages);try{for(n.s();!(t=n.n()).done;){var o,r=t.value;if(null!==(o=e.annotations[r])&&void 0!==o&&o.name)return e.annotations[r].name}}catch(e){n.e(e)}finally{n.f()}return e.displayText}},computed:{commonEmojis:function(){var e=new Set(["👍","😠","👀","😂","🔥"]);return this.$store.getters.standardEmojiList.filter((function(t){return e.has(t.replacement)}))},languages:function(){return(0,Ne.ensureFinalFallback)(this.$store.getters.mergedConfig.interfaceLanguage)},emojis:function(){if(""!==this.filterWord){var e,t=Re()(this.filterWord.toLowerCase()),n=[],o=Ze(this.$store.getters.standardEmojiList);try{for(o.s();!(e=o.n()).done;){var r=e.value,i=this.maybeLocalizedEmojiNamesAndKeywords(r).keywords.map((function(e){return e.toLowerCase().indexOf(t)})).filter((function(e){return e>-1})),s=i.length?Math.min.apply(Math,(0,Ee.Z)(i)):-1;s>-1&&(Array.isArray(n[s])||(n[s]=[]),n[s].push(r))}}catch(e){o.e(e)}finally{o.f()}return n.flat()}return this.$store.getters.standardEmojiList||[]},mergedConfig:function(){return this.$store.getters.mergedConfig}}},He=(0,we.Z)(Be,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("FALayers"),d=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(d,{trigger:"click",class:"ReactButton",placement:"top",offset:{y:5},"bound-to":{x:"container"},"remove-padding":"","popover-class":"ReactButton popover-default",onShow:e.onShow,onClose:e.onClose},{content:(0,o.w5)((function(n){var s=n.close;return[(0,o._)("div",Ie,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filterWord=t}),size:"1",placeholder:e.$t("emoji.search_emoji"),onInput:t[1]||(t[1]=function(e){return e.target.composing=!1})},null,40,xe),[[i.nr,e.filterWord]])]),(0,o._)("div",Te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.commonEmojis,(function(t){return(0,o.wg)(),(0,o.iD)("span",{key:t.replacement,class:"emoji-button",title:e.maybeLocalizedEmojiName(t),onClick:function(n){return e.addReaction(n,t.replacement,s)}},(0,r.zw)(t.replacement),9,$e)})),128)),Ue,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.emojis,(function(t,n){return(0,o.wg)(),(0,o.iD)("span",{key:n,class:"emoji-button",title:e.maybeLocalizedEmojiName(t),onClick:function(n){return e.addReaction(n,t.replacement,s)}},(0,r.zw)(t.replacement),9,Me)})),128)),Ae])]})),trigger:(0,o.w5)((function(){return[(0,o._)("span",{class:"button-unstyled popover-trigger",title:e.$t("tool_tip.add_reaction")},[(0,o.Wm)(u,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110 fa-old-padding",icon:["far","smile-beam"]}),(0,o.wy)((0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-9 right-17",icon:"plus"},null,512),[[i.F8,!e.expanded]]),(0,o.wy)((0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-9 right-17",icon:"times"},null,512),[[i.F8,e.expanded]])]})),_:1})],8,Le)]})),_:1},8,["onShow","onClose"])}]]);var Ve={class:"RetweetButton"},Ke=["title"],Ge={key:1},Ye=["title","href"],Je={key:3,class:"no-event"},Qe=n(1447);fe.vI.add(ge.x5v,ge.r8p,ge.Kl4,ge.LEp);const Xe={props:["status","loggedIn","visibility"],components:{ConfirmModal:Qe.Z},data:function(){return{animated:!1,showingConfirmDialog:!1}},methods:{retweet:function(){!this.status.repeated&&this.shouldConfirmRepeat?this.showConfirmDialog():this.doRetweet()},doRetweet:function(){var e=this;this.status.repeated?this.$store.dispatch("unretweet",{id:this.status.id}):this.$store.dispatch("retweet",{id:this.status.id}),this.animated=!0,setTimeout((function(){e.animated=!1}),500),this.hideConfirmDialog()},showConfirmDialog:function(){this.showingConfirmDialog=!0},hideConfirmDialog:function(){this.showingConfirmDialog=!1}},computed:{mergedConfig:function(){return this.$store.getters.mergedConfig},remoteInteractionLink:function(){return this.$store.getters.remoteInteractionLink({statusId:this.status.id})},shouldConfirmRepeat:function(){return this.mergedConfig.modalOnRepeat}}},et=(0,we.Z)(Xe,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("FALayers"),d=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",Ve,["private"!==e.visibility&&"direct"!==e.visibility&&e.loggedIn?((0,o.wg)(),(0,o.iD)("button",{key:0,class:(0,r.C_)(["button-unstyled interactive",e.status.repeated&&"-repeated"]),title:e.$t("tool_tip.repeat"),onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.retweet()}),["prevent"]))},[(0,o.Wm)(u,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:"retweet",spin:e.animated},null,8,["spin"]),e.status.repeated?((0,o.wg)(),(0,o.j4)(l,{key:0,class:"active-marker",transform:"shrink-6 up-9 right-12",icon:"check"})):(0,o.kq)("",!0),e.status.repeated?((0,o.wg)(),(0,o.j4)(l,{key:2,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"minus"})):((0,o.wg)(),(0,o.j4)(l,{key:1,class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"}))]})),_:1})],10,Ke)):e.loggedIn?((0,o.wg)(),(0,o.iD)("span",Ge,[(0,o.Wm)(l,{class:"fa-scale-110 fa-old-padding",icon:"lock",title:e.$t("timeline.no_retweet_hint")},null,8,["title"])])):((0,o.wg)(),(0,o.iD)("a",{key:2,class:"button-unstyled interactive",target:"_blank",role:"button",title:e.$t("tool_tip.repeat"),href:e.remoteInteractionLink},[(0,o.Wm)(u,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:"retweet"}),(0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-9 right-12",icon:"plus"})]})),_:1})],8,Ye)),!e.mergedConfig.hidePostStats&&e.status.repeat_num>0?((0,o.wg)(),(0,o.iD)("span",Je,(0,r.zw)(e.status.repeat_num),1)):(0,o.kq)("",!0),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmDialog?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("status.repeat_confirm_title"),"confirm-text":e.$t("status.repeat_confirm_accept_button"),"cancel-text":e.$t("status.repeat_confirm_cancel_button"),onAccepted:e.doRetweet,onCancelled:e.hideConfirmDialog},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("status.repeat_confirm")),1)]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))])}]]);var tt={class:"dropdown-menu"},nt=["onClick"],ot=["onClick"],rt=["onClick"],it=["onClick"],st=["onClick"],at=["onClick"],ct=["onClick"],lt=["onClick"],ut=["href"],dt=["onClick"],pt={class:"button-unstyled popover-trigger"};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}fe.vI.add(ge.cNd,ge.xVw,Ce.xVw,ge.Aq,ge.RP7,ge.EfQ,ge.Xjp,Ce.RrC,ge.qO$,ge.r8p,ge.NBC);const ht={props:["status"],components:{Popover:qe.default,ConfirmModal:Qe.Z},data:function(){return{expanded:!1,showingDeleteDialog:!1}},methods:{onShow:function(){this.expanded=!0},onClose:function(){this.expanded=!1},deleteStatus:function(){this.shouldConfirmDelete?this.showDeleteStatusConfirmDialog():this.doDeleteStatus()},doDeleteStatus:function(){this.$store.dispatch("deleteStatus",{id:this.status.id}),this.hideDeleteStatusConfirmDialog()},showDeleteStatusConfirmDialog:function(){this.showingDeleteDialog=!0},hideDeleteStatusConfirmDialog:function(){this.showingDeleteDialog=!1},pinStatus:function(){var e=this;this.$store.dispatch("pinStatus",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unpinStatus:function(){var e=this;this.$store.dispatch("unpinStatus",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},muteConversation:function(){var e=this;this.$store.dispatch("muteConversation",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unmuteConversation:function(){var e=this;this.$store.dispatch("unmuteConversation",this.status.id).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},copyLink:function(){var e=this;navigator.clipboard.writeText(this.statusLink).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},bookmarkStatus:function(){var e=this;this.$store.dispatch("bookmark",{id:this.status.id}).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},unbookmarkStatus:function(){var e=this;this.$store.dispatch("unbookmark",{id:this.status.id}).then((function(){return e.$emit("onSuccess")})).catch((function(t){return e.$emit("onError",t.error.error)}))},reportStatus:function(){this.$store.dispatch("openUserReportingModal",{userId:this.status.user.id,statusIds:[this.status.id]})},editStatus:function(){var e=this;this.$store.dispatch("fetchStatusSource",{id:this.status.id}).then((function(t){return e.$store.dispatch("openEditStatusModal",{statusId:e.status.id,subject:t.spoiler_text,statusText:t.text,statusIsSensitive:e.status.nsfw,statusPoll:e.status.poll,statusFiles:(0,Ee.Z)(e.status.attachments),visibility:e.status.visibility,statusContentType:t.content_type})}))},showStatusHistory:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.status);["attachments","created_at","emojis","text","raw_html","nsfw","poll","summary","summary_raw_html"].forEach((function(t){return delete e[t]})),this.$store.dispatch("openStatusHistoryModal",e)}},computed:{currentUser:function(){return this.$store.state.users.currentUser},canDelete:function(){if(this.currentUser)return this.currentUser.privileges.includes("messages_delete")||this.status.user.id===this.currentUser.id},ownStatus:function(){return this.status.user.id===this.currentUser.id},canPin:function(){return this.ownStatus&&("public"===this.status.visibility||"unlisted"===this.status.visibility)},canMute:function(){return!!this.currentUser},canBookmark:function(){return!!this.currentUser},statusLink:function(){return"".concat(this.$store.state.instance.server).concat(this.$router.resolve({name:"conversation",params:{id:this.status.id}}).href)},isEdited:function(){return null!==this.status.edited_at},editingAvailable:function(){return this.$store.state.instance.editingAvailable},shouldConfirmDelete:function(){return this.$store.getters.mergedConfig.modalOnDelete}}},ft=(0,we.Z)(ht,[["render",function(e,t,n,s,a,c){var l=(0,o.up)("FAIcon"),u=(0,o.up)("FALayers"),d=(0,o.up)("ConfirmModal"),p=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(p,{class:"ExtraButtons",trigger:"click",placement:"top",offset:{y:5},"bound-to":{x:"container"},"remove-padding":"",onShow:e.onShow,onClose:e.onClose},{content:(0,o.w5)((function(n){var s=n.close;return[(0,o._)("div",tt,[e.canMute&&!e.status.thread_muted?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-default dropdown-item dropdown-item-icon",onClick:t[0]||(t[0]=(0,i.iM)((function(){return e.muteConversation&&e.muteConversation.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(l,{"fixed-width":"",icon:"eye-slash"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.mute_conversation")),1)])):(0,o.kq)("",!0),e.canMute&&e.status.thread_muted?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default dropdown-item dropdown-item-icon",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.unmuteConversation&&e.unmuteConversation.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(l,{"fixed-width":"",icon:"eye-slash"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unmute_conversation")),1)])):(0,o.kq)("",!0),!e.status.pinned&&e.canPin?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[2]||(t[2]=(0,i.iM)((function(){return e.pinStatus&&e.pinStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"thumbtack"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.pin")),1)],8,nt)):(0,o.kq)("",!0),e.status.pinned&&e.canPin?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[3]||(t[3]=(0,i.iM)((function(){return e.unpinStatus&&e.unpinStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"thumbtack"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unpin")),1)],8,ot)):(0,o.kq)("",!0),e.canBookmark?((0,o.wg)(),(0,o.iD)(o.HY,{key:4},[e.status.bookmarked?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[4]||(t[4]=(0,i.iM)((function(){return e.bookmarkStatus&&e.bookmarkStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:["far","bookmark"]}),(0,o._)("span",null,(0,r.zw)(e.$t("status.bookmark")),1)],8,rt)),e.status.bookmarked?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[5]||(t[5]=(0,i.iM)((function(){return e.unbookmarkStatus&&e.unbookmarkStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"bookmark"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.unbookmark")),1)],8,it)):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),e.ownStatus&&e.editingAvailable?((0,o.wg)(),(0,o.iD)("button",{key:5,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[6]||(t[6]=(0,i.iM)((function(){return e.editStatus&&e.editStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"pen"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.edit")),1)],8,st)):(0,o.kq)("",!0),e.isEdited&&e.editingAvailable?((0,o.wg)(),(0,o.iD)("button",{key:6,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[7]||(t[7]=(0,i.iM)((function(){return e.showStatusHistory&&e.showStatusHistory.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"history"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.status_history")),1)],8,at)):(0,o.kq)("",!0),e.canDelete?((0,o.wg)(),(0,o.iD)("button",{key:7,class:"button-default dropdown-item dropdown-item-icon",onClick:[t[8]||(t[8]=(0,i.iM)((function(){return e.deleteStatus&&e.deleteStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"times"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.delete")),1)],8,ct)):(0,o.kq)("",!0),(0,o._)("button",{class:"button-default dropdown-item dropdown-item-icon",onClick:[t[9]||(t[9]=(0,i.iM)((function(){return e.copyLink&&e.copyLink.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:"share-alt"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.copy_link")),1)],8,lt),e.status.is_local?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:8,class:"button-default dropdown-item dropdown-item-icon",title:"Source",href:e.status.external_url,target:"_blank"},[(0,o.Wm)(l,{"fixed-width":"",icon:"external-link-alt"}),(0,o._)("span",null,(0,r.zw)(e.$t("status.external_source")),1)],8,ut)),(0,o._)("button",{class:"button-default dropdown-item dropdown-item-icon",onClick:[t[10]||(t[10]=(0,i.iM)((function(){return e.reportStatus&&e.reportStatus.apply(e,arguments)}),["prevent"])),s]},[(0,o.Wm)(l,{"fixed-width":"",icon:["far","flag"]}),(0,o._)("span",null,(0,r.zw)(e.$t("user_card.report")),1)],8,dt)])]})),trigger:(0,o.w5)((function(){return[(0,o._)("span",pt,[(0,o.Wm)(u,{class:"fa-old-padding-layer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{class:"fa-scale-110",icon:"ellipsis-h"}),(0,o.wy)((0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"plus"},null,512),[[i.F8,!e.expanded]]),(0,o.wy)((0,o.Wm)(l,{class:"focus-marker",transform:"shrink-6 up-8 right-16",icon:"times"},null,512),[[i.F8,e.expanded]])]})),_:1})]),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingDeleteDialog?((0,o.wg)(),(0,o.j4)(d,{key:0,title:e.$t("status.delete_confirm_title"),"cancel-text":e.$t("status.delete_confirm_cancel_button"),"confirm-text":e.$t("status.delete_confirm_accept_button"),onCancelled:e.hideDeleteStatusConfirmDialog,onAccepted:e.doDeleteStatus},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("status.delete_confirm")),1)]})),_:1},8,["title","cancel-text","confirm-text","onCancelled","onAccepted"])):(0,o.kq)("",!0)]))]})),_:1},8,["onShow","onClose"])}]]);var gt=n(58508),vt=n(48173),wt=n(19066),bt=n(1840),yt=n(38146),_t=n(92820),kt={key:1,class:"status-preview-no-content faint"},St={key:2,class:"status-preview-no-content"},jt=n(13311),Ct=n.n(jt);fe.vI.add(ge.IJ7);const Ot={name:"StatusPopover",props:["statusId"],data:function(){return{error:!1}},computed:{status:function(){return Ct()(this.$store.state.statuses.allStatuses,{id:this.statusId})}},components:{Status:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,75245))})),Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,91447))}))},methods:{enter:function(){var e=this;if(!this.status){if(!this.statusId)return void(this.error=!0);this.$store.dispatch("fetchStatus",this.statusId).then((function(t){return e.error=!1})).catch((function(t){return e.error=!0}))}}},watch:{status:function(e,t){var n=this;e!==t&&this.$nextTick((function(){return n.$refs.popover.updateStyles()}))}}},Pt=(0,we.Z)(Ot,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("Status"),l=(0,o.up)("FAIcon"),u=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(u,{ref:"popover",trigger:"hover","stay-on-click":!0,"popover-class":"popover-default status-popover","bound-to":{x:"container"},onShow:e.enter},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(){return[e.status?((0,o.wg)(),(0,o.j4)(c,{key:0,"is-preview":!0,statusoid:e.status,compact:!0},null,8,["statusoid"])):e.error?((0,o.wg)(),(0,o.iD)("div",kt,(0,r.zw)(e.$t("status.status_unavailable")),1)):((0,o.wg)(),(0,o.iD)("div",St,[(0,o.Wm)(l,{icon:"circle-notch",spin:"",size:"2x"})]))]})),_:3},8,["onShow"])}]]);var zt=n(22588),Dt={class:"user-list-popover"},It={class:"user-list-names"},xt={class:"user-list-screen-name"},Tt=n(42262);fe.vI.add(ge.IJ7);const $t={name:"UserListPopover",props:["users"],components:{RichContent:_t.Z,UnicodeDomainIndicator:Tt.Z,Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,91447))})),UserAvatar:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,48173))}))},computed:{usersCapped:function(){return this.users.slice(0,16)}}},Ut=(0,we.Z)($t,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("UserAvatar"),l=(0,o.up)("RichContent"),u=(0,o.up)("UnicodeDomainIndicator"),d=(0,o.up)("FAIcon"),p=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(p,{trigger:"hover",placement:"top",offset:{y:5}},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(){return[(0,o._)("div",Dt,[e.users.length?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.usersCapped,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"user-list-row"},[(0,o.Wm)(c,{user:e,class:"avatar-small",compact:!0},null,8,["user"]),(0,o._)("div",It,[(0,o.Wm)(l,{class:"username",title:"@"+e.screen_name_ui,html:e.name_html,emoji:e.emoji},null,8,["title","html","emoji"]),(0,o._)("span",xt,(0,r.zw)(e.screen_name_ui),1),(0,o.Wm)(u,{user:e},null,8,["user"])])])})),128)):((0,o.wg)(),(0,o.j4)(d,{key:1,icon:"circle-notch",spin:"",size:"3x"}))])]})),_:3})}]]);var Mt={class:"EmojiReactions"},At=["onClick"],Lt={class:"reaction-emoji"};const Et={name:"EmojiReactions",components:{UserAvatar:vt.default,UserListPopover:Ut},props:["status"],data:function(){return{showAll:!1}},computed:{tooManyReactions:function(){return this.status.emoji_reactions.length>12},emojiReactions:function(){return this.showAll?this.status.emoji_reactions:this.status.emoji_reactions.slice(0,12)},showMoreString:function(){return"+".concat(this.status.emoji_reactions.length-12)},accountsForEmoji:function(){return this.status.emoji_reactions.reduce((function(e,t){return e[t.name]=t.accounts||[],e}),{})},loggedIn:function(){return!!this.$store.state.users.currentUser}},methods:{toggleShowAll:function(){this.showAll=!this.showAll},reactedWith:function(e){return this.status.emoji_reactions.find((function(t){return t.name===e})).me},fetchEmojiReactionsByIfMissing:function(){this.status.emoji_reactions.find((function(e){return!e.accounts}))&&this.$store.dispatch("fetchEmojiReactionsBy",this.status.id)},reactWith:function(e){this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:e})},unreact:function(e){this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:e})},emojiOnClick:function(e,t){this.loggedIn&&(this.reactedWith(e)?this.unreact(e):this.reactWith(e))}}},Ft=(0,we.Z)(Et,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("UserListPopover");return(0,o.wg)(),(0,o.iD)("div",Mt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.emojiReactions,(function(n){return(0,o.wg)(),(0,o.j4)(c,{key:n.name,users:e.accountsForEmoji[n.name]},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:(0,r.C_)(["emoji-reaction btn button-default",{"-picked-reaction":e.reactedWith(n.name),"not-clickable":!e.loggedIn}]),onClick:function(t){return e.emojiOnClick(n.name,t)},onMouseenter:t[0]||(t[0]=function(t){return e.fetchEmojiReactionsByIfMissing()})},[(0,o._)("span",Lt,(0,r.zw)(n.name),1),(0,o._)("span",null,(0,r.zw)(n.count),1)],42,At)]})),_:2},1032,["users"])})),128)),e.tooManyReactions?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"emoji-reaction-expand faint",href:"javascript:void(0)",onClick:t[1]||(t[1]=function(){return e.toggleShowAll&&e.toggleShowAll.apply(e,arguments)})},(0,r.zw)(e.showAll?e.$t("general.show_less"):e.showMoreString),1)):(0,o.kq)("",!0)])}]]);var Rt=n(12061),qt=n(21268),Nt=n(20460),Zt=n(4493),Wt=n(95052),Bt=n(67828);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}fe.vI.add(ge.FU$,ge.g4A,ge.byT,ge._1N,ge.NBC,ge.x5v,ge.Lh7,ge.CPW,ge.Tab,ge.RKn,ge.cNd,ge.Aq,ge.Mdf,ge.RP7,ge.mTx,ge.ptq,ge.cLY);var Kt,Gt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Yt=function(e,t,n){var o=Gt(t),r="controlledSet".concat(o),i="uncontrolled".concat(o);e[r]?e[r](n):e[i]=n};const Jt={name:"Status",components:{ReplyButton:be,FavoriteButton:De,ReactButton:He,RetweetButton:et,ExtraButtons:ft,PostStatusForm:gt.Z,UserAvatar:vt.default,AvatarList:wt.Z,Timeago:bt.Z,StatusPopover:Pt,UserListPopover:Ut,EmojiReactions:Ft,StatusContent:yt.Z,RichContent:_t.Z,MentionLink:Nt.Z,MentionsLine:qt.Z,UserPopover:zt.default,UserLink:Rt.Z},props:["statusoid","expandable","inConversation","focused","highlight","compact","replies","isPreview","noHeading","inlineExpanded","showPinned","inProfile","profileUserId","simpleTree","controlledThreadDisplayStatus","controlledToggleThreadDisplay","showOtherRepliesAsButton","controlledShowingTall","controlledToggleShowingTall","controlledExpandingSubject","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject","controlledReplying","controlledToggleReplying","controlledMediaPlaying","controlledSetMediaPlaying","dive"],data:function(){return{uncontrolledReplying:!1,unmuted:!1,userExpanded:!1,uncontrolledMediaPlaying:[],suspendable:!0,error:null,headTailLinks:null}},computed:Vt(Vt({},(Kt=["replying","mediaPlaying"],Kt.reduce((function(e,t){var n=Gt(t),o="controlledToggle".concat(n),r="controlled".concat(n),i="uncontrolled".concat(n);return e[t]=function(){return void 0===this.$data[o]&&void 0===this.$props[o]||!this[o]?this[i]:this[r]},e}),{}))),{},{muteWords:function(){return this.mergedConfig.muteWords},showReasonMutedThread:function(){return(this.status.thread_muted||this.status.reblog&&this.status.reblog.thread_muted)&&!this.inConversation},repeaterClass:function(){var e=this.statusoid.user;return(0,Wt.M)(e)},userClass:function(){var e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user;return(0,Wt.M)(e)},deleted:function(){return this.statusoid.deleted},repeaterStyle:function(){var e=this.statusoid.user,t=this.mergedConfig.highlight;return(0,Wt.q)(t[e.screen_name])},userStyle:function(){if(!this.noHeading){var e=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user,t=this.mergedConfig.highlight;return(0,Wt.q)(t[e.screen_name])}},userProfileLink:function(){return this.generateUserProfileLink(this.status.user.id,this.status.user.screen_name)},replyProfileLink:function(){if(this.isReply){var e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e?e.statusnet_profile_url:"NOT_FOUND"}},retweet:function(){return!!this.statusoid.retweeted_status},retweeterUser:function(){return this.statusoid.user},retweeter:function(){return this.statusoid.user.name||this.statusoid.user.screen_name_ui},retweeterHtml:function(){return this.statusoid.user.name},retweeterProfileLink:function(){return this.generateUserProfileLink(this.statusoid.user.id,this.statusoid.user.screen_name)},status:function(){return this.retweet?this.statusoid.retweeted_status:this.statusoid},statusFromGlobalRepository:function(){return this.$store.state.statuses.allStatusesObject[this.status.id]},loggedIn:function(){return!!this.currentUser},muteWordHits:function(){return(0,Bt.u)(this.status,this.muteWords)},rtBotStatus:function(){return this.statusoid.user.bot},botStatus:function(){return this.status.user.bot},botIndicator:function(){return this.botStatus&&!this.hideBotIndication},rtBotIndicator:function(){return this.rtBotStatus&&!this.hideBotIndication},mentionsLine:function(){var e=this;if(!this.headTailLinks)return[];var t=new Set(this.headTailLinks.writtenMentions.map((function(e){return e.url})));return this.status.attentions.filter((function(n){return n.id!==e.status.in_reply_to_user_id&&n.statusnet_profile_url!==e.status.user.statusnet_profile_url&&!t.has(n.statusnet_profile_url)})).map((function(e){return{url:e.statusnet_profile_url,content:e.screen_name,userId:e.id}}))},hasMentionsLine:function(){return this.mentionsLine.length>0},muted:function(){if(this.statusoid.user.id===this.currentUser.id)return!1;var e=this.userIsMuted||status.thread_muted||this.muteWordHits.length>0||this.muteBotStatuses&&this.botStatus&&!this.compact;return!this.unmuted&&!this.shouldNotMute&&e},userIsMuted:function(){if(this.statusoid.user.id===this.currentUser.id)return!1;var e=this.status,t=e.reblog,n=this.$store.getters.relationship(e.user.id),o=t&&this.$store.getters.relationship(t.user.id);return e.muted||t&&t.muted||n.muting||o&&o.muting},shouldNotMute:function(){var e=this.status,t=e.reblog;return(this.inProfile&&(!t&&e.user.id===this.profileUserId||t&&t.user.id===this.profileUserId)||this.inConversation&&e.thread_muted)&&!this.muteWordHits.length>0},hideMutedUsers:function(){return this.mergedConfig.hideMutedPosts},hideMutedThreads:function(){return this.mergedConfig.hideMutedThreads},hideFilteredStatuses:function(){return this.mergedConfig.hideFilteredStatuses},hideWordFilteredPosts:function(){return this.mergedConfig.hideWordFilteredPosts},hideStatus:function(){return!this.shouldNotMute&&(this.muted&&this.hideFilteredStatuses||this.userIsMuted&&this.hideMutedUsers||this.status.thread_muted&&this.hideMutedThreads||this.muteWordHits.length>0&&this.hideWordFilteredPosts)},isFocused:function(){return!!this.focused||!!this.inConversation&&this.status.id===this.highlight},isReply:function(){return!(!this.status.in_reply_to_status_id||!this.status.in_reply_to_user_id)},replyToName:function(){if(this.status.in_reply_to_screen_name)return this.status.in_reply_to_screen_name;var e=this.$store.getters.findUser(this.status.in_reply_to_user_id);return e&&e.screen_name_ui},replySubject:function(){if(!this.status.summary)return"";var e=ue()(this.status.summary),t=this.mergedConfig.subjectLineBehavior,n=e.match(/^re[: ]/i);return"noop"!==t&&n||"masto"===t?e:"email"===t?"re: ".concat(e):"noop"===t?"":void 0},combinedFavsAndRepeatsUsers:function(){var e=[].concat(this.statusFromGlobalRepository.favoritedBy,this.statusFromGlobalRepository.rebloggedBy);return ce()(e,"id")},tags:function(){return this.status.tags.filter((function(e){return e.hasOwnProperty("name")})).map((function(e){return e.name})).join(" ")},hidePostStats:function(){return this.mergedConfig.hidePostStats},muteBotStatuses:function(){return this.mergedConfig.muteBotStatuses},hideBotIndication:function(){return this.mergedConfig.hideBotIndication},currentUser:function(){return this.$store.state.users.currentUser},betterShadow:function(){return this.$store.state.interface.browserSupport.cssFilter},mergedConfig:function(){return this.$store.getters.mergedConfig},isSuspendable:function(){return!this.replying&&0===this.mediaPlaying.length},inThreadForest:function(){return!!this.controlledThreadDisplayStatus},threadShowing:function(){return"showing"===this.controlledThreadDisplayStatus},visibilityLocalized:function(){return this.$i18n.t("general.scope_in_timeline."+this.status.visibility)},isEdited:function(){return null!==this.status.edited_at},editingAvailable:function(){return this.$store.state.instance.editingAvailable}}),methods:{visibilityIcon:function(e){switch(e){case"private":return"lock";case"unlisted":return"lock-open";case"direct":return"envelope";default:return"globe"}},showError:function(e){this.error=e},clearError:function(){this.error=void 0},toggleReplying:function(){var e,t,n,o;e=this,t=Gt("replying"),n="controlledToggle".concat(t),o="uncontrolled".concat(t),e[n]?e[n]():e[o]=!e[o]},gotoOriginal:function(e){this.inConversation&&this.$emit("goto",e)},toggleExpanded:function(){this.$emit("toggleExpanded")},toggleMute:function(){this.unmuted=!this.unmuted},toggleUserExpanded:function(){this.userExpanded=!this.userExpanded},generateUserProfileLink:function(e,t){return(0,Zt.Z)(e,t,this.$store.state.instance.restrictedNicknames)},addMediaPlaying:function(e){Yt(this,"mediaPlaying",this.mediaPlaying.concat(e))},removeMediaPlaying:function(e){Yt(this,"mediaPlaying",this.mediaPlaying.filter((function(t){return t!==e})))},setHeadTailLinks:function(e){this.headTailLinks=e},toggleThreadDisplay:function(){this.controlledToggleThreadDisplay()},scrollIfHighlighted:function(e){var t=e;if(this.status.id===t){var n=this.$el.getBoundingClientRect();n.top<100||n.height>=window.innerHeight-50?window.scrollBy(0,n.top-100):n.bottom>window.innerHeight-50&&window.scrollBy(0,n.bottom-window.innerHeight+50)}}},watch:{highlight:function(e){this.scrollIfHighlighted(e)},"status.repeat_num":function(e){this.isFocused&&this.statusFromGlobalRepository.rebloggedBy&&this.statusFromGlobalRepository.rebloggedBy.length!==e&&this.$store.dispatch("fetchRepeats",this.status.id)},"status.fave_num":function(e){this.isFocused&&this.statusFromGlobalRepository.favoritedBy&&this.statusFromGlobalRepository.favoritedBy.length!==e&&this.$store.dispatch("fetchFavs",this.status.id)},isSuspendable:function(e){this.suspendable=e}}},Qt=(0,we.Z)(Jt,[["render",function(e,t,n,se,ae,ce){var le=(0,o.up)("FAIcon"),ue=(0,o.up)("user-link"),de=(0,o.up)("UserAvatar"),pe=(0,o.up)("RichContent"),me=(0,o.up)("router-link"),he=(0,o.up)("UserPopover"),fe=(0,o.up)("Timeago"),ge=(0,o.up)("StatusPopover"),ve=(0,o.up)("MentionLink"),we=(0,o.up)("MentionsLine"),be=(0,o.up)("i18n-t"),ye=(0,o.up)("StatusContent"),_e=(0,o.up)("UserListPopover"),ke=(0,o.up)("AvatarList"),Se=(0,o.up)("EmojiReactions"),je=(0,o.up)("reply-button"),Ce=(0,o.up)("retweet-button"),Oe=(0,o.up)("favorite-button"),Pe=(0,o.up)("ReactButton"),ze=(0,o.up)("extra-buttons"),De=(0,o.up)("PostStatusForm");return e.hideStatus?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,ref:"root",class:(0,r.C_)(["Status",[{"-focused":e.isFocused},{"-conversation":e.inlineExpanded}]])},[e.error?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Uk)((0,r.zw)(e.error)+" ",1),(0,o._)("span",{class:"fa-scale-110 fa-old-padding",onClick:t[0]||(t[0]=function(){return e.clearError&&e.clearError.apply(e,arguments)})},[(0,o.Wm)(le,{icon:"times"})])])):(0,o.kq)("",!0),e.muted&&!e.isPreview?((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("small",c,[e.muted&&e.retweet?((0,o.wg)(),(0,o.j4)(le,{key:0,class:"fa-scale-110 fa-old-padding repeat-icon",icon:"retweet"})):(0,o.kq)("",!0),(0,o.Wm)(ue,{user:e.status.user,at:!1},null,8,["user"])]),e.showReasonMutedThread?((0,o.wg)(),(0,o.iD)("small",l,(0,r.zw)(e.$t("status.thread_muted")),1)):(0,o.kq)("",!0),e.showReasonMutedThread&&e.muteWordHits.length>0?((0,o.wg)(),(0,o.iD)("small",u,(0,r.zw)(e.$t("status.thread_muted_and_words")),1)):(0,o.kq)("",!0),(0,o._)("small",{class:"mute-words",title:e.muteWordHits.join(", ")},(0,r.zw)(e.muteWordHits.join(", ")),9,d),(0,o._)("button",{class:"unmute button-unstyled",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(le,{icon:"eye-slash",class:"fa-scale-110 fa-old-padding"})])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[e.showPinned?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(le,{icon:"thumbtack",class:"faint"}),(0,o._)("span",m,(0,r.zw)(e.$t("status.pinned")),1)])):(0,o.kq)("",!0),!e.retweet||e.noHeading||e.inConversation?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)([[e.repeaterClass,{highlighted:e.repeaterStyle}],"status-container repeat-info"]),style:(0,r.j5)([e.repeaterStyle])},[e.retweet?((0,o.wg)(),(0,o.j4)(de,{key:0,class:"left-side repeater-avatar",bot:e.rtBotIndicator,"better-shadow":e.betterShadow,user:e.statusoid.user},null,8,["bot","better-shadow","user"])):(0,o.kq)("",!0),(0,o._)("div",h,[(0,o._)("bdi",{class:"status-username repeater-name",title:e.retweeter},[e.retweeterHtml?((0,o.wg)(),(0,o.j4)(me,{key:0,to:e.retweeterProfileLink},{default:(0,o.w5)((function(){return[(0,o.Wm)(pe,{html:e.retweeterHtml,emoji:e.retweeterUser.emoji},null,8,["html","emoji"])]})),_:1},8,["to"])):((0,o.wg)(),(0,o.j4)(me,{key:1,to:e.retweeterProfileLink},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.retweeter),1)]})),_:1},8,["to"]))],8,f),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(le,{icon:"retweet",class:"repeat-icon",title:e.$t("tool_tip.repeat")},null,8,["title"]),(0,o.Uk)(" "+(0,r.zw)(e.$t("timeline.repeated")),1)])],6)),e.deleted?((0,o.wg)(),(0,o.iD)("div",te,[(0,o._)("div",ne,[(0,o.Wm)(de,{class:"post-avatar",compact:e.compact,bot:e.botIndicator},null,8,["compact","bot"])]),(0,o._)("div",oe,[(0,o._)("div",re,(0,r.zw)(e.$t("status.status_deleted")),1),e.replying?((0,o.wg)(),(0,o.j4)(je,{key:0,replying:e.replying,status:e.status,onToggle:e.toggleReplying},null,8,["replying","status","onToggle"])):(0,o.kq)("",!0)])])):((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,r.C_)([[e.userClass,{highlighted:e.userStyle,"-repeat":e.retweet&&!e.inConversation}],"status-container"]),style:(0,r.j5)([e.userStyle]),"data-tags":e.tags},[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("a",{href:e.$router.resolve(e.userProfileLink).href,onClick:t[2]||(t[2]=(0,i.iM)((function(){}),["prevent"]))},[(0,o.Wm)(he,{"user-id":e.status.user.id,"overlay-centers":!0},{default:(0,o.w5)((function(){return[(0,o.Wm)(de,{class:"post-avatar",bot:e.botIndicator,compact:e.compact,"better-shadow":e.betterShadow,user:e.status.user},null,8,["bot","compact","better-shadow","user"])]})),_:1},8,["user-id"])],8,w)])),(0,o._)("div",b,[e.noHeading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",_,[(0,o._)("div",k,[e.status.user.name_html?((0,o.wg)(),(0,o.iD)("h4",{key:0,class:"status-username",title:e.status.user.name},[(0,o.Wm)(pe,{html:e.status.user.name,emoji:e.status.user.emoji},null,8,["html","emoji"])],8,S)):((0,o.wg)(),(0,o.iD)("h4",{key:1,class:"status-username",title:e.status.user.name},(0,r.zw)(e.status.user.name),9,j)),(0,o.Wm)(ue,{class:"account-name",title:e.status.user.screen_name_ui,user:e.status.user,at:!1},null,8,["title","user"]),e.status.user&&e.status.user.favicon?((0,o.wg)(),(0,o.iD)("img",{key:2,class:"status-favicon",src:e.status.user.favicon},null,8,C)):(0,o.kq)("",!0)]),(0,o._)("span",O,[(0,o.Wm)(me,{class:"timeago faint-link",to:{name:"conversation",params:{id:e.status.id}}},{default:(0,o.w5)((function(){return[(0,o.Wm)(fe,{time:e.status.created_at,"auto-update":60},null,8,["time"])]})),_:1},8,["to"]),e.status.visibility?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"visibility-icon",title:e.visibilityLocalized},[(0,o.Wm)(le,{"fixed-width":"",class:"fa-scale-110",icon:e.visibilityIcon(e.status.visibility)},null,8,["icon"])],8,P)):(0,o.kq)("",!0),e.expandable&&!e.isPreview?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-unstyled",title:e.$t("status.expand"),onClick:t[3]||(t[3]=(0,i.iM)((function(){return e.toggleExpanded&&e.toggleExpanded.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(le,{"fixed-width":"",class:"fa-scale-110",icon:"plus-square"})],8,z)):(0,o.kq)("",!0),e.unmuted?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-unstyled",onClick:t[4]||(t[4]=(0,i.iM)((function(){return e.toggleMute&&e.toggleMute.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(le,{"fixed-width":"",icon:"eye-slash",class:"fa-scale-110"})])):(0,o.kq)("",!0),e.inThreadForest&&e.replies&&e.replies.length&&!e.simpleTree?((0,o.wg)(),(0,o.iD)("button",{key:3,class:"button-unstyled",title:e.threadShowing?e.$t("status.thread_hide"):e.$t("status.thread_show"),"aria-expanded":e.threadShowing?"true":"false",onClick:t[5]||(t[5]=(0,i.iM)((function(){return e.toggleThreadDisplay&&e.toggleThreadDisplay.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(le,{"fixed-width":"",class:"fa-scale-110",icon:e.threadShowing?"chevron-up":"chevron-down"},null,8,["icon"])],8,D)):(0,o.kq)("",!0),e.dive&&!e.simpleTree?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled",title:e.$t("status.show_only_conversation_under_this"),onClick:t[6]||(t[6]=(0,i.iM)((function(){return e.dive&&e.dive.apply(e,arguments)}),["prevent"]))},[(0,o.Wm)(le,{"fixed-width":"",class:"fa-scale-110",icon:"angle-double-right"})],8,I)):(0,o.kq)("",!0)])]),e.isReply||e.hasMentionsLine?((0,o.wg)(),(0,o.iD)("div",x,[e.isReply?((0,o.wg)(),(0,o.iD)("span",T,[e.isPreview?((0,o.wg)(),(0,o.iD)("span",M,[(0,o._)("span",A,(0,r.zw)(e.$t("status.reply_to")),1)])):((0,o.wg)(),(0,o.j4)(ge,{key:0,"status-id":e.status.parent_visible&&e.status.in_reply_to_status_id,class:(0,r.C_)(["reply-to-popover",{"-strikethrough":!e.status.parent_visible}]),style:{"min-width":"0"}},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled reply-to","aria-label":e.$t("tool_tip.reply"),onClick:t[7]||(t[7]=(0,i.iM)((function(t){return e.gotoOriginal(e.status.in_reply_to_status_id)}),["prevent"]))},[(0,o.Wm)(le,{class:"fa-scale-110 fa-old-padding",icon:"reply",flip:"horizontal"}),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o._)("span",U,(0,r.zw)(e.$t("status.reply_to")),1)],8,$)]})),_:1},8,["status-id","class"])),(0,o.Wm)(ve,{content:e.replyToName,url:e.replyProfileLink,"user-id":e.status.in_reply_to_user_id,"user-screen-name":e.status.in_reply_to_screen_name},null,8,["content","url","user-id","user-screen-name"])])):(0,o.kq)("",!0),e.hasMentionsLine?((0,o.wg)(),(0,o.iD)("span",L,[(0,o._)("span",{class:"mentions","aria-label":e.$t("tool_tip.mentions"),onClick:t[8]||(t[8]=(0,i.iM)((function(t){return e.gotoOriginal(e.status.in_reply_to_status_id)}),["prevent"]))},[(0,o._)("span",F,(0,r.zw)(e.$t("status.mentions")),1)],8,E),e.hasMentionsLine?((0,o.wg)(),(0,o.j4)(we,{key:0,mentions:e.mentionsLine.slice(0,1),class:"mentions-line-first"},null,8,["mentions"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),e.hasMentionsLine?((0,o.wg)(),(0,o.j4)(we,{key:2,mentions:e.mentionsLine.slice(1),class:"mentions-line"},null,8,["mentions"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.isEdited&&e.editingAvailable&&!e.isPreview?((0,o.wg)(),(0,o.iD)("div",R,[(0,o.Wm)(be,{keypath:"status.edited_at",tag:"span"},{time:(0,o.w5)((function(){return[(0,o.Wm)(fe,{"template-key":"time.in_past",time:e.status.edited_at,"auto-update":60,"long-format":!0},null,8,["time"])]})),_:1})])):(0,o.kq)("",!0)])),(0,o.Wm)(ye,{ref:"content",status:e.status,"no-heading":e.noHeading,highlight:e.highlight,focused:e.isFocused,"controlled-showing-tall":e.controlledShowingTall,"controlled-expanding-subject":e.controlledExpandingSubject,"controlled-showing-long-subject":e.controlledShowingLongSubject,"controlled-toggle-showing-tall":e.controlledToggleShowingTall,"controlled-toggle-expanding-subject":e.controlledToggleExpandingSubject,"controlled-toggle-showing-long-subject":e.controlledToggleShowingLongSubject,onMediaplay:t[9]||(t[9]=function(t){return e.addMediaPlaying(t)}),onMediapause:t[10]||(t[10]=function(t){return e.removeMediaPlaying(t)}),onParseReady:e.setHeadTailLinks},null,8,["status","no-heading","highlight","focused","controlled-showing-tall","controlled-expanding-subject","controlled-showing-long-subject","controlled-toggle-showing-tall","controlled-toggle-expanding-subject","controlled-toggle-showing-long-subject","onParseReady"]),e.inConversation&&!e.isPreview&&e.replies&&e.replies.length?((0,o.wg)(),(0,o.iD)("div",q,[e.showOtherRepliesAsButton&&e.replies.length>1?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled -link faint",title:e.$tc("status.ancestor_follow",e.replies.length-1,{numReplies:e.replies.length-1}),onClick:t[11]||(t[11]=(0,i.iM)((function(){return e.dive&&e.dive.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$tc("status.replies_list_with_others",e.replies.length-1,{numReplies:e.replies.length-1})),9,N)):((0,o.wg)(),(0,o.iD)("span",Z,(0,r.zw)(e.$t("status.replies_list")),1)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.replies,(function(t){return(0,o.wg)(),(0,o.j4)(ge,{key:t.id,"status-id":t.id},{default:(0,o.w5)((function(){return[(0,o._)("button",{class:"button-unstyled -link reply-link",onClick:(0,i.iM)((function(n){return e.gotoOriginal(t.id)}),["prevent"])},(0,r.zw)(t.name),9,W)]})),_:2},1032,["status-id"])})),128))])):(0,o.kq)("",!0),(0,o.Wm)(i.uT,{name:"fade"},{default:(0,o.w5)((function(){return[!e.hidePostStats&&e.isFocused&&e.combinedFavsAndRepeatsUsers.length>0?((0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",H,[e.statusFromGlobalRepository.rebloggedBy&&e.statusFromGlobalRepository.rebloggedBy.length>0?((0,o.wg)(),(0,o.j4)(_e,{key:0,users:e.statusFromGlobalRepository.rebloggedBy},{default:(0,o.w5)((function(){return[(0,o._)("div",V,[(0,o._)("a",K,(0,r.zw)(e.$t("status.repeats")),1),(0,o._)("div",G,(0,r.zw)(e.statusFromGlobalRepository.rebloggedBy.length),1)])]})),_:1},8,["users"])):(0,o.kq)("",!0),e.statusFromGlobalRepository.favoritedBy&&e.statusFromGlobalRepository.favoritedBy.length>0?((0,o.wg)(),(0,o.j4)(_e,{key:1,users:e.statusFromGlobalRepository.favoritedBy},{default:(0,o.w5)((function(){return[(0,o._)("div",Y,[(0,o._)("a",J,(0,r.zw)(e.$t("status.favorites")),1),(0,o._)("div",Q,(0,r.zw)(e.statusFromGlobalRepository.favoritedBy.length),1)])]})),_:1},8,["users"])):(0,o.kq)("",!0),(0,o._)("div",X,[(0,o.Wm)(ke,{users:e.combinedFavsAndRepeatsUsers},null,8,["users"])])])])):(0,o.kq)("",!0)]})),_:1}),!e.mergedConfig.emojiReactionsOnTimeline&&!e.isFocused||e.noHeading||e.isPreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Se,{key:2,status:e.status},null,8,["status"])),e.noHeading||e.isPreview?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",ee,[(0,o.Wm)(je,{replying:e.replying,status:e.status,onToggle:e.toggleReplying},null,8,["replying","status","onToggle"]),(0,o.Wm)(Ce,{visibility:e.status.visibility,"logged-in":e.loggedIn,status:e.status},null,8,["visibility","logged-in","status"]),(0,o.Wm)(Oe,{"logged-in":e.loggedIn,status:e.status},null,8,["logged-in","status"]),e.loggedIn?((0,o.wg)(),(0,o.j4)(Pe,{key:0,status:e.status},null,8,["status"])):(0,o.kq)("",!0),(0,o.Wm)(ze,{status:e.status,onOnError:e.showError,onOnSuccess:e.clearError},null,8,["status","onOnError","onOnSuccess"])]))])],14,g)),e.replying?((0,o.wg)(),(0,o.iD)("div",ie,[(0,o.Wm)(De,{class:"reply-body","reply-to":e.status.id,attentions:e.status.attentions,"replied-user":e.status.user,"copy-message-scope":e.status.visibility,subject:e.replySubject,onPosted:e.toggleReplying},null,8,["reply-to","attentions","replied-user","copy-message-scope","subject","onPosted"])])):(0,o.kq)("",!0)],64))],2))}]])},38146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var o=n(66252),r=n(3577),i={key:0},s={key:1},a={key:3,class:"link-preview media-body"},c=n(4942),l=n(66596),u=["role"],d=["title"],p={class:"option-result-label"},m={class:"result-percentage"},h=["role","aria-labelledby","aria-checked","onClick"],f=["disabled","value"],g=["disabled","value"],v={class:"option-vote"},w={class:"footer faint"},b=["disabled"],y={class:"total"},_=n(35161),k=n.n(_),S=n(84486),j=n.n(S),C=n(1840),O=n(92820);const P={name:"Poll",props:["basePoll","emoji"],components:{Timeago:C.Z,RichContent:O.Z},data:function(){return{loading:!1,choices:[],randomSeed:"".concat(Math.random()).replace(".","-")}},created:function(){this.$store.state.polls.pollsObject[this.pollId]||this.$store.dispatch("mergeOrAddPoll",this.basePoll),this.$store.dispatch("trackPoll",this.pollId)},unmounted:function(){this.$store.dispatch("untrackPoll",this.pollId)},computed:{pollId:function(){return this.basePoll.id},poll:function(){return this.$store.state.polls.pollsObject[this.pollId]||{}},options:function(){return this.poll&&this.poll.options||[]},expiresAt:function(){return this.poll&&this.poll.expires_at||0},expired:function(){return this.poll&&this.poll.expired||!1},loggedIn:function(){return this.$store.state.users.currentUser},showResults:function(){return this.poll.voted||this.expired||!this.loggedIn},totalVotesCount:function(){return this.poll.votes_count},containerClass:function(){return{loading:this.loading}},choiceIndices:function(){return this.choices.map((function(e,t){return e&&t})).filter((function(e){return"number"==typeof e}))},isDisabled:function(){var e=0===this.choiceIndices.length;return this.loading||e}},methods:{percentageForOption:function(e){return 0===this.totalVotesCount?0:Math.round(e/this.totalVotesCount*100)},resultTitle:function(e){return"".concat(e.votes_count,"/").concat(this.totalVotesCount," ").concat(this.$t("polls.votes"))},fetchPoll:function(){this.$store.dispatch("refreshPoll",{id:this.statusId,pollId:this.poll.id})},activateOption:function(e){var t=this.$el.querySelectorAll("input"),n=this.$el.querySelector('input[value="'.concat(e,'"]'));this.poll.multiple?n.checked=!n.checked:(j()(t,(function(e){e.checked=!1})),n.checked=!0),this.choices=k()(t,(function(e){return e.checked}))},optionId:function(e){return"poll".concat(this.poll.id,"-").concat(e)},vote:function(){var e=this;0!==this.choiceIndices.length&&(this.loading=!0,this.$store.dispatch("votePoll",{id:this.statusId,pollId:this.poll.id,choices:this.choiceIndices}).then((function(t){e.loading=!1})))}}};var z=n(83744);const D=(0,z.Z)(P,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("RichContent"),l=(0,o.up)("Timeago"),_=(0,o.up)("i18n-t");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["poll",e.containerClass])},[(0,o._)("div",{role:e.showResults?"section":e.poll.multiple?"group":"radiogroup"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(function(t,n){return(0,o.wg)(),(0,o.iD)("div",{key:n,class:"poll-option"},[e.showResults?((0,o.wg)(),(0,o.iD)("div",{key:0,title:e.resultTitle(t),class:"option-result"},[(0,o._)("div",p,[(0,o._)("span",m,(0,r.zw)(e.percentageForOption(t.votes_count))+"% ",1),(0,o.Wm)(c,{html:t.title_html,"handle-links":!1,emoji:e.emoji},null,8,["html","emoji"])]),(0,o._)("div",{class:"result-fill",style:(0,r.j5)({width:"".concat(e.percentageForOption(t.votes_count),"%")})},null,4)],8,d)):((0,o.wg)(),(0,o.iD)("div",{key:1,tabindex:"0",role:e.poll.multiple?"checkbox":"radio","aria-labelledby":"option-vote-".concat(e.randomSeed,"-").concat(n),"aria-checked":e.choices[n],onClick:function(t){return e.activateOption(n)}},[e.poll.multiple?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"checkbox",class:"poll-checkbox",disabled:e.loading,value:n},null,8,f)):((0,o.wg)(),(0,o.iD)("input",{key:1,type:"radio",disabled:e.loading,value:n},null,8,g)),(0,o._)("label",v,[(0,o.Wm)(c,{id:"option-vote-".concat(e.randomSeed,"-").concat(n),html:t.title_html,"handle-links":!1,emoji:e.emoji},null,8,["id","html","emoji"])])],8,h))])})),128))],8,u),(0,o._)("div",w,[e.showResults?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn button-default poll-vote-button",type:"button",disabled:e.isDisabled,onClick:t[0]||(t[0]=function(){return e.vote&&e.vote.apply(e,arguments)})},(0,r.zw)(e.$t("polls.vote")),9,b)),(0,o._)("div",y,["number"==typeof e.poll.voters_count?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,r.zw)(e.$tc("polls.people_voted_count",e.poll.voters_count,{count:e.poll.voters_count}))+" ·  ",1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,r.zw)(e.$tc("polls.votes_count",e.poll.votes_count,{count:e.poll.votes_count}))+" ·  ",1)],64))]),(0,o._)("span",null,[(0,o.Wm)(_,{scope:"global",keypath:e.expired?"polls.expired":"polls.expires_in"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{time:e.expiresAt,"auto-update":60,"now-threshold":0},null,8,["time"])]})),_:1},8,["keypath"])])])],2)}]]);var I=n(67671),x=n(49963),T={class:"body"},$=n(58394),U=n(989),M=n(9382),A=n(84131);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}M.vI.add(A.gMD,A.Xig,A.VmB,A.nNP,A.Mm7);const E={name:"StatusContent",props:["compact","status","focused","noHeading","fullContent","singleLine","showingTall","expandingSubject","showingLongSubject","toggleShowingTall","toggleExpandingSubject","toggleShowingLongSubject"],data:function(){return{postLength:this.status.text.length,parseReadyDone:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({localCollapseSubjectDefault:function(){return this.mergedConfig.collapseMessageWithSubject},tallStatus:function(){return!this.singleLine&&!this.compact&&this.status.raw_html.split(/<p|<br/).length+this.postLength/80>20},longSubject:function(){return this.status.summary.length>240},mightHideBecauseSubject:function(){return!!this.status.summary&&this.localCollapseSubjectDefault},mightHideBecauseTall:function(){return this.tallStatus&&!(this.status.summary&&this.localCollapseSubjectDefault)},hideSubjectStatus:function(){return this.mightHideBecauseSubject&&!this.expandingSubject},hideTallStatus:function(){return this.mightHideBecauseTall&&!this.showingTall},showingMore:function(){return this.mightHideBecauseTall&&this.showingTall||this.mightHideBecauseSubject&&this.expandingSubject},attachmentTypes:function(){return this.status.attachments.map((function(e){return $.Z.fileType(e.mimetype)}))}},(0,U.Se)(["mergedConfig"])),components:{RichContent:O.Z},mounted:function(){var e=this;this.status.attentions&&this.status.attentions.forEach((function(t){var n=t.id;e.$store.dispatch("fetchUserIfMissing",n)}))},methods:{onParseReady:function(e){var t=this;if(!this.parseReadyDone){this.parseReadyDone=!0,this.$emit("parseReady",e);var n=e.writtenMentions,o=e.invisibleMentions;n.filter((function(e){return!e.notifying})).forEach((function(e){var n=e.content,o=e.url,r=n.replace(/<[^>]+?>/gi,"");if(r.startsWith("@")){var i=r.slice(1),s=o.replace(/^https?:\/\//,"").replace(/\/.+?$/,"");t.$store.dispatch("fetchUserIfMissing","".concat(i,"@").concat(s))}})),this.postLength=o.reduce((function(e,t){return e-t.textContent.length-1}),this.postLength)}},toggleShowMore:function(){this.mightHideBecauseTall?this.toggleShowingTall():this.mightHideBecauseSubject&&this.toggleExpandingSubject()},generateTagLink:function(e){return"/tag/".concat(e)}}},F=(0,z.Z)(E,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("RichContent"),l=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["StatusBody",{"-compact":e.compact}])},[(0,o._)("div",T,[e.status.summary_raw_html?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["summary-wrapper",{"-tall":e.longSubject&&!e.showingLongSubject}])},[(0,o.Wm)(c,{class:"media-body summary",html:e.status.summary_raw_html,emoji:e.status.emojis},null,8,["html","emoji"]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[0]||(t[0]=(0,x.iM)((function(){return e.toggleShowingLongSubject&&e.toggleShowingLongSubject.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("status.hide_full_subject")),513),[[x.F8,e.longSubject&&e.showingLongSubject]]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link tall-subject-hider",onClick:t[1]||(t[1]=(0,x.iM)((function(){return e.toggleShowingLongSubject&&e.toggleShowingLongSubject.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("status.show_full_subject")),513),[[x.F8,e.longSubject&&!e.showingLongSubject]])],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,r.C_)([{"-tall-status":e.hideTallStatus},"text-wrapper"])},[(0,o.wy)((0,o._)("button",{class:(0,r.C_)(["button-unstyled -link tall-status-hider",{"-focused":e.focused}]),onClick:t[2]||(t[2]=(0,x.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.$t("general.show_more")),3),[[x.F8,e.hideTallStatus]]),e.hideSubjectStatus||e.singleLine&&e.status.summary_raw_html?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,class:(0,r.C_)([{"-single-line":e.singleLine},"text media-body"]),html:e.status.raw_html,emoji:e.status.emojis,"handle-links":!0,greentext:e.mergedConfig.greentext,attentions:e.status.attentions,onParseReady:e.onParseReady},null,8,["class","html","emoji","greentext","attentions","onParseReady"])),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link cw-status-hider",onClick:t[3]||(t[3]=(0,x.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},[(0,o.Uk)((0,r.zw)(e.$t("status.show_content"))+" ",1),e.attachmentTypes.includes("image")?((0,o.wg)(),(0,o.j4)(l,{key:0,icon:"image"})):(0,o.kq)("",!0),e.attachmentTypes.includes("video")?((0,o.wg)(),(0,o.j4)(l,{key:1,icon:"video"})):(0,o.kq)("",!0),e.attachmentTypes.includes("audio")?((0,o.wg)(),(0,o.j4)(l,{key:2,icon:"music"})):(0,o.kq)("",!0),e.attachmentTypes.includes("unknown")?((0,o.wg)(),(0,o.j4)(l,{key:3,icon:"file"})):(0,o.kq)("",!0),e.status.poll&&e.status.poll.options?((0,o.wg)(),(0,o.j4)(l,{key:4,icon:"poll-h"})):(0,o.kq)("",!0),e.status.card?((0,o.wg)(),(0,o.j4)(l,{key:5,icon:"link"})):(0,o.kq)("",!0)],512),[[x.F8,e.hideSubjectStatus]]),(0,o.wy)((0,o._)("button",{class:"button-unstyled -link status-unhider",onClick:t[4]||(t[4]=(0,x.iM)((function(){return e.toggleShowMore&&e.toggleShowMore.apply(e,arguments)}),["prevent"]))},(0,r.zw)(e.tallStatus?e.$t("general.show_less"):e.$t("status.hide_content")),513),[[x.F8,e.showingMore&&!e.fullContent]])],2)]),e.hideSubjectStatus?(0,o.kq)("",!0):(0,o.WI)(e.$slots,"default",{key:0})],2)}]]);var R=n(92798);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}M.vI.add(A.IJ7,A.gMD,A.Xig,A.VmB,A.nNP,A.Mm7);var Z,W=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},B=function(e,t){var n=W(t),o="controlledToggle".concat(n),r="uncontrolled".concat(n);e[o]?e[o]():e[r]=!e[r]};const H={name:"StatusContent",props:["status","compact","focused","noHeading","fullContent","singleLine","controlledShowingTall","controlledExpandingSubject","controlledToggleShowingTall","controlledToggleExpandingSubject","controlledShowingLongSubject","controlledToggleShowingLongSubject"],data:function(){return{uncontrolledShowingTall:this.fullContent||this.inConversation&&this.focused,uncontrolledShowingLongSubject:!1,uncontrolledExpandingSubject:!this.$store.getters.mergedConfig.collapseMessageWithSubject}},computed:N(N(N({},(Z=["showingTall","expandingSubject","showingLongSubject"],Z.reduce((function(e,t){var n=W(t),o="controlledToggle".concat(n),r="controlled".concat(n),i="uncontrolled".concat(n);return e[t]=function(){return void 0===this.$data[o]&&void 0===this.$props[o]||!this[o]?this[i]:this[r]},e}),{}))),{},{hideAttachments:function(){return this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation},nsfwClickthrough:function(){return!(!this.status.nsfw||this.status.summary&&this.localCollapseSubjectDefault)},attachmentSize:function(){return this.compact?"small":this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation||this.status.attachments.length>this.maxThumbnails?"hide":"normal"},maxThumbnails:function(){return this.mergedConfig.maxThumbnails}},(0,U.Se)(["mergedConfig"])),(0,U.rn)({currentUser:function(e){return e.users.currentUser}})),components:{Attachment:l.Z,Poll:D,Gallery:I.Z,LinkPreview:R.Z,StatusBody:F},methods:{toggleShowingTall:function(){B(this,"showingTall")},toggleExpandingSubject:function(){B(this,"expandingSubject")},toggleShowingLongSubject:function(){B(this,"showingLongSubject")},setMedia:function(){var e=this,t="hide"===this.attachmentSize?this.status.attachments:this.galleryAttachments;return function(){return e.$store.dispatch("setMedia",t)}}}},V=(0,z.Z)(H,[["render",function(e,t,n,c,l,u){var d=(0,o.up)("Poll"),p=(0,o.up)("FAIcon"),m=(0,o.up)("gallery"),h=(0,o.up)("link-preview"),f=(0,o.up)("StatusBody");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["StatusContent",{"-compact":e.compact}])},[(0,o.WI)(e.$slots,"header"),(0,o.Wm)(f,{status:e.status,compact:e.compact,"single-line":e.singleLine,"showing-tall":e.showingTall,"expanding-subject":e.expandingSubject,"showing-long-subject":e.showingLongSubject,"toggle-showing-tall":e.toggleShowingTall,"toggle-expanding-subject":e.toggleExpandingSubject,"toggle-showing-long-subject":e.toggleShowingLongSubject,onParseReady:t[2]||(t[2]=function(t){return e.$emit("parseReady",t)})},{default:(0,o.w5)((function(){return[e.status.poll&&e.status.poll.options&&!e.compact?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(d,{"base-poll":e.status.poll,emoji:e.status.emojis},null,8,["base-poll","emoji"])])):e.status.poll&&e.status.poll.options&&e.compact?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(p,{icon:"poll-h",size:"2x"})])):(0,o.kq)("",!0),0!==e.status.attachments.length?((0,o.wg)(),(0,o.j4)(m,{key:2,class:"attachments media-body",compact:e.compact,nsfw:e.nsfwClickthrough,attachments:e.status.attachments,limit:e.compact?1:0,size:e.attachmentSize,onPlay:t[0]||(t[0]=function(t){return e.$emit("mediaplay",e.attachment.id)}),onPause:t[1]||(t[1]=function(t){return e.$emit("mediapause",e.attachment.id)})},null,8,["compact","nsfw","attachments","limit","size"])):(0,o.kq)("",!0),!e.status.card||e.noHeading||e.compact?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(h,{card:e.status.card,size:e.attachmentSize,nsfw:e.nsfwClickthrough},null,8,["card","size","nsfw"])]))]})),_:1},8,["status","compact","single-line","showing-tall","expanding-subject","showing-long-subject","toggle-showing-tall","toggle-expanding-subject","toggle-showing-long-subject"]),(0,o.WI)(e.$slots,"footer")],2)}]])},32140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(3577),i={key:0,ref:"canvas"},s=["alt","title","data-src","src","referrerpolicy","loading"];const a={props:["src","referrerpolicy","mimetype","imageLoadError","imageLoadHandler","alt","height","width","dataSrc","loading"],data:function(){return{realSrc:this.src,stopGifs:this.$store.getters.mergedConfig.stopGifs}},computed:{animated:function(){return!!this.realSrc&&this.stopGifs&&("image/gif"===this.mimetype||this.realSrc.endsWith(".gif"))},style:function(){var e=function(e){return/\d$/.test(e)?e+"px":e};return{height:this.height?e(this.height):null,width:this.width?e(this.width):null}}},methods:{loadLazy:function(){this.dataSrc&&(this.realSrc=this.dataSrc)},onLoad:function(){if(this.realSrc){var e=this.$refs.src;if(e){this.imageLoadHandler&&this.imageLoadHandler(e);var t=this.$refs.canvas;if(t){var n=e.naturalWidth,o=e.naturalHeight;t.width=n,t.height=o,t.getContext("2d").drawImage(e,0,0,n,o)}}}},onError:function(){this.imageLoadError&&this.imageLoadError()}},watch:{src:function(){this.realSrc=this.src},dataSrc:function(){this.$el.removeAttribute("data-loaded")}}},c=(0,n(83744).Z)(a,[["render",function(e,t,n,a,c,l){return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["still-image",{animated:e.animated}]),style:(0,r.j5)(e.style)},[e.animated?((0,o.wg)(),(0,o.iD)("canvas",i,null,512)):(0,o.kq)("",!0),((0,o.wg)(),(0,o.iD)("img",{ref:"src",key:e.realSrc,alt:e.alt,title:e.alt,"data-src":e.dataSrc,src:e.realSrc,referrerpolicy:e.referrerpolicy,loading:e.loading,onLoad:t[0]||(t[0]=function(){return e.onLoad&&e.onLoad.apply(e,arguments)}),onError:t[1]||(t[1]=function(){return e.onError&&e.onError.apply(e,arguments)})},null,40,s)),(0,o.WI)(e.$slots,"default")],6)}]])},1840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(66252),r=n(3577),i=["datetime","title"],s=n(27483),a=n(39776);const c={name:"Timeago",props:["time","autoUpdate","longFormat","nowThreshold","templateKey"],data:function(){return{relativeTime:{key:"time.now",num:0},interval:null}},computed:{localeDateString:function(){var e=a.Z.internalToBrowserLocale(this.$i18n.locale);return"string"==typeof this.time?new Date(Date.parse(this.time)).toLocaleString(e):this.time.toLocaleString(e)},relativeTimeString:function(){var e=this.$i18n.tc(this.relativeTime.key,this.relativeTime.num,[this.relativeTime.num]);return"string"==typeof this.templateKey&&"time.now"!==this.relativeTime.key?this.$i18n.t(this.templateKey,[e]):e}},watch:{time:function(e,t){t!==e&&(clearTimeout(this.interval),this.refreshRelativeTimeObject())}},created:function(){this.refreshRelativeTimeObject()},unmounted:function(){clearTimeout(this.interval)},methods:{refreshRelativeTimeObject:function(){var e="number"==typeof this.nowThreshold?this.nowThreshold:1;this.relativeTime=this.longFormat?s.GV(this.time,e):s._F(this.time,e),this.autoUpdate&&(this.interval=setTimeout(this.refreshRelativeTimeObject,1e3*this.autoUpdate))}}},l=(0,n(83744).Z)(c,[["render",function(e,t,n,s,a,c){return(0,o.wg)(),(0,o.iD)("time",{datetime:n.time,title:c.localeDateString},(0,r.zw)(c.relativeTimeString),9,i)}]])},42262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(66252),r=n(9382),i=n(84131);r.vI.add(i.dT$);const s={props:{user:Object}},a=(0,n(83744).Z)(s,[["render",function(e,t,n,r,i,s){var a=(0,o.up)("FAIcon");return e.user&&e.user.screen_name_ui_contains_non_ascii?((0,o.wg)(),(0,o.j4)(a,{key:0,icon:"code",title:e.$t("unicode_domain_indicator.tooltip")},null,8,["title"])):(0,o.kq)("",!0)}]])},48173:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n(66252),r=n(3577),i=n(32140),s=n(9382),a=n(84131);s.vI.add(a.VE0);const c={props:["user","betterShadow","compact","bot"],data:function(){return{showPlaceholder:!1,defaultAvatar:"".concat(this.$store.state.instance.server+this.$store.state.instance.defaultAvatar)}},components:{StillImage:i.Z},methods:{imgSrc:function(e){return!e||this.showPlaceholder?this.defaultAvatar:e},imageLoadError:function(){this.showPlaceholder=!0}}},l=(0,n(83744).Z)(c,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("StillImage"),l=(0,o.up)("FAIcon");return(0,o.wg)(),(0,o.iD)("span",{class:(0,r.C_)(["Avatar",{"-compact":e.compact}])},[e.user?((0,o.wg)(),(0,o.j4)(c,{key:0,class:(0,r.C_)(["avatar",{"-compact":e.compact,"-better-shadow":e.betterShadow}]),alt:e.user.screen_name_ui,title:e.user.screen_name_ui,src:e.imgSrc(e.user.profile_image_url_original),"image-load-error":e.imageLoadError},null,8,["alt","title","src","image-load-error","class"])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["avatar -placeholder",{"-compact":e.compact}])},null,2)),e.bot?((0,o.wg)(),(0,o.j4)(l,{key:2,icon:"robot",class:"bot-indicator"})):(0,o.kq)("",!0)],2)}]])},20392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ae});var o=n(66252),r=n(3577),i=n(49963),s={class:"user-info"},a={class:"container"},c={class:"user-info-avatar -link -overlay"},l={class:"user-summary"},u={class:"top-line"},d=["href"],p={class:"bottom-line"},m={key:0,class:"alert user-role"},h={key:1,class:"alert user-role"},f={key:2,class:"alert user-role"},g={key:1},v={key:2,class:"dailyAvg"},w={class:"user-meta"},b={key:0,class:"following"},y={key:1,class:"highlighter"},_=["id"],k=["id"],S={value:"disabled"},j={value:"solid"},C={value:"striped"},O={value:"side"},P={key:0,class:"user-interactions"},z={class:"btn-group"},D=["disabled"],I=["disabled"],x=["disabled"],T={key:1,class:"user-interactions"},$={key:0,class:"panel-body"},U={key:0,class:"user-counts"},M=(0,o._)("br",null,null,-1),A=["textContent"],L={class:"mute-expiry"},E=["value"],F=n(4942),R=n(27483),q=n(48173),N=n(72895),Z=n(99507),W=n(34837),B={class:"dropdown-menu"},H={key:0},V={key:0,role:"separator",class:"dropdown-divider"},K={key:3,role:"separator",class:"dropdown-divider"},G={key:4},Y=n(9382),J=n(84131),Q=n(71113),X=n(91447);Y.vI.add(J.ptq);const ee={props:["user"],data:function(){return{tags:{FORCE_NSFW:"mrf_tag:media-force-nsfw",STRIP_MEDIA:"mrf_tag:media-strip",FORCE_UNLISTED:"mrf_tag:force-unlisted",DISABLE_REMOTE_SUBSCRIPTION:"mrf_tag:disable-remote-subscription",DISABLE_ANY_SUBSCRIPTION:"mrf_tag:disable-any-subscription",SANDBOX:"mrf_tag:sandbox",QUARANTINE:"mrf_tag:quarantine"},showDeleteUserDialog:!1,toggled:!1}},components:{DialogModal:Q.Z,Popover:X.default},computed:{tagsSet:function(){return new Set(this.user.tags)},canGrantRole:function(){return this.user.is_local&&!this.user.deactivated&&"admin"===this.$store.state.users.currentUser.role},canChangeActivationState:function(){return this.privileged("users_manage_activation_state")},canDeleteAccount:function(){return this.privileged("users_delete")},canUseTagPolicy:function(){return this.$store.state.instance.tagPolicyAvailable&&this.privileged("users_manage_tags")}},methods:{hasTag:function(e){return this.tagsSet.has(e)},privileged:function(e){return this.$store.state.users.currentUser.privileges.includes(e)},toggleTag:function(e){var t=this,n=this.$store;this.tagsSet.has(e)?n.state.api.backendInteractor.untagUser({user:this.user,tag:e}).then((function(o){o.ok&&n.commit("untagUser",{user:t.user,tag:e})})):n.state.api.backendInteractor.tagUser({user:this.user,tag:e}).then((function(o){o.ok&&n.commit("tagUser",{user:t.user,tag:e})}))},toggleRight:function(e){var t=this,n=this.$store;this.user.rights[e]?n.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!1})})):n.state.api.backendInteractor.addRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!0})}))},toggleActivationStatus:function(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog:function(e){this.showDeleteUserDialog=e},deleteUser:function(){var e=this,t=this.$store,n=this.user,o=n.id,r=n.name;t.state.api.backendInteractor.deleteUser({user:n}).then((function(t){e.$store.dispatch("markStatusesAsDeleted",(function(e){return n.id===e.user.id}));var i="external-user-profile"===e.$route.name||"user-profile"===e.$route.name,s=e.$route.params.name===r||e.$route.params.id===o;i&&s&&window.history.back()}))},setToggled:function(e){this.toggled=e}}};var te=n(83744);const ne=(0,te.Z)(ee,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("FAIcon"),l=(0,o.up)("Popover"),u=(0,o.up)("DialogModal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l,{trigger:"click",class:"moderation-tools-popover",placement:"bottom",offset:{y:5},onShow:t[11]||(t[11]=function(t){return e.setToggled(!0)}),onClose:t[12]||(t[12]=function(t){return e.setToggled(!1)})},{content:(0,o.w5)((function(){return[(0,o._)("div",B,[e.canGrantRole?((0,o.wg)(),(0,o.iD)("span",H,[(0,o._)("button",{class:"button-default dropdown-item",onClick:t[0]||(t[0]=function(t){return e.toggleRight("admin")})},(0,r.zw)(e.$t(e.user.rights.admin?"user_card.admin_menu.revoke_admin":"user_card.admin_menu.grant_admin")),1),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[1]||(t[1]=function(t){return e.toggleRight("moderator")})},(0,r.zw)(e.$t(e.user.rights.moderator?"user_card.admin_menu.revoke_moderator":"user_card.admin_menu.grant_moderator")),1),e.canChangeActivationState||e.canDeleteAccount?((0,o.wg)(),(0,o.iD)("div",V)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.canChangeActivationState?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default dropdown-item",onClick:t[2]||(t[2]=function(t){return e.toggleActivationStatus()})},(0,r.zw)(e.$t(e.user.deactivated?"user_card.admin_menu.activate_account":"user_card.admin_menu.deactivate_account")),1)):(0,o.kq)("",!0),e.canDeleteAccount?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-default dropdown-item",onClick:t[3]||(t[3]=function(t){return e.deleteUserDialog(!0)})},(0,r.zw)(e.$t("user_card.admin_menu.delete_account")),1)):(0,o.kq)("",!0),e.canUseTagPolicy?((0,o.wg)(),(0,o.iD)("div",K)):(0,o.kq)("",!0),e.canUseTagPolicy?((0,o.wg)(),(0,o.iD)("span",G,[(0,o._)("button",{class:"button-default dropdown-item",onClick:t[4]||(t[4]=function(t){return e.toggleTag(e.tags.FORCE_NSFW)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_NSFW)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.force_nsfw")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[5]||(t[5]=function(t){return e.toggleTag(e.tags.STRIP_MEDIA)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.STRIP_MEDIA)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.strip_media")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[6]||(t[6]=function(t){return e.toggleTag(e.tags.FORCE_UNLISTED)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.FORCE_UNLISTED)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.force_unlisted")),1)]),(0,o._)("button",{class:"button-default dropdown-item",onClick:t[7]||(t[7]=function(t){return e.toggleTag(e.tags.SANDBOX)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.SANDBOX)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.sandbox")),1)]),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-default dropdown-item",onClick:t[8]||(t[8]=function(t){return e.toggleTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_REMOTE_SUBSCRIPTION)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.disable_remote_subscription")),1)])):(0,o.kq)("",!0),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"button-default dropdown-item",onClick:t[9]||(t[9]=function(t){return e.toggleTag(e.tags.DISABLE_ANY_SUBSCRIPTION)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.DISABLE_ANY_SUBSCRIPTION)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.disable_any_subscription")),1)])):(0,o.kq)("",!0),e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"button-default dropdown-item",onClick:t[10]||(t[10]=function(t){return e.toggleTag(e.tags.QUARANTINE)})},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":e.hasTag(e.tags.QUARANTINE)}])},null,2),(0,o.Uk)(" "+(0,r.zw)(e.$t("user_card.admin_menu.quarantine")),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",{class:(0,r.C_)(["btn button-default btn-block moderation-tools-button",{toggled:e.toggled}])},[(0,o.Uk)((0,r.zw)(e.$t("user_card.admin_menu.moderation"))+" ",1),(0,o.Wm)(c,{icon:"chevron-down"})],2)]})),_:1}),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showDeleteUserDialog?((0,o.wg)(),(0,o.j4)(u,{key:0,"on-cancel":e.deleteUserDialog.bind(this,!1)},{header:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.$t("user_card.admin_menu.delete_user")),1)]})),footer:(0,o.w5)((function(){return[(0,o._)("button",{class:"btn button-default",onClick:t[13]||(t[13]=function(t){return e.deleteUserDialog(!1)})},(0,r.zw)(e.$t("general.cancel")),1),(0,o._)("button",{class:"btn button-default danger",onClick:t[14]||(t[14]=function(t){return e.deleteUser()})},(0,r.zw)(e.$t("user_card.admin_menu.delete_user")),1)]})),default:(0,o.w5)((function(){return[(0,o._)("p",null,(0,r.zw)(e.$t("user_card.admin_menu.delete_user_confirmation")),1)]})),_:1},8,["on-cancel"])):(0,o.kq)("",!0)]))])}]]);var oe={class:"AccountActions"},re={class:"dropdown-menu"},ie=(0,o._)("div",{role:"separator",class:"dropdown-divider"},null,-1),se={class:"button-unstyled ellipsis-button"},ae=["textContent"],ce=["textContent"],le=n(989),ue={class:"UserListMenu"},de={class:"dropdown-menu"},pe=["onClick"],me={class:"btn button-default dropdown-item -has-submenu"};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Y.vI.add(J._tD);const ge={props:["user"],data:function(){return{}},components:{DialogModal:Q.Z,Popover:X.default},created:function(){this.$store.dispatch("fetchUserInLists",this.user.id)},computed:fe(fe({},(0,le.rn)({allLists:function(e){return e.lists.allLists}})),{},{inListsSet:function(){return new Set(this.user.inLists.map((function(e){return e.id})))},lists:function(){var e=this;return this.user.inLists?this.allLists.map((function(t){return fe(fe({},t),{},{inList:e.inListsSet.has(t.id)})})):[]}}),methods:{toggleList:function(e){var t=this;this.inListsSet.has(e)?this.$store.dispatch("removeListAccount",{accountId:this.user.id,listId:e}).then((function(e){e.ok&&t.$store.dispatch("fetchUserInLists",t.user.id)})):this.$store.dispatch("addListAccount",{accountId:this.user.id,listId:e}).then((function(e){e.ok&&t.$store.dispatch("fetchUserInLists",t.user.id)}))},toggleRight:function(e){var t=this,n=this.$store;this.user.rights[e]?n.state.api.backendInteractor.deleteRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!1})})):n.state.api.backendInteractor.addRight({user:this.user,right:e}).then((function(o){o.ok&&n.commit("updateRight",{user:t.user,right:e,value:!0})}))},toggleActivationStatus:function(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog:function(e){this.showDeleteUserDialog=e},deleteUser:function(){var e=this,t=this.$store,n=this.user,o=n.id,r=n.name;t.state.api.backendInteractor.deleteUser({user:n}).then((function(t){e.$store.dispatch("markStatusesAsDeleted",(function(e){return n.id===e.user.id}));var i="external-user-profile"===e.$route.name||"user-profile"===e.$route.name,s=e.$route.params.name===r||e.$route.params.id===o;i&&s&&window.history.back()}))},setToggled:function(e){this.toggled=e}}},ve=(0,te.Z)(ge,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("FAIcon"),l=(0,o.up)("Popover");return(0,o.wg)(),(0,o.iD)("div",ue,[(0,o.Wm)(l,{trigger:"hover",placement:"left","remove-padding":""},{content:(0,o.w5)((function(){return[(0,o._)("div",de,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.lists,(function(t){return(0,o.wg)(),(0,o.iD)("button",{key:t.id,class:"button-default dropdown-item",onClick:function(n){return e.toggleList(t.id)}},[(0,o._)("span",{class:(0,r.C_)(["menu-checkbox",{"menu-checkbox-checked":t.inList}])},null,2),(0,o.Uk)(" "+(0,r.zw)(t.title),1)],8,pe)})),128))])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",me,[(0,o.Uk)((0,r.zw)(e.$t("lists.manage_lists"))+" ",1),(0,o.Wm)(c,{class:"chevron-icon",size:"lg",icon:"chevron-right"})])]})),_:1})])}]]);var we=n(1447);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}Y.vI.add(J.iV1);const ye={props:["user","relationship"],data:function(){return{showingConfirmBlock:!1,showingConfirmRemoveFollower:!1}},components:{ProgressButton:Z.Z,Popover:X.default,UserListMenu:ve,ConfirmModal:we.Z},methods:{showConfirmBlock:function(){this.showingConfirmBlock=!0},hideConfirmBlock:function(){this.showingConfirmBlock=!1},showConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!0},hideConfirmRemoveUserFromFollowers:function(){this.showingConfirmRemoveFollower=!1},showRepeats:function(){this.$store.dispatch("showReblogs",this.user.id)},hideRepeats:function(){this.$store.dispatch("hideReblogs",this.user.id)},blockUser:function(){this.shouldConfirmBlock?this.showConfirmBlock():this.doBlockUser()},doBlockUser:function(){this.$store.dispatch("blockUser",this.user.id),this.hideConfirmBlock()},unblockUser:function(){this.$store.dispatch("unblockUser",this.user.id)},removeUserFromFollowers:function(){this.shouldConfirmRemoveUserFromFollowers?this.showConfirmRemoveUserFromFollowers():this.doRemoveUserFromFollowers()},doRemoveUserFromFollowers:function(){this.$store.dispatch("removeUserFromFollowers",this.user.id),this.hideConfirmRemoveUserFromFollowers()},reportUser:function(){this.$store.dispatch("openUserReportingModal",{userId:this.user.id})},openChat:function(){this.$router.push({name:"chat",params:{username:this.$store.state.users.currentUser.screen_name,recipient_id:this.user.id}})}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({shouldConfirmBlock:function(){return this.$store.getters.mergedConfig.modalOnBlock},shouldConfirmRemoveUserFromFollowers:function(){return this.$store.getters.mergedConfig.modalOnRemoveUserFromFollowers}},(0,le.rn)({pleromaChatMessagesAvailable:function(e){return e.instance.pleromaChatMessagesAvailable}}))},_e=(0,te.Z)(ye,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("UserListMenu"),l=(0,o.up)("FAIcon"),u=(0,o.up)("Popover"),d=(0,o.up)("i18n-t"),p=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",oe,[(0,o.Wm)(u,{trigger:"click",placement:"bottom","bound-to":{x:"container"},"remove-padding":""},{content:(0,o.w5)((function(){return[(0,o._)("div",re,[e.relationship.following?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.relationship.showing_reblogs?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn button-default dropdown-item",onClick:t[0]||(t[0]=function(){return e.hideRepeats&&e.hideRepeats.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.hide_repeats")),1)):(0,o.kq)("",!0),e.relationship.showing_reblogs?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn button-default dropdown-item",onClick:t[1]||(t[1]=function(){return e.showRepeats&&e.showRepeats.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.show_repeats")),1)),ie],64)):(0,o.kq)("",!0),(0,o.Wm)(c,{user:e.user},null,8,["user"]),e.relationship.followed_by?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn button-default btn-block dropdown-item",onClick:t[2]||(t[2]=function(){return e.removeUserFromFollowers&&e.removeUserFromFollowers.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.remove_follower")),1)):(0,o.kq)("",!0),e.relationship.blocking?((0,o.wg)(),(0,o.iD)("button",{key:2,class:"btn button-default btn-block dropdown-item",onClick:t[3]||(t[3]=function(){return e.unblockUser&&e.unblockUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.unblock")),1)):((0,o.wg)(),(0,o.iD)("button",{key:3,class:"btn button-default btn-block dropdown-item",onClick:t[4]||(t[4]=function(){return e.blockUser&&e.blockUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.block")),1)),(0,o._)("button",{class:"btn button-default btn-block dropdown-item",onClick:t[5]||(t[5]=function(){return e.reportUser&&e.reportUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.report")),1),e.pleromaChatMessagesAvailable?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"btn button-default btn-block dropdown-item",onClick:t[6]||(t[6]=function(){return e.openChat&&e.openChat.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.message")),1)):(0,o.kq)("",!0)])]})),trigger:(0,o.w5)((function(){return[(0,o._)("button",se,[(0,o.Wm)(l,{class:"icon",icon:"ellipsis-v"})])]})),_:1}),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmBlock?((0,o.wg)(),(0,o.j4)(p,{key:0,title:e.$t("user_card.block_confirm_title"),"confirm-text":e.$t("user_card.block_confirm_accept_button"),"cancel-text":e.$t("user_card.block_confirm_cancel_button"),onAccepted:e.doBlockUser,onCancelled:e.hideConfirmBlock},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{keypath:"user_card.block_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,ae)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)])),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmRemoveFollower?((0,o.wg)(),(0,o.j4)(p,{key:0,title:e.$t("user_card.remove_follower_confirm_title"),"confirm-text":e.$t("user_card.remove_follower_confirm_accept_button"),"cancel-text":e.$t("user_card.remove_follower_confirm_cancel_button"),onAccepted:e.doRemoveUserFromFollowers,onCancelled:e.hideConfirmRemoveUserFromFollowers},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{keypath:"user_card.remove_follower_confirm",tag:"span"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,ce)]})),_:1})]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))])}]]);var ke={class:"user-note"},Se={class:"heading"},je={class:"buttons"},Ce=["disabled"],Oe=["disabled"];const Pe={props:{user:Object,relationship:Object,editable:Boolean},data:function(){return{localNote:"",editing:!1,frozen:!1}},computed:{shouldShow:function(){return this.relationship.note||this.editing}},methods:{startEditing:function(){this.localNote=this.relationship.note,this.editing=!0},cancelEditing:function(){this.editing=!1},finalizeEditing:function(){var e=this;this.frozen=!0,this.$store.dispatch("editUserNote",{id:this.user.id,comment:this.localNote}).then((function(){e.frozen=!1,e.editing=!1})).catch((function(){e.frozen=!1}))}}},ze=(0,te.Z)(Pe,[["render",function(e,t,n,s,a,c){return(0,o.wg)(),(0,o.iD)("div",ke,[(0,o._)("div",Se,[(0,o._)("span",null,(0,r.zw)(e.$t("user_card.note")),1),(0,o._)("div",je,[(0,o.wy)((0,o._)("button",{class:"button-default btn",onClick:t[0]||(t[0]=function(){return e.startEditing&&e.startEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note")),513),[[i.F8,!e.editing&&e.editable]]),(0,o.wy)((0,o._)("button",{class:"button-default btn",disabled:e.frozen,onClick:t[1]||(t[1]=function(){return e.finalizeEditing&&e.finalizeEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note_apply")),9,Ce),[[i.F8,e.editing]]),(0,o.wy)((0,o._)("button",{class:"button-default btn",disabled:e.frozen,onClick:t[2]||(t[2]=function(){return e.cancelEditing&&e.cancelEditing.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.edit_note_cancel")),9,Oe),[[i.F8,e.editing]])])]),(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.localNote=t}),class:"note-text"},null,512),[[i.F8,e.editing],[i.nr,e.localNote]]),(0,o.wy)((0,o._)("span",{class:(0,r.C_)(["note-text",{"-blank":!e.relationship.note}])},(0,r.zw)(e.relationship.note||e.$t("user_card.note_blank")),3),[[i.F8,!e.editing]])])}]]);var De=n(76990),Ie=n(12061),xe=n(92820),Te=n(4493);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Y.vI.add(J.Fwd,J.qmU,J.N7g,J.Xjp,J.Xcf,J.NBC,J.TTL);const Me={props:["userId","switcher","selected","hideBio","rounded","bordered","avatarAction","onClose","hasNoteEditor"],data:function(){return{followRequestInProgress:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter,showingConfirmMute:!1,muteExpiryAmount:0,muteExpiryUnit:"minutes"}},created:function(){this.$store.dispatch("fetchUserRelationship",this.user.id)},computed:Ue({user:function(){return this.$store.getters.findUser(this.userId)},relationship:function(){return this.$store.getters.relationship(this.userId)},classes:function(){return[{"-rounded-t":"top"===this.rounded,"-rounded":!0===this.rounded,"-bordered":!0===this.bordered,"-popover":!!this.onClose}]},style:function(){return{backgroundImage:["linear-gradient(to bottom, var(--profileTint), var(--profileTint))","url(".concat(this.user.cover_photo,")")].join(", ")}},isOtherUser:function(){return this.user.id!==this.$store.state.users.currentUser.id},subscribeUrl:function(){var e=new URL(this.user.statusnet_profile_url);return"".concat(e.protocol,"//").concat(e.host,"/main/ostatus")},loggedIn:function(){return this.$store.state.users.currentUser},dailyAvg:function(){var e=Math.ceil((new Date-new Date(this.user.created_at))/864e5);return Math.round(this.user.statuses_count/e)},userHighlightType:Ue({get:function(){var e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.type||"disabled"},set:function(e){var t=this.$store.getters.mergedConfig.highlight[this.user.screen_name];"disabled"!==e?this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:t&&t.color||"#FFFFFF",type:e}):this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:void 0})}},(0,le.Se)(["mergedConfig"])),userHighlightColor:{get:function(){var e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return e&&e.color},set:function(e){this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:e})}},visibleRole:function(){var e=this.user.rights;if(e){var t=e.admin||e.moderator,n=e.admin?"admin":"moderator";return t&&n}},hideFollowsCount:function(){return this.isOtherUser&&this.user.hide_follows_count},hideFollowersCount:function(){return this.isOtherUser&&this.user.hide_followers_count},showModerationMenu:function(){var e=this.loggedIn.privileges;return"admin"===this.loggedIn.role||e.includes("users_manage_activation_state")||e.includes("users_delete")||e.includes("users_manage_tags")},hasNote:function(){return this.relationship.note},supportsNote:function(){return"note"in this.relationship},shouldConfirmMute:function(){return this.mergedConfig.modalOnMute},muteExpiryUnits:function(){return["minutes","hours","days"]}},(0,le.Se)(["mergedConfig"])),components:{UserAvatar:q.default,RemoteFollow:N.Z,ModerationTools:ne,AccountActions:_e,ProgressButton:Z.Z,FollowButton:W.Z,Select:De.Z,RichContent:xe.Z,UserLink:Ie.Z,UserNote:ze,ConfirmModal:we.Z},methods:{showConfirmMute:function(){this.showingConfirmMute=!0},hideConfirmMute:function(){this.showingConfirmMute=!1},muteUser:function(){this.shouldConfirmMute?this.showConfirmMute():this.doMuteUser()},doMuteUser:function(){this.$store.dispatch("muteUser",{id:this.user.id,expiresIn:this.shouldConfirmMute?(0,R.cC)(this.muteExpiryUnit,this.muteExpiryAmount):0}),this.hideConfirmMute()},unmuteUser:function(){this.$store.dispatch("unmuteUser",this.user.id)},subscribeUser:function(){return this.$store.dispatch("subscribeUser",this.user.id)},unsubscribeUser:function(){return this.$store.dispatch("unsubscribeUser",this.user.id)},setProfileView:function(e){this.switcher&&this.$store.commit("setProfileView",{v:e})},linkClicked:function(e){var t=e.target;"SPAN"===t.tagName&&(t=t.parentNode),"A"===t.tagName&&window.open(t.href,"_blank")},userProfileLink:function(e){return(0,Te.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")},zoomAvatar:function(){var e={url:this.user.profile_image_url_original,mimetype:"image"};this.$store.dispatch("setMedia",[e]),this.$store.dispatch("setCurrentMedia",e)},mentionUser:function(){this.$store.dispatch("openPostStatusModal",{replyTo:!0,repliedUser:this.user})},onAvatarClickHandler:function(e){this.onAvatarClick&&(e.preventDefault(),this.onAvatarClick())}}},Ae=(0,te.Z)(Me,[["render",function(e,t,n,F,R,q){var N=(0,o.up)("UserAvatar"),Z=(0,o.up)("FAIcon"),W=(0,o.up)("router-link"),B=(0,o.up)("RichContent"),H=(0,o.up)("AccountActions"),V=(0,o.up)("user-link"),K=(0,o.up)("Select"),G=(0,o.up)("FollowButton"),Y=(0,o.up)("ProgressButton"),J=(0,o.up)("FALayers"),Q=(0,o.up)("ModerationTools"),X=(0,o.up)("RemoteFollow"),ee=(0,o.up)("UserNote"),te=(0,o.up)("i18n-t"),ne=(0,o.up)("confirm-modal");return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["user-card",e.classes])},[(0,o._)("div",{class:(0,r.C_)([{"hide-bio":e.hideBio},"background-image"]),style:(0,r.j5)(e.style)},null,6),(0,o._)("div",{class:(0,r.C_)(e.onClose?"":e.panel-e.heading-e.flexible-e.height)},[(0,o._)("div",s,[(0,o._)("div",a,["zoom"===e.avatarAction?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"user-info-avatar -link",onClick:t[0]||(t[0]=function(){return e.zoomAvatar&&e.zoomAvatar.apply(e,arguments)})},[(0,o.Wm)(N,{"better-shadow":e.betterShadow,user:e.user},null,8,["better-shadow","user"]),(0,o._)("div",c,[(0,o.Wm)(Z,{class:"fa-scale-110 fa-old-padding",icon:"search-plus"})])])):"function"==typeof e.avatarAction?((0,o.wg)(),(0,o.j4)(N,{key:1,class:"user-info-avatar","better-shadow":e.betterShadow,user:e.user,onClick:e.avatarAction},null,8,["better-shadow","user","onClick"])):((0,o.wg)(),(0,o.j4)(W,{key:2,to:e.userProfileLink(e.user)},{default:(0,o.w5)((function(){return[(0,o.Wm)(N,{"better-shadow":e.betterShadow,user:e.user},null,8,["better-shadow","user"])]})),_:1},8,["to"])),(0,o._)("div",l,[(0,o._)("div",u,[(0,o.Wm)(W,{to:e.userProfileLink(e.user),class:"user-name"},{default:(0,o.w5)((function(){return[(0,o.Wm)(B,{title:e.user.name,html:e.user.name,emoji:e.user.emoji},null,8,["title","html","emoji"])]})),_:1},8,["to"]),!e.isOtherUser&&e.user.is_local?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"button-unstyled edit-profile-button",onClick:t[1]||(t[1]=(0,i.iM)((function(){return e.openProfileTab&&e.openProfileTab.apply(e,arguments)}),["stop"]))},[(0,o.Wm)(Z,{"fixed-width":"",class:"icon",icon:"edit",title:e.$t("user_card.edit_profile")},null,8,["title"])])):(0,o.kq)("",!0),e.isOtherUser&&!e.user.is_local?((0,o.wg)(),(0,o.iD)("a",{key:1,href:e.user.statusnet_profile_url,target:"_blank",class:"button-unstyled external-link-button"},[(0,o.Wm)(Z,{class:"icon",icon:"external-link-alt"})],8,d)):(0,o.kq)("",!0),e.isOtherUser&&e.loggedIn?((0,o.wg)(),(0,o.j4)(H,{key:2,user:e.user,relationship:e.relationship},null,8,["user","relationship"])):(0,o.kq)("",!0),e.onClose?((0,o.wg)(),(0,o.j4)(W,{key:3,to:e.userProfileLink(e.user),class:"button-unstyled external-link-button",onClick:e.onClose},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{class:"icon",icon:"expand-alt"})]})),_:1},8,["to","onClick"])):(0,o.kq)("",!0),e.onClose?((0,o.wg)(),(0,o.iD)("button",{key:4,class:"button-unstyled external-link-button",onClick:t[2]||(t[2]=function(){return e.onClose&&e.onClose.apply(e,arguments)})},[(0,o.Wm)(Z,{class:"icon",icon:"times"})])):(0,o.kq)("",!0)]),(0,o._)("div",p,[(0,o.Wm)(V,{class:"user-screen-name",user:e.user},null,8,["user"]),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.user.deactivated?((0,o.wg)(),(0,o.iD)("span",m,(0,r.zw)(e.$t("user_card.deactivated")),1)):(0,o.kq)("",!0),e.visibleRole?((0,o.wg)(),(0,o.iD)("span",h,(0,r.zw)(e.$t("general.role.".concat(e.visibleRole))),1)):(0,o.kq)("",!0),e.user.bot?((0,o.wg)(),(0,o.iD)("span",f,(0,r.zw)(e.$t("user_card.bot")),1)):(0,o.kq)("",!0)],64)),e.user.locked?((0,o.wg)(),(0,o.iD)("span",g,[(0,o.Wm)(Z,{class:"lock-icon",icon:"lock",size:"sm"})])):(0,o.kq)("",!0),e.mergedConfig.hideUserStats||e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",v,(0,r.zw)(e.dailyAvg)+" "+(0,r.zw)(e.$t("user_card.per_day")),1))])])]),(0,o._)("div",w,[e.relationship.followed_by&&e.loggedIn&&e.isOtherUser?((0,o.wg)(),(0,o.iD)("div",b,(0,r.zw)(e.$t("user_card.follows_you")),1)):(0,o.kq)("",!0),!e.isOtherUser||!e.loggedIn&&e.switcher?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",y,["disabled"!==e.userHighlightType?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,id:"userHighlightColorTx"+e.user.id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.userHighlightColor=t}),class:"userHighlightText",type:"text"},null,8,_)),[[i.nr,e.userHighlightColor]]):(0,o.kq)("",!0),"disabled"!==e.userHighlightType?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,id:"userHighlightColor"+e.user.id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.userHighlightColor=t}),class:"userHighlightCl",type:"color"},null,8,k)),[[i.nr,e.userHighlightColor]]):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,r.zw)(" ")+" "),(0,o.Wm)(K,{id:"userHighlightSel"+e.user.id,modelValue:e.userHighlightType,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.userHighlightType=t}),class:"userHighlightSel"},{default:(0,o.w5)((function(){return[(0,o._)("option",S,(0,r.zw)(e.$t("user_card.highlight.disabled")),1),(0,o._)("option",j,(0,r.zw)(e.$t("user_card.highlight.solid")),1),(0,o._)("option",C,(0,r.zw)(e.$t("user_card.highlight.striped")),1),(0,o._)("option",O,(0,r.zw)(e.$t("user_card.highlight.side")),1)]})),_:1},8,["id","modelValue"])]))]),e.loggedIn&&e.isOtherUser?((0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("div",z,[(0,o.Wm)(G,{relationship:e.relationship,user:e.user},null,8,["relationship","user"]),e.relationship.following?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.relationship.subscribing?((0,o.wg)(),(0,o.j4)(Y,{key:1,class:"btn button-default toggled",click:e.unsubscribeUser,title:e.$t("user_card.unsubscribe")},{default:(0,o.w5)((function(){return[(0,o.Wm)(J,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{icon:"rss",transform:"left-5 shrink-6 up-3 rotate-20",flip:"horizontal"}),(0,o.Wm)(Z,{icon:"rss",transform:"right-5 shrink-6 up-3 rotate-20"}),(0,o.Wm)(Z,{icon:"bell"})]})),_:1})]})),_:1},8,["click","title"])):((0,o.wg)(),(0,o.j4)(Y,{key:0,class:"btn button-default",click:e.subscribeUser,title:e.$t("user_card.subscribe")},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z,{icon:"bell"})]})),_:1},8,["click","title"]))],64)):(0,o.kq)("",!0)]),(0,o._)("div",null,[e.relationship.muting?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn button-default btn-block toggled",disabled:e.user.deactivated,onClick:t[6]||(t[6]=function(){return e.unmuteUser&&e.unmuteUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.muted")),9,D)):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[7]||(t[7]=function(){return e.muteUser&&e.muteUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.mute")),9,I))]),(0,o._)("div",null,[(0,o._)("button",{class:"btn button-default btn-block",disabled:e.user.deactivated,onClick:t[8]||(t[8]=function(){return e.mentionUser&&e.mentionUser.apply(e,arguments)})},(0,r.zw)(e.$t("user_card.mention")),9,x)]),e.showModerationMenu?((0,o.wg)(),(0,o.j4)(Q,{key:0,user:e.user},null,8,["user"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),!e.loggedIn&&e.user.is_local?((0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(X,{user:e.user},null,8,["user"])])):(0,o.kq)("",!0),e.loggedIn&&e.isOtherUser&&(e.hasNote||e.hasNoteEditor&&e.supportsNote)?((0,o.wg)(),(0,o.j4)(ee,{key:2,user:e.user,relationship:e.relationship,editable:e.hasNoteEditor},null,8,["user","relationship","editable"])):(0,o.kq)("",!0)])],2),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",$,[!e.mergedConfig.hideUserStats&&e.switcher?((0,o.wg)(),(0,o.iD)("div",U,[(0,o._)("div",{class:"user-count",onClick:t[9]||(t[9]=(0,i.iM)((function(t){return e.setProfileView("statuses")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.statuses")),1),(0,o._)("span",null,[(0,o.Uk)((0,r.zw)(e.user.statuses_count)+" ",1),M])]),(0,o._)("div",{class:"user-count",onClick:t[10]||(t[10]=(0,i.iM)((function(t){return e.setProfileView("friends")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.followees")),1),(0,o._)("span",null,(0,r.zw)(e.hideFollowsCount?e.$t("user_card.hidden"):e.user.friends_count),1)]),(0,o._)("div",{class:"user-count",onClick:t[11]||(t[11]=(0,i.iM)((function(t){return e.setProfileView("followers")}),["prevent"]))},[(0,o._)("h5",null,(0,r.zw)(e.$t("user_card.followers")),1),(0,o._)("span",null,(0,r.zw)(e.hideFollowersCount?e.$t("user_card.hidden"):e.user.followers_count),1)])])):(0,o.kq)("",!0),e.hideBio?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(B,{key:1,class:"user-card-bio",html:e.user.description_html,emoji:e.user.emoji,"handle-links":!0},null,8,["html","emoji"]))])),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[e.showingConfirmMute?((0,o.wg)(),(0,o.j4)(ne,{key:0,title:e.$t("user_card.mute_confirm_title"),"confirm-text":e.$t("user_card.mute_confirm_accept_button"),"cancel-text":e.$t("user_card.mute_confirm_cancel_button"),onAccepted:e.doMuteUser,onCancelled:e.hideConfirmMute},{default:(0,o.w5)((function(){return[(0,o.Wm)(te,{keypath:"user_card.mute_confirm",tag:"div"},{user:(0,o.w5)((function(){return[(0,o._)("span",{textContent:(0,r.zw)(e.user.screen_name_ui)},null,8,A)]})),_:1}),(0,o._)("div",L,[(0,o._)("label",null,(0,r.zw)(e.$t("user_card.mute_duration_prompt")),1),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.muteExpiryAmount=t}),type:"number",class:"expiry-amount hide-number-spinner",min:0},null,512),[[i.nr,e.muteExpiryAmount]]),(0,o.Wm)(K,{modelValue:e.muteExpiryUnit,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.muteExpiryUnit=t}),unstyled:"true",class:"expiry-unit"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.muteExpiryUnits,(function(t){return(0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,r.zw)(e.$t("time.".concat(t,"_short"),[""])),9,E)})),128))]})),_:1},8,["modelValue"])])]})),_:1},8,["title","confirm-text","cancel-text","onAccepted","onCancelled"])):(0,o.kq)("",!0)]))],2)}]])},12061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(66252),r=n(3577),i=n(42262),s=n(4493);const a={props:{user:Object,at:{type:Boolean,default:!0}},components:{UnicodeDomainIndicator:i.Z},methods:{userProfileLink:function(e){return(0,s.Z)(e.id,e.screen_name,this.$store.state.instance.restrictedNicknames)}}},c=(0,n(83744).Z)(a,[["render",function(e,t,n,i,s,a){var c=(0,o.up)("UnicodeDomainIndicator"),l=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(l,{title:e.user.screen_name_ui,to:e.userProfileLink(e.user)},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,r.zw)(e.at?"@":"")+(0,r.zw)(e.user.screen_name_ui),1),(0,o.Wm)(c,{user:e.user},null,8,["user"])]})),_:1},8,["title","to"])}]])},22588:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n(66252);const r={name:"UserPopover",props:["userId","overlayCenters","disabled","overlayCentersSelector"],components:{UserCard:n(20392).Z,Popover:(0,o.RC)((function(){return Promise.resolve().then(n.bind(n,91447))}))},computed:{userPopoverAvatarAction:function(){return this.$store.getters.mergedConfig.userPopoverAvatarAction},userPopoverOverlay:function(){return this.$store.getters.mergedConfig.userPopoverOverlay}}},i=(0,n(83744).Z)(r,[["render",function(e,t,n,r,i,s){var a=(0,o.up)("UserCard"),c=(0,o.up)("Popover");return(0,o.wg)(),(0,o.j4)(c,{trigger:"click","popover-class":"popover-default user-popover","overlay-centers-selector":e.overlayCentersSelector||".user-info .Avatar","overlay-centers":e.overlayCenters&&e.userPopoverOverlay,disabled:e.disabled},{trigger:(0,o.w5)((function(){return[(0,o.WI)(e.$slots,"default")]})),content:(0,o.w5)((function(t){var n=t.close;return[(0,o.Wm)(a,{class:"user-popover","user-id":e.userId,"hide-bio":!0,"avatar-action":"close"==e.userPopoverAvatarAction?n:e.userPopoverAvatarAction,"on-close":n},null,8,["user-id","avatar-action","on-close"])]})),_:3},8,["overlay-centers-selector","overlay-centers","disabled"])}]])},34133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(66252),r=["src","loop","controls","alt","title"];const i={props:["attachment","controls"],data:function(){return{blocksSuspend:!1,hasAudio:!0}},computed:{loopVideo:function(){return this.$store.getters.mergedConfig.loopVideoSilentOnly?!this.hasAudio:this.$store.getters.mergedConfig.loopVideo}},methods:{onPlaying:function(e){this.setHasAudio(e),this.loopVideo?this.$emit("play",{looping:!0}):this.$emit("play")},onPaused:function(e){this.$emit("pause")},setHasAudio:function(e){var t=e.srcElement||e.target;this.hasAudio&&(void 0!==t.webkitAudioDecodedByteCount&&t.webkitAudioDecodedByteCount>0||void 0!==t.mozHasAudio&&t.mozHasAudio||void 0!==t.audioTracks&&t.audioTracks.length>0||(this.hasAudio=!1))}}},s=(0,n(83744).Z)(i,[["render",function(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("video",{class:"video",preload:"metadata",src:e.attachment.url,loop:e.loopVideo,controls:e.controls,alt:e.attachment.description,title:e.attachment.description,playsinline:"",onPlaying:t[0]||(t[0]=function(){return e.onPlaying&&e.onPlaying.apply(e,arguments)}),onPause:t[1]||(t[1]=function(){return e.onPaused&&e.onPaused.apply(e,arguments)})},null,40,r)}]])},27650:(e,t,n)=>{var o={"./ar.json":[36224,7808],"./ca.json":[49394,6234],"./cs.json":[87436,7433],"./de.json":[25195,9459],"./en.json":[88797],"./eo.json":[97898,4646],"./es.json":[98559,3968],"./et.json":[13230,4451],"./eu.json":[84826,4542],"./fa.json":[52006,2953],"./fi.json":[70823,9738],"./fr.json":[61341,3746],"./ga.json":[41647,830],"./he.json":[92215,379],"./hu.json":[95028,5494],"./id.json":[62263,2513],"./it.json":[2533,1159],"./ja_easy.json":[8439,8714],"./ja_pedantic.json":[22838,325],"./ko.json":[10707,9670],"./nb.json":[72358,7845],"./nl.json":[49922,6256],"./oc.json":[47297,617],"./pl.json":[82098,5571],"./pt.json":[94465,4047],"./ro.json":[64367,6342],"./ru.json":[73289,5964],"./sk.json":[31478,1547],"./te.json":[32781,2044],"./uk.json":[8411,5253],"./vi.json":[6294,4975],"./zh.json":[4425,5929],"./zh_Hant.json":[37644,6544]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=27650,e.exports=r},31934:(e,t,n)=>{"use strict";e.exports=n.p+"static/img/pleromatan_apology.f9d5180.png"},95326:(e,t,n)=>{"use strict";e.exports=n.p+"static/img/pleromatan_apology_fox.038b0bb.png"},68789:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACvCAQAAAChxLOoAAAK0klEQVR42u2de3BU1R3HP7tJeGd5RCAqiGIECUiB1qACllpbn2DUEUalM7U+sPbhWB1UdKrWccbiTDtqrcVaGVuttZaKYnVQEBEkiihRUJQhQkSxaJ7EvLP77R9Jl93s69695969cfjdP5K7uefcfPf8fuf3OL/zOwHxzaAgh4EcBtJngAxntPdAAi4I++8o5rJvApAvOIKT+Ch6P5KfU8mzLiOR6etcRSTdLkQ7KtfNalREpcLdy3yX90uSKoXQkeqmVk1yG4h5YS8B4FtMJZ8/9Hw2gEqW0c9Nzso33mNXz8/zmcVF0U/7cSMjuBr5HshBQmM5m0mc0PPBRUzpNdFfSSRyTdDnwl6mdUpOnTG/h7VCs/wr7MfqKYVTwIjEAemmj7VMMxUwC8S5HrmM5QzJghE+YRUTWUCrH1irQEsUkROau90HrBXUMw5hSB16VGNzC2Sg7pMZ+lpLlJcrICXaJZO0zakRk12zS1Un09SiGxT0Esj52iq36A2N9wbIUXpJrXKTGjT/ZdeBXKwDjmepzBTWra4B+QDN0Bp1egCjm8pdABJBx+tZeUVd2qBrs5mMM5koRdzLlQRcd7kPsI1tVLBxR8MUF3z2W7gtCzvKOnWwlkoq2coeN22ti11mo5X6VIO9cHW30OYqO9Uz35jtmxbIPhZR5SKQn3AS/b2KawWYyenM5nsMIUzQuNiHOcg+mrmAr7zxR4bqbscTq1J6kQs8Cwfd38gch99YXooISguX80/PgtgziAmBZs3GCZ+0s5qZPOVl7LeErQw1Lu67uibmezBrddNAjuQi1vbAqDEKZEL+MO8CdFN5kImEgL2sZi3PGYUyjgavgLxVVXYcASBMPiwyzFxNHoZMj499dLzBEGcAUZuTpbflMDv6bzgHAh/RmBMgi49nLgDNBjR8EHg1N4uhAf5IAbCF66OLB9bH5qW4b7+71ZO5icb/VpK0R8UaqXabBkqn7tXmqEmyQk9IqjYZyLb6YJGWS5I2a4zoQCuztrm+0lL107WS7vI8Gn+A0XcxjvVsiOzt4cU5vO6ADR6ijgXMNCfq2Ufj87RNktSUdej0JrMrJNk3naFWSWGdrC+i/1ytWvS1WixCeVEhP6zqvstVhAlSxBzei1qzR/GA5XnsHDZylD/WEJeoXQ8roEH6mXZKCusRddhisPc1yAdriCvRWaro5vUuVKTrYtjMKv3eZ5kPjegKNWe1zDPUV5kPoek8zKAsGg7mcs9trTQ0gsezDu1c5aWrm54G8RxnOmhfzAF/jMidjmDAJb5grYcPeSnZ0mn+YK3R7KPAUQ81FBPOPWuVOYQBISb4QUZOM8DgM/0AZLiBEMh+PwCJGOijxg9Aig308X0/ACky0Mfseh8AMbH4UzbcB0DyjLDnSd8MYYfyHAMJk5XxnkhnOuRvAybKTMpp4C6HK7QdDI6JX3rss8deDzpOIBjnj9z49Qb0uw88RNjqeNFmmD+AfMp2hz2U+gMI/Mdh+6l+AfIvh/plgl+A7GJ33H0Fq2y1H+sXILAx7m4Wd/OhjdbjO30DZE2v+4UspMVy68ICJ9l6RndxDOu1JPdZlz1FWeoHhQjQwCtx90fnTWCdjfZn+IW1SEhYWmwrhvhjv7AWKlJbHLNUKmQr7bnUH6zFiloei/tgEvm8aaODa3JpxsfTUD6MW1BbzDiWWm7dxFT2+kFGoJHb4+5/aSuRqZCnO3wyIlDAJ4yJuX+XMYyy0X6yLTXq2ohAJwvpjDMGR9lq/0N/sBbQvjnOgMzPOHH2BjLAJ0D6JxorduJi53CANdzCdFsRM5f2l89KuenVDlXpJo28Nkcb87uvgB41tKehQ6/pvOacAUFHaKfBLRp/zZQh4V5dlDrnax4x9CN2Me9Tr4W9h7L3LpLpxJGsPGZ5miCga6z1Kxf2KDbrLY1xaz97Kv97ByHjvYaBOhbxsnesNZc8DjrwLZJTHnmMZHWyBIOAa2UxglRQlmXbrrTWgGjnlGiym+vC3s9BnKorbRZegAH8vffavntATnAQy+2fMQ+ilJu9Yq0JfIyb1MrY2C0CeXe69aJaRhOJ80tMez3/jXWiA64W0zubl1zsfX1s+Mjd0m1zXe3927Fzm7tAjnO191BsFoy7QCa52nskWnDJDpA3gTqbgQ2DG5mSq9wS6/50tNEp05gzYjxDKAAOUEsnO9ka+TLNN3Eqg10ekQJ7QE7nes5Irt6Cn/MClexhC/UJdlEZuDwiX1sHks893Jgm2+RoFvf8VkM1nVTTSiFjCFHiQYGFTqt6pJCnOA//UhlvWxmRUp5mCn6mfVZG5GReM5Quk60oZ5pR62JT3lI9fCKrcgrDimLYkfnxYbxicK+NW1SRCUg+G120Ws3RvzMB+YXPRbyb9h+asZIDKeU2+gK9GO8OJwJ5wkH6q5eVwh9LPzcsZbqDzgPejUdbRTqfvYhqlw09U/56ae8l0/gRua5PwIA7Eld+Y0ekPx9xbB+AsZ0ZifmosSNyZ5+A0cTCZGm1h0akgL19QJu3c27yAgvBGCOx2PcwOliQqk7EISDTjQYi3NAoLZRHnk/tAf6fJhp9qXmNUscFbApaMJYLfc1UOziZTdas/jyjLw4b7e0RyvgkU3DBHWYwJ2+f81NW23lhxJcysoJSKzDcKIBvjj5j0cENIdssUOM7IO+wIZQFL1f5Dsjg1qyEcpPvgGigjYejMtL5fsHu2Oi2Bd1dxRa+pAv4jDZmMZ3JPULeZUT27HmqMWkQSy0nU1TqEoXaeiVRdKChOkcPaK+RXC1pt52iPLE3w9VgqdTzbzJUEw9omREgNeqXXQJzvYUKlk2cxa8z6BwZykIZYSe/KF4Dp6/7E6aROay10OsoI0ACHJklkIodPJ7yyU6CXNo7A8QFIIox20dnJ+zdVWT3pOTZzZZrb33pKIfxUNXZq7JP8m+kPGV6UrXF72YaIx2MSEEMaxVnKyMA73FBiu1E37EYLJqNKSp1AgReY27SorglvB7l2nxSq11zIXAb6/SpVqz6cwVLkmQuNLOKDymknvtSznDvMMMQkBobTJpWaOdrfdL9OM9oQJoNY50Gz1kImisUNlnPx3Tdphc0O+3z5xnNLJ1gFUhm4+4D5nMc05hHkFdZlTHlcp4DDdKVULxnqFMZyZ6qHGSghBNCIAutFv42nR003lEiTTDJpENugEw2HLIYlBMga+Bq2g12WB+/lp7t9Gv/Gqva6HTdrHccnSDToAc1wvq7zYaDhrOaY2ikmk28yZNJWKWVzylMadWKANDJ3/gzW2xG2lzaqxDSsrTjkcwZblNEYf1DJf44M5QWFNI9WbBVhzr03e3+2KsLMHAQV3Nr0qDpk6xMa8AXMHmKsZnbuYN6IfcmgbGfyw8u6lVypCXOYRBvZ0xDD3glIwGdrqYk3H+HBgrN63UKSb261KQuVetP+oGOdVKT2TSQ8b1KS0dUpb9oqhCapNqEg+q6YU50/mbT0fhQdPDreYZXeIMvon97iBG9xQmIcLeRfQ3GZ62HJB3UDQn7BsuTzlQf61SfHtncgSYnOZ2qv3YngGjXMlOFpN3cGRp/LU04YGidTtvn60O0k10n9jpFcaeu0HAn51HmBkhe9FSF7in3Ho01fTywN0DOiIGxTtOU3zfOZ0+8Rmm/JOldXakhbr0l4Eka4lAupIYKcwfZeBF8yBEFOQzkMJDDQNLR/wB7JNbnLtPZmwAAAABJRU5ErkJggg=="},43011:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACvCAQAAAChxLOoAAAJBUlEQVR42u2da3CUVxnHf7vZJCSBTcI1tIR7AwkXEUeYctEOFi0dGCnWUkudKUMpHXS0VacqMtMytTOVD3U0Itaq1amMl8poRbSdFjtahbYWRKmlZaiAULADKSSEpLns/v2QNWR3E7rvnvPuOe3wvB+y75uc581vz3POec5zbhHx3pAol0Eug7xrQKoZVXiQSAiF/SFquOW9AHKK4czg1d77EXyW/fw6ZBLZvq5XUtJGITrQcn1ZzUqqQYR72Vf5LUnSfiE0Wj3SrvqwQewX9skAvI+ZxPhO6tkg9rOZkjAtK2ZdY3fq51Lms6L3aQlfZChrkfcgLcRruY56rko9WMH0jIp+DcnkHVHPC/sc7VL/0tXnc0JLfS4j4/kZe1g0wPeUVtmzxN+W/RYOcPOAeiJpxhuhqPdzDXexgzI/ykgxd/MgkQApzgEl3Mg6FhAFKml3X0aielxJBZGElulOHe+9b1XUfYMY0dcVVM7rQtr9TueFfS/cy9cCJxtMeVoV8Dv3TuNidlJs+O4EkzjmttYq4SFjDHiy+Zjr6vcLGa12frXMxkrHLXu13papJLXuSbdufBN6xBijS9evt+yiBC/sYzhiwdVczY9duyiNVjzm26i0CxI0C6cqIRuSVKNb7/dGS33KCGuodWdaMT5l7c1lbHQHchNTLb57LZ+258YHqbWiHKDBchFN0MJxLvBxTheuP7LICCPRp1N1UYqopoqbTTGCmdY9Rm8qGiCC0sYqflnI6neV7Mvb+q2mF7Zln8xL1pswONQ9JVawWquM0azgmRTGGasgdbGqwgUfZtLIFOLAUXbwDE9YRRnHuUKBvPD6nAlEgAQxuNWycZ0vYDhoUt8/nWjRyYsgmpy07A/Dgn4jiPmBwKs0OwFZN4lrALgQKCg38Jv/6MbXivBdioEX+Xzv4EHuefOHtG+/J9U2N/2Rb0iSjqhGI9QRuHP7oHb39kUe1U8lHVOk8H32YXpYkrRbY0Qn2p53a35aG1SiOyVtKnif/U1GbWIcz/Kn5NGULS7kzwZmsIW3uIm59op6/kHsIv09Fc09lGfOfMmmYZkEsWerXVJCH9Sp3n+uSW1qVVuOKL9X3IcRq33cToIow1jIP1LPOriCb+dcjy3hOa5wbVo91z3q0FZFVK7P6KCkhL6vzkAG9k+VezBhYDv6mPb02Ho3Gqb1fcwsV/mmZzMfmtHqjGGc3KRVlV7NfIi/n62pYZxgUsEqd8MK2TKUn1CaZ9rbCx0OGljKeYJrDdLX8KYfOXKfEQZ80gvT2nqxl5KvzPPDtEZx3HBE8Qw1JNyb1hzjgdE4dT6UkXkWDHyuDyDVFkIgJ30ASVrQccYHkBoLOj7iA8gwCzoWnPUAJGJBx5xqD0CKrJjnjPdGYYfljkES5OW8Z8u1hvZtwUWZy3LOsSlvN75HOqnoE78scJ+979VoPBA3zo+58c9aaN896CHCS8aDNlV+gPyHA4YaGvwAgZ2G6Wf6AvIrw/alzheQQxxOu9/DbwKlr/UFBJ5Lu5vP/bwSIPXELm9Ansq4X8lK2nJOPaR4sA8NIkJVGUNyJ7qDNZQNviwWO8fTafdXFtWxK0D6Rb6YFlkTltYFiiHe5otpoWEZs7T3Kx5ojUmDH6bFo038KO1BPTGeD6DgDpdufLpU8kragNo6xrEh59TnmclRH8oINGdMg/1coIlMQ/hFpyc5AsX8mzF97vcxhpEB0k8L1IyGliPQxUq60pzBkYHSf9QP0wI6dqc5kLF3rDjTZWE+AaZQQEqznZUgcbEl+Wy1ENYa4MMGQaIyGvMoJCEtAo7oB0aLMsa6X5j//+/nK312fQga8Isw3BfTgrfyHvNooTX44FGYG7zk27uoos0nkLuYY+DmBE4bCWkThlpeJm5QwhJM4IQPOXINRbQYpI+lJuY6B3mMeN61FiSApb6UkRKDOFU34gOdnoBcZRDLLSXB+JJBfoB0GKSNECMWLEfDAznEVl4w0jDKDxBYz31G6af4AkLQKjSjLRnrD8gEo3Iy3h+QesN4jCcgEcOFTNW+gFxNhVH6Cl9Axph2A7o8AZllmP7K4jI/QCYYpo8y2g+Q2caVxXUegCRNJ6QlgU+47yFClFbjjRBaGeLetIYzyFhHWe5fRXggUy1MESzK3d8KD2SWFS0V7kFmWNEScwySNG9FeiTnMeHwaq0mhloJYXS5Na0ogy1oeYMu12VknJVNcQ+6b9mHWNGy1z1InRUtB9yDxK1oOeIeJGJFy7/cg9iY+J8IMgE3LJApFnScCDIyHBaIjUMJuoMYaFgg/7Wgoxm5B6mzUkZwD9JlQcdZH0DGW9DR5hwkcXELqIK1RaGARDEMlqZ6h+2uQSKlVvSqzHkZqSn8Qs1wQOz01yvdN4h2+utVQdbJhwMyzYqWoUG6y+GAjLRTZ7iPxpuAqE+DOMotSJGRp3VxdWhZkDHIMEBmMcIgdXEf06pxC7LAmqYGtyDTrWmqdwsy25qmAOPC9mO/VZy2dqhUkuJc++32c2S+xUO+oqlzypyALDNoQbr68becgSw2aMmj+XtttkEmGk2kyf5vSl2BmLmL2W57uROQp2Ct0aTMTDnLywFKmMWrVk29yycvaG/A47rS5ZwaNTT3d9s9D7GaHYylmWP8hefZ1o+ptPMGQwb0akUE6OIxHuHFgGuCQlrRE9fmS+ZHot99/ZNK6Oea7MeZobShuB7Iw6w61akPH/DmzFDKylnLV/sNHGxj+yUd+GKmTbdWc5t3UG/o92jBk6xquTVjVLAtLSwq/sZrgSvokMpIRB/S+X6s/16VCS1Td9rzs+rWeXXrmL6nxRpvsiezbZCJGVtLJ/W6fqiZQqheTRmAbSnMKeZvtn0cbbw388/yOE/zV071/m5L1qSOMiDJ/e9oUE6q3y2SWnR31s7Ky/utqV7T1Z4e2dyJpqki63mpDmdBdGizrY2kFVqDmHltyFrEukvzjnt9iHb/B6u1p2Ec1GpV2zv4tFAgRb2nKvRUuQ+o1u7m94UCWdQHY5dmKfbuOJ89+xqpk5KkfVqjwWG9JbypgOkhhBs4wx57B9kUIq7lSKJcBrkMchnkUvI/OFy4hX3mBzYAAAAASUVORK5CYII="}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,e=[],a.O=(t,n,o,r)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],s=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var r=Object.create(null);a.r(r);var i={};t=t||[null,n({}),n([]),n(n)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(r,i),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"static/js/"+({50:"emoji-annotations/en_GB-json",227:"emoji-annotations/ha-json",278:"emoji-annotations/kn-json",313:"emoji-annotations/tg-json",325:"i18n/ja_pedantic-json",346:"emoji-annotations/rw-json",379:"i18n/he-json",420:"emoji-annotations/fi-json",457:"emoji-annotations/zh-json",577:"emoji-annotations/en_001-json",617:"i18n/oc-json",625:"emoji-annotations/so-json",678:"emoji-annotations/ps-json",786:"emoji-annotations/xh-json",830:"i18n/ga-json",1012:"emoji-annotations/or-json",1044:"emoji-annotations/zh_Hant_HK-json",1056:"emoji-annotations/uz-json",1095:"emoji-annotations/pl-json",1159:"i18n/it-json",1162:"emoji-annotations/ccp-json",1236:"emoji-annotations/fil-json",1290:"emoji-annotations/ja-json",1404:"emoji-annotations/km-json",1452:"emoji-annotations/yue-json",1546:"emoji-annotations/pt_PT-json",1547:"i18n/sk-json",1553:"emoji-annotations/sl-json",1584:"emoji-annotations/to-json",1596:"emoji-annotations/da-json",1613:"emoji-annotations/mai-json",1780:"emoji-annotations/tk-json",1790:"emoji-annotations/dsb-json",1821:"emoji-annotations/fr_CA-json",1911:"emoji-annotations/mr-json",1959:"emoji-annotations/su-json",2044:"i18n/te-json",2223:"emoji-annotations/fr-json",2243:"emoji-annotations/sa-json",2342:"emoji-annotations/az-json",2350:"emoji-annotations/sk-json",2397:"emoji-annotations/kl-json",2479:"emoji-annotations/jv-json",2513:"i18n/id-json",2569:"emoji-annotations/tt-json",2599:"emoji-annotations/kok-json",2656:"emoji-annotations/ckb-json",2685:"emoji-annotations/ml-json",2699:"emoji-annotations/es_MX-json",2767:"emoji-annotations/zh_Hant-json",2861:"emoji-annotations/hr-json",2873:"emoji-annotations/kk-json",2874:"emoji-annotations/sc-json",2883:"emoji-annotations/ku-json",2953:"i18n/fa-json",2966:"emoji-annotations/ko-json",2992:"emoji-annotations/eu-json",3056:"emoji-annotations/hi_Latn-json",3241:"emoji-annotations/sv-json",3276:"emoji-annotations/et-json",3313:"emoji-annotations/es_US-json",3377:"emoji-annotations/as-json",3568:"emoji-annotations/ti-json",3687:"emoji",3746:"i18n/fr-json",3887:"emoji-annotations/sr-json",3951:"emoji-annotations/th-json",3968:"i18n/es-json",3974:"emoji-annotations/bg-json",3994:"emoji-annotations/sw_KE-json",4047:"i18n/pt-json",4209:"emoji-annotations/doi-json",4354:"emoji-annotations/si-json",4368:"emoji-annotations/sq-json",4424:"emoji-annotations/yue_Hans-json",4451:"i18n/et-json",4542:"i18n/eu-json",4571:"emoji-annotations/ga-json",4646:"i18n/eo-json",4691:"emoji-annotations/ca-json",4710:"emoji-annotations/cs-json",4718:"emoji-annotations/mn-json",4770:"emoji-annotations/lb-json",4785:"emoji-annotations/ky-json",4786:"emoji-annotations/te-json",4879:"emoji-annotations/en_CA-json",4902:"emoji-annotations/hu-json",4975:"i18n/vi-json",5041:"emoji-annotations/pt-json",5104:"emoji-annotations/pcm-json",5115:"emoji-annotations/sr_Latn_BA-json",5119:"emoji-annotations/am-json",5224:"emoji-annotations/vi-json",5253:"i18n/uk-json",5304:"emoji-annotations/ha_NE-json",5401:"emoji-annotations/mni-json",5494:"i18n/hu-json",5521:"emoji-annotations/fa-json",5548:"emoji-annotations/he-json",5571:"i18n/pl-json",5728:"emoji-annotations/en-json",5887:"emoji-annotations/rm-json",5929:"i18n/zh-json",5964:"i18n/ru-json",5968:"emoji-annotations/hi-json",6060:"emoji-annotations/sr_Cyrl_BA-json",6068:"emoji-annotations/ka-json",6116:"emoji-annotations/gd-json",6126:"emoji-annotations/gl-json",6148:"emoji-annotations/br-json",6226:"emoji-annotations/de-json",6234:"i18n/ca-json",6256:"i18n/nl-json",6272:"emoji-annotations/cy-json",6342:"i18n/ro-json",6344:"emoji-annotations/hy-json",6355:"emoji-annotations/af-json",6544:"i18n/zh_Hant-json",6701:"emoji-annotations/mi-json",6773:"emoji-annotations/nl-json",6790:"emoji-annotations/my-json",6797:"emoji-annotations/ur-json",6826:"emoji-annotations/sd-json",6831:"emoji-annotations/es-json",6869:"emoji-annotations/chr-json",6936:"emoji-annotations/ia-json",6946:"emoji-annotations/pa-json",7164:"emoji-annotations/de_CH-json",7169:"emoji-annotations/lt-json",7261:"emoji-annotations/gu-json",7300:"emoji-annotations/is-json",7303:"emoji-annotations/wo-json",7304:"emoji-annotations/be-json",7360:"emoji-annotations/ar_SA-json",7433:"i18n/cs-json",7464:"emoji-annotations/lo-json",7569:"emoji-annotations/ast-json",7585:"emoji-annotations/sw-json",7808:"i18n/ar-json",7845:"i18n/nb-json",7855:"emoji-annotations/sat-json",7879:"emoji-annotations/el-json",7897:"emoji-annotations/ta-json",8015:"emoji-annotations/hsb-json",8031:"emoji-annotations/qu-json",8134:"emoji-annotations/bs-json",8395:"emoji-annotations/ru-json",8681:"emoji-annotations/sr_Latn-json",8714:"i18n/ja_easy-json",8732:"emoji-annotations/yo-json",8873:"emoji-annotations/es_419-json",8898:"emoji-annotations/lv-json",8970:"emoji-annotations/it-json",8988:"emoji-annotations/en_IN-json",8995:"emoji-annotations/fo-json",9064:"emoji-annotations/bn-json",9319:"emoji-annotations/zu-json",9360:"emoji-annotations/en_AU-json",9377:"emoji-annotations/ne-json",9399:"emoji-annotations/mt-json",9414:"emoji-annotations/nn-json",9459:"i18n/de-json",9465:"emoji-annotations/id-json",9670:"i18n/ko-json",9738:"i18n/fi-json",9757:"emoji-annotations/ug-json",9780:"emoji-annotations/kab-json",9790:"emoji-annotations/ceb-json",9864:"emoji-annotations/ro-json",9871:"emoji-annotations/uk-json",9873:"emoji-annotations/ar-json",9895:"emoji-annotations/ig-json",9921:"emoji-annotations/mk-json",9924:"emoji-annotations/ms-json",9926:"emoji-annotations/yo_BJ-json",9978:"emoji-annotations/tr-json",9979:"emoji-annotations/no-json",9994:"emoji-annotations/pa_Arab-json"}[e]||e)+"."+{48:"d7e479b200a6c89c4958",50:"bd687f904492facc81d1",159:"3a9274574f1e33801c4a",227:"2a08912b38925c10f970",278:"efdac8ac0cb00991ba1e",313:"9647f559a4477d7d8e96",325:"b52fa70f0bf89ae01cfb",346:"031838c5374676191131",379:"03c5d271a4034de06e6f",420:"0f254bb4b0faaba4abcc",457:"e42a28127d5c1aff6c85",577:"72d8c47269350f59aa9f",617:"4f52bf1b6e3213acc33c",625:"f75abd16637c8924c075",678:"a0d9eea5b81bcad11e64",786:"21e88c05ad3113dfc7f2",830:"3f1981817977a16f1d7e",1012:"b007c2f6f92dcc95efac",1044:"7eee03c705347a21c612",1056:"ac43f4c54d4587324a20",1095:"e9e8f1ed84dc6c169516",1159:"99a21d5c98376af17141",1162:"02836537ffe2b02291cb",1236:"4fca833f178d1b889b69",1290:"0bd51f8c40c106355b0e",1404:"9bc922b2e0faa64b4c53",1452:"15102c0ddfdf19bdfb4c",1546:"c381b13e323f91b0e6b3",1547:"d8d0eba80f94e6f55145",1553:"a40c5548da34fce6f1d0",1584:"50ac37d101caaf592c94",1596:"8d074e27df71edafc543",1613:"302386b3358f4d34f9c8",1780:"23a9a6229829921704ad",1790:"7635686ffd8d62264466",1821:"59ed6b59e2ca68707292",1911:"cb0a87d9aabf8a52161d",1959:"daff15251020cbecea7d",2044:"ce6db28261b2f824064f",2223:"da49ed0d1a6622fe1c67",2243:"21b06234a08c7469ccb4",2342:"9a32f2941d9c4d1f834c",2350:"5d96bdb4da82655d0314",2397:"87ab8661b4bdecd09faf",2479:"1c8d5ffcff22b46b6214",2513:"3e42564ce7a3a847ecb0",2569:"4c089389ba9983ec8ef7",2599:"116e4f72db3bfb846233",2656:"13dc83db1e15aa76051a",2685:"3f2902a84240faff1b48",2699:"ee359d4b611fdb1aeb33",2767:"9cbb765c181d443828a9",2861:"fe847ade1f18a60e513c",2873:"a20b59d47bdfe99786ad",2874:"c84c9c47d2e104c43e4c",2883:"2173ed87f8d7372ee209",2953:"a19100f6a5a9431e2adb",2966:"d175900fe48f48ce87c8",2992:"931b429f5fcc141549a5",3056:"3cb73c456f31261f1908",3241:"8b0374cbca3a77519876",3276:"c42e3f186a55ecb061cd",3313:"280bdb036dfd651d079a",3377:"34cf67edc1cecd195738",3568:"5b173bd33bb960be805b",3687:"33eab91b64f59431137d",3746:"36ef21ccb1203d3e65ae",3887:"e29a20e59a708df0c6a8",3951:"34709bae223bb9d2587c",3968:"4a302899a65e1f67d8a2",3974:"7c69c52572a7bf87e1db",3994:"f3563cbeac1c158563d5",4047:"3fc5593e030268bcd291",4209:"7841c3f3ceb4e3da0bd1",4354:"841b356da03623c10dbf",4368:"bcf154ed8a6138aa089c",4424:"cc60bb10d32fab3d8207",4451:"580b101d6bb83a8aee75",4542:"d2eab39b0427995fc314",4571:"cb3f9e613a8c445aea23",4646:"d81690d5be30b23e516b",4691:"ce029e860b10b242c6a5",4710:"48d8bba230dc9fe6b3dc",4718:"764169f1168d0432640f",4770:"499c526f3a653618ea9b",4785:"310bda579c819eda9472",4786:"8a69a10f62cdf626244e",4879:"5de965778a6b8a5a4bb4",4902:"1faf52040deda872b416",4975:"703c1e731be6e857bbf3",5041:"2b2512ee44291bdb2ae7",5104:"eac3a5ad0b4b5b33289d",5115:"72933405032b81344754",5119:"94388548f7c18233fec3",5224:"f6a364b2add7f8c8bc67",5253:"003908af9b15becdd382",5304:"e4855d92aaccfdd6ba57",5401:"7db7f76ab1ce34e3683d",5494:"0487899ca7a7a8505ed8",5521:"819c7f263c8594ccf4fa",5548:"a3d7631f32182b0955a2",5571:"c963247822381b05579b",5728:"6c3947f7c49c3952084d",5887:"985d4934f386fd05a75c",5929:"63e4c9fe0197374a5dac",5948:"2b7b4e97487f2539eb44",5964:"b913eb7f7e9f0c642438",5968:"04bc5f73dc2169def97e",6060:"83c7c64b9696ae2339f2",6068:"567e7b051d90a37003f3",6116:"e3d0aea3725be774ad81",6126:"ce89036f0ae72224c994",6148:"c7175423d8965ed10bae",6226:"e1443c01a191af1665e1",6234:"1eb24bc001efa3c0627f",6256:"3fb9758b10c29434b613",6272:"e09dd13da5ad56530ead",6342:"3fd9977ed1c1413059ae",6344:"2d819f7faabfeba8457f",6355:"96c988285a6a2cce6246",6464:"fea96fa80a7373e4e5f8",6544:"bfa569654a5cd74767ce",6701:"9efe6f146ecd8987f80a",6773:"52f4b93b8fa5e22cb585",6790:"8e7dd1485813d15bba7e",6797:"983c02109444c883a18f",6826:"8f2a6a06dc3cf185f79d",6831:"f593b0dc2367a9d7fb30",6869:"e7e542ab5a74167dec10",6936:"8e8365e2bf41779e2beb",6946:"7d60d69762a108270669",7164:"b4a5891ea2f38d616ec0",7169:"ced4d5e70edc60127df6",7261:"8a899f364cf260376905",7300:"62e220c65215b034533d",7303:"e0d689e22cda0dd77e9a",7304:"f92f80669873a4100c69",7360:"4a6f4402931a867070f0",7433:"5eedbe9f7084c349fbe8",7464:"ecb06d61465a355b8157",7569:"7e4da8cb7e539c19a9b9",7585:"d5f350641b9cbcc0e126",7808:"d09609af3224232857d6",7845:"a54af3b1f47d576ad4aa",7855:"71e92700b2aaca8e021c",7879:"b36610f2ea16d56c2314",7897:"675cc6c7607449d4a91b",8015:"438721731b4171bc6fc3",8031:"55f4df57e71076dbad9f",8134:"48ef42da1c7976cf083c",8395:"a81d0df34460837ccacc",8681:"ff27d1f455bf2afb8d70",8714:"1d5ea7e755b066ac2cdd",8732:"ea1150d6bc360dd86f2e",8873:"d81991295392b6ed83bb",8898:"5600c2eb6d59fa0aa2e2",8970:"9c1758f4fd3391f7f61a",8988:"002faa48c09121928fca",8995:"9b060e8009b3a8be4597",9064:"657aac057f36ad06c58d",9114:"e761a1c6846fea99aaf1",9319:"e0cb7cd3890583fd0f6d",9360:"33aac9bbd887273a34b1",9377:"a0118dca2096a101b8e8",9399:"3ddf7dbc114adf90c500",9414:"7293cd5d7205681cf48c",9459:"bfa48615ac92f87ff37a",9465:"55f83c46d753b0b69330",9670:"4bd28b26a7390a09afc2",9738:"d1934c18f12d80493ab1",9757:"bf768bd32e9ff02b0a8a",9780:"1a2de4774f4ddc2b51dd",9790:"9db0336f168aa77ee395",9864:"cb62f86ce78c94d1e813",9871:"af110c8eef232638fc4d",9873:"5527466d349f2954d49b",9895:"f19fa5fe3582463ba73c",9921:"a254cabb8570419cc426",9924:"272ee4735aabc37015dd",9926:"650318c25fe4da92bad8",9978:"6462e8cfd5006cf5b6cf",9979:"22bdbbc77cc3c14ada58",9994:"5ae021308b1c5f6dd8a7"}[e]+".js",a.miniCssF=e=>"static/css/"+e+"."+{159:"1d523a00378ebd68c5b3",5948:"06d2a0d84620cba6a4fb",6464:"169260b661120cc50815",9114:"8def3b2b7fe70b3b3712"}[e]+".css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},r="pleroma_fe:",a.l=(e,t,n,i)=>{if(o[e])o[e].push(t);else{var s,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+n){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+n),s.src=e),o[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(m);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{if("undefined"!=typeof document){var e={2143:0};a.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{159:1,5948:1,6464:1,9114:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var o=a.miniCssF(e),r=a.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=(s=n[o]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var s;if((r=(s=i[o]).getAttribute("data-href"))===e||r===t)return s}})(o,r))return t();((e,t,n,o,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)o();else{var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)})(e,r,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{var e={2143:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,s,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(c)var u=c(a)}for(t&&t(n);l<i.length;l++)r=i[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self.webpackChunkpleroma_fe=self.webpackChunkpleroma_fe||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=a.O(void 0,[2724],(()=>a(43002)));c=a.O(c)})();
//# sourceMappingURL=app.8d2126d35dba9482db51.js.map